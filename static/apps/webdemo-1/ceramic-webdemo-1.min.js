!function(e){"use strict";var n,t={},$estr=function(){return js_Boot.__string_rec(this,"")},i=i||{};function $extend(e,n){var t=Object.create(e);for(var i in n)t[i]=n[i];return n.toString!==Object.prototype.toString&&(t.toString=n.toString),t}var EReg=function(e,n){this.r=new RegExp(e,n.split("u").join(""))};t.EReg=EReg,EReg.__name__="EReg",EReg.prototype={match:function(e){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(e),this.r.s=e,null!=this.r.m},__class__:EReg};var HxOverrides=function(){};t.HxOverrides=HxOverrides,HxOverrides.__name__="HxOverrides",HxOverrides.strDate=function(e){switch(e.length){case 8:var n=e.split(":"),t=new Date;return t.setTime(0),t.setUTCHours(n[0]),t.setUTCMinutes(n[1]),t.setUTCSeconds(n[2]),t;case 10:n=e.split("-");return new Date(n[0],n[1]-1,n[2],0,0,0);case 19:var i=(n=e.split(" "))[0].split("-"),s=n[1].split(":");return new Date(i[0],i[1]-1,i[2],s[0],s[1],s[2]);default:throw haxe_Exception.thrown("Invalid date format : "+e)}},HxOverrides.cca=function(e,n){var t=e.charCodeAt(n);if(t==t)return t},HxOverrides.substr=function(e,n,t){if(null==t)t=e.length;else if(t<0){if(0!=n)return"";t=e.length+t}return e.substr(n,t)},HxOverrides.remove=function(e,n){var t=e.indexOf(n);return-1!=t&&(e.splice(t,1),!0)},HxOverrides.now=function(){return Date.now()};var IntIterator=function(e,n){this.min=e,this.max=n};t.IntIterator=IntIterator,IntIterator.__name__="IntIterator",IntIterator.prototype={hasNext:function(){return this.min<this.max},next:function(){return this.min++},__class__:IntIterator};var Lambda=function(){};t.Lambda=Lambda,Lambda.__name__="Lambda",Lambda.count=function(e,n){var t=0;if(null==n)for(var i=$getIterator(e);i.hasNext();){i.next();++t}else for(var s=$getIterator(e);s.hasNext();){n(s.next())&&++t}return t};var Main=function(){};t.Main=Main,Main.__name__="Main",Main.main=function(){Main.events=new backend_ClayEvents(Main.ready),new clay_Clay(Main.configure,Main.events)},Main.configure=function(n){if(n.window.backgroundSleep=.016666666666666666,e.navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)try{var t=require("electron").remote.require("./app.js");t.isCeramicRunner&&(backend_ElectronRunner.electronRunner=t)}catch(e){}if(null!=backend_ElectronRunner.electronRunner){document.getElementsByTagName("html")[0].className+=" in-electron-runner",ceramic_Logger._hasElectronRunner=!0;var i=console.log;console.log=function(e){backend_ElectronRunner.electronRunner.consoleLog(e),i(e)},window.addEventListener("error",(function(e){var n=e.error;if(n instanceof haxe_ValueException)n.get_stack();for(var t=(""+n.stack).split("\n"),i=t.length-1,s=-1!=navigator.platform.indexOf("Win");i>=0;){var r=t[i];r=StringTools.ltrim(r),r=StringTools.replace(r,"http://localhost:"+Std.string(backend_ElectronRunner.electronRunner.serverPort)+"/file:"+(s?"/":""),""),r=StringTools.replace(r,"http://localhost:"+Std.string(backend_ElectronRunner.electronRunner.serverPort)+"/",Std.string(backend_ElectronRunner.electronRunner.appFiles)+"/"),backend_ElectronRunner.electronRunner.consoleLog("[error] "+r),--i}}))}Main.project=new Project(ceramic_App.init()),Main.app=ceramic_App.app,null==backend_ElectronRunner.electronRunner&&Main.app.settings.get_fullscreen()&&Main.app.settings.set_fullscreen(!1),n.render.antialiasing=Main.app.settings.antialiasing,Main.app.settings.get_windowWidth()>0?n.window.width=Main.app.settings.get_windowWidth():Main.app.settings.get_targetWidth()>0&&(n.window.width=Main.app.settings.get_targetWidth()),Main.app.settings.get_windowHeight()>0?n.window.height=Main.app.settings.get_windowHeight():Main.app.settings.get_targetHeight()>0&&(n.window.height=Main.app.settings.get_targetHeight()),n.window.fullscreen=Main.app.settings.get_fullscreen(),n.window.resizable=Main.app.settings.resizable,n.window.title=Main.app.settings.get_title(),n.render.stencil=2,n.render.depth=16,Main.configureOrientation(),null!=Main.app.settings.backend.webParent?n.runtime.windowParent=Main.app.settings.backend.webParent:n.runtime.windowParent=window.document.getElementById("ceramic-app"),n.runtime.mouseUseBrowserWindowEvents=!0,Main.app.settings.backend.allowDefaultKeys&&(n.runtime.preventDefaultKeys=[]);var s=null!=Main.app.settings.backend.webParent?Main.app.settings.backend.webParent.id:"ceramic-app",r=0,l=0,a=0,h=!1;window.document.body.classList.add("ceramic-invisible"),Main.app.onUpdate(null,(function(e){var n=window.document.getElementById(s);if(null!=n){var t=n.offsetWidth,i=n.offsetHeight,c=window.document.getElementById("app");if(-1!=Main.lastResizeTime&&(t!=Main.lastNewWidth||i!=Main.lastNewHeight))return-1==Main.lastNewWidth&&-1==Main.lastNewHeight||window.document.body.classList.add("ceramic-invisible"),Main.lastResizeTime=ceramic_Timer.now,Main.lastNewWidth=t,void(Main.lastNewHeight=i);if(-1!=Main.lastResizeTime&&ceramic_Timer.now-Main.lastResizeTime<.1)return;if(t!=r||i!=l||window.devicePixelRatio!=a){h=t==r&&i==l||0==a,r=t,l=i,a=window.devicePixelRatio;var o=window.document.getElementById("app");o.style.margin="0 0 0 0",o.style.width=r-(h?1:0)+"px",o.style.height=l+"px",o.width=Math.round((r-(h?1:0))*window.devicePixelRatio),o.height=Math.round(l*window.devicePixelRatio),Main.events.muteResizeEvent=h,Main.resizing++,-1!=Main.lastResizeTime&&window.document.body.classList.add("ceramic-invisible");var u;u=function(){0==Main.resizing&&Main.readyToDisplay&&window.document.body.classList.remove("ceramic-invisible")},ceramic_Timer.schedule(null,.1,(function(){Main.resizing--,u()}),-1),Main.lastResizeTime=ceramic_Timer.now}else h&&(h=!1,Main.events.muteResizeEvent=!1,c.style.width=r+"px",c.width=Math.round(r*window.devicePixelRatio))}})),null!=backend_ElectronRunner.electronRunner&&(null!=backend_ElectronRunner.electronRunner.ceramicSettings&&backend_ElectronRunner.electronRunner.ceramicSettings({trace:function(e){},title:Main.app.settings.get_title(),fullscreen:Main.app.settings.get_fullscreen(),resizable:Main.app.settings.resizable,targetWidth:Main.app.settings.get_windowWidth()>0?Main.app.settings.get_windowWidth():Main.app.settings.get_targetWidth(),targetHeight:Main.app.settings.get_windowHeight()>0?Main.app.settings.get_windowHeight():Main.app.settings.get_targetHeight()}),null!=backend_ElectronRunner.electronRunner.listenFullscreen&&backend_ElectronRunner.electronRunner.listenFullscreen((function(e){ceramic_App.app.settings.set_fullscreen(!0)}),(function(e){ceramic_App.app.settings.set_fullscreen(!1)})))},Main.ready=function(){Main.app.backend.io.initKeyValueIfNeeded();clay_opengl_web_GL.gl.getExtension("OES_standard_derivatives");null!=backend_ElectronRunner.electronRunner&&backend_ElectronRunner.electronRunner.ceramicReady();var e=null;e=window.setInterval((function(){var n=null!=Main.app.settings.backend.webParent?Main.app.settings.backend.webParent.id:"ceramic-app",t=window.document.getElementById(n);window.document.getElementById("app").offsetWidth==t.offsetWidth&&(Main.readyToDisplay=!0,window.clearInterval(e)),Main.readyToDisplay&&0==Main.resizing&&window.document.body.classList.remove("ceramic-invisible")}),500)},Main.configureOrientation=function(){};var ceramic_Lazy=function(){};t["ceramic.Lazy"]=ceramic_Lazy,ceramic_Lazy.__name__="ceramic.Lazy",ceramic_Lazy.__isInterface__=!0;var tracker_Events=function(){};t["tracker.Events"]=tracker_Events,tracker_Events.__name__="tracker.Events",tracker_Events.__isInterface__=!0;var ceramic_Entity=function(){this._components=null,this.autoruns=null,this._lifecycleState=0,this.id=null,this._data=null};t["ceramic.Entity"]=ceramic_Entity,ceramic_Entity.__name__="ceramic.Entity",ceramic_Entity.__interfaces__=[ceramic_Lazy,tracker_Events],ceramic_Entity.prototype={get_hasData:function(){return null!=this._data},get_data:function(){return null==this._data&&(this._data={}),this._data},set_data:function(e){return this._data=e},get_destroyed:function(){return this._lifecycleState<0},get_disposed:function(){return 1==this._lifecycleState},emitDispose:function(e){var n=0;if(null!=this.__cbOnDispose&&(n+=this.__cbOnDispose.length),null!=this.__cbOnceDispose&&(n+=this.__cbOnceDispose.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnDispose)for(var r=0,l=this.__cbOnDispose.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnDispose[a],++s):--n}if(null!=this.__cbOnceDispose){var h=null,c=null;for(r=0,l=this.__cbOnceDispose.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceDispose[a],this.__cbOnceDispose[a]=null;var o=this.__cbOnceOwnerUnbindDispose[a];this.__cbOnceOwnerUnbindDispose[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindDispose[a]),c.push(this.__cbOnceDispose[a])}this.__cbOnceOwnerUnbindDispose=h,this.__cbOnceDispose=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onDispose:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event dispose because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDispose(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDispose&&(this.__cbOnOwnerUnbindDispose=[]),this.__cbOnOwnerUnbindDispose.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDispose&&(this.__cbOnOwnerUnbindDispose=[]),this.__cbOnOwnerUnbindDispose.push(null);null==this.__cbOnDispose&&(this.__cbOnDispose=[]),this.__cbOnDispose.push(n)},onceDispose:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event dispose because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDispose(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDispose&&(this.__cbOnceOwnerUnbindDispose=[]),this.__cbOnceOwnerUnbindDispose.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDispose&&(this.__cbOnceOwnerUnbindDispose=[]),this.__cbOnceOwnerUnbindDispose.push(null);null==this.__cbOnceDispose&&(this.__cbOnceDispose=[]),this.__cbOnceDispose.push(n)},offDispose:function(e){if(null!=e){var n;null!=this.__cbOnDispose&&-1!=(n=this.__cbOnDispose.indexOf(e))&&(this.__cbOnDispose.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDispose[n])&&r(),this.__cbOnOwnerUnbindDispose.splice(n,1)),null!=this.__cbOnceDispose&&-1!=(n=this.__cbOnceDispose.indexOf(e))&&(this.__cbOnceDispose.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDispose[n])&&r(),this.__cbOnceOwnerUnbindDispose.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDispose){for(var t=0,i=this.__cbOnOwnerUnbindDispose.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindDispose[s])&&r()}this.__cbOnOwnerUnbindDispose=null}if(null!=this.__cbOnceOwnerUnbindDispose){for(t=0,i=this.__cbOnceOwnerUnbindDispose.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindDispose[s])&&r()}this.__cbOnceOwnerUnbindDispose=null}this.__cbOnDispose=null,this.__cbOnceDispose=null}},listensDispose:function(){return null!=this.__cbOnDispose&&this.__cbOnDispose.length>0||null!=this.__cbOnceDispose&&this.__cbOnceDispose.length>0},emitDestroy:function(e){var n=0;if(null!=this.__cbOnDestroy&&(n+=this.__cbOnDestroy.length),null!=this.__cbOnceDestroy&&(n+=this.__cbOnceDestroy.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnDestroy)for(var r=0,l=this.__cbOnDestroy.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnDestroy[a],++s):--n}if(null!=this.__cbOnceDestroy){var h=null,c=null;for(r=0,l=this.__cbOnceDestroy.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceDestroy[a],this.__cbOnceDestroy[a]=null;var o=this.__cbOnceOwnerUnbindDestroy[a];this.__cbOnceOwnerUnbindDestroy[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindDestroy[a]),c.push(this.__cbOnceDestroy[a])}this.__cbOnceOwnerUnbindDestroy=h,this.__cbOnceDestroy=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onDestroy:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event destroy because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDestroy(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDestroy&&(this.__cbOnOwnerUnbindDestroy=[]),this.__cbOnOwnerUnbindDestroy.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDestroy&&(this.__cbOnOwnerUnbindDestroy=[]),this.__cbOnOwnerUnbindDestroy.push(null);null==this.__cbOnDestroy&&(this.__cbOnDestroy=[]),this.__cbOnDestroy.push(n)},onceDestroy:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event destroy because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDestroy(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDestroy&&(this.__cbOnceOwnerUnbindDestroy=[]),this.__cbOnceOwnerUnbindDestroy.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDestroy&&(this.__cbOnceOwnerUnbindDestroy=[]),this.__cbOnceOwnerUnbindDestroy.push(null);null==this.__cbOnceDestroy&&(this.__cbOnceDestroy=[]),this.__cbOnceDestroy.push(n)},offDestroy:function(e){if(null!=e){var n;null!=this.__cbOnDestroy&&-1!=(n=this.__cbOnDestroy.indexOf(e))&&(this.__cbOnDestroy.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDestroy[n])&&r(),this.__cbOnOwnerUnbindDestroy.splice(n,1)),null!=this.__cbOnceDestroy&&-1!=(n=this.__cbOnceDestroy.indexOf(e))&&(this.__cbOnceDestroy.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDestroy[n])&&r(),this.__cbOnceOwnerUnbindDestroy.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDestroy){for(var t=0,i=this.__cbOnOwnerUnbindDestroy.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindDestroy[s])&&r()}this.__cbOnOwnerUnbindDestroy=null}if(null!=this.__cbOnceOwnerUnbindDestroy){for(t=0,i=this.__cbOnceOwnerUnbindDestroy.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindDestroy[s])&&r()}this.__cbOnceOwnerUnbindDestroy=null}this.__cbOnDestroy=null,this.__cbOnceDestroy=null}},listensDestroy:function(){return null!=this.__cbOnDestroy&&this.__cbOnDestroy.length>0||null!=this.__cbOnceDestroy&&this.__cbOnceDestroy.length>0},destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-3,null!=this.autoruns)for(var e=0,n=this.autoruns.length;e<n;){var t=e++,i=this.autoruns[t];null!=i&&(this.autoruns[t]=null,i.destroy())}if(this.emitDestroy(this),null!=this._components){for(var s=null,r=this._components.h,l=Object.keys(r),a=l.length,h=0;h<a;){var c=l[h++];null==s?s=[c]:s.push(c)}if(null!=s)for(e=0;e<s.length;){c=s[e];++e,this.removeComponent(c)}}this.unbindEvents()}},dispose:function(){0==this._lifecycleState&&(this._lifecycleState=1,ceramic_App.app.disposedEntities.push(this)),this.emitDispose(this)},unbindEvents:function(){this.offDispose(),this.offDestroy()},autorun:function(e,n){if(this._lifecycleState<0)return null;var t=new tracker_Autorun(e,n);if(e=null,n=null,null==this.autoruns)this.autoruns=[t];else{for(var i=!1,s=0,r=this.autoruns.length;s<r;){var l=s++;if(null==this.autoruns[l]){this.autoruns[l]=t,i=!0;break}}i||this.autoruns.push(t)}return t.onDestroy(this,$bind(this,this.checkAutoruns)),t},checkAutoruns:function(e){for(var n=0,t=this.autoruns.length;n<t;){var i=n++,s=this.autoruns[i];null!=s&&s._lifecycleState<0&&(this.autoruns[i]=null)}},tween:function(e,n,t,i,s){return ceramic_Tween.start(this,e,n,t,i,s)},className:function(){var e=js_Boot.getClass(this).__name__,n=e.lastIndexOf(".");return-1!=n&&(e=HxOverrides.substr(e,n+1,null)),e},toString:function(){var e=this.className();return null!=this.id?e+"("+this.id+")":""+e},clearComponents:function(){if(null!=this._components){for(var e=null,n=this._components.h,t=Object.keys(n),i=t.length,s=0;s<i;){var r=t[s++];null==e?e=[r]:e.push(r)}if(null!=e)for(var l=0;l<e.length;){r=e[l];++l,this.removeComponent(r)}}},get_components:function(){return this._components},set_components:function(e){if(this._components==e)return e;if(null!=this._components){s=this._components.h;for(var n=(r=Object.keys(s)).length,t=0;t<n;){var i=r[t++];null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)||this.removeComponent(i)}}if(null!=e){var s,r;for(s=e.h,n=(r=Object.keys(s)).length,t=0;t<n;){i=r[t++];var l=e.h[i];if(null!=this._components){var a=this._components.h[i];null!=a?a!=l&&(this.removeComponent(i),this.component(i,l)):this.component(i,l)}else this.component(i,l)}}return this._components=e,e},component:function(e,n){var t=this;if(null==e&&null==n)throw haxe_Exception.thrown("Invalid component() call: either `name` or `component` should be provided at least.");if(null==e){var i=js_Boot.getClass(n);if(e=i.__name__,null!=this._components&&Object.prototype.hasOwnProperty.call(this._components.h,e)){var s=e,r=1;for(e=s+"#"+r;Object.prototype.hasOwnProperty.call(this._components.h,e);)++r,e=s+"#"+r}}if(null!=n){if(null==this._components)this._components=new haxe_ds_StringMap;else{var l=this._components.h[e];if(null!=l)l.destroy()}return this._components.h[e]=n,n.setEntity(this),n.onceDestroy(this,(function(i){if((n.getEntity()==t&&n.setEntity(null),t._lifecycleState>=0)&&t._components.h[e]==n){var s=t._components;Object.prototype.hasOwnProperty.call(s.h,e)&&delete s.h[e]}})),n.bindAsComponent(),n}return null==this._components?null:this._components.h[e]},hasComponent:function(e){return null!=this.component(e)},removeComponent:function(e){var n=this._components.h[e];if(null!=n){var t=this._components;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e],n.destroy()}},__class__:ceramic_Entity,__properties__:{set_components:"set_components",get_components:"get_components",get_disposed:"get_disposed",get_destroyed:"get_destroyed",set_data:"set_data",get_data:"get_data",get_hasData:"get_hasData"}};var ceramic_DecomposedTransform=function(){this.skewY=0,this.skewX=0,this.scaleY=1,this.scaleX=1,this.rotation=0,this.y=0,this.x=0,this.pivotY=0,this.pivotX=0};t["ceramic.DecomposedTransform"]=ceramic_DecomposedTransform,ceramic_DecomposedTransform.__name__="ceramic.DecomposedTransform",ceramic_DecomposedTransform.prototype={toString:function(){return"(pos="+this.x+","+this.y+" pivot="+this.pivotX+","+this.pivotY+" rotation="+this.rotation+" scale="+(this.scaleX==this.scaleY?""+this.scaleX:this.scaleX+","+this.scaleY)+" skew="+this.skewX+","+this.skewY+")"},__class__:ceramic_DecomposedTransform};var ceramic_Transform=function(e,n,t,i,s,r){null==r&&(r=0),null==s&&(s=0),null==i&&(i=1),null==t&&(t=0),null==n&&(n=0),null==e&&(e=1),this.a=e,this.b=n,this.c=t,this.d=i,this.tx=s,this.ty=r,this._aPrev=e,this._bPrev=n,this._cPrev=t,this._dPrev=i,this._txPrev=s,this._tyPrev=r,this.changed=!1,this.changedDirty=!1};t["ceramic.Transform"]=ceramic_Transform,ceramic_Transform.__name__="ceramic.Transform",ceramic_Transform.__interfaces__=[tracker_Events],ceramic_Transform.prototype={emitChange:function(){var e=0;if(null!=this.__cbOnChange&&(e+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(e+=this.__cbOnceChange.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnChange)for(var s=0,r=this.__cbOnChange.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnChange[l],++i):--e}if(null!=this.__cbOnceChange){var a=null,h=null;for(s=0,r=this.__cbOnceChange.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceChange[l],this.__cbOnceChange[l]=null;var c=this.__cbOnceOwnerUnbindChange[l];this.__cbOnceOwnerUnbindChange[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindChange[l]),h.push(this.__cbOnceChange[l])}this.__cbOnceOwnerUnbindChange=a,this.__cbOnceChange=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}this._aPrev=this.a,this._bPrev=this.b,this._cPrev=this.c,this._dPrev=this.d,this._txPrev=this.tx,this._tyPrev=this.ty,this.changed=!1},onChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(n)},onceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(n)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChange[n])&&r(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChange[n])&&r(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindChange[s])&&r()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindChange[s])&&r()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&this.__cbOnChange.length>0||null!=this.__cbOnceChange&&this.__cbOnceChange.length>0},computeChanged:function(){this.changedDirty&&(this.changed=this.tx!=this._txPrev||this.ty!=this._tyPrev||this.a!=this._aPrev||this.b!=this._bPrev||this.c!=this._cPrev||this.d!=this._dPrev,this.changedDirty=!1)},didEmitChange:function(){this._aPrev=this.a,this._bPrev=this.b,this._cPrev=this.c,this._dPrev=this.d,this._txPrev=this.tx,this._tyPrev=this.ty,this.changed=!1},cleanChangedState:function(){this._aPrev=this.a,this._bPrev=this.b,this._cPrev=this.c,this._dPrev=this.d,this._txPrev=this.tx,this._tyPrev=this.ty,this.changed=!1},clone:function(){return new ceramic_Transform(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(e){var n=this.a*e.a+this.b*e.c;this.b=this.a*e.b+this.b*e.d,this.a=n;var t=this.c*e.a+this.d*e.c;this.d=this.c*e.b+this.d*e.d,this.c=t;var i=this.tx*e.a+this.ty*e.c+e.tx;this.ty=this.tx*e.b+this.ty*e.d+e.ty,this.tx=i,this.changedDirty=!0},decompose:function(e){return null==e&&(e=new ceramic_DecomposedTransform),e.pivotX=0,e.pivotY=0,e.skewX=-Math.atan2(-this.c,this.d),e.skewY=Math.atan2(this.b,this.a),Math.abs(e.skewX+e.skewY)<1e-5&&(e.rotation=e.skewY,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?Math.PI:-Math.PI),e.skewX=0,e.skewY=0),e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d),e.x=this.tx,e.y=this.ty,e},setFromDecomposed:function(e){var n=e.x,t=e.y,i=e.scaleX,s=e.scaleY,r=e.rotation,l=e.skewX,a=e.skewY,h=e.pivotX,c=e.pivotY;if(null==c&&(c=0),null==h&&(h=0),null==a&&(a=0),null==l&&(l=0),null==r&&(r=0),null==s&&(s=1),null==i&&(i=1),null==t&&(t=0),null==n&&(n=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0,this.tx+=-h,this.ty+=-c,this.changedDirty=!0,0!=l&&(this.c=l*Math.PI/180),0!=a&&(this.b=a*Math.PI/180),0!=r){var o=r*Math.PI/180,u=Math.cos(o),_=Math.sin(o),d=this.a*u-this.b*_;this.b=this.a*_+this.b*u,this.a=d;var b=this.c*u-this.d*_;this.d=this.c*_+this.d*u,this.c=b;var f=this.tx*u-this.ty*_;this.ty=this.tx*_+this.ty*u,this.tx=f,this.changedDirty=!0}this.tx+=h,this.ty+=c,this.changedDirty=!0,1==i&&1==s||(this.a*=i,this.b*=s,this.c*=i,this.d*=s,this.tx*=i,this.ty*=s,this.changedDirty=!0),this.tx+=n-h*i,this.ty+=t-c*s,this.changedDirty=!0},setFromValues:function(e,n,t,i,s,r,l,a,h){if(null==h&&(h=0),null==a&&(a=0),null==l&&(l=0),null==r&&(r=0),null==s&&(s=0),null==i&&(i=1),null==t&&(t=1),null==n&&(n=0),null==e&&(e=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0,this.tx+=-a,this.ty+=-h,this.changedDirty=!0,0!=r&&(this.c=r*Math.PI/180),0!=l&&(this.b=l*Math.PI/180),0!=s){var c=s*Math.PI/180,o=Math.cos(c),u=Math.sin(c),_=this.a*o-this.b*u;this.b=this.a*u+this.b*o,this.a=_;var d=this.c*o-this.d*u;this.d=this.c*u+this.d*o,this.c=d;var b=this.tx*o-this.ty*u;this.ty=this.tx*u+this.ty*o,this.tx=b,this.changedDirty=!0}this.tx+=a,this.ty+=h,this.changedDirty=!0,1==t&&1==i||(this.a*=t,this.b*=i,this.c*=t,this.d*=i,this.tx*=t,this.ty*=i,this.changedDirty=!0),this.tx+=e-a*t,this.ty+=n-h*i,this.changedDirty=!0},setFromInterpolated:function(e,n,t){if(0==t)this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this.changedDirty=!0;else if(1==t)this.a=n.a,this.b=n.b,this.c=n.c,this.d=n.d,this.tx=n.tx,this.ty=n.ty,this.changedDirty=!0;else{var i;null==(i=ceramic_Transform._decomposed1)&&(i=new ceramic_DecomposedTransform),i.pivotX=0,i.pivotY=0,i.skewX=-Math.atan2(-e.c,e.d),i.skewY=Math.atan2(e.b,e.a),Math.abs(i.skewX+i.skewY)<1e-5&&(i.rotation=i.skewY,e.a<0&&e.d>=0&&(i.rotation+=i.rotation<=0?Math.PI:-Math.PI),i.skewX=0,i.skewY=0),i.scaleX=Math.sqrt(e.a*e.a+e.b*e.b),i.scaleY=Math.sqrt(e.c*e.c+e.d*e.d),i.x=e.tx,i.y=e.ty,null==(i=ceramic_Transform._decomposed2)&&(i=new ceramic_DecomposedTransform),i.pivotX=0,i.pivotY=0,i.skewX=-Math.atan2(-n.c,n.d),i.skewY=Math.atan2(n.b,n.a),Math.abs(i.skewX+i.skewY)<1e-5&&(i.rotation=i.skewY,n.a<0&&n.d>=0&&(i.rotation+=i.rotation<=0?Math.PI:-Math.PI),i.skewX=0,i.skewY=0),i.scaleX=Math.sqrt(n.a*n.a+n.b*n.b),i.scaleY=Math.sqrt(n.c*n.c+n.d*n.d),i.x=n.tx,i.y=n.ty,ceramic_Transform._decomposed1.pivotX+=(ceramic_Transform._decomposed2.pivotX-ceramic_Transform._decomposed1.pivotX)*t,ceramic_Transform._decomposed1.pivotY+=(ceramic_Transform._decomposed2.pivotY-ceramic_Transform._decomposed1.pivotY)*t,ceramic_Transform._decomposed1.rotation+=(ceramic_Transform._decomposed2.rotation-ceramic_Transform._decomposed1.rotation)*t,ceramic_Transform._decomposed1.scaleX+=(ceramic_Transform._decomposed2.scaleX-ceramic_Transform._decomposed1.scaleX)*t,ceramic_Transform._decomposed1.scaleY+=(ceramic_Transform._decomposed2.scaleY-ceramic_Transform._decomposed1.scaleY)*t,ceramic_Transform._decomposed1.skewX+=(ceramic_Transform._decomposed2.skewX-ceramic_Transform._decomposed1.skewX)*t,ceramic_Transform._decomposed1.skewY+=(ceramic_Transform._decomposed2.skewY-ceramic_Transform._decomposed1.skewY)*t,ceramic_Transform._decomposed1.x+=(ceramic_Transform._decomposed2.x-ceramic_Transform._decomposed1.x)*t,ceramic_Transform._decomposed1.y+=(ceramic_Transform._decomposed2.y-ceramic_Transform._decomposed1.y)*t;var s=ceramic_Transform._decomposed1,r=s.x,l=s.y,a=s.scaleX,h=s.scaleY,c=s.rotation,o=s.skewX,u=s.skewY,_=s.pivotX,d=s.pivotY;if(null==d&&(d=0),null==_&&(_=0),null==u&&(u=0),null==o&&(o=0),null==c&&(c=0),null==h&&(h=1),null==a&&(a=1),null==l&&(l=0),null==r&&(r=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0,this.tx+=-_,this.ty+=-d,this.changedDirty=!0,0!=o&&(this.c=o*Math.PI/180),0!=u&&(this.b=u*Math.PI/180),0!=c){var b=c*Math.PI/180,f=Math.cos(b),p=Math.sin(b),O=this.a*f-this.b*p;this.b=this.a*p+this.b*f,this.a=O;var g=this.c*f-this.d*p;this.d=this.c*p+this.d*f,this.c=g;var m=this.tx*f-this.ty*p;this.ty=this.tx*p+this.ty*f,this.tx=m,this.changedDirty=!0}this.tx+=_,this.ty+=d,this.changedDirty=!0,1==a&&1==h||(this.a*=a,this.b*=h,this.c*=a,this.d*=h,this.tx*=a,this.ty*=h,this.changedDirty=!0),this.tx+=r-_*a,this.ty+=l-d*h,this.changedDirty=!0}},deltaTransformX:function(e,n){return e*this.a+n*this.c},deltaTransformY:function(e,n){return e*this.b+n*this.d},equals:function(e){return null!=e&&this.tx==e.tx&&this.ty==e.ty&&this.a==e.a&&this.b==e.b&&this.c==e.c&&this.d==e.d},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0},invert:function(){var e=this.a*this.d-this.b*this.c;if(0==e)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{e=1/e;var n=this.d*e;this.d=this.a*e,this.a=n,this.b*=-e,this.c*=-e;var t=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty,this.tx=t}this.changedDirty=!0},rotate:function(e){var n=Math.cos(e),t=Math.sin(e),i=this.a*n-this.b*t;this.b=this.a*t+this.b*n,this.a=i;var s=this.c*n-this.d*t;this.d=this.c*t+this.d*n,this.c=s;var r=this.tx*n-this.ty*t;this.ty=this.tx*t+this.ty*n,this.tx=r,this.changedDirty=!0},scale:function(e,n){this.a*=e,this.b*=n,this.c*=e,this.d*=n,this.tx*=e,this.ty*=n,this.changedDirty=!0},translate:function(e,n){this.tx+=e,this.ty+=n,this.changedDirty=!0},skew:function(e,n){var t=ceramic_Transform._tmp;t.a=1,t.b=0,t.c=0,t.d=1,t.tx=0,t.ty=0,t.changedDirty=!0;var i=Math.cos(n),s=Math.sin(n),r=-Math.sin(e),l=Math.cos(e);ceramic_Transform._tmp.a=1*i+-0*s,ceramic_Transform._tmp.b=0*i+1*s,ceramic_Transform._tmp.c=1*r+-0*l,ceramic_Transform._tmp.d=0*r+1*l;var a=ceramic_Transform._tmp,h=this.a*a.a+this.b*a.c;this.b=this.a*a.b+this.b*a.d,this.a=h;var c=this.c*a.a+this.d*a.c;this.d=this.c*a.b+this.d*a.d,this.c=c;var o=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.tx*a.b+this.ty*a.d+a.ty,this.tx=o,this.changedDirty=!0},setRotation:function(e,n){null==n&&(n=1),this.a=Math.cos(e)*n,this.c=Math.sin(e)*n,this.b=-this.c,this.d=this.a,this.changedDirty=!0},setTo:function(e,n,t,i,s,r){this.a=e,this.b=n,this.c=t,this.d=i,this.tx=s,this.ty=r,this.changedDirty=!0},setToTransform:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this.changedDirty=!0},toString:function(){var e=ceramic_Transform._decomposed1;return null==e&&(e=new ceramic_DecomposedTransform),e.pivotX=0,e.pivotY=0,e.skewX=-Math.atan2(-this.c,this.d),e.skewY=Math.atan2(this.b,this.a),Math.abs(e.skewX+e.skewY)<1e-5&&(e.rotation=e.skewY,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?Math.PI:-Math.PI),e.skewX=0,e.skewY=0),e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d),e.x=this.tx,e.y=this.ty,"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+" "+Std.string(ceramic_Transform._decomposed1)+")"},transformX:function(e,n){return e*this.a+n*this.c+this.tx},transformY:function(e,n){return e*this.b+n*this.d+this.ty},unbindEvents:function(){this.offChange()},__class__:ceramic_Transform};var ceramic_Pool=function(){this.availableItems=[]};t["ceramic.Pool"]=ceramic_Pool,ceramic_Pool.__name__="ceramic.Pool",ceramic_Pool.prototype={get:function(){return this.availableItems.length>0?this.availableItems.pop():null},recycle:function(e){this.availableItems.push(e)},clear:function(){this.availableItems.length>0&&(this.availableItems=[])},__class__:ceramic_Pool};var ceramic_Point=function(e,n){null==n&&(n=0),null==e&&(e=0),this.x=e,this.y=n};t["ceramic.Point"]=ceramic_Point,ceramic_Point.__name__="ceramic.Point",ceramic_Point.get=function(e,n){null==n&&(n=0),null==e&&(e=0);var t=ceramic_Point.pool,i=t.availableItems.length>0?t.availableItems.pop():null;return null==i?i=new ceramic_Point(e,n):(i.x=e,i.y=n),i},ceramic_Point.prototype={toString:function(){return"Point("+this.x+", "+this.y+")"},recycle:function(){this.x=0,this.y=0,ceramic_Point.pool.recycle(this)},__class__:ceramic_Point};var ceramic_Visual=function(){this.parent=null,this.children=null,this.computedClip=!1,this.computedTouchable=!0,this.computedRenderTarget=null,this.computedDepth=0,this.computedAlpha=1,this.computedVisible=!0,this.matTY=0,this.matTX=0,this.matD=1,this.matC=0,this.matB=0,this.matA=1,this.flags=0,this.shader=null,this.transform=null,this.alpha=1,this.rotation=0,this.roundTranslation=-1,this._height=0,this._width=0,this.anchorY=0,this.anchorX=0,this.skewY=0,this.skewX=0,this.scaleY=1,this.scaleX=1,this.y=0,this.x=0,this.depthRange=1,this.depth=0,this.touchable=!0,this.visible=!0,this.blending=0,this.renderTarget=null,this.clipDirty=!0,this.touchableDirty=!0,this.visibilityDirty=!0,this.renderTargetDirty=!0,this.matrixDirty=!0,this.contentDirty=!0,this.translatesOnlyDirty=!1,this.translatesOnly=!0,this.inheritAlpha=!1,this.clip=null,this._numPointerOver=0,this._numPointerDown=0,this.multiTouch=!1,this.asMesh=null,this.asQuad=null,ceramic_Entity.call(this),ceramic_App.app.pendingVisuals.push(this)};t["ceramic.Visual"]=ceramic_Visual,ceramic_Visual.__name__="ceramic.Visual",ceramic_Visual.computeChildrenDepth=function(e){ceramic_Visual._computeChildrenDepth0(e)},ceramic_Visual._computeChildrenDepth0=function(e){var n=e.children;if(null!=n){for(var t=0,i=n.length;t<i;){(r=n[t++]).computedDepth=2e6*r.depth,ceramic_Visual._computeChildrenDepth0(r)}var s=e.depthRange;if(-1!=s){ceramic_Visual._minDepth=9999999999,ceramic_Visual._maxDepth=-9999999999;for(t=0,i=n.length;t<i;){var r=n[t++];ceramic_Visual._computeMinMaxDepths0(r)}for(t=0,i=n.length;t<i;){r=n[t++];ceramic_Visual._multiplyDepths0(r,e.computedDepth+Math.min(.01,2e6*s),Math.max(0,2e6*s-.01))}}}},ceramic_Visual._computeChildrenDepth1=function(e){var n=e.children;if(null!=n){for(var t=0,i=n.length;t<i;){(r=n[t++]).computedDepth=2e6*r.depth,ceramic_Visual._computeChildrenDepth0(r)}var s=e.depthRange;if(-1!=s){ceramic_Visual._minDepth=9999999999,ceramic_Visual._maxDepth=-9999999999;for(t=0,i=n.length;t<i;){var r=n[t++];ceramic_Visual._computeMinMaxDepths0(r)}for(t=0,i=n.length;t<i;){r=n[t++];ceramic_Visual._multiplyDepths0(r,e.computedDepth+Math.min(.01,2e6*s),Math.max(0,2e6*s-.01))}}}},ceramic_Visual._computeChildrenDepthApplyDepthRange=function(e,n){var t=e.depthRange;if(-1!=t){ceramic_Visual._minDepth=9999999999,ceramic_Visual._maxDepth=-9999999999;for(var i=0,s=n.length;i<s;){var r=n[i++];ceramic_Visual._computeMinMaxDepths0(r)}for(i=0,s=n.length;i<s;){r=n[i++];ceramic_Visual._multiplyDepths0(r,e.computedDepth+Math.min(.01,2e6*t),Math.max(0,2e6*t-.01))}}},ceramic_Visual.computeMinMaxDepths=function(e){ceramic_Visual._computeMinMaxDepths0(e)},ceramic_Visual._computeMinMaxDepths0=function(e){var n=e.computedDepth;ceramic_Visual._minDepth>n&&(ceramic_Visual._minDepth=n),ceramic_Visual._maxDepth<n+1&&(ceramic_Visual._maxDepth=n+1);var t=e.children;if(null!=t)for(var i=0,s=t.length;i<s;){var r=t[i++];ceramic_Visual._computeMinMaxDepths0(r)}},ceramic_Visual._computeMinMaxDepths1=function(e){var n=e.computedDepth;ceramic_Visual._minDepth>n&&(ceramic_Visual._minDepth=n),ceramic_Visual._maxDepth<n+1&&(ceramic_Visual._maxDepth=n+1);var t=e.children;if(null!=t)for(var i=0,s=t.length;i<s;){var r=t[i++];ceramic_Visual._computeMinMaxDepths0(r)}},ceramic_Visual.multiplyDepths=function(e,n,t){ceramic_Visual._multiplyDepths0(e,n,t)},ceramic_Visual._multiplyDepths0=function(e,n,t){e.computedDepth=ceramic_Visual._maxDepth==ceramic_Visual._minDepth?n+.5*t:n+(e.computedDepth-ceramic_Visual._minDepth)/(ceramic_Visual._maxDepth-ceramic_Visual._minDepth)*t;var i=e.children;if(null!=i)for(var s=0,r=i.length;s<r;){var l=i[s++];ceramic_Visual._multiplyDepths0(l,n,t)}},ceramic_Visual._multiplyDepths1=function(e,n,t){e.computedDepth=ceramic_Visual._maxDepth==ceramic_Visual._minDepth?n+.5*t:n+(e.computedDepth-ceramic_Visual._minDepth)/(ceramic_Visual._maxDepth-ceramic_Visual._minDepth)*t;var i=e.children;if(null!=i)for(var s=0,r=i.length;s<r;){var l=i[s++];ceramic_Visual._multiplyDepths0(l,n,t)}},ceramic_Visual.__super__=ceramic_Entity,ceramic_Visual.prototype=$extend(ceramic_Entity.prototype,{emitPointerDown:function(e){var n=0;if(null!=this.__cbOnPointerDown&&(n+=this.__cbOnPointerDown.length),null!=this.__cbOncePointerDown&&(n+=this.__cbOncePointerDown.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnPointerDown)for(var r=0,l=this.__cbOnPointerDown.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnPointerDown[a],++s):--n}if(null!=this.__cbOncePointerDown){var h=null,c=null;for(r=0,l=this.__cbOncePointerDown.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOncePointerDown[a],this.__cbOncePointerDown[a]=null;var o=this.__cbOnceOwnerUnbindPointerDown[a];this.__cbOnceOwnerUnbindPointerDown[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindPointerDown[a]),c.push(this.__cbOncePointerDown[a])}this.__cbOnceOwnerUnbindPointerDown=h,this.__cbOncePointerDown=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onPointerDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push(null);null==this.__cbOnPointerDown&&(this.__cbOnPointerDown=[]),this.__cbOnPointerDown.push(n)},oncePointerDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push(null);null==this.__cbOncePointerDown&&(this.__cbOncePointerDown=[]),this.__cbOncePointerDown.push(n)},offPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnPointerDown&&-1!=(n=this.__cbOnPointerDown.indexOf(e))&&(this.__cbOnPointerDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerDown[n])&&r(),this.__cbOnOwnerUnbindPointerDown.splice(n,1)),null!=this.__cbOncePointerDown&&-1!=(n=this.__cbOncePointerDown.indexOf(e))&&(this.__cbOncePointerDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerDown[n])&&r(),this.__cbOnceOwnerUnbindPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindPointerDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPointerDown[s])&&r()}this.__cbOnOwnerUnbindPointerDown=null}if(null!=this.__cbOnceOwnerUnbindPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindPointerDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPointerDown[s])&&r()}this.__cbOnceOwnerUnbindPointerDown=null}this.__cbOnPointerDown=null,this.__cbOncePointerDown=null}},listensPointerDown:function(){return null!=this.__cbOnPointerDown&&this.__cbOnPointerDown.length>0||null!=this.__cbOncePointerDown&&this.__cbOncePointerDown.length>0},emitPointerUp:function(e){var n=0;if(null!=this.__cbOnPointerUp&&(n+=this.__cbOnPointerUp.length),null!=this.__cbOncePointerUp&&(n+=this.__cbOncePointerUp.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnPointerUp)for(var r=0,l=this.__cbOnPointerUp.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnPointerUp[a],++s):--n}if(null!=this.__cbOncePointerUp){var h=null,c=null;for(r=0,l=this.__cbOncePointerUp.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOncePointerUp[a],this.__cbOncePointerUp[a]=null;var o=this.__cbOnceOwnerUnbindPointerUp[a];this.__cbOnceOwnerUnbindPointerUp[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindPointerUp[a]),c.push(this.__cbOncePointerUp[a])}this.__cbOnceOwnerUnbindPointerUp=h,this.__cbOncePointerUp=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onPointerUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push(null);null==this.__cbOnPointerUp&&(this.__cbOnPointerUp=[]),this.__cbOnPointerUp.push(n)},oncePointerUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push(null);null==this.__cbOncePointerUp&&(this.__cbOncePointerUp=[]),this.__cbOncePointerUp.push(n)},offPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnPointerUp&&-1!=(n=this.__cbOnPointerUp.indexOf(e))&&(this.__cbOnPointerUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerUp[n])&&r(),this.__cbOnOwnerUnbindPointerUp.splice(n,1)),null!=this.__cbOncePointerUp&&-1!=(n=this.__cbOncePointerUp.indexOf(e))&&(this.__cbOncePointerUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerUp[n])&&r(),this.__cbOnceOwnerUnbindPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindPointerUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPointerUp[s])&&r()}this.__cbOnOwnerUnbindPointerUp=null}if(null!=this.__cbOnceOwnerUnbindPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindPointerUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPointerUp[s])&&r()}this.__cbOnceOwnerUnbindPointerUp=null}this.__cbOnPointerUp=null,this.__cbOncePointerUp=null}},listensPointerUp:function(){return null!=this.__cbOnPointerUp&&this.__cbOnPointerUp.length>0||null!=this.__cbOncePointerUp&&this.__cbOncePointerUp.length>0},emitPointerOver:function(e){var n=0;if(null!=this.__cbOnPointerOver&&(n+=this.__cbOnPointerOver.length),null!=this.__cbOncePointerOver&&(n+=this.__cbOncePointerOver.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnPointerOver)for(var r=0,l=this.__cbOnPointerOver.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnPointerOver[a],++s):--n}if(null!=this.__cbOncePointerOver){var h=null,c=null;for(r=0,l=this.__cbOncePointerOver.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOncePointerOver[a],this.__cbOncePointerOver[a]=null;var o=this.__cbOnceOwnerUnbindPointerOver[a];this.__cbOnceOwnerUnbindPointerOver[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindPointerOver[a]),c.push(this.__cbOncePointerOver[a])}this.__cbOnceOwnerUnbindPointerOver=h,this.__cbOncePointerOver=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onPointerOver:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerOver because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerOver(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerOver&&(this.__cbOnOwnerUnbindPointerOver=[]),this.__cbOnOwnerUnbindPointerOver.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerOver&&(this.__cbOnOwnerUnbindPointerOver=[]),this.__cbOnOwnerUnbindPointerOver.push(null);null==this.__cbOnPointerOver&&(this.__cbOnPointerOver=[]),this.__cbOnPointerOver.push(n)},oncePointerOver:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerOver because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerOver(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerOver&&(this.__cbOnceOwnerUnbindPointerOver=[]),this.__cbOnceOwnerUnbindPointerOver.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerOver&&(this.__cbOnceOwnerUnbindPointerOver=[]),this.__cbOnceOwnerUnbindPointerOver.push(null);null==this.__cbOncePointerOver&&(this.__cbOncePointerOver=[]),this.__cbOncePointerOver.push(n)},offPointerOver:function(e){if(null!=e){var n;null!=this.__cbOnPointerOver&&-1!=(n=this.__cbOnPointerOver.indexOf(e))&&(this.__cbOnPointerOver.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerOver[n])&&r(),this.__cbOnOwnerUnbindPointerOver.splice(n,1)),null!=this.__cbOncePointerOver&&-1!=(n=this.__cbOncePointerOver.indexOf(e))&&(this.__cbOncePointerOver.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerOver[n])&&r(),this.__cbOnceOwnerUnbindPointerOver.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerOver){for(var t=0,i=this.__cbOnOwnerUnbindPointerOver.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPointerOver[s])&&r()}this.__cbOnOwnerUnbindPointerOver=null}if(null!=this.__cbOnceOwnerUnbindPointerOver){for(t=0,i=this.__cbOnceOwnerUnbindPointerOver.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPointerOver[s])&&r()}this.__cbOnceOwnerUnbindPointerOver=null}this.__cbOnPointerOver=null,this.__cbOncePointerOver=null}},listensPointerOver:function(){return null!=this.__cbOnPointerOver&&this.__cbOnPointerOver.length>0||null!=this.__cbOncePointerOver&&this.__cbOncePointerOver.length>0},emitPointerOut:function(e){var n=0;if(null!=this.__cbOnPointerOut&&(n+=this.__cbOnPointerOut.length),null!=this.__cbOncePointerOut&&(n+=this.__cbOncePointerOut.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnPointerOut)for(var r=0,l=this.__cbOnPointerOut.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnPointerOut[a],++s):--n}if(null!=this.__cbOncePointerOut){var h=null,c=null;for(r=0,l=this.__cbOncePointerOut.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOncePointerOut[a],this.__cbOncePointerOut[a]=null;var o=this.__cbOnceOwnerUnbindPointerOut[a];this.__cbOnceOwnerUnbindPointerOut[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindPointerOut[a]),c.push(this.__cbOncePointerOut[a])}this.__cbOnceOwnerUnbindPointerOut=h,this.__cbOncePointerOut=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onPointerOut:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerOut because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerOut(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerOut&&(this.__cbOnOwnerUnbindPointerOut=[]),this.__cbOnOwnerUnbindPointerOut.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerOut&&(this.__cbOnOwnerUnbindPointerOut=[]),this.__cbOnOwnerUnbindPointerOut.push(null);null==this.__cbOnPointerOut&&(this.__cbOnPointerOut=[]),this.__cbOnPointerOut.push(n)},oncePointerOut:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerOut because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerOut(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerOut&&(this.__cbOnceOwnerUnbindPointerOut=[]),this.__cbOnceOwnerUnbindPointerOut.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerOut&&(this.__cbOnceOwnerUnbindPointerOut=[]),this.__cbOnceOwnerUnbindPointerOut.push(null);null==this.__cbOncePointerOut&&(this.__cbOncePointerOut=[]),this.__cbOncePointerOut.push(n)},offPointerOut:function(e){if(null!=e){var n;null!=this.__cbOnPointerOut&&-1!=(n=this.__cbOnPointerOut.indexOf(e))&&(this.__cbOnPointerOut.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerOut[n])&&r(),this.__cbOnOwnerUnbindPointerOut.splice(n,1)),null!=this.__cbOncePointerOut&&-1!=(n=this.__cbOncePointerOut.indexOf(e))&&(this.__cbOncePointerOut.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerOut[n])&&r(),this.__cbOnceOwnerUnbindPointerOut.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerOut){for(var t=0,i=this.__cbOnOwnerUnbindPointerOut.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPointerOut[s])&&r()}this.__cbOnOwnerUnbindPointerOut=null}if(null!=this.__cbOnceOwnerUnbindPointerOut){for(t=0,i=this.__cbOnceOwnerUnbindPointerOut.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPointerOut[s])&&r()}this.__cbOnceOwnerUnbindPointerOut=null}this.__cbOnPointerOut=null,this.__cbOncePointerOut=null}},listensPointerOut:function(){return null!=this.__cbOnPointerOut&&this.__cbOnPointerOut.length>0||null!=this.__cbOncePointerOut&&this.__cbOncePointerOut.length>0},emitFocus:function(){var e=0;if(null!=this.__cbOnFocus&&(e+=this.__cbOnFocus.length),null!=this.__cbOnceFocus&&(e+=this.__cbOnceFocus.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFocus)for(var s=0,r=this.__cbOnFocus.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnFocus[l],++i):--e}if(null!=this.__cbOnceFocus){var a=null,h=null;for(s=0,r=this.__cbOnceFocus.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceFocus[l],this.__cbOnceFocus[l]=null;var c=this.__cbOnceOwnerUnbindFocus[l];this.__cbOnceOwnerUnbindFocus[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindFocus[l]),h.push(this.__cbOnceFocus[l])}this.__cbOnceOwnerUnbindFocus=a,this.__cbOnceFocus=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onFocus:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event focus because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFocus(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push(null);null==this.__cbOnFocus&&(this.__cbOnFocus=[]),this.__cbOnFocus.push(n)},onceFocus:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event focus because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFocus(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push(null);null==this.__cbOnceFocus&&(this.__cbOnceFocus=[]),this.__cbOnceFocus.push(n)},offFocus:function(e){if(null!=e){var n;null!=this.__cbOnFocus&&-1!=(n=this.__cbOnFocus.indexOf(e))&&(this.__cbOnFocus.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFocus[n])&&r(),this.__cbOnOwnerUnbindFocus.splice(n,1)),null!=this.__cbOnceFocus&&-1!=(n=this.__cbOnceFocus.indexOf(e))&&(this.__cbOnceFocus.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFocus[n])&&r(),this.__cbOnceOwnerUnbindFocus.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocus){for(var t=0,i=this.__cbOnOwnerUnbindFocus.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFocus[s])&&r()}this.__cbOnOwnerUnbindFocus=null}if(null!=this.__cbOnceOwnerUnbindFocus){for(t=0,i=this.__cbOnceOwnerUnbindFocus.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFocus[s])&&r()}this.__cbOnceOwnerUnbindFocus=null}this.__cbOnFocus=null,this.__cbOnceFocus=null}},listensFocus:function(){return null!=this.__cbOnFocus&&this.__cbOnFocus.length>0||null!=this.__cbOnceFocus&&this.__cbOnceFocus.length>0},emitBlur:function(){var e=0;if(null!=this.__cbOnBlur&&(e+=this.__cbOnBlur.length),null!=this.__cbOnceBlur&&(e+=this.__cbOnceBlur.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBlur)for(var s=0,r=this.__cbOnBlur.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnBlur[l],++i):--e}if(null!=this.__cbOnceBlur){var a=null,h=null;for(s=0,r=this.__cbOnceBlur.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceBlur[l],this.__cbOnceBlur[l]=null;var c=this.__cbOnceOwnerUnbindBlur[l];this.__cbOnceOwnerUnbindBlur[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindBlur[l]),h.push(this.__cbOnceBlur[l])}this.__cbOnceOwnerUnbindBlur=a,this.__cbOnceBlur=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onBlur:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event blur because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBlur(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push(null);null==this.__cbOnBlur&&(this.__cbOnBlur=[]),this.__cbOnBlur.push(n)},onceBlur:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event blur because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBlur(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push(null);null==this.__cbOnceBlur&&(this.__cbOnceBlur=[]),this.__cbOnceBlur.push(n)},offBlur:function(e){if(null!=e){var n;null!=this.__cbOnBlur&&-1!=(n=this.__cbOnBlur.indexOf(e))&&(this.__cbOnBlur.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBlur[n])&&r(),this.__cbOnOwnerUnbindBlur.splice(n,1)),null!=this.__cbOnceBlur&&-1!=(n=this.__cbOnceBlur.indexOf(e))&&(this.__cbOnceBlur.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBlur[n])&&r(),this.__cbOnceOwnerUnbindBlur.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBlur){for(var t=0,i=this.__cbOnOwnerUnbindBlur.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBlur[s])&&r()}this.__cbOnOwnerUnbindBlur=null}if(null!=this.__cbOnceOwnerUnbindBlur){for(t=0,i=this.__cbOnceOwnerUnbindBlur.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBlur[s])&&r()}this.__cbOnceOwnerUnbindBlur=null}this.__cbOnBlur=null,this.__cbOnceBlur=null}},listensBlur:function(){return null!=this.__cbOnBlur&&this.__cbOnBlur.length>0||null!=this.__cbOnceBlur&&this.__cbOnceBlur.length>0},get_isPointerDown:function(){return this._numPointerDown>0},get_isPointerOver:function(){return this._numPointerOver>0},set_clip:function(e){if(this.clip==e)return e;if(this.clip=e,this.clipDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.clipDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_clipDirty(!0)}}return e},set_inheritAlpha:function(e){if(this.inheritAlpha==e)return e;if(this.inheritAlpha=e,this.visibilityDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.visibilityDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_visibilityDirty(!0)}}return e},stop:function(){},set_contentDirty:function(e){return this.contentDirty=e,e&&(ceramic_App.app.visualsContentDirty=!0),e},set_matrixDirty:function(e){if(this.matrixDirty=e,e&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_matrixDirty(!0)}return e},set_renderTargetDirty:function(e){if(this.renderTargetDirty=e,e){if(this.clipDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;if((a=this.children[i]).clipDirty=!0,null!=a.children)for(var s=0,r=a.children.length;s<r;){var l=s++;a.children[l].set_clipDirty(!0)}}if(null!=this.children)for(n=0,t=this.children.length;n<t;){var a;i=n++;(a=this.children[i]).set_renderTargetDirty(!0)}}return e},set_visibilityDirty:function(e){if(this.visibilityDirty=e,e&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_visibilityDirty(!0)}return e},set_touchableDirty:function(e){if(this.touchableDirty=e,e&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_touchableDirty(!0)}return e},set_clipDirty:function(e){if(this.clipDirty=e,e&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_clipDirty(!0)}return e},set_renderTarget:function(e){if(this.renderTarget==e)return e;if(this.renderTarget=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;if((a=this.children[i]).matrixDirty=!0,null!=a.children)for(var s=0,r=a.children.length;s<r;){var l=s++;(h=a.children[l]).set_matrixDirty(!0)}}if(this.renderTargetDirty=!0,this.clipDirty=!0,null!=this.children)for(n=0,t=this.children.length;n<t;){i=n++;if((a=this.children[i]).clipDirty=!0,null!=a.children)for(s=0,r=a.children.length;s<r;){l=s++;(h=a.children[l]).set_clipDirty(!0)}}if(null!=this.children)for(n=0,t=this.children.length;n<t;){var a;i=n++;if((a=this.children[i]).renderTargetDirty=!0,a.clipDirty=!0,null!=a.children)for(s=0,r=a.children.length;s<r;){var h;l=s++;if((h=a.children[l]).clipDirty=!0,null!=h.children)for(var c=0,o=h.children.length;c<o;){var u=c++,_=h.children[u];if(_.clipDirty=!0,null!=_.children)for(var d=0,b=_.children.length;d<b;){var f=d++;_.children[f].set_clipDirty(!0)}}}if(null!=a.children)for(var p=0,O=a.children.length;p<O;){var g=p++;a.children[g].set_renderTargetDirty(!0)}}return e},set_blending:function(e){return this.blending=e},set_visible:function(e){if(this.visible==e)return e;if(this.visible=e,this.visibilityDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.visibilityDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_visibilityDirty(!0)}}return e},set_touchable:function(e){if(this.touchable==e)return e;if(this.touchable=e,this.touchableDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.touchableDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_touchableDirty(!0)}}return e},set_depth:function(e){return this.depth==e||(this.depth=e,ceramic_App.app.hierarchyDirty=!0),e},set_depthRange:function(e){return this.depthRange==e||(this.depthRange=e,ceramic_App.app.hierarchyDirty=!0),e},set_x:function(e){if(this.x==e)return e;if(this.x=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return e},set_y:function(e){if(this.y==e)return e;if(this.y=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return e},set_scaleX:function(e){if(this.scaleX==e)return e;if(this.scaleX=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return this.translatesOnlyDirty=!0,e},set_scaleY:function(e){if(this.scaleY==e)return e;if(this.scaleY=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return this.translatesOnlyDirty=!0,e},set_skewX:function(e){if(this.skewX==e)return e;if(this.skewX=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return this.translatesOnlyDirty=!0,e},set_skewY:function(e){if(this.skewY==e)return e;if(this.skewY=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return this.translatesOnlyDirty=!0,e},set_anchorX:function(e){if(this.anchorX==e)return e;if(this.anchorX=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return e},set_anchorY:function(e){if(this.anchorY==e)return e;if(this.anchorY=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return e},get_width:function(){return this._width},set_width:function(e){if(this._width==e)return e;if(this._width=e,0!=this.anchorX&&(this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return e},get_height:function(){return this._height},set_height:function(e){if(this._height==e)return e;if(this._height=e,0!=this.anchorY&&(this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return e},set_roundTranslation:function(e){if(this.roundTranslation==e)return e;if(this.roundTranslation=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return e},set_rotation:function(e){if(this.rotation==e)return e;if(this.rotation=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return this.translatesOnlyDirty=!0,e},set_alpha:function(e){if(this.alpha==e)return e;if(this.alpha=e,this.visibilityDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.visibilityDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_visibilityDirty(!0)}}return e},get_translateX:function(){return null!=this.transform?this.transform.tx:0},set_translateX:function(e){return 0==e?null!=this.transform&&0!=this.transform.tx&&(this.transform.tx=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new ceramic_Transform),this.transform.tx!=e&&(this.transform.tx=e,this.transform.changedDirty=!0)),e},get_translateY:function(){return null!=this.transform?this.transform.ty:0},set_translateY:function(e){return 0==e?null!=this.transform&&0!=this.transform.ty&&(this.transform.ty=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new ceramic_Transform),this.transform.ty!=e&&(this.transform.ty=e,this.transform.changedDirty=!0)),e},set_transform:function(e){if(this.transform==e)return e;if(null!=this.transform&&this.transform.offChange($bind(this,this.transformDidChange)),this.transform=e,null!=this.transform&&this.transform.onChange(this,$bind(this,this.transformDidChange)),this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return e},set_shader:function(e){return this.shader=e},flag:function(e,n){var t=e+16;if(null!=n)return this.flags=n?this.flags|1<<t:this.flags&~(1<<t),n;var i=1<<t;return(this.flags&i)==i},internalFlag:function(e,n){if(null!=n)return this.flags=n?this.flags|1<<e:this.flags&~(1<<e),n;var t=1<<e;return(this.flags&t)==t},get_active:function(){return 1!=(1&this.flags)},set_active:function(e){var n=1;if(e==((this.flags&n)!=n))return e;var t=!e;if(this.flags=t?1|this.flags:-2&this.flags,e){n=2;this.set_visible((this.flags&n)==n);n=4;this.set_touchable((this.flags&n)==n)}else{t=this.visible;this.flags=t?2|this.flags:-3&this.flags;t=this.touchable;this.flags=t?4|this.flags:-5&this.flags,this.set_visible(!1),this.set_touchable(!1)}return e},size:function(e,n){this.set_width(e),this.set_height(n)},anchor:function(e,n){this.set_anchorX(e),this.set_anchorY(n)},pos:function(e,n){this.set_x(e),this.set_y(n)},scale:function(e,n){null==n&&(n=-1),this.set_scaleX(e),this.set_scaleY(-1!=n?n:e)},skew:function(e,n){this.set_skewX(e),this.set_skewY(n)},translate:function(e,n){0==e?null!=this.transform&&0!=this.transform.tx&&(this.transform.tx=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new ceramic_Transform),this.transform.tx!=e&&(this.transform.tx=e,this.transform.changedDirty=!0)),0==n?null!=this.transform&&0!=this.transform.ty&&(this.transform.ty=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new ceramic_Transform),this.transform.ty!=n&&(this.transform.ty=n,this.transform.changedDirty=!0))},anchorKeepPosition:function(e,n){if(this.anchorX!=e||this.anchorY!=n){this.visualToScreen(0,0,ceramic_Visual._point,!1),null!=this.parent&&this.parent.screenToVisual(ceramic_Visual._point.x,ceramic_Visual._point.y,ceramic_Visual._point,!1);var t=ceramic_Visual._point.x,i=ceramic_Visual._point.y;this.set_anchorX(e),this.set_anchorY(n),this.visualToScreen(0,0,ceramic_Visual._point,!1),null!=this.parent&&this.parent.screenToVisual(ceramic_Visual._point.x,ceramic_Visual._point.y,ceramic_Visual._point,!1),this.set_x(this.x+(t-ceramic_Visual._point.x)),this.set_y(this.y+(i-ceramic_Visual._point.y))}},childWithId:function(e,n){if(null==n&&(n=!0),null!=this.children){for(var t=0,i=this.children.length;t<i;){var s=t++;if((r=this.children[s]).id==e)return r}if(n)for(t=0,i=this.children.length;t<i;){s=t++;var r,l=(r=this.children[s]).childWithId(e,!0);if(null!=l)return l}}return null},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),ceramic_App.app.screen.get_focusedVisual()==this&&ceramic_App.app.screen.set_focusedVisual(null),ceramic_App.app.destroyedVisuals.push(this),null!=this.parent&&this.parent.remove(this),null!=this.transform&&this.set_transform(null),this.clear())},clear:function(){if(null!=this.children&&this.children.length>0){for(var e=this.children.length,n=ceramic_ArrayPool.pool(e),t=n.get(),i=0,s=e;i<s;){var r=i++;t.vector[r]=this.children[r]}for(i=0,s=e;i<s;){r=i++;t.vector[r].destroy()}this.children=null,n.release(t)}},transformDidChange:function(){if(this.matrixDirty=!0,null!=this.children)for(var e=0,n=this.children.length;e<n;){var t=e++,i=this.children[t];if(i.matrixDirty=!0,null!=i.children)for(var s=0,r=i.children.length;s<r;){var l=s++;i.children[l].set_matrixDirty(!0)}}},computeMatrix:function(){null!=this.parent&&this.parent.matrixDirty&&this.parent.computeMatrix(),(t=ceramic_Visual._matrix).a=1,t.b=0,t.c=0,t.d=1,t.tx=0,t.ty=0,t.changedDirty=!0,this.translatesOnlyDirty&&(this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1);var e=this.get_width(),n=this.get_height();if(this.translatesOnly)ceramic_Visual._matrix.tx+=this.x-this.anchorX*e,ceramic_Visual._matrix.ty+=this.y-this.anchorY*n;else{if((t=ceramic_Visual._matrix).tx+=-this.anchorX*e,t.ty+=-this.anchorY*n,t.changedDirty=!0,1!=this.scaleX||1!=this.scaleY){var t=ceramic_Visual._matrix,i=this.scaleX,s=this.scaleY;t.a*=i,t.b*=s,t.c*=i,t.d*=s,t.tx*=i,t.ty*=s,t.changedDirty=!0}if(0!=this.skewX||0!=this.skewY){var t=ceramic_Visual._matrix,r=.017453292519943295*this.skewX,l=.017453292519943295*this.skewY,a=ceramic_Transform._tmp;a.a=1,a.b=0,a.c=0,a.d=1,a.tx=0,a.ty=0,a.changedDirty=!0;var h=Math.cos(l),c=Math.sin(l),o=-Math.sin(r),u=Math.cos(r);ceramic_Transform._tmp.a=1*h+-0*c,ceramic_Transform._tmp.b=0*h+1*c,ceramic_Transform._tmp.c=1*o+-0*u,ceramic_Transform._tmp.d=0*o+1*u;var _=ceramic_Transform._tmp,d=t.a*_.a+t.b*_.c;t.b=t.a*_.b+t.b*_.d,t.a=d;var b=t.c*_.a+t.d*_.c;t.d=t.c*_.b+t.d*_.d,t.c=b;var f=t.tx*_.a+t.ty*_.c+_.tx;t.ty=t.tx*_.b+t.ty*_.d+_.ty,t.tx=f,t.changedDirty=!0}if(0!=this.rotation){t=ceramic_Visual._matrix;var p=.017453292519943295*this.rotation,O=Math.cos(p),g=Math.sin(p);d=t.a*O-t.b*g;t.b=t.a*g+t.b*O,t.a=d;b=t.c*O-t.d*g;t.d=t.c*g+t.d*O,t.c=b;f=t.tx*O-t.ty*g;t.ty=t.tx*g+t.ty*O,t.tx=f,t.changedDirty=!0}(t=ceramic_Visual._matrix).tx+=this.x,t.ty+=this.y,t.changedDirty=!0}if(null!=this.transform){d=ceramic_Visual._matrix.a*this.transform.a+ceramic_Visual._matrix.b*this.transform.c;ceramic_Visual._matrix.b=ceramic_Visual._matrix.a*this.transform.b+ceramic_Visual._matrix.b*this.transform.d,ceramic_Visual._matrix.a=d;b=ceramic_Visual._matrix.c*this.transform.a+ceramic_Visual._matrix.d*this.transform.c;ceramic_Visual._matrix.d=ceramic_Visual._matrix.c*this.transform.b+ceramic_Visual._matrix.d*this.transform.d,ceramic_Visual._matrix.c=b;f=ceramic_Visual._matrix.tx*this.transform.a+ceramic_Visual._matrix.ty*this.transform.c+this.transform.tx;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.transform.b+ceramic_Visual._matrix.ty*this.transform.d+this.transform.ty,ceramic_Visual._matrix.tx=f}if(null!=this.parent&&null==this.renderTarget)if(1==this.parent.matA&&0==this.parent.matB&&0==this.parent.matC&&1==this.parent.matD)ceramic_Visual._matrix.tx+=this.parent.matTX,ceramic_Visual._matrix.ty+=this.parent.matTY;else if(this.translatesOnly&&null==this.transform){ceramic_Visual._matrix.a=this.parent.matA,ceramic_Visual._matrix.b=this.parent.matB,ceramic_Visual._matrix.c=this.parent.matC,ceramic_Visual._matrix.d=this.parent.matD;f=ceramic_Visual._matrix.tx*this.parent.matA+ceramic_Visual._matrix.ty*this.parent.matC+this.parent.matTX;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.parent.matB+ceramic_Visual._matrix.ty*this.parent.matD+this.parent.matTY,ceramic_Visual._matrix.tx=f}else{d=ceramic_Visual._matrix.a*this.parent.matA+ceramic_Visual._matrix.b*this.parent.matC;ceramic_Visual._matrix.b=ceramic_Visual._matrix.a*this.parent.matB+ceramic_Visual._matrix.b*this.parent.matD,ceramic_Visual._matrix.a=d;b=ceramic_Visual._matrix.c*this.parent.matA+ceramic_Visual._matrix.d*this.parent.matC;ceramic_Visual._matrix.d=ceramic_Visual._matrix.c*this.parent.matB+ceramic_Visual._matrix.d*this.parent.matD,ceramic_Visual._matrix.c=b;f=ceramic_Visual._matrix.tx*this.parent.matA+ceramic_Visual._matrix.ty*this.parent.matC+this.parent.matTX;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.parent.matB+ceramic_Visual._matrix.ty*this.parent.matD+this.parent.matTY,ceramic_Visual._matrix.tx=f}this.matA=ceramic_Visual._matrix.a,this.matB=ceramic_Visual._matrix.b,this.matC=ceramic_Visual._matrix.c,this.matD=ceramic_Visual._matrix.d,this.matTX=ceramic_Visual._matrix.tx,this.matTY=ceramic_Visual._matrix.ty,this.roundTranslation>0&&(1==this.roundTranslation?(this.matTX=Math.round(this.matTX),this.matTY=Math.round(this.matTY)):(this.matTX=Math.round(this.matTX*this.roundTranslation)/this.roundTranslation,this.matTY=Math.round(this.matTY*this.roundTranslation)/this.roundTranslation)),this.matrixDirty=!1},computeTranslatesOnly:function(){this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1},doComputeMatrix:function(){this.translatesOnlyDirty&&(this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1);var e=this.get_width(),n=this.get_height();if(this.translatesOnly)ceramic_Visual._matrix.tx+=this.x-this.anchorX*e,ceramic_Visual._matrix.ty+=this.y-this.anchorY*n;else{if((t=ceramic_Visual._matrix).tx+=-this.anchorX*e,t.ty+=-this.anchorY*n,t.changedDirty=!0,1!=this.scaleX||1!=this.scaleY){var t=ceramic_Visual._matrix,i=this.scaleX,s=this.scaleY;t.a*=i,t.b*=s,t.c*=i,t.d*=s,t.tx*=i,t.ty*=s,t.changedDirty=!0}if(0!=this.skewX||0!=this.skewY){var t=ceramic_Visual._matrix,r=.017453292519943295*this.skewX,l=.017453292519943295*this.skewY,a=ceramic_Transform._tmp;a.a=1,a.b=0,a.c=0,a.d=1,a.tx=0,a.ty=0,a.changedDirty=!0;var h=Math.cos(l),c=Math.sin(l),o=-Math.sin(r),u=Math.cos(r);ceramic_Transform._tmp.a=1*h+-0*c,ceramic_Transform._tmp.b=0*h+1*c,ceramic_Transform._tmp.c=1*o+-0*u,ceramic_Transform._tmp.d=0*o+1*u;var _=ceramic_Transform._tmp,d=t.a*_.a+t.b*_.c;t.b=t.a*_.b+t.b*_.d,t.a=d;var b=t.c*_.a+t.d*_.c;t.d=t.c*_.b+t.d*_.d,t.c=b;var f=t.tx*_.a+t.ty*_.c+_.tx;t.ty=t.tx*_.b+t.ty*_.d+_.ty,t.tx=f,t.changedDirty=!0}if(0!=this.rotation){t=ceramic_Visual._matrix;var p=.017453292519943295*this.rotation,O=Math.cos(p),g=Math.sin(p);d=t.a*O-t.b*g;t.b=t.a*g+t.b*O,t.a=d;b=t.c*O-t.d*g;t.d=t.c*g+t.d*O,t.c=b;f=t.tx*O-t.ty*g;t.ty=t.tx*g+t.ty*O,t.tx=f,t.changedDirty=!0}(t=ceramic_Visual._matrix).tx+=this.x,t.ty+=this.y,t.changedDirty=!0}if(null!=this.transform){d=ceramic_Visual._matrix.a*this.transform.a+ceramic_Visual._matrix.b*this.transform.c;ceramic_Visual._matrix.b=ceramic_Visual._matrix.a*this.transform.b+ceramic_Visual._matrix.b*this.transform.d,ceramic_Visual._matrix.a=d;b=ceramic_Visual._matrix.c*this.transform.a+ceramic_Visual._matrix.d*this.transform.c;ceramic_Visual._matrix.d=ceramic_Visual._matrix.c*this.transform.b+ceramic_Visual._matrix.d*this.transform.d,ceramic_Visual._matrix.c=b;f=ceramic_Visual._matrix.tx*this.transform.a+ceramic_Visual._matrix.ty*this.transform.c+this.transform.tx;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.transform.b+ceramic_Visual._matrix.ty*this.transform.d+this.transform.ty,ceramic_Visual._matrix.tx=f}if(null!=this.parent&&null==this.renderTarget)if(1==this.parent.matA&&0==this.parent.matB&&0==this.parent.matC&&1==this.parent.matD)ceramic_Visual._matrix.tx+=this.parent.matTX,ceramic_Visual._matrix.ty+=this.parent.matTY;else if(this.translatesOnly&&null==this.transform){ceramic_Visual._matrix.a=this.parent.matA,ceramic_Visual._matrix.b=this.parent.matB,ceramic_Visual._matrix.c=this.parent.matC,ceramic_Visual._matrix.d=this.parent.matD;f=ceramic_Visual._matrix.tx*this.parent.matA+ceramic_Visual._matrix.ty*this.parent.matC+this.parent.matTX;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.parent.matB+ceramic_Visual._matrix.ty*this.parent.matD+this.parent.matTY,ceramic_Visual._matrix.tx=f}else{d=ceramic_Visual._matrix.a*this.parent.matA+ceramic_Visual._matrix.b*this.parent.matC;ceramic_Visual._matrix.b=ceramic_Visual._matrix.a*this.parent.matB+ceramic_Visual._matrix.b*this.parent.matD,ceramic_Visual._matrix.a=d;b=ceramic_Visual._matrix.c*this.parent.matA+ceramic_Visual._matrix.d*this.parent.matC;ceramic_Visual._matrix.d=ceramic_Visual._matrix.c*this.parent.matB+ceramic_Visual._matrix.d*this.parent.matD,ceramic_Visual._matrix.c=b;f=ceramic_Visual._matrix.tx*this.parent.matA+ceramic_Visual._matrix.ty*this.parent.matC+this.parent.matTX;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.parent.matB+ceramic_Visual._matrix.ty*this.parent.matD+this.parent.matTY,ceramic_Visual._matrix.tx=f}this.matA=ceramic_Visual._matrix.a,this.matB=ceramic_Visual._matrix.b,this.matC=ceramic_Visual._matrix.c,this.matD=ceramic_Visual._matrix.d,this.matTX=ceramic_Visual._matrix.tx,this.matTY=ceramic_Visual._matrix.ty,this.roundTranslation>0&&(1==this.roundTranslation?(this.matTX=Math.round(this.matTX),this.matTY=Math.round(this.matTY)):(this.matTX=Math.round(this.matTX*this.roundTranslation)/this.roundTranslation,this.matTY=Math.round(this.matTY*this.roundTranslation)/this.roundTranslation)),this.matrixDirty=!1},hits:function(e,n){if(this.renderTargetDirty&&this.computeRenderTarget(),null!=this.computedRenderTarget){var t=this.parent;if(null!=t)for(;;){if(null!=t.asQuad&&t instanceof ceramic_Filter){var i=t;if(i.get_renderTexture()==this.computedRenderTarget&&(null==ceramic_Screen.matchedHitVisual||i.hitVisual==ceramic_Screen.matchedHitVisual))return i.visualInContentHits(this,e,n)}if(null==(t=t.parent))break}return!1}if(null!=ceramic_Screen.matchedHitVisual&&ceramic_Screen.matchedHitVisual!=this)return!1;this.matrixDirty&&this.computeMatrix(),(s=ceramic_Visual._matrix).a=this.matA,s.b=this.matB,s.c=this.matC,s.d=this.matD,s.tx=this.matTX,s.ty=this.matTY,s.changedDirty=!0;var s,r=(s=ceramic_Visual._matrix).a*s.d-s.b*s.c;if(0==r)s.a=s.b=s.c=s.d=0,s.tx=-s.tx,s.ty=-s.ty;else{r=1/r;var l=s.d*r;s.d=s.a*r,s.a=l,s.b*=-r,s.c*=-r;var a=-s.a*s.tx-s.c*s.ty;s.ty=-s.b*s.tx-s.d*s.ty,s.tx=a}return s.changedDirty=!0,this.hitTest(e,n,ceramic_Visual._matrix)},hitTest:function(e,n,t){var i=e*t.a+n*t.c+t.tx,s=e*t.b+n*t.d+t.ty;return i>=0&&i<this.get_width()&&s>=0&&s<this.get_height()},interceptPointerDown:function(e,n,t,i,s){return!1},interceptPointerOver:function(e,n,t){return!1},screenToVisual:function(e,n,t,i){null==i&&(i=!0),this.matrixDirty&&this.computeMatrix(),(a=ceramic_Visual._matrix).a=this.matA,a.b=this.matB,a.c=this.matC,a.d=this.matD,a.tx=this.matTX,a.ty=this.matTY,a.changedDirty=!0;var s=(a=ceramic_Visual._matrix).a*a.d-a.b*a.c;if(0==s)a.a=a.b=a.c=a.d=0,a.tx=-a.tx,a.ty=-a.ty;else{s=1/s;var r=a.d*s;a.d=a.a*s,a.a=r,a.b*=-s,a.c*=-s;var l=-a.a*a.tx-a.c*a.ty;a.ty=-a.b*a.tx-a.d*a.ty,a.tx=l}a.changedDirty=!0;var a=ceramic_Visual._matrix;t.x=e*a.a+n*a.c+a.tx;a=ceramic_Visual._matrix;if(t.y=e*a.b+n*a.d+a.ty,i&&(this.renderTargetDirty&&this.computeRenderTarget(),null!=this.computedRenderTarget)){var h=this.parent;if(null!=h)for(;;){if(null!=h.asQuad&&h instanceof ceramic_Filter){var c=h;if(c.get_renderTexture()==this.computedRenderTarget){c.screenToVisual(t.x,t.y,t);break}}if(null==(h=h.parent))break}}},visualToScreen:function(e,n,t,i){null==i&&(i=!0),this.matrixDirty&&this.computeMatrix(),(s=ceramic_Visual._matrix).a=this.matA,s.b=this.matB,s.c=this.matC,s.d=this.matD,s.tx=this.matTX,s.ty=this.matTY,s.changedDirty=!0;var s=ceramic_Visual._matrix;t.x=e*s.a+n*s.c+s.tx;s=ceramic_Visual._matrix;if(t.y=e*s.b+n*s.d+s.ty,i&&(this.renderTargetDirty&&this.computeRenderTarget(),null!=this.computedRenderTarget)){var r=this.parent;if(null!=r)for(;;){if(null!=r.asQuad&&r instanceof ceramic_Filter){var l=r;if(l.get_renderTexture()==this.computedRenderTarget){l.visualToScreen(t.x,t.y,t);break}}if(null==(r=r.parent))break}}},visualToTransform:function(e){this.matrixDirty&&this.computeMatrix(),e.a=this.matA,e.b=this.matB,e.c=this.matC,e.d=this.matD,e.tx=this.matTX,e.ty=this.matTY,e.changedDirty=!0},computeVisibility:function(){null!=this.parent&&this.parent.visibilityDirty&&this.parent.computeVisibility(),this.computedVisible=this.visible,this.computedAlpha=this.alpha,this.computedVisible&&(null!=this.parent&&(this.parent.computedVisible||!this.parent.inheritAlpha&&this.parent.visible&&(null==this.parent.parent||this.parent.parent.computedVisible)||(this.computedVisible=!1),this.inheritAlpha&&(this.computedAlpha*=this.parent.computedAlpha)),0==this.computedAlpha&&4!=this.blending&&(this.computedVisible=!1)),this.visibilityDirty=!1},computeClip:function(){this.renderTargetDirty&&this.computeRenderTarget(),null!=this.parent&&this.parent.clipDirty&&this.parent.computeClip(),this.computedClip=!1,null!=this.parent&&(this.parent.computedClip||null!=this.parent.clip)&&this.computedRenderTarget==this.parent.computedRenderTarget&&(this.computedClip=!0),this.clipDirty=!1},computeTouchable:function(){null!=this.parent&&this.parent.touchableDirty&&this.parent.computeTouchable(),this.computedTouchable=this.touchable,this.computedTouchable&&null!=this.parent&&(this.parent.computedTouchable||(this.computedTouchable=!1)),this.touchableDirty=!1},computeRenderTarget:function(){null!=this.parent&&this.parent.renderTargetDirty&&this.parent.computeRenderTarget();this.computedRenderTarget;this.computedRenderTarget=this.renderTarget,null==this.computedRenderTarget&&null!=this.parent&&null!=this.parent.computedRenderTarget&&(this.computedRenderTarget=this.parent.computedRenderTarget),this.renderTargetDirty=!1},computeContent:function(){this.contentDirty=!1},autoChildrenDepth:function(e,n){null==n&&(n=1),null==e&&(e=1);var t=e;if(null!=this.children)for(var i=0,s=this.children.length;i<s;){var r=i++;this.children[r].set_depth(t),t+=n}},sortChildrenByDepth:function(){if(null!=this.children&&this.children.length>0){var e=this.children;ceramic_SortVisualsByDepth.rec(e,0,e.length)}},normalizeChildrenDepth:function(e,n){null==n&&(n=1),null==e&&(e=1),null!=this.children&&this.children.length>0&&(this.sortChildrenByDepth(),this.autoChildrenDepth())},hasIndirectParent:function(e){for(var n=this.parent;null!=n;){if(n==e)return!0;n=n.parent}return!1},firstParentWithClass:function(e){for(var n=this.parent;null!=n;){if(js_Boot.__instanceof(n,e))return n;n=n.parent}return null},add:function(e){if(e==this)throw haxe_Exception.thrown("A visual cannot add itself as child!");if(ceramic_App.app.hierarchyDirty=!0,null!=e.parent&&e.parent.remove(e),e.parent=this,e.visibilityDirty=!0,null!=e.children)for(var n=0,t=e.children.length;n<t;){var i=n++;if((O=e.children[i]).visibilityDirty=!0,null!=O.children)for(var s=0,r=O.children.length;s<r;){var l=s++;(g=O.children[l]).set_visibilityDirty(!0)}}if(e.matrixDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((O=e.children[i]).matrixDirty=!0,null!=O.children)for(s=0,r=O.children.length;s<r;){l=s++;(g=O.children[l]).set_matrixDirty(!0)}}if(e.renderTargetDirty=!0,e.clipDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((O=e.children[i]).clipDirty=!0,null!=O.children)for(s=0,r=O.children.length;s<r;){l=s++;(g=O.children[l]).set_clipDirty(!0)}}if(null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((O=e.children[i]).renderTargetDirty=!0,O.clipDirty=!0,null!=O.children)for(s=0,r=O.children.length;s<r;){l=s++;if((g=O.children[l]).clipDirty=!0,null!=g.children)for(var a=0,h=g.children.length;a<h;){var c=a++,o=g.children[c];if(o.clipDirty=!0,null!=o.children)for(var u=0,_=o.children.length;u<_;){var d=u++;o.children[d].set_clipDirty(!0)}}}if(null!=O.children)for(var b=0,f=O.children.length;b<f;){var p=b++;O.children[p].set_renderTargetDirty(!0)}}if(null==this.children&&(this.children=[]),this.children.push(e),this.clipDirty=!0,null!=this.children)for(n=0,t=this.children.length;n<t;){var O;i=n++;if((O=this.children[i]).clipDirty=!0,null!=O.children)for(s=0,r=O.children.length;s<r;){var g;l=s++;(g=O.children[l]).set_clipDirty(!0)}}},remove:function(e){if(ceramic_App.app.hierarchyDirty=!0,null!=this.children){if(-1!=this.children.indexOf(e)?this.children.splice(this.children.indexOf(e),1):ceramic_App.app.logger.warning("Cannot remove visual "+Std.string(e)+", index is -1",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Visual.hx",lineNumber:2762,className:"ceramic.Visual",methodName:"remove"}),e.parent=null,e.visibilityDirty=!0,null!=e.children)for(var n=0,t=e.children.length;n<t;){var i=n++;if((O=e.children[i]).visibilityDirty=!0,null!=O.children)for(var s=0,r=O.children.length;s<r;){var l=s++;(g=O.children[l]).set_visibilityDirty(!0)}}if(e.matrixDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((O=e.children[i]).matrixDirty=!0,null!=O.children)for(s=0,r=O.children.length;s<r;){l=s++;(g=O.children[l]).set_matrixDirty(!0)}}if(e.renderTargetDirty=!0,e.clipDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((O=e.children[i]).clipDirty=!0,null!=O.children)for(s=0,r=O.children.length;s<r;){l=s++;(g=O.children[l]).set_clipDirty(!0)}}if(null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((O=e.children[i]).renderTargetDirty=!0,O.clipDirty=!0,null!=O.children)for(s=0,r=O.children.length;s<r;){l=s++;if((g=O.children[l]).clipDirty=!0,null!=g.children)for(var a=0,h=g.children.length;a<h;){var c=a++,o=g.children[c];if(o.clipDirty=!0,null!=o.children)for(var u=0,_=o.children.length;u<_;){var d=u++;o.children[d].set_clipDirty(!0)}}}if(null!=O.children)for(var b=0,f=O.children.length;b<f;){var p=b++;O.children[p].set_renderTargetDirty(!0)}}if(e.clipDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){var O;i=n++;if((O=e.children[i]).clipDirty=!0,null!=O.children)for(s=0,r=O.children.length;s<r;){var g;l=s++;(g=O.children[l]).set_clipDirty(!0)}}}},contains:function(e,n){null==n&&(n=!1);for(var t=e.parent;null!=t;){if(t==this)return!0;if(t=t.parent,!n)break}return!1},computeBounds:function(){if(null==this.children)this._width=0,this._height=0;else{for(var e=999999999,n=999999999,t=-999999999.9,i=-999999999.9,s=new ceramic_Point,r=0,l=this.children.length;r<l;){var a=r++;if((O=this.children[a]).visible)if(null!=O.asMesh)for(var h=O.asMesh.vertices,c=0,o=h.length,u=0,_=0;c<o;)u=h[c],_=h[c+1],O.visualToScreen(u,_,s,!1),s.x>t&&(t=s.x),s.y>i&&(i=s.y),s.x<e&&(e=s.x),s.y<n&&(n=s.y),c+=2;else O.visualToScreen(0,0,s,!1),s.x>t&&(t=s.x),s.y>i&&(i=s.y),s.x<e&&(e=s.x),s.y<n&&(n=s.y),O.visualToScreen(O.get_width(),0,s,!1),s.x>t&&(t=s.x),s.y>i&&(i=s.y),s.x<e&&(e=s.x),s.y<n&&(n=s.y),O.visualToScreen(0,O.get_height(),s,!1),s.x>t&&(t=s.x),s.y>i&&(i=s.y),s.x<e&&(e=s.x),s.y<n&&(n=s.y),O.visualToScreen(O.get_width(),O.get_height(),s,!1),s.x>t&&(t=s.x),s.y>i&&(i=s.y),s.x<e&&(e=s.x),s.y<n&&(n=s.y)}this.visualToScreen(0,0,s,!1);var d=s.x,b=s.y;if(this.screenToVisual(e,n,s,!1),e=s.x,n=s.y,this.screenToVisual(t,i,s,!1),(t=s.x)<e){var f=e;e=t,t=f}if((i=s.y)<n){var p=n;n=i,i=p}if(this._width=t-e,this._height=i-n,this.set_anchorX(0!=this._width?-e/this._width:0),this.set_anchorY(0!=this._height?-n/this._height:0),this.screenToVisual(d,b,s,!1),this.set_x(s.x-this._width*this.anchorX),this.set_y(s.y-this._height*this.anchorY),this.matrixDirty=!0,null!=this.children)for(r=0,l=this.children.length;r<l;){var O;a=r++;if((O=this.children[a]).matrixDirty=!0,null!=O.children)for(var g=0,m=O.children.length;g<m;){c=g++;O.children[c].set_matrixDirty(!0)}}}},bindToNativeScreenSize:function(){ceramic_App.app.screen.reverseMatrix.onChange(this,$bind(this,this._bindToNativeScreenSizeCallback)),this._bindToNativeScreenSizeCallback()},_bindToNativeScreenSizeCallback:function(){null==this.transform&&this.set_transform(new ceramic_Transform),(e=this.transform).a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.changedDirty=!0;var e=this.transform,n=clay_Clay.app.screenDensity,t=clay_Clay.app.screenDensity;e.a*=n,e.b*=t,e.c*=n,e.d*=t,e.tx*=n,e.ty*=t,e.changedDirty=!0;e=this.transform;var i=ceramic_App.app.screen.reverseMatrix,s=e.a*i.a+e.b*i.c;e.b=e.a*i.b+e.b*i.d,e.a=s;var r=e.c*i.a+e.d*i.c;e.d=e.c*i.b+e.d*i.d,e.c=r;var l=e.tx*i.a+e.ty*i.c+i.tx;e.ty=e.tx*i.b+e.ty*i.d+i.ty,e.tx=l,e.changedDirty=!0;var a=clay_Clay.app.screenHeight;this.set_width(clay_Clay.app.screenWidth),this.set_height(a)},bindToScreenSize:function(){ceramic_App.app.screen.onResize(this,$bind(this,this._bindToScreenSizeCallback)),this._bindToScreenSizeCallback()},_bindToScreenSizeCallback:function(){var e=ceramic_App.app.screen.height;this.set_width(ceramic_App.app.screen.width),this.set_height(e)},bindToTargetSize:function(){ceramic_App.app.screen.onResize(this,$bind(this,this._bindToTargetSizeCallback)),this._bindToTargetSizeCallback()},_bindToTargetSizeCallback:function(){var e=ceramic_App.app.screen.height;this.set_width(ceramic_App.app.screen.width),this.set_height(e)},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offPointerDown(),this.offPointerUp(),this.offPointerOver(),this.offPointerOut(),this.offFocus(),this.offBlur()},__class__:ceramic_Visual,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_active:"set_active",get_active:"get_active",set_shader:"set_shader",set_transform:"set_transform",set_translateY:"set_translateY",get_translateY:"get_translateY",set_translateX:"set_translateX",get_translateX:"get_translateX",set_alpha:"set_alpha",set_rotation:"set_rotation",set_roundTranslation:"set_roundTranslation",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_anchorY:"set_anchorY",set_anchorX:"set_anchorX",set_skewY:"set_skewY",set_skewX:"set_skewX",set_scaleY:"set_scaleY",set_scaleX:"set_scaleX",set_y:"set_y",set_x:"set_x",set_depthRange:"set_depthRange",set_depth:"set_depth",set_touchable:"set_touchable",set_visible:"set_visible",set_blending:"set_blending",set_renderTarget:"set_renderTarget",set_clipDirty:"set_clipDirty",set_touchableDirty:"set_touchableDirty",set_visibilityDirty:"set_visibilityDirty",set_renderTargetDirty:"set_renderTargetDirty",set_matrixDirty:"set_matrixDirty",set_contentDirty:"set_contentDirty",set_inheritAlpha:"set_inheritAlpha",set_clip:"set_clip",get_isPointerOver:"get_isPointerOver",get_isPointerDown:"get_isPointerDown"})});var ceramic_Quad=function(){this.frameHeight=-1,this.frameWidth=-1,this.frameY=-1,this.frameX=-1,this.texture=null,this.tile=null,this.transparent=!1,this.color=16777215,ceramic_Visual.call(this),this.asQuad=this};t["ceramic.Quad"]=ceramic_Quad,ceramic_Quad.__name__="ceramic.Quad",ceramic_Quad.__super__=ceramic_Visual,ceramic_Quad.prototype=$extend(ceramic_Visual.prototype,{set_tile:function(e){if(this.tile==e)return e;if(this.tile=e,null==e){var n=null;if(this.texture!=n)if(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.release()),this.texture=n,null==n)this.frameX=-1,this.frameY=-1,-1!=this.frameWidth&&(this.frameWidth=-1),-1!=this.frameHeight&&(this.frameHeight=-1);else if(null!=this.tile){this.frameX=this.tile.frameX,this.frameY=this.tile.frameY;var t=this.tile.frameWidth;this.frameWidth!=t&&(this.frameWidth=t,-1!=t&&this.set_width(t));var i=this.tile.frameHeight;this.frameHeight!=i&&(this.frameHeight=i,-1!=i&&this.set_height(i))}else{this.frameX=0,this.frameY=0;t=n.width;this.frameWidth!=t&&(this.frameWidth=t,-1!=t&&this.set_width(t));i=n.height;this.frameHeight!=i&&(this.frameHeight=i,-1!=i&&this.set_height(i)),n.onDestroy(this,$bind(this,this.textureDestroyed)),null!=n.asset&&n.asset.retain()}}else{if(this.texture!=e.texture){n=e.texture;if(this.texture!=n)if(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.release()),this.texture=n,null==n)this.frameX=-1,this.frameY=-1,-1!=this.frameWidth&&(this.frameWidth=-1),-1!=this.frameHeight&&(this.frameHeight=-1);else if(null!=this.tile){this.frameX=this.tile.frameX,this.frameY=this.tile.frameY;t=this.tile.frameWidth;this.frameWidth!=t&&(this.frameWidth=t,-1!=t&&this.set_width(t));i=this.tile.frameHeight;this.frameHeight!=i&&(this.frameHeight=i,-1!=i&&this.set_height(i))}else{this.frameX=0,this.frameY=0;t=n.width;this.frameWidth!=t&&(this.frameWidth=t,-1!=t&&this.set_width(t));i=n.height;this.frameHeight!=i&&(this.frameHeight=i,-1!=i&&this.set_height(i)),n.onDestroy(this,$bind(this,this.textureDestroyed)),null!=n.asset&&n.asset.retain()}}this.frameX=e.frameX,this.frameY=e.frameY;t=e.frameWidth;this.frameWidth!=t&&(this.frameWidth=t,-1!=t&&this.set_width(t));i=e.frameHeight;this.frameHeight!=i&&(this.frameHeight=i,-1!=i&&this.set_height(i))}return e},set_texture:function(e){if(this.texture==e)return e;if(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.release()),this.texture=e,null==e)this.frameX=-1,this.frameY=-1,-1!=this.frameWidth&&(this.frameWidth=-1),-1!=this.frameHeight&&(this.frameHeight=-1);else if(null!=this.tile){this.frameX=this.tile.frameX,this.frameY=this.tile.frameY;var n=this.tile.frameWidth;this.frameWidth!=n&&(this.frameWidth=n,-1!=n&&this.set_width(n));var t=this.tile.frameHeight;this.frameHeight!=t&&(this.frameHeight=t,-1!=t&&this.set_height(t))}else{this.frameX=0,this.frameY=0;n=e.width;this.frameWidth!=n&&(this.frameWidth=n,-1!=n&&this.set_width(n));t=e.height;this.frameHeight!=t&&(this.frameHeight=t,-1!=t&&this.set_height(t)),e.onDestroy(this,$bind(this,this.textureDestroyed)),null!=e.asset&&e.asset.retain()}return e},set_frameWidth:function(e){return this.frameWidth==e||(this.frameWidth=e,-1!=e&&this.set_width(e)),e},set_frameHeight:function(e){return this.frameHeight==e||(this.frameHeight=e,-1!=e&&this.set_height(e)),e},destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2;var e=null;if(this.texture!=e)null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.release()),this.texture=e,this.frameX=-1,this.frameY=-1,-1!=this.frameWidth&&(this.frameWidth=-1),-1!=this.frameHeight&&(this.frameHeight=-1);this._lifecycleState=-1,ceramic_Visual.prototype.destroy.call(this)}},frame:function(e,n,t,i){this.frameX=e,this.frameY=n,this.frameWidth!=t&&(this.frameWidth=t,-1!=t&&this.set_width(t)),this.frameHeight!=i&&(this.frameHeight=i,-1!=i&&this.set_height(i))},computeMatrix:function(){null!=this.parent&&this.parent.matrixDirty&&this.parent.computeMatrix(),(t=ceramic_Quad._matrix).a=1,t.b=0,t.c=0,t.d=1,t.tx=0,t.ty=0,t.changedDirty=!0,this.translatesOnlyDirty&&(this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1);var e=this.get_width(),n=this.get_height();if(this.translatesOnly)ceramic_Visual._matrix.tx+=this.x-this.anchorX*e,ceramic_Visual._matrix.ty+=this.y-this.anchorY*n;else{if((t=ceramic_Visual._matrix).tx+=-this.anchorX*e,t.ty+=-this.anchorY*n,t.changedDirty=!0,1!=this.scaleX||1!=this.scaleY){var t=ceramic_Visual._matrix,i=this.scaleX,s=this.scaleY;t.a*=i,t.b*=s,t.c*=i,t.d*=s,t.tx*=i,t.ty*=s,t.changedDirty=!0}if(0!=this.skewX||0!=this.skewY){var t=ceramic_Visual._matrix,r=.017453292519943295*this.skewX,l=.017453292519943295*this.skewY,a=ceramic_Transform._tmp;a.a=1,a.b=0,a.c=0,a.d=1,a.tx=0,a.ty=0,a.changedDirty=!0;var h=Math.cos(l),c=Math.sin(l),o=-Math.sin(r),u=Math.cos(r);ceramic_Transform._tmp.a=1*h+-0*c,ceramic_Transform._tmp.b=0*h+1*c,ceramic_Transform._tmp.c=1*o+-0*u,ceramic_Transform._tmp.d=0*o+1*u;var _=ceramic_Transform._tmp,d=t.a*_.a+t.b*_.c;t.b=t.a*_.b+t.b*_.d,t.a=d;var b=t.c*_.a+t.d*_.c;t.d=t.c*_.b+t.d*_.d,t.c=b;var f=t.tx*_.a+t.ty*_.c+_.tx;t.ty=t.tx*_.b+t.ty*_.d+_.ty,t.tx=f,t.changedDirty=!0}if(0!=this.rotation){t=ceramic_Visual._matrix;var p=.017453292519943295*this.rotation,O=Math.cos(p),g=Math.sin(p);d=t.a*O-t.b*g;t.b=t.a*g+t.b*O,t.a=d;b=t.c*O-t.d*g;t.d=t.c*g+t.d*O,t.c=b;f=t.tx*O-t.ty*g;t.ty=t.tx*g+t.ty*O,t.tx=f,t.changedDirty=!0}(t=ceramic_Visual._matrix).tx+=this.x,t.ty+=this.y,t.changedDirty=!0}if(null!=this.transform){d=ceramic_Visual._matrix.a*this.transform.a+ceramic_Visual._matrix.b*this.transform.c;ceramic_Visual._matrix.b=ceramic_Visual._matrix.a*this.transform.b+ceramic_Visual._matrix.b*this.transform.d,ceramic_Visual._matrix.a=d;b=ceramic_Visual._matrix.c*this.transform.a+ceramic_Visual._matrix.d*this.transform.c;ceramic_Visual._matrix.d=ceramic_Visual._matrix.c*this.transform.b+ceramic_Visual._matrix.d*this.transform.d,ceramic_Visual._matrix.c=b;f=ceramic_Visual._matrix.tx*this.transform.a+ceramic_Visual._matrix.ty*this.transform.c+this.transform.tx;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.transform.b+ceramic_Visual._matrix.ty*this.transform.d+this.transform.ty,ceramic_Visual._matrix.tx=f}if(null!=this.parent&&null==this.renderTarget)if(1==this.parent.matA&&0==this.parent.matB&&0==this.parent.matC&&1==this.parent.matD)ceramic_Visual._matrix.tx+=this.parent.matTX,ceramic_Visual._matrix.ty+=this.parent.matTY;else if(this.translatesOnly&&null==this.transform){ceramic_Visual._matrix.a=this.parent.matA,ceramic_Visual._matrix.b=this.parent.matB,ceramic_Visual._matrix.c=this.parent.matC,ceramic_Visual._matrix.d=this.parent.matD;f=ceramic_Visual._matrix.tx*this.parent.matA+ceramic_Visual._matrix.ty*this.parent.matC+this.parent.matTX;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.parent.matB+ceramic_Visual._matrix.ty*this.parent.matD+this.parent.matTY,ceramic_Visual._matrix.tx=f}else{d=ceramic_Visual._matrix.a*this.parent.matA+ceramic_Visual._matrix.b*this.parent.matC;ceramic_Visual._matrix.b=ceramic_Visual._matrix.a*this.parent.matB+ceramic_Visual._matrix.b*this.parent.matD,ceramic_Visual._matrix.a=d;b=ceramic_Visual._matrix.c*this.parent.matA+ceramic_Visual._matrix.d*this.parent.matC;ceramic_Visual._matrix.d=ceramic_Visual._matrix.c*this.parent.matB+ceramic_Visual._matrix.d*this.parent.matD,ceramic_Visual._matrix.c=b;f=ceramic_Visual._matrix.tx*this.parent.matA+ceramic_Visual._matrix.ty*this.parent.matC+this.parent.matTX;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.parent.matB+ceramic_Visual._matrix.ty*this.parent.matD+this.parent.matTY,ceramic_Visual._matrix.tx=f}this.matA=ceramic_Visual._matrix.a,this.matB=ceramic_Visual._matrix.b,this.matC=ceramic_Visual._matrix.c,this.matD=ceramic_Visual._matrix.d,this.matTX=ceramic_Visual._matrix.tx,this.matTY=ceramic_Visual._matrix.ty,this.roundTranslation>0&&(1==this.roundTranslation?(this.matTX=Math.round(this.matTX),this.matTY=Math.round(this.matTY)):(this.matTX=Math.round(this.matTX*this.roundTranslation)/this.roundTranslation,this.matTY=Math.round(this.matTY*this.roundTranslation)/this.roundTranslation)),this.matrixDirty=!1},textureDestroyed:function(e){var n=null;this.texture!=n&&(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.release()),this.texture=n,this.frameX=-1,this.frameY=-1,-1!=this.frameWidth&&(this.frameWidth=-1),-1!=this.frameHeight&&(this.frameHeight=-1));this.set_tile(null)},__class__:ceramic_Quad,__properties__:$extend(ceramic_Visual.prototype.__properties__,{set_frameHeight:"set_frameHeight",set_frameWidth:"set_frameWidth",set_texture:"set_texture",set_tile:"set_tile"})});var ceramic_Layer=function(){this.sizeDirty=!1,ceramic_Quad.call(this),this.transparent=!0};t["ceramic.Layer"]=ceramic_Layer,ceramic_Layer.__name__="ceramic.Layer",ceramic_Layer.__super__=ceramic_Quad,ceramic_Layer.prototype=$extend(ceramic_Quad.prototype,{emitResize:function(e,n){this.willEmitResize(e,n);var t=0;if(null!=this.__cbOnResize&&(t+=this.__cbOnResize.length),null!=this.__cbOnceResize&&(t+=this.__cbOnceResize.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnResize)for(var l=0,a=this.__cbOnResize.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnResize[h],++r):--t}if(null!=this.__cbOnceResize){var c=null,o=null;for(l=0,a=this.__cbOnceResize.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceResize[h],this.__cbOnceResize[h]=null;var u=this.__cbOnceOwnerUnbindResize[h];this.__cbOnceOwnerUnbindResize[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindResize[h]),o.push(this.__cbOnceResize[h])}this.__cbOnceOwnerUnbindResize=c,this.__cbOnceResize=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}this.didEmitResize(e,n)},onResize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event resize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offResize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(null);null==this.__cbOnResize&&(this.__cbOnResize=[]),this.__cbOnResize.push(n)},onceResize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event resize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offResize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(null);null==this.__cbOnceResize&&(this.__cbOnceResize=[]),this.__cbOnceResize.push(n)},offResize:function(e){if(null!=e){var n;null!=this.__cbOnResize&&-1!=(n=this.__cbOnResize.indexOf(e))&&(this.__cbOnResize.splice(n,1),null!=(r=this.__cbOnOwnerUnbindResize[n])&&r(),this.__cbOnOwnerUnbindResize.splice(n,1)),null!=this.__cbOnceResize&&-1!=(n=this.__cbOnceResize.indexOf(e))&&(this.__cbOnceResize.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindResize[n])&&r(),this.__cbOnceOwnerUnbindResize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindResize){for(var t=0,i=this.__cbOnOwnerUnbindResize.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindResize[s])&&r()}this.__cbOnOwnerUnbindResize=null}if(null!=this.__cbOnceOwnerUnbindResize){for(t=0,i=this.__cbOnceOwnerUnbindResize.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindResize[s])&&r()}this.__cbOnceOwnerUnbindResize=null}this.__cbOnResize=null,this.__cbOnceResize=null}},listensResize:function(){return null!=this.__cbOnResize&&this.__cbOnResize.length>0||null!=this.__cbOnceResize&&this.__cbOnceResize.length>0},emitResizeIfNeeded:function(){this._lifecycleState<0||!this.sizeDirty||(this.sizeDirty=!1,this.emitResize(this.get_width(),this.get_height()))},willEmitResize:function(e,n){},didEmitResize:function(e,n){},set_width:function(e){return this._width==e||(ceramic_Quad.prototype.set_width.call(this,e),this.sizeDirty||(this.sizeDirty=!0,ceramic_App.app._onceImmediate($bind(this,this.emitResizeIfNeeded)))),e},set_height:function(e){return this._height==e||(ceramic_Quad.prototype.set_height.call(this,e),this.sizeDirty||(this.sizeDirty=!0,ceramic_App.app._onceImmediate($bind(this,this.emitResizeIfNeeded)))),e},unbindEvents:function(){ceramic_Quad.prototype.unbindEvents.call(this),this.offResize()},__class__:ceramic_Layer});var tracker_Observable=function(){};t["tracker.Observable"]=tracker_Observable,tracker_Observable.__name__="tracker.Observable",tracker_Observable.__isInterface__=!0;var ceramic_Scene=function(){this.paused=!1,this.autoUpdate=!0,this.unobservedStatus=0,this.statusAutoruns=null,this._assets=null,this.observedDirty=!1,ceramic_Layer.call(this),this.transparent=!0,ceramic_SceneSystem.get_shared().all.push(this)};t["ceramic.Scene"]=ceramic_Scene,ceramic_Scene.__name__="ceramic.Scene",ceramic_Scene.__interfaces__=[tracker_Observable],ceramic_Scene.__super__=ceramic_Layer,ceramic_Scene.prototype=$extend(ceramic_Layer.prototype,{emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var l=0,a=this.__cbOnObservedDirty.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnObservedDirty[h],++r):--t}if(null!=this.__cbOnceObservedDirty){var c=null,o=null;for(l=0,a=this.__cbOnceObservedDirty.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceObservedDirty[h],this.__cbOnceObservedDirty[h]=null;var u=this.__cbOnceOwnerUnbindObservedDirty[h];this.__cbOnceOwnerUnbindObservedDirty[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindObservedDirty[h]),o.push(this.__cbOnceObservedDirty[h])}this.__cbOnceOwnerUnbindObservedDirty=c,this.__cbOnceObservedDirty=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(n)},onceObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(n)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[s])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[s])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&this.__cbOnObservedDirty.length>0||null!=this.__cbOnceObservedDirty&&this.__cbOnceObservedDirty.length>0},get_status:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.statusAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.statusAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedStatus},set_status:function(e){var n=this.unobservedStatus;if(this.unobservedStatus=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitStatusChange(e,n);var t=this.statusAutoruns;if(null!=t){this.statusAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateStatus:function(){var e=this.unobservedStatus;this.emitStatusChange(e,e);var n=this.statusAutoruns;if(null!=n){this.statusAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitStatusChange:function(e,n){var t=0;if(null!=this.__cbOnStatusChange&&(t+=this.__cbOnStatusChange.length),null!=this.__cbOnceStatusChange&&(t+=this.__cbOnceStatusChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnStatusChange)for(var l=0,a=this.__cbOnStatusChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnStatusChange[h],++r):--t}if(null!=this.__cbOnceStatusChange){var c=null,o=null;for(l=0,a=this.__cbOnceStatusChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceStatusChange[h],this.__cbOnceStatusChange[h]=null;var u=this.__cbOnceOwnerUnbindStatusChange[h];this.__cbOnceOwnerUnbindStatusChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindStatusChange[h]),o.push(this.__cbOnceStatusChange[h])}this.__cbOnceOwnerUnbindStatusChange=c,this.__cbOnceStatusChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onStatusChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event statusChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStatusChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(null);null==this.__cbOnStatusChange&&(this.__cbOnStatusChange=[]),this.__cbOnStatusChange.push(n)},onceStatusChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event statusChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStatusChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(null);null==this.__cbOnceStatusChange&&(this.__cbOnceStatusChange=[]),this.__cbOnceStatusChange.push(n)},offStatusChange:function(e){if(null!=e){var n;null!=this.__cbOnStatusChange&&-1!=(n=this.__cbOnStatusChange.indexOf(e))&&(this.__cbOnStatusChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindStatusChange[n])&&r(),this.__cbOnOwnerUnbindStatusChange.splice(n,1)),null!=this.__cbOnceStatusChange&&-1!=(n=this.__cbOnceStatusChange.indexOf(e))&&(this.__cbOnceStatusChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindStatusChange[n])&&r(),this.__cbOnceOwnerUnbindStatusChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStatusChange){for(var t=0,i=this.__cbOnOwnerUnbindStatusChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindStatusChange[s])&&r()}this.__cbOnOwnerUnbindStatusChange=null}if(null!=this.__cbOnceOwnerUnbindStatusChange){for(t=0,i=this.__cbOnceOwnerUnbindStatusChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindStatusChange[s])&&r()}this.__cbOnceOwnerUnbindStatusChange=null}this.__cbOnStatusChange=null,this.__cbOnceStatusChange=null}},listensStatusChange:function(){return null!=this.__cbOnStatusChange&&this.__cbOnStatusChange.length>0||null!=this.__cbOnceStatusChange&&this.__cbOnceStatusChange.length>0},get_assets:function(){return null==this._assets&&this._lifecycleState>=0&&(this._assets=new ceramic_Assets),this._assets},set_assets:function(e){return this._assets=e},_boot:function(){if(0==this.get_status())this.set_status(1),this.preload(),this.set_status(2),null!=this._assets&&this._assets.hasAnythingToLoad()?(this._assets.onceComplete(this,$bind(this,this._handleAssetsComplete)),this._assets.load(null,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Scene.hx",lineNumber:65,className:"ceramic.Scene",methodName:"_boot"})):this.load($bind(this,this.internalCreate));else{var e=ceramic_App.app.logger,n=this.get_status();e.warning("Scene already booted! (status: "+(null==n?"null":f.toString(n))+")",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Scene.hx",lineNumber:54,className:"ceramic.Scene",methodName:"_boot"})}},internalCreate:function(){this.set_status(3),this.create(),this.fadeIn($bind(this,this._fadeInDone))},_fadeInDone:function(){},_handleAssetsComplete:function(e){e?this.load($bind(this,this.internalCreate)):ceramic_App.app.logger.error("Failed to load all scene assets!",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Scene.hx",lineNumber:95,className:"ceramic.Scene",methodName:"_handleAssetsComplete"})},willEmitResize:function(e,n){this.resize(e,n)},preload:function(){},load:function(e){e()},create:function(){},ready:function(){},update:function(e){},resize:function(e,n){},_fadeIn:function(e){e()},_fadeOut:function(e){e()},fadeIn:function(e){var n=this;this.set_status(4),this._fadeIn((function(){n.set_status(5),n.ready(),e()}))},fadeOut:function(e){var n=this;this.set_status(6),this._fadeOut((function(){n.set_status(7),e()}))},isReady:function(){switch(this.get_status()){case 0:case 1:case 2:case 3:case 4:return!1;case 5:return!0;case 6:case 7:return!1}},scheduleOnceReady:function(e,n){var t=this;if(this._lifecycleState<0)return ceramic_App.app.logger.warning("Cannot schedule callback on destroyed scene",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Scene.hx",lineNumber:238,className:"ceramic.Scene",methodName:"scheduleOnceReady"}),!1;switch(this.get_status()){case 0:case 1:case 2:case 3:case 4:return this.onceStatusChange(e,(function(i,s){t.scheduleOnceReady(e,n)})),!0;case 5:return n(),!0;case 6:case 7:var i=ceramic_App.app.logger,s=this.get_status();return i.warning("Cannot schedule callback on scene with status: "+(null==s?"null":f.toString(s)),{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Scene.hx",lineNumber:255,className:"ceramic.Scene",methodName:"scheduleOnceReady"}),!1}},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,HxOverrides.remove(ceramic_SceneSystem.get_shared().all,this),null!=this._assets&&(this._assets.destroy(),this._assets=null),this._lifecycleState=-1,ceramic_Layer.prototype.destroy.call(this))},unbindEvents:function(){ceramic_Layer.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offStatusChange()},__class__:ceramic_Scene,__properties__:$extend(ceramic_Layer.prototype.__properties__,{set_assets:"set_assets",get_assets:"get_assets",set_status:"set_status",get_status:"get_status"})});var MainScene=function(){ceramic_Scene.call(this)};t.MainScene=MainScene,MainScene.__name__="MainScene",MainScene.__super__=ceramic_Scene,MainScene.prototype=$extend(ceramic_Scene.prototype,{preload:function(){this.get_assets().add(assets_Images.CERAMIC)},create:function(){var e=this,n=this.get_assets().texture(assets_Images.CERAMIC);if(this.logo=new ceramic_Quad,(s=this.logo).texture!=n)if(null!=s.texture&&(s.texture.offDestroy($bind(s,s.textureDestroyed)),null!=s.texture.asset&&s.texture.asset.release()),s.texture=n,null==n)s.frameX=-1,s.frameY=-1,-1!=s.frameWidth&&(s.frameWidth=-1),-1!=s.frameHeight&&(s.frameHeight=-1);else if(null!=s.tile){s.frameX=s.tile.frameX,s.frameY=s.tile.frameY;var t=s.tile.frameWidth;s.frameWidth!=t&&(s.frameWidth=t,-1!=t&&s.set_width(t));var i=s.tile.frameHeight;s.frameHeight!=i&&(s.frameHeight=i,-1!=i&&s.set_height(i))}else{s.frameX=0,s.frameY=0;t=n.width;s.frameWidth!=t&&(s.frameWidth=t,-1!=t&&s.set_width(t));i=n.height;s.frameHeight!=i&&(s.frameHeight=i,-1!=i&&s.set_height(i)),n.onDestroy(s,$bind(s,s.textureDestroyed)),null!=n.asset&&n.asset.retain()}(s=this.logo).set_anchorX(.5),s.set_anchorY(.5);var s=this.logo,r=.5*this.get_width(),l=.5*this.get_height();s.set_x(r),s.set_y(l),(s=this.logo).set_scaleX(1e-4),s.set_scaleY(1e-4),this.logo.set_alpha(0),this.add(this.logo),this.logo.tween(o.ELASTIC_EASE_IN_OUT,.75,1e-4,1,(function(n,t){e.logo.set_alpha(n);var i=e.logo;i.set_scaleX(n),i.set_scaleY(n)})).onceComplete(this,$bind(this,this.initLogoInteractions));var a=(this.get_width()-200)/3,h=(this.get_height()-40)/1;this.demoShapes(100,70,a,h,1),this.demoShapes2(100+2*a,-50,a,h,1)},demoShapes:function(e,n,t,i,s){var r=new ceramic_Quad;r.set_x(e),r.set_y(n),r.set_width(t),r.set_height(i),r.set_depth(s),r.color=6208345,r.transparent=!0,this.add(r);var l=new ceramic_Quad;l.set_anchorX(.5),l.set_anchorY(.5),l.color=16777215,l.set_rotation(-33),l.set_width(.2*t),l.set_height(.2*i),l.set_x(.25*t),l.set_y(.3*i),l.set_depth(2),r.add(l);var a=new ceramic_Border,c=16777215;a.borderColor!=c&&(a.borderColor=c,a.autoComputeColors&&a.computeColors());var u=h.OUTSIDE;a.borderPosition!=u&&(a.borderPosition=u,a.autoComputeVertices&&a.computeVertices()),2!=a.borderSize&&(a.borderSize=2,a.autoComputeVertices&&a.computeVertices()),a.set_anchorX(.5),a.set_anchorY(.5),a.set_width(0),a.set_height(0),a.set_x(.6*t),a.set_y(.3*i),a.set_depth(5),a.set_transform(new ceramic_Transform),r.add(a);var _=new ceramic_Arc;u=h.OUTSIDE;_.borderPosition!=u&&(_.borderPosition=u,_.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),_.set_thickness(2),_.set_angle(360),_.set_x(.8*t),_.set_y(.4*i),_.set_depth(6),_.set_color(16777215),_.set_transform(a.transform),r.add(_);var d=0,b=0,update=function(e){var n=(d=(d+e)%5)/5,s=.5*(Math.sin(n*Math.PI*2)+1),r=ceramic_Tween.ease(o.QUART_EASE_IN_OUT,s),h=(b=(b+e)%2.5)/2.5,c=.5*(Math.sin(h*Math.PI*2)+1);ceramic_Tween.ease(o.QUART_EASE_IN_OUT,c);l.set_rotation(360*n),a.set_rotation(90*r-20),a.set_width(.22*t*(.5+.5*r)),a.set_height(.12*i*(.5+.5*r)),_.set_radius(t*(.1-.05*r)),_.transform.tx=t*(.04*r),_.transform.changedDirty=!0};ceramic_App.app.onUpdate(this,update),update(0)},demoShapes2:function(e,n,t,i,s){var r=new ceramic_Quad;r.set_x(e),r.set_y(n),r.set_width(t),r.set_height(i),r.set_depth(s),r.color=6208345,r.transparent=!0,this.add(r);var l=new ceramic_Line;l.set_color(16777215),2!=l.thickness&&(l.thickness=2,l.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),l.set_depth(3),l.set_x(.1*t),l.set_y(.5*i);l.points=[],l.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,r.add(l);var a=new ceramic_Arc;a.set_radius(0);var c=h.OUTSIDE;a.borderPosition!=c&&(a.borderPosition=c,a.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),a.set_thickness(.12*t),a.set_x(.75*t),a.set_y(.75*i),a.set_depth(4),a.set_color(16777215),r.add(a);var u=0,_=0,update=function(e){var n=(u=(u+e)%5)/5,s=.5*(Math.sin(n*Math.PI*2)+1),r=ceramic_Tween.ease(o.QUART_EASE_IN_OUT,s),h=(_=(_+e)%2.5)/2.5,c=.5*(Math.sin(h*Math.PI*2)+1),d=ceramic_Tween.ease(o.QUART_EASE_IN_OUT,c);l.points[0]=.1*t*r,l.points[1]=.2*i*r,l.points[2]=.1*t+.1*t*r,l.points[3]=.4*i,l.points[4]=.25*t-.1*t*r,l.points[5]=.1*i,l.points[6]=.4*t-.16*t*r,l.points[7]=.3*i-.01*i*r,l.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,a.set_angle(360*d),a.set_skewX(15+10*s)};ceramic_App.app.onUpdate(this,update),update(0)},initLogoInteractions:function(){var e=this;this.logo.onPointerOver(this,(function(n){ceramic_VisualTransition.transition(e.logo,o.ELASTIC_EASE_OUT,.5,(function(e){m.scale(e,1.2)}))})),this.logo.onPointerOut(this,(function(n){ceramic_VisualTransition.transition(e.logo,o.ELASTIC_EASE_OUT,.5,(function(e){m.scale(e,1)}))}))},update:function(e){},resize:function(e,n){},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Scene.prototype.destroy.call(this))},__class__:MainScene}),Math.__name__="Math";var Project=function(e){ceramic_Entity.call(this),e.settings.antialiasing=2,e.settings.set_background(0),e.settings.set_targetWidth(1024),e.settings.set_targetHeight(320),e.settings.set_scaling(p.FIT),e.settings.resizable=!0,ceramic_App.app.onceReady(this,$bind(this,this.ready))};t.Project=Project,Project.__name__="Project",Project.__super__=ceramic_Entity,Project.prototype=$extend(ceramic_Entity.prototype,{ready:function(){clay_Clay.app.config.runtime.preventDefaultMouseWheel=!1,ceramic_App.app.get_scenes().set_main(new MainScene)},__class__:Project});var Reflect=function(){};t.Reflect=Reflect,Reflect.__name__="Reflect",Reflect.field=function(e,n){try{return e[n]}catch(e){return null}},Reflect.getProperty=function(e,n){var t;return null==e?null:!!e.__properties__&&(t=e.__properties__["get_"+n])?e[t]():e[n]},Reflect.setProperty=function(e,n,t){var i;!!e.__properties__&&(i=e.__properties__["set_"+n])?e[i](t):e[n]=t},Reflect.fields=function(e){var n=[];if(null!=e){var t=Object.prototype.hasOwnProperty;for(var i in e)"__id__"!=i&&"hx__closures__"!=i&&t.call(e,i)&&n.push(i)}return n},Reflect.isFunction=function(e){return"function"==typeof e&&!(e.__name__||e.__ename__)},Reflect.deleteField=function(e,n){return!!Object.prototype.hasOwnProperty.call(e,n)&&(delete e[n],!0)};var Std=function(){};t.Std=Std,Std.__name__="Std",Std.string=function(e){return js_Boot.__string_rec(e,"")},Std.parseInt=function(e){if(null!=e)for(var n=0,t=e.length;n<t;){var i=n++,s=e.charCodeAt(i);if(s<=8||s>=14&&32!=s&&45!=s){var r=e.charCodeAt(i+1),l=parseInt(e,120==r||88==r?16:10);return isNaN(l)?null:l}}return null};var StringBuf=function(){this.b=""};t.StringBuf=StringBuf,StringBuf.__name__="StringBuf",StringBuf.prototype={__class__:StringBuf};var StringTools=function(){};t.StringTools=StringTools,StringTools.__name__="StringTools",StringTools.htmlEscape=function(e,n){for(var t="",i=0,s=e;i<s.length;){var r=i++,l=(e=s).charCodeAt(r);l>=55296&&l<=56319&&(l=l-55232<<10|1023&e.charCodeAt(r+1));l>=65536&&++i;var a=l;switch(a){case 34:t+=n?"&quot;":String.fromCodePoint(a);break;case 38:t+="&amp;";break;case 39:t+=n?"&#039;":String.fromCodePoint(a);break;case 60:t+="&lt;";break;case 62:t+="&gt;";break;default:t+=String.fromCodePoint(a)}}return t},StringTools.startsWith=function(e,n){return e.length>=n.length&&0==e.lastIndexOf(n,0)},StringTools.endsWith=function(e,n){var t=n.length,i=e.length;return i>=t&&e.indexOf(n,i-t)==i-t},StringTools.isSpace=function(e,n){var t=HxOverrides.cca(e,n);return t>8&&t<14||32==t},StringTools.ltrim=function(e){for(var n=e.length,t=0;t<n&&StringTools.isSpace(e,t);)++t;return t>0?HxOverrides.substr(e,t,n-t):e},StringTools.rtrim=function(e){for(var n=e.length,t=0;t<n&&StringTools.isSpace(e,n-t-1);)++t;return t>0?HxOverrides.substr(e,0,n-t):e},StringTools.trim=function(e){return StringTools.ltrim(StringTools.rtrim(e))},StringTools.replace=function(e,n,t){return e.split(n).join(t)},StringTools.hex=function(e,n){for(var t="";t="0123456789ABCDEF".charAt(15&e)+t,(e>>>=4)>0;);if(null!=n)for(;t.length<n;)t="0"+t;return t};var s=i.ValueType={__ename__:"ValueType",__constructs__:null,TNull:{_hx_name:"TNull",_hx_index:0,__enum__:"ValueType",toString:$estr},TInt:{_hx_name:"TInt",_hx_index:1,__enum__:"ValueType",toString:$estr},TFloat:{_hx_name:"TFloat",_hx_index:2,__enum__:"ValueType",toString:$estr},TBool:{_hx_name:"TBool",_hx_index:3,__enum__:"ValueType",toString:$estr},TObject:{_hx_name:"TObject",_hx_index:4,__enum__:"ValueType",toString:$estr},TFunction:{_hx_name:"TFunction",_hx_index:5,__enum__:"ValueType",toString:$estr},TClass:(n=function(e){return{_hx_index:6,c:e,__enum__:"ValueType",toString:$estr}},n._hx_name="TClass",n.__params__=["c"],n),TEnum:(n=function(e){return{_hx_index:7,e:e,__enum__:"ValueType",toString:$estr}},n._hx_name="TEnum",n.__params__=["e"],n),TUnknown:{_hx_name:"TUnknown",_hx_index:8,__enum__:"ValueType",toString:$estr}};s.__constructs__=[s.TNull,s.TInt,s.TFloat,s.TBool,s.TObject,s.TFunction,s.TClass,s.TEnum,s.TUnknown];var Type=function(){};t.Type=Type,Type.__name__="Type",Type.createInstance=function(e,n){return new(Function.prototype.bind.apply(e,[null].concat(n)))},Type.createEnum=function(e,n,t){var i=Reflect.field(e,n);if(null==i)throw haxe_Exception.thrown("No such constructor "+n);if(Reflect.isFunction(i)){if(null==t)throw haxe_Exception.thrown("Constructor "+n+" need parameters");return i.apply(e,t)}if(null!=t&&0!=t.length)throw haxe_Exception.thrown("Constructor "+n+" does not need parameters");return i},Type.typeof=function(e){switch(typeof e){case"boolean":return s.TBool;case"function":return e.__name__||e.__ename__?s.TObject:s.TFunction;case"number":return Math.ceil(e)==e%2147483648?s.TInt:s.TFloat;case"object":if(null==e)return s.TNull;var n=e.__enum__;if(null!=n)return s.TEnum(i[n]);var t=js_Boot.getClass(e);return null!=t?s.TClass(t):s.TObject;case"string":return s.TClass(String);case"undefined":return s.TNull;default:return s.TUnknown}},Type.enumParameters=function(e){var n=i[e.__enum__].__constructs__[e._hx_index].__params__;if(null!=n){for(var t=[],s=0;s<n.length;){var r=n[s];++s,t.push(e[r])}return t}return[]};var r={toString:function(e){switch(e){case 0:return"Element";case 1:return"PCData";case 2:return"CData";case 3:return"Comment";case 4:return"DocType";case 5:return"ProcessingInstruction";case 6:return"Document"}}},Xml=function(e){this.nodeType=e,this.children=[],this.attributeMap=new haxe_ds_StringMap};t.Xml=Xml,Xml.__name__="Xml",Xml.parse=function(e){return haxe_xml_Parser.parse(e)},Xml.createElement=function(e){var n=new Xml(Xml.Element);if(n.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==n.nodeType?"null":r.toString(n.nodeType)));return n.nodeName=e,n},Xml.createPCData=function(e){var n=new Xml(Xml.PCData);if(n.nodeType==Xml.Document||n.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":r.toString(n.nodeType)));return n.nodeValue=e,n},Xml.createCData=function(e){var n=new Xml(Xml.CData);if(n.nodeType==Xml.Document||n.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":r.toString(n.nodeType)));return n.nodeValue=e,n},Xml.createComment=function(e){var n=new Xml(Xml.Comment);if(n.nodeType==Xml.Document||n.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":r.toString(n.nodeType)));return n.nodeValue=e,n},Xml.createDocType=function(e){var n=new Xml(Xml.DocType);if(n.nodeType==Xml.Document||n.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":r.toString(n.nodeType)));return n.nodeValue=e,n},Xml.createProcessingInstruction=function(e){var n=new Xml(Xml.ProcessingInstruction);if(n.nodeType==Xml.Document||n.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":r.toString(n.nodeType)));return n.nodeValue=e,n},Xml.createDocument=function(){return new Xml(Xml.Document)},Xml.prototype={get:function(e){if(this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));return this.attributeMap.h[e]},set:function(e,n){if(this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));this.attributeMap.h[e]=n},exists:function(e){if(this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));return Object.prototype.hasOwnProperty.call(this.attributeMap.h,e)},attributes:function(){if(this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));return new haxe_ds__$StringMap_StringMapKeyIterator(this.attributeMap.h)},elements:function(){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));for(var e=[],n=0,t=this.children;n<t.length;){var i=t[n];++n,i.nodeType==Xml.Element&&e.push(i)}return new haxe_iterators_ArrayIterator(e)},elementsNamed:function(e){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));for(var n=[],t=0,i=this.children;t<i.length;){var s,l=i[t];if(++t,l.nodeType==Xml.Element){if(l.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==l.nodeType?"null":r.toString(l.nodeType)));s=l.nodeName==e}else s=!1;s&&n.push(l)}return new haxe_iterators_ArrayIterator(n)},firstElement:function(){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));for(var e=0,n=this.children;e<n.length;){var t=n[e];if(++e,t.nodeType==Xml.Element)return t}return null},addChild:function(e){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));null!=e.parent&&e.parent.removeChild(e),this.children.push(e),e.parent=this},removeChild:function(e){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));return!!HxOverrides.remove(this.children,e)&&(e.parent=null,!0)},toString:function(){return haxe_xml_Printer.print(this)},__class__:Xml};var ceramic_Assets=function(){this.hotReload=!1,this.parent=null,this.delayBetweenXAssets=-1,this.scheduleMethod=1,this.loadMethod=2,this.defaultImageOptions=null,this.runtimeAssets=null,this.immediate=new ceramic_Immediate,this.assetsByKindAndName=new haxe_ds_StringMap,this.addedAssets=[],ceramic_Entity.call(this),ceramic_Assets.instances.push(this)};t["ceramic.Assets"]=ceramic_Assets,ceramic_Assets.__name__="ceramic.Assets",ceramic_Assets.flushAllInstancesImmediate=function(){for(var e=ceramic_Assets.instances.length,n=0,t=e;n<t;){var i=n++;ceramic_Assets._instances[i]=ceramic_Assets.instances[i]}for(n=0,t=e;n<t;){i=n++;var s=ceramic_Assets._instances[i];ceramic_Assets._instances[i]=null,s._lifecycleState>=0&&s.immediate.flush()}},ceramic_Assets.decodePath=function(e){return new ceramic_AssetPathInfo(e)},ceramic_Assets.addAssetKind=function(e,n,t,i,s){var r=ceramic_Assets.customAssetKinds,l=new ceramic_CustomAssetKind(e,n,t,i,s);r.h[e]=l},ceramic_Assets.assetNameFromPath=function(e){for(var n=ceramic_Assets.allByName.h,t=Object.keys(n),i=t.length,s=0;s<i;)for(var r=t[s++],l=ceramic_Assets.allByName.h[r],a=0,h=l.length;a<h;){if(l[a++]==e)return r}return null},ceramic_Assets.realAssetPath=function(e,n){if(null!=n)return null!=n.path?ceramic_Path.join([n.path,e]):e;return e},ceramic_Assets.incrementReloadCount=function(e){null==ceramic_Assets.reloadCountByRealAssetPath&&(ceramic_Assets.reloadCountByRealAssetPath=new haxe_ds_StringMap),Object.prototype.hasOwnProperty.call(ceramic_Assets.reloadCountByRealAssetPath.h,e)?ceramic_Assets.reloadCountByRealAssetPath.h[e]+=1:ceramic_Assets.reloadCountByRealAssetPath.h[e]=1},ceramic_Assets.getReloadCount=function(e){return null!=ceramic_Assets.reloadCountByRealAssetPath&&Object.prototype.hasOwnProperty.call(ceramic_Assets.reloadCountByRealAssetPath.h,e)?ceramic_Assets.reloadCountByRealAssetPath.h[e]:0},ceramic_Assets.__super__=ceramic_Entity,ceramic_Assets.prototype=$extend(ceramic_Entity.prototype,{emitComplete:function(e){var n=0;if(null!=this.__cbOnComplete&&(n+=this.__cbOnComplete.length),null!=this.__cbOnceComplete&&(n+=this.__cbOnceComplete.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnComplete)for(var r=0,l=this.__cbOnComplete.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnComplete[a],++s):--n}if(null!=this.__cbOnceComplete){var h=null,c=null;for(r=0,l=this.__cbOnceComplete.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceComplete[a],this.__cbOnceComplete[a]=null;var o=this.__cbOnceOwnerUnbindComplete[a];this.__cbOnceOwnerUnbindComplete[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindComplete[a]),c.push(this.__cbOnceComplete[a])}this.__cbOnceOwnerUnbindComplete=h,this.__cbOnceComplete=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onComplete:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event complete because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offComplete(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(null);null==this.__cbOnComplete&&(this.__cbOnComplete=[]),this.__cbOnComplete.push(n)},onceComplete:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event complete because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offComplete(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(null);null==this.__cbOnceComplete&&(this.__cbOnceComplete=[]),this.__cbOnceComplete.push(n)},offComplete:function(e){if(null!=e){var n;null!=this.__cbOnComplete&&-1!=(n=this.__cbOnComplete.indexOf(e))&&(this.__cbOnComplete.splice(n,1),null!=(r=this.__cbOnOwnerUnbindComplete[n])&&r(),this.__cbOnOwnerUnbindComplete.splice(n,1)),null!=this.__cbOnceComplete&&-1!=(n=this.__cbOnceComplete.indexOf(e))&&(this.__cbOnceComplete.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindComplete[n])&&r(),this.__cbOnceOwnerUnbindComplete.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComplete){for(var t=0,i=this.__cbOnOwnerUnbindComplete.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindComplete[s])&&r()}this.__cbOnOwnerUnbindComplete=null}if(null!=this.__cbOnceOwnerUnbindComplete){for(t=0,i=this.__cbOnceOwnerUnbindComplete.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindComplete[s])&&r()}this.__cbOnceOwnerUnbindComplete=null}this.__cbOnComplete=null,this.__cbOnceComplete=null}},listensComplete:function(){return null!=this.__cbOnComplete&&this.__cbOnComplete.length>0||null!=this.__cbOnceComplete&&this.__cbOnceComplete.length>0},emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnUpdate)for(var r=0,l=this.__cbOnUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnUpdate[a],++s):--n}if(null!=this.__cbOnceUpdate){var h=null,c=null;for(r=0,l=this.__cbOnceUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceUpdate[a],this.__cbOnceUpdate[a]=null;var o=this.__cbOnceOwnerUnbindUpdate[a];this.__cbOnceOwnerUnbindUpdate[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindUpdate[a]),c.push(this.__cbOnceUpdate[a])}this.__cbOnceOwnerUnbindUpdate=h,this.__cbOnceUpdate=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(n)},onceUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(n)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdate[n])&&r(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdate[n])&&r(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindUpdate[s])&&r()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindUpdate[s])&&r()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&this.__cbOnUpdate.length>0||null!=this.__cbOnceUpdate&&this.__cbOnceUpdate.length>0},emitProgress:function(e,n,t){var i=0;if(null!=this.__cbOnProgress&&(i+=this.__cbOnProgress.length),null!=this.__cbOnceProgress&&(i+=this.__cbOnceProgress.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnProgress)for(var a=0,h=this.__cbOnProgress.length;a<h;){var c=a++;!0?(r.vector[l]=this.__cbOnProgress[c],++l):--i}if(null!=this.__cbOnceProgress){var o=null,u=null;for(a=0,h=this.__cbOnceProgress.length;a<h;){c=a++;if(!0){r.vector[l]=this.__cbOnceProgress[c],this.__cbOnceProgress[c]=null;var _=this.__cbOnceOwnerUnbindProgress[c];this.__cbOnceOwnerUnbindProgress[c]=null,null!=_&&_(),++l}else--i,null==o&&(o=[],u=[],[]),o.push(this.__cbOnceOwnerUnbindProgress[c]),u.push(this.__cbOnceProgress[c])}this.__cbOnceOwnerUnbindProgress=o,this.__cbOnceProgress=u}for(a=0,h=i;a<h;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onProgress:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event progress because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offProgress(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindProgress&&(this.__cbOnOwnerUnbindProgress=[]),this.__cbOnOwnerUnbindProgress.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindProgress&&(this.__cbOnOwnerUnbindProgress=[]),this.__cbOnOwnerUnbindProgress.push(null);null==this.__cbOnProgress&&(this.__cbOnProgress=[]),this.__cbOnProgress.push(n)},onceProgress:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event progress because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offProgress(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindProgress&&(this.__cbOnceOwnerUnbindProgress=[]),this.__cbOnceOwnerUnbindProgress.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindProgress&&(this.__cbOnceOwnerUnbindProgress=[]),this.__cbOnceOwnerUnbindProgress.push(null);null==this.__cbOnceProgress&&(this.__cbOnceProgress=[]),this.__cbOnceProgress.push(n)},offProgress:function(e){if(null!=e){var n;null!=this.__cbOnProgress&&-1!=(n=this.__cbOnProgress.indexOf(e))&&(this.__cbOnProgress.splice(n,1),null!=(r=this.__cbOnOwnerUnbindProgress[n])&&r(),this.__cbOnOwnerUnbindProgress.splice(n,1)),null!=this.__cbOnceProgress&&-1!=(n=this.__cbOnceProgress.indexOf(e))&&(this.__cbOnceProgress.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindProgress[n])&&r(),this.__cbOnceOwnerUnbindProgress.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindProgress){for(var t=0,i=this.__cbOnOwnerUnbindProgress.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindProgress[s])&&r()}this.__cbOnOwnerUnbindProgress=null}if(null!=this.__cbOnceOwnerUnbindProgress){for(t=0,i=this.__cbOnceOwnerUnbindProgress.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindProgress[s])&&r()}this.__cbOnceOwnerUnbindProgress=null}this.__cbOnProgress=null,this.__cbOnceProgress=null}},listensProgress:function(){return null!=this.__cbOnProgress&&this.__cbOnProgress.length>0||null!=this.__cbOnceProgress&&this.__cbOnceProgress.length>0},emitAssetFilesChange:function(e,n){var t=0;if(null!=this.__cbOnAssetFilesChange&&(t+=this.__cbOnAssetFilesChange.length),null!=this.__cbOnceAssetFilesChange&&(t+=this.__cbOnceAssetFilesChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnAssetFilesChange)for(var l=0,a=this.__cbOnAssetFilesChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnAssetFilesChange[h],++r):--t}if(null!=this.__cbOnceAssetFilesChange){var c=null,o=null;for(l=0,a=this.__cbOnceAssetFilesChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceAssetFilesChange[h],this.__cbOnceAssetFilesChange[h]=null;var u=this.__cbOnceOwnerUnbindAssetFilesChange[h];this.__cbOnceOwnerUnbindAssetFilesChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindAssetFilesChange[h]),o.push(this.__cbOnceAssetFilesChange[h])}this.__cbOnceOwnerUnbindAssetFilesChange=c,this.__cbOnceAssetFilesChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onAssetFilesChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event assetFilesChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offAssetFilesChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindAssetFilesChange&&(this.__cbOnOwnerUnbindAssetFilesChange=[]),this.__cbOnOwnerUnbindAssetFilesChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindAssetFilesChange&&(this.__cbOnOwnerUnbindAssetFilesChange=[]),this.__cbOnOwnerUnbindAssetFilesChange.push(null);null==this.__cbOnAssetFilesChange&&(this.__cbOnAssetFilesChange=[]),this.__cbOnAssetFilesChange.push(n)},onceAssetFilesChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event assetFilesChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offAssetFilesChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindAssetFilesChange&&(this.__cbOnceOwnerUnbindAssetFilesChange=[]),this.__cbOnceOwnerUnbindAssetFilesChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindAssetFilesChange&&(this.__cbOnceOwnerUnbindAssetFilesChange=[]),this.__cbOnceOwnerUnbindAssetFilesChange.push(null);null==this.__cbOnceAssetFilesChange&&(this.__cbOnceAssetFilesChange=[]),this.__cbOnceAssetFilesChange.push(n)},offAssetFilesChange:function(e){if(null!=e){var n;null!=this.__cbOnAssetFilesChange&&-1!=(n=this.__cbOnAssetFilesChange.indexOf(e))&&(this.__cbOnAssetFilesChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindAssetFilesChange[n])&&r(),this.__cbOnOwnerUnbindAssetFilesChange.splice(n,1)),null!=this.__cbOnceAssetFilesChange&&-1!=(n=this.__cbOnceAssetFilesChange.indexOf(e))&&(this.__cbOnceAssetFilesChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindAssetFilesChange[n])&&r(),this.__cbOnceOwnerUnbindAssetFilesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAssetFilesChange){for(var t=0,i=this.__cbOnOwnerUnbindAssetFilesChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindAssetFilesChange[s])&&r()}this.__cbOnOwnerUnbindAssetFilesChange=null}if(null!=this.__cbOnceOwnerUnbindAssetFilesChange){for(t=0,i=this.__cbOnceOwnerUnbindAssetFilesChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindAssetFilesChange[s])&&r()}this.__cbOnceOwnerUnbindAssetFilesChange=null}this.__cbOnAssetFilesChange=null,this.__cbOnceAssetFilesChange=null}},listensAssetFilesChange:function(){return null!=this.__cbOnAssetFilesChange&&this.__cbOnAssetFilesChange.length>0||null!=this.__cbOnceAssetFilesChange&&this.__cbOnceAssetFilesChange.length>0},destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),HxOverrides.remove(ceramic_Assets.instances,this);for(var e=0,n=[].concat(this.addedAssets);e<n.length;){var t=n[e];++e,t.offDestroy($bind(this,this.assetDestroyed)),t.destroy()}this.addedAssets=null,this.assetsByKindAndName=null}},flush:function(){for(var e=0,n=[].concat(this.addedAssets);e<n.length;){var t=n[e];++e,0==t.refCount&&t.destroy()}},add:function(e,n){var t="string"==typeof e?e:Reflect.field(e,"_id"),i=t.indexOf(":");if(-1==i)throw haxe_Exception.thrown("Assets: invalid asset id: "+e);var s=HxOverrides.substr(t,0,i),r=HxOverrides.substr(t,i+1,null);switch(s){case"binary":this.addBinary(r,n);break;case"database":this.addDatabase(r,n);break;case"font":this.addFont(r,n);break;case"fragments":this.addFragments(r,n);break;case"image":this.addImage(r,n);break;case"shader":this.addShader(r,n);break;case"sound":this.addSound(r,n);break;case"text":this.addText(r,n);break;default:if(!Object.prototype.hasOwnProperty.call(ceramic_Assets.customAssetKinds.h,s))throw haxe_Exception.thrown("Assets: invalid asset kind ("+s+") for id: "+e);ceramic_Assets.customAssetKinds.h[s].add(this,r,n)}},addAll:function(e){ceramic_App.app.backend.info;for(var n=["png","jpg","jpeg"],t=["txt","json","fnt"],i=["ogg","wav"],s=["frag","vert"],r=["fnt"],l=["csv"],a=["fragments"],h=[],c=[],o=p=ceramic_Assets.customAssetKinds.h,u=Object.keys(p),_=u.length,d=0;d<_;){var b=o[u[d++]];h.push(b.extensions),c.push(b.add)}var f=ceramic_Assets.allByName;null!=this.runtimeAssets&&(f=this.runtimeAssets.getLists().allByName);for(var p,O=p=f.h,g=Object.keys(p),m=g.length,w=0;w<m;){var v=g[w++],y=v,U=O[v];if(null!=e){for(var x=!1,C=0,D=U.length;C<D;){var T=C++;if(e.match(U[T])){x=!0;break}}if(!x)continue}for(var E=ceramic_Path.extension(U[0]),S=!1,A=0,M=n.length;A<M;){if(n[A++]==E){this.addImage(y),S=!0;break}}if(!S)for(var F=0,P=t.length;F<P;){if(t[F++]==E){this.addText(y),S=!0;break}}if(!S)for(var R=0,I=i.length;R<I;){if(i[R++]==E){this.addSound(y),S=!0;break}}if(!S)for(var k=0,B=s.length;k<B;){if(s[k++]==E){this.addShader(y),S=!0;break}}if(!S)for(var L=0,N=r.length;L<N;){if(r[L++]==E){this.addFont(y),S=!0;break}}if(!S)for(var W=0,K=l.length;W<K;){if(l[W++]==E){this.addDatabase(y),S=!0;break}}if(!S)for(var G=0,Y=a.length;G<Y;){if(a[G++]==E){this.addFragments(y),S=!0;break}}if(!S)for(var X=0,V=h.length;X<V;){for(var H=X++,z=h[H],j=0,$=z.length;j<$;){if(z[j++]==E){(0,c[H])(this,y),S=!0;break}}if(S)break}}},addImage:function(e,n){StringTools.startsWith(e,"image:")&&(e=HxOverrides.substr(e,6,null)),this.addAsset(new ceramic_ImageAsset(e,n))},addFont:function(e,n){StringTools.startsWith(e,"font:")&&(e=HxOverrides.substr(e,5,null)),this.addAsset(new ceramic_FontAsset(e,n))},addText:function(e,n){StringTools.startsWith(e,"text:")&&(e=HxOverrides.substr(e,5,null)),this.addAsset(new ceramic_TextAsset(e,n))},addBinary:function(e,n){StringTools.startsWith(e,"binary:")&&(e=HxOverrides.substr(e,7,null)),this.addAsset(new ceramic_BinaryAsset(e,n))},addSound:function(e,n){StringTools.startsWith(e,"sound:")&&(e=HxOverrides.substr(e,6,null)),this.addAsset(new ceramic_SoundAsset(e,n))},addDatabase:function(e,n){StringTools.startsWith(e,"database:")&&(e=HxOverrides.substr(e,9,null)),this.addAsset(new ceramic_DatabaseAsset(e,n))},addFragments:function(e,n){StringTools.startsWith(e,"fragments:")&&(e=HxOverrides.substr(e,10,null)),this.addAsset(new ceramic_FragmentsAsset(e,n))},addShader:function(e,n){StringTools.startsWith(e,"shader:")&&(e=HxOverrides.substr(e,7,null)),this.addAsset(new ceramic_ShaderAsset(e,n))},addAsset:function(e){if(!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,e.kind)){var n=this.assetsByKindAndName,t=e.kind,i=new haxe_ds_StringMap;n.h[t]=i}var s=this.assetsByKindAndName.h[e.kind];e instanceof ceramic_ImageAsset&&(e.defaultImageOptions=this.defaultImageOptions);var r=s.h[e.name];if(null!=r){if(r==e)return ceramic_App.app.logger.warning("Cannot add asset "+Std.string(e)+" because it is already added for name: "+e.name+".",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Assets.hx",lineNumber:363,className:"ceramic.Assets",methodName:"addAsset"}),r;ceramic_App.app.logger.info("Replace "+Std.string(r)+" with "+Std.string(e),{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Assets.hx",lineNumber:360,className:"ceramic.Assets",methodName:"addAsset"}),this.removeAsset(r)}return e.onDestroy(this,$bind(this,this.assetDestroyed)),s.h[e.name]=e,null!=e.owner&&e.owner!=this&&e.owner.removeAsset(e),this.addedAssets.push(e),e.owner=this,e.set_runtimeAssets(this.runtimeAssets),e.set_hotReload(this.hotReload),r},assetDestroyed:function(e){for(var n=null,t=0,i=this.addedAssets;t<i.length;){var s=i[t];++t,s._lifecycleState<0&&(null==n&&(n=[]),n.push(s))}if(null!=n)for(t=0;t<n.length;){s=n[t];++t,this.removeAsset(s)}},imageAsset:function(e){return this.asset(e,"image")},fontAsset:function(e){return this.asset(e,"font")},textAsset:function(e){return this.asset(e,"text")},soundAsset:function(e){return this.asset(e,"sound")},databaseAsset:function(e){return this.asset(e,"database")},fragmentsAsset:function(e){return this.asset(e,"fragments")},shaderAsset:function(e){return this.asset(e,"shader")},asset:function(e,n){var t="string"==typeof e?e:Reflect.field(e,"_id"),i=t.indexOf(":"),s=t;if(-1!=i&&(s=t.substring(i+1),n=t.substring(0,i)),null==n)return null!=this.parent?this.parent.asset(e,n):null;var r=this.assetsByKindAndName.h[n];return null==r?null!=this.parent?this.parent.asset(e,n):null:r.h[s]},removeAsset:function(e){e.offDestroy($bind(this,this.assetDestroyed));var n=this.assetsByKindAndName.h[e.kind];if(e!=n.h[e.name])throw haxe_Exception.thrown("Cannot remove asset "+Std.string(e)+" if it was not added at the first place.");HxOverrides.remove(this.addedAssets,e);var t=e.name;Object.prototype.hasOwnProperty.call(n.h,t)&&delete n.h[t],e.owner=null},hasAnythingToLoad:function(){for(var e=0,n=this.addedAssets.length;e<n;){var t=e++;if(this.addedAssets[t].get_status()==a.NONE)return!0}return!1},load:function(e,n){null==e&&(e=!0);for(var t=this,i=0,s=0,r=!0,l=0,h=this.addedAssets;l<h.length;){var c=[h[l]];++l,c[0].get_status()==a.NONE&&(c[0].onceComplete(this,function(e){return function(l){l||(r=!1,ceramic_App.app.logger.error("Failed to load asset "+e[0].name+" ("+Std.string(e[0])+")",n)),s-=1,t.emitProgress(i-s,i,r),0==s&&t.emitComplete(r)}}(c)),s+=1,i+=1)}if(s>0)if(2==this.scheduleMethod){var o=[];for(l=0,h=this.addedAssets;l<h.length;){var u=h[l];++l,u.get_status()==a.NONE&&o.push(u)}this._loadNextSerial(o,0),this.immediate.flush()}else{if(this.delayBetweenXAssets>0){for(o=[],l=0,h=this.addedAssets;l<h.length;){u=h[l];++l,u.get_status()==a.NONE&&o.push(u)}this._loadNextParallel(o,0)}else for(l=0,h=this.addedAssets;l<h.length;){u=h[l];++l,u.get_status()==a.NONE&&u.load()}this.immediate.flush()}else e&&ceramic_App.app.logger.warning("There was no asset to load.",n),this.emitComplete(!0)},_loadNextSerial:function(e,n){var t=this,i=e.shift();i.get_status()==a.NONE?(i.load(),i.onceComplete(this,(function(i){t._assetCompleteSerial(i,e,n)}))):e.length>0&&this._loadNextSerial(e,n)},_assetCompleteSerial:function(e,n,t){var i=this;t+=1,n.length>0&&(this.delayBetweenXAssets>0&&t>0&&t%this.delayBetweenXAssets==0?ceramic_App.app.onceXUpdates(this,2,(function(){i._loadNextSerial(n,t)})):this._loadNextSerial(n,t))},_loadNextParallel:function(e,n){var t=this;e.length>0&&((n+=1)>1&&n%this.delayBetweenXAssets==0?ceramic_App.app.onceXUpdates(this,2,(function(){e.shift().load(),t._loadNextParallel(e,n)})):(e.shift().load(),this._loadNextParallel(e,n)))},ensure:function(e,n,t){var i=this.asset(e),s=null;null==i?(this.add(e,n),s=this.asset(e)):s=i,null!=s?s.get_status()==a.READY?t(s):s.get_status()==a.LOADING||s.get_status()==a.NONE?(s.onceComplete(null,(function(e){t(e?s:null)})),s.get_status()==a.NONE&&this.load(null,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Assets.hx",lineNumber:675,className:"ceramic.Assets",methodName:"ensure"})):t(null):t(null)},ensureImage:function(e,n,t){var i=e;StringTools.startsWith(i,"image:")||(i="image:"+i),this.ensure(i,n,(function(e){t(e instanceof ceramic_ImageAsset?e:null)}))},ensureFont:function(e,n,t){var i=e;StringTools.startsWith(i,"font:")||(i="font:"+i),this.ensure(i,n,(function(e){t(e instanceof ceramic_FontAsset?e:null)}))},ensureText:function(e,n,t){var i=e;StringTools.startsWith(i,"text:")||(i="text:"+i),this.ensure(i,n,(function(e){t(e instanceof ceramic_TextAsset?e:null)}))},ensureSound:function(e,n,t){var i=e;StringTools.startsWith(i,"sound:")||(i="sound:"+i),this.ensure(i,n,(function(e){t(e instanceof ceramic_SoundAsset?e:null)}))},ensureDatabase:function(e,n,t){var i=e;StringTools.startsWith(i,"database:")||(i="database:"+i),this.ensure(i,n,(function(e){t(e instanceof ceramic_DatabaseAsset?e:null)}))},ensureShader:function(e,n,t){var i=e;StringTools.startsWith(i,"shader:")||(i="shader:"+i),this.ensure(i,n,(function(e){t(e instanceof ceramic_ShaderAsset?e:null)}))},texture:function(e){var n=e;if(StringTools.startsWith(n,"image:")&&(n=HxOverrides.substr(n,6,null)),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"image"))return null!=this.parent?this.parent.texture(e):null;var t=this.assetsByKindAndName.h.image.h[n];return null==t?null!=this.parent?this.parent.texture(e):null:t.get_texture()},font:function(e){var n=e;if(StringTools.startsWith(n,"font:")&&(n=HxOverrides.substr(n,5,null)),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"font"))return null!=this.parent?this.parent.font(e):null;var t=this.assetsByKindAndName.h.font.h[n];return null==t?null!=this.parent?this.parent.font(e):null:t.get_font()},sound:function(e){var n=e;if(StringTools.startsWith(n,"sound:")&&(n=HxOverrides.substr(n,6,null)),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"sound"))return null!=this.parent?this.parent.sound(e):null;var t=this.assetsByKindAndName.h.sound.h[n];return null==t?null!=this.parent?this.parent.sound(e):null:t.get_sound()},text:function(e){var n=e;if(StringTools.startsWith(n,"text:")&&(n=HxOverrides.substr(n,5,null)),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"text"))return null!=this.parent?this.parent.text(e):null;var t=this.assetsByKindAndName.h.text.h[n];return null==t?null!=this.parent?this.parent.text(e):null:t.get_text()},bytes:function(e){var n=e;if(StringTools.startsWith(n,"binary:")&&(n=HxOverrides.substr(n,7,null)),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"binary"))return null!=this.parent?this.parent.bytes(e):null;var t=this.assetsByKindAndName.h.binary.h[n];return null==t?null!=this.parent?this.parent.bytes(e):null:t.get_bytes()},shader:function(e){var n=e;if(StringTools.startsWith(n,"shader:")&&(n=HxOverrides.substr(n,7,null)),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"shader"))return null!=this.parent?this.parent.shader(e):null;var t=this.assetsByKindAndName.h.shader.h[n];return null==t?null!=this.parent?this.parent.shader(e):null:t.shader},database:function(e){var n=e;if(StringTools.startsWith(n,"database:")&&(n=HxOverrides.substr(n,9,null)),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"database"))return null!=this.parent?this.parent.database(e):null;var t=this.assetsByKindAndName.h.database.h[n];return null==t?null!=this.parent?this.parent.database(e):null:t.get_database()},fragments:function(e){var n=e;if(StringTools.startsWith(n,"fragments:")&&(n=HxOverrides.substr(n,10,null)),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"fragments"))return null!=this.parent?this.parent.fragments(e):null;var t=this.assetsByKindAndName.h.fragments.h[n];return null==t?null!=this.parent?this.parent.fragments(e):null:t.get_fragments()},iterator:function(){for(var e=[],n=r=this.assetsByKindAndName.h,t=Object.keys(r),i=t.length,s=0;s<i;)for(var r,l=r=n[t[s++]].h,a=Object.keys(r),h=a.length,c=0;c<h;){var o=l[a[c++]];e.push(o)}return new haxe_iterators_ArrayIterator(e)},set_hotReload:function(e){if(this.hotReload==e)return e;this.hotReload=e;for(var n=0,t=this.addedAssets;n<t.length;){var i=t[n];++n,i.set_hotReload(e)}return e},watchDirectory:function(e,n){null==n&&(n=!0);var t=this;if(null!=this.runtimeAssets)throw haxe_Exception.thrown("There is already an instance of RuntimeAssets assigned. Cannot watch a directory, which also need its own instance");if(null==e)throw haxe_Exception.thrown("Cannot watch directory when using web target! (unless using electron runner and `ceramic_use_electron` define)");n&&this.set_hotReload(n),this.runtimeAssets=ceramic_RuntimeAssets.fromPath(e);var i=new ceramic_WatchDirectory;return i.watchDirectory(e),i.onDirectoryChange(this,(function(n,i,s){if(null==t.runtimeAssets?ceramic_App.app.logger.warning("Missing instance of RuntimeAssets when watched directory changed (path: "+e+")",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Assets.hx",lineNumber:929,className:"ceramic.Assets",methodName:"watchDirectory"}):t.runtimeAssets.reset(ceramic_Files.getFlatDirectory(e),e),null==ceramic_Assets.lastModifiedByRealAssetPath){ceramic_Assets.lastModifiedByRealAssetPath=new haxe_ds_StringMap;for(var r=u=s.h,l=(_=Object.keys(u)).length,a=0;a<l;){var h=b=_[a++],c=r[b],o=ceramic_Assets.realAssetPath(h,t.runtimeAssets);ceramic_Assets.lastModifiedByRealAssetPath.h[o]=c}}var u,_,d=new haxe_ds_StringMap;for(r=u=i.h,l=(_=Object.keys(u)).length,a=0;a<l;){var b;h=b=_[a++],c=r[b],o=ceramic_Assets.realAssetPath(h,t.runtimeAssets);d.h[o]=c,Object.prototype.hasOwnProperty.call(ceramic_Assets.lastModifiedByRealAssetPath.h,o)&&c>ceramic_Assets.lastModifiedByRealAssetPath.h[o]&&ceramic_Assets.incrementReloadCount(o)}ceramic_Assets.lastModifiedByRealAssetPath=d,t.emitAssetFilesChange(i,s)})),this.onDestroy(i,(function(e){i.destroy()})),i},inheritRuntimeAssetsFromAssets:function(e){this.runtimeAssets=e.runtimeAssets,this.defaultImageOptions=e.defaultImageOptions},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offComplete(),this.offUpdate(),this.offProgress(),this.offAssetFilesChange()},__class__:ceramic_Assets,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_hotReload:"set_hotReload"})});var assets_AllAssets=function(){};t["assets.AllAssets"]=assets_AllAssets,assets_AllAssets.__name__="assets.AllAssets",assets_AllAssets.bind=function(){ceramic_Assets.all=assets_AllAssets.all,ceramic_Assets.allDirs=assets_AllAssets.allDirs,ceramic_Assets.allDirsByName=assets_AllAssets.allDirsByName,ceramic_Assets.allByName=assets_AllAssets.allByName};var assets_Images=function(){};t["assets.Images"]=assets_Images,assets_Images.__name__="assets.Images";var spec_Audio=function(){};t["spec.Audio"]=spec_Audio,spec_Audio.__name__="spec.Audio",spec_Audio.__isInterface__=!0,spec_Audio.prototype={__class__:spec_Audio};var backend_Audio=function(){this.loadedAudioRetainCount=new haxe_ds_StringMap,this.loadedAudioResources=new haxe_ds_StringMap,this.loadingAudioCallbacks=new haxe_ds_StringMap,this.loopHandles=new haxe_ds_IntMap,this.loopingStreams=new haxe_ds_IntMap};t["backend.Audio"]=backend_Audio,backend_Audio.__name__="backend.Audio",backend_Audio.__interfaces__=[spec_Audio],backend_Audio.prototype={load:function(e,n,t){var i=this,s=null!=n&&2==n.loadMethod,r=null!=n?n.immediate:null,done=function(e){var fn=function(){t(e),t=null};null!=r?r.push(fn):ceramic_App.app._onceImmediate(fn)},l=null!=n&&1==n.stream;if(ceramic_Path.isAbsolute(e)||StringTools.startsWith(e,"http://")||StringTools.startsWith(e,"https://")||(e=ceramic_Path.join([ceramic_App.app.settings.assetsPath,e])),Object.prototype.hasOwnProperty.call(this.loadedAudioResources.h,e)){this.loadedAudioRetainCount.h[e]+=1;var a=this.loadedAudioResources.h[e];done(a)}else if(Object.prototype.hasOwnProperty.call(this.loadingAudioCallbacks.h,e))this.loadingAudioCallbacks.h[e].push((function(n){if(null!=n){var t=Object.prototype.hasOwnProperty.call(i.loadedAudioRetainCount.h,e)?i.loadedAudioRetainCount.h[e]:0;i.loadedAudioRetainCount.h[e]=t+1}done(n)}));else{var h=e,c=h.indexOf("?");-1!=c&&(h=HxOverrides.substr(h,0,c)),this.loadingAudioCallbacks.h[e]=[function(n){if(null!=n){var t=Object.prototype.hasOwnProperty.call(i.loadedAudioRetainCount.h,e)?i.loadedAudioRetainCount.h[e]:0;i.loadedAudioRetainCount.h[e]=t+1}done(n)}];var o=clay_Clay.app.assets.fullPath(h);clay_Clay.app.audio.loadData(o,l,null,!s,(function(n){if(null!=n){var t=new clay_audio_AudioSource(clay_Clay.app,n);i.loadedAudioResources.h[e]=t;var s=i.loadingAudioCallbacks.h[e],r=i.loadingAudioCallbacks;Object.prototype.hasOwnProperty.call(r.h,e)&&delete r.h[e];for(var l=0;l<s.length;){var a=s[l];++l,a(t)}}else!function(){var n=i.loadingAudioCallbacks.h[e],t=i.loadingAudioCallbacks;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e];for(var s=0;s<n.length;){var r=n[s];++s;try{r(null)}catch(e){var l=[haxe_Exception.caught(e).unwrap()];ceramic_App.app._onceImmediate(function(e){return function(){throw haxe_Exception.thrown(e[0])}}(l))}}}()})),null!=r?r.push(clay_Immediate.flush):ceramic_App.app._onceImmediate(clay_Immediate.flush)}},getDuration:function(e){return e.getDuration()},resumeAudioContext:function(e){var n=clay_Clay.app.audio;if(null!=n)try{n.context.resume().then((function(){e(!0)}),(function(){e(!1)}))}catch(e){var t=haxe_Exception.caught(e).unwrap();ceramic_App.app.logger.error("Failed to resume audio context: "+Std.string(t),{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Audio.hx",lineNumber:151,className:"backend.Audio",methodName:"resumeAudioContext"})}},supportsHotReloadPath:function(){return!0},destroy:function(e){for(var n=null,t=this.loadedAudioResources.h,i=t,s=Object.keys(t),r=s.length,l=0;l<r;){var a=s[l++],h=a;i[a]==e&&(n=h)}if(null==n)ceramic_App.app.logger.error("Failed to destroy audio resource: "+Std.string(e)+" because id could not be resolved",{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Audio.hx",lineNumber:177,className:"backend.Audio",methodName:"destroy"});else if(this.loadedAudioRetainCount.h[n]>1)this.loadedAudioRetainCount.h[n]-=1;else{var c=this.loadedAudioResources;Object.prototype.hasOwnProperty.call(c.h,n)&&delete c.h[n];c=this.loadedAudioRetainCount;Object.prototype.hasOwnProperty.call(c.h,n)&&delete c.h[n],e.destroy()}},mute:function(e){return-1},play:function(e,n,t,i,s,r){if(null==r&&(r=!1),null==s&&(s=0),null==i&&(i=1),null==t&&(t=0),null==n&&(n=.5),!clay_Clay.app.audio.active)return-1;var l=e;l.data.isStream&&(s=0,i=1,t=0);var a=null;return a=r?clay_Clay.app.audio.loop(l,n,!1):clay_Clay.app.audio.play(l,n,!1),0!=t&&clay_Clay.app.audio.pan(a,t),1!=i&&clay_Clay.app.audio.pitch(a,i),0!=s&&clay_Clay.app.audio.position(a,s),a},pause:function(e){clay_Clay.app.audio.active&&null!=e&&-1!=e&&(!this.loopHandles.h.hasOwnProperty(e)||null!=(e=this.loopHandles.h[e])&&-1!=e)&&(this.loopingStreams.h.hasOwnProperty(e)&&(this.loopingStreams.h[e]=!1),clay_Clay.app.audio.pause(e))},resume:function(e){clay_Clay.app.audio.active&&null!=e&&-1!=e&&(!this.loopHandles.h.hasOwnProperty(e)||null!=(e=this.loopHandles.h[e])&&-1!=e)&&(this.loopingStreams.h.hasOwnProperty(e)&&(this.loopingStreams.h[e]=!0),clay_Clay.app.audio.unPause(e))},stop:function(e){if(clay_Clay.app.audio.active&&null!=e&&-1!=e){if(this.loopHandles.h.hasOwnProperty(e)){var n=e;e=this.loopHandles.h[e],this.loopHandles.remove(n)}this.loopingStreams.remove(e),null!=e&&-1!=e&&clay_Clay.app.audio.stop(e)}},getVolume:function(e){return clay_Clay.app.audio.active?null==e||-1==e?0:!this.loopHandles.h.hasOwnProperty(e)||null!=(e=this.loopHandles.h[e])&&-1!=e?clay_Clay.app.audio.volumeOf(e):0:0},setVolume:function(e,n){clay_Clay.app.audio.active&&null!=e&&-1!=e&&(this.loopHandles.h.hasOwnProperty(e)&&(e=this.loopHandles.h[e]),clay_Clay.app.audio.volume(e,n))},getPan:function(e){return clay_Clay.app.audio.active?null==e||-1==e?0:(this.loopHandles.h.hasOwnProperty(e)&&(e=this.loopHandles.h[e]),clay_Clay.app.audio.panOf(e)):0},setPan:function(e,n){clay_Clay.app.audio.active&&null!=e&&-1!=e&&(this.loopHandles.h.hasOwnProperty(e)&&(e=this.loopHandles.h[e]),clay_Clay.app.audio.pan(e,n))},getPitch:function(e){return clay_Clay.app.audio.active?null==e||-1==e?1:!this.loopHandles.h.hasOwnProperty(e)||null!=(e=this.loopHandles.h[e])&&-1!=e?clay_Clay.app.audio.pitchOf(e):1:1},setPitch:function(e,n){clay_Clay.app.audio.active&&null!=e&&-1!=e&&(!this.loopHandles.h.hasOwnProperty(e)||null!=(e=this.loopHandles.h[e])&&-1!=e)&&clay_Clay.app.audio.pitch(e,n)},getPosition:function(e){return clay_Clay.app.audio.active?null==e||-1==e?0:!this.loopHandles.h.hasOwnProperty(e)||null!=(e=this.loopHandles.h[e])&&-1!=e?clay_Clay.app.audio.positionOf(e):0:0},setPosition:function(e,n){clay_Clay.app.audio.active&&null!=e&&-1!=e&&(!this.loopHandles.h.hasOwnProperty(e)||null!=(e=this.loopHandles.h[e])&&-1!=e)&&clay_Clay.app.audio.position(e,n)},__class__:backend_Audio};var spec_Backend=function(){};t["spec.Backend"]=spec_Backend,spec_Backend.__name__="spec.Backend",spec_Backend.__isInterface__=!0,spec_Backend.prototype={__class__:spec_Backend};var backend_Backend=function(){this.mobileInBackground=!1,this.clipboard=new backend_Clipboard,this.textInput=new backend_TextInput,this.input=new backend_Input,this.screen=new backend_Screen,this.shaders=new backend_Shaders,this.textures=new backend_Textures,this.binaries=new backend_Binaries,this.texts=new backend_Texts,this.draw=new backend_Draw,this.audio=new backend_Audio,this.info=new backend_Info,this.io=new backend_IO};t["backend.Backend"]=backend_Backend,backend_Backend.__name__="backend.Backend",backend_Backend.__interfaces__=[spec_Backend,tracker_Events],backend_Backend.prototype={init:function(e){},setTargetFps:function(e){clay_Clay.app.config.updateRate=e>0?1/e:0},emitReady:function(){var e=0;if(null!=this.__cbOnReady&&(e+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(e+=this.__cbOnceReady.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReady)for(var s=0,r=this.__cbOnReady.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnReady[l],++i):--e}if(null!=this.__cbOnceReady){var a=null,h=null;for(s=0,r=this.__cbOnceReady.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceReady[l],this.__cbOnceReady[l]=null;var c=this.__cbOnceOwnerUnbindReady[l];this.__cbOnceOwnerUnbindReady[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindReady[l]),h.push(this.__cbOnceReady[l])}this.__cbOnceOwnerUnbindReady=a,this.__cbOnceReady=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onReady:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event ready because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReady(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(n)},onceReady:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event ready because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReady(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(n)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReady[n])&&r(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReady[n])&&r(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindReady[s])&&r()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindReady[s])&&r()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&this.__cbOnReady.length>0||null!=this.__cbOnceReady&&this.__cbOnceReady.length>0},emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnUpdate)for(var r=0,l=this.__cbOnUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnUpdate[a],++s):--n}if(null!=this.__cbOnceUpdate){var h=null,c=null;for(r=0,l=this.__cbOnceUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceUpdate[a],this.__cbOnceUpdate[a]=null;var o=this.__cbOnceOwnerUnbindUpdate[a];this.__cbOnceOwnerUnbindUpdate[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindUpdate[a]),c.push(this.__cbOnceUpdate[a])}this.__cbOnceOwnerUnbindUpdate=h,this.__cbOnceUpdate=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(n)},onceUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(n)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdate[n])&&r(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdate[n])&&r(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindUpdate[s])&&r()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindUpdate[s])&&r()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&this.__cbOnUpdate.length>0||null!=this.__cbOnceUpdate&&this.__cbOnceUpdate.length>0},willEmitUpdate:function(e){},didEmitUpdate:function(e){},unbindEvents:function(){this.offReady(),this.offUpdate()},__class__:backend_Backend};var spec_Binaries=function(){};t["spec.Binaries"]=spec_Binaries,spec_Binaries.__name__="spec.Binaries",spec_Binaries.__isInterface__=!0,spec_Binaries.prototype={__class__:spec_Binaries};var backend_Binaries=function(){this.loadingBinaryCallbacks=new haxe_ds_StringMap};t["backend.Binaries"]=backend_Binaries,backend_Binaries.__name__="backend.Binaries",backend_Binaries.__interfaces__=[spec_Binaries],backend_Binaries.prototype={load:function(e,n,t){var i=this,s=null!=n?n.immediate:null,done=function(e){var fn=function(){t(e),t=null};null!=s?s.push(fn):ceramic_App.app._onceImmediate(fn)};if(ceramic_Path.isAbsolute(e)||StringTools.startsWith(e,"http://")||StringTools.startsWith(e,"https://")||(e=ceramic_Path.join([ceramic_App.app.settings.assetsPath,e])),Object.prototype.hasOwnProperty.call(this.loadingBinaryCallbacks.h,e))this.loadingBinaryCallbacks.h[e].push((function(e){done(e)}));else{this.loadingBinaryCallbacks.h[e]=[];var r=e,l=r.indexOf("?");-1!=l&&(r=HxOverrides.substr(r,0,l));var a=clay_Clay.app.assets.fullPath(r);clay_Clay.app.io.loadData(a,!0,null,(function(n){if(null!=n){var t=new haxe_io_Bytes(new Uint8Array(n.buffer));if(null!=(s=i.loadingBinaryCallbacks.h[e])){r=i.loadingBinaryCallbacks;Object.prototype.hasOwnProperty.call(r.h,e)&&delete r.h[e],done(t);for(l=0;l<s.length;){a=s[l];++l,a(t)}}else done(t)}else{var s;if(null!=(s=i.loadingBinaryCallbacks.h[e])){var r=i.loadingBinaryCallbacks;Object.prototype.hasOwnProperty.call(r.h,e)&&delete r.h[e],done(null);for(var l=0;l<s.length;){var a=s[l];++l,a(null)}}else done(null)}})),null!=s?s.push(clay_Immediate.flush):ceramic_App.app._onceImmediate(clay_Immediate.flush)}},supportsHotReloadPath:function(){return!0},__class__:backend_Binaries};var clay_Events=function(){};t["clay.Events"]=clay_Events,clay_Events.__name__="clay.Events",clay_Events.prototype={ready:function(){},tick:function(e){},freeze:function(){},unfreeze:function(){},keyDown:function(e,n,t,i,s,r){},keyUp:function(e,n,t,i,s,r){},text:function(e,n,t,i,s,r){},mouseMove:function(e,n,t,i,s,r){},mouseDown:function(e,n,t,i,s){},mouseUp:function(e,n,t,i,s){},mouseWheel:function(e,n,t,i){},touchDown:function(e,n,t,i,s,r){},touchUp:function(e,n,t,i,s,r){},touchMove:function(e,n,t,i,s,r){},gamepadAxis:function(e,n,t,i){},gamepadDown:function(e,n,t,i){},gamepadUp:function(e,n,t,i){},gamepadDevice:function(e,n,t,i){},windowEvent:function(e,n,t,i,s){},appEvent:function(e){},audioEvent:function(e,n){},__class__:clay_Events};var backend_ClayEvents=function(e){this.muteResizeEvent=!1,this.gamepadAxisValues=new ceramic_IntMap,this.gamepadPressedValues=new haxe_ds_IntMap,this.gamepadButtonMapping=new haxe_ds_IntMap,this.gamepadAxisToButton=new haxe_ds_IntMap,this.removedGamepads=new haxe_ds_IntMap,this.activeGamepads=new haxe_ds_IntMap,this.mouseY=0,this.mouseX=0,this.mouseDownButtons=new haxe_ds_IntMap,this.touchIndexes=new haxe_ds_IntMap,this.touches=new haxe_ds_IntMap,this.lastHeight=-1,this.lastWidth=-1,this.lastDensity=-1,this.handleReady=e,this.configureGamepadMapping()};t["backend.ClayEvents"]=backend_ClayEvents,backend_ClayEvents.__name__="backend.ClayEvents",backend_ClayEvents.__super__=clay_Events,backend_ClayEvents.prototype=$extend(clay_Events.prototype,{configureGamepadMapping:function(){},ready:function(){this.backend=ceramic_App.app.backend,this.lastDensity=clay_Clay.app.screenDensity,this.lastWidth=clay_Clay.app.screenWidth,this.lastHeight=clay_Clay.app.screenHeight,this.handleReady(),this.backend.emitReady()},tick:function(e){this.triggerResizeIfNeeded(),this.backend.emitUpdate(e)},triggerResizeIfNeeded:function(){if(!this.muteResizeEvent){var e=clay_Clay.app.screenDensity,n=clay_Clay.app.screenWidth,t=clay_Clay.app.screenHeight;this.lastDensity==e&&this.lastWidth==n&&this.lastHeight==t||(this.lastDensity=e,this.lastWidth=n,this.lastHeight=t,this.backend.screen.emitResize())}},appEvent:function(e){switch(e){case 0:break;case 11:ceramic_App.app.emitTerminate();break;case 12:ceramic_App.app.emitLowMemory();break;case 13:ceramic_App.app.emitBeginEnterBackground();break;case 14:ceramic_App.app.emitFinishEnterBackground();break;case 15:ceramic_App.app.emitBeginEnterForeground();break;case 16:ceramic_App.app.emitFinishEnterForeground()}},mouseDown:function(e,n,t,i,s){this.mouseDownButtons.h.hasOwnProperty(0|t)&&this.mouseUp(e,n,t,i,s),this.mouseX=e/clay_Clay.app.screenDensity,this.mouseY=n/clay_Clay.app.screenDensity,this.mouseDownButtons.h[0|t]=!0,this.backend.screen.emitMouseDown(t,this.mouseX,this.mouseY)},mouseUp:function(e,n,t,i,s){this.mouseDownButtons.h.hasOwnProperty(0|t)&&(this.mouseX=e/clay_Clay.app.screenDensity,this.mouseY=n/clay_Clay.app.screenDensity,this.mouseDownButtons.remove(0|t),this.backend.screen.emitMouseUp(t,this.mouseX,this.mouseY))},mouseMove:function(e,n,t,i,s,r){this.mouseX=e/clay_Clay.app.screenDensity,this.mouseY=n/clay_Clay.app.screenDensity,this.backend.screen.emitMouseMove(this.mouseX,this.mouseY)},mouseWheel:function(e,n,t,i){this.backend.screen.emitMouseWheel(e,n)},touchDown:function(e,n,t,i,s,r){for(var l=0;this.touchIndexes.h.hasOwnProperty(0|l);)++l;this.touches.h[0|s]=l,this.touchIndexes.h[0|l]=s,this.backend.screen.emitTouchDown(l,e*this.lastWidth,n*this.lastHeight)},touchUp:function(e,n,t,i,s,r){this.touches.h.hasOwnProperty(0|s)||this.touchDown(e,n,t,i,s,r);var l=this.touches.h[0|s],a=null!=l?l:0;this.backend.screen.emitTouchUp(a,e*this.lastWidth,n*this.lastHeight);this.touches.remove(0|s),this.touchIndexes.remove(0|a)},touchMove:function(e,n,t,i,s,r){this.touches.h.hasOwnProperty(0|s)||this.touchDown(e,n,t,i,s,r);var l=this.touches.h[0|s],a=null!=l?l:0;this.backend.screen.emitTouchMove(a,e*this.lastWidth,n*this.lastHeight)},keyDown:function(e,n,t,i,s,r){this.backend.input.emitKeyDown(new ceramic_Key(e,n)),this.backend.textInput.inputActive&&this.backend.textInput.handleKeyDown(e,n)},keyUp:function(e,n,t,i,s,r){this.backend.input.emitKeyUp(new ceramic_Key(e,n)),this.backend.textInput.inputActive&&this.backend.textInput.handleKeyUp(e,n)},gamepadAxis:function(e,n,t,i){if(!this.activeGamepads.h.hasOwnProperty(0|e)&&!this.removedGamepads.h.hasOwnProperty(0|e)){this.activeGamepads.h[0|e]=!0;this.backend.input.emitGamepadEnable(e,null)}if(this.gamepadAxisToButton.h.hasOwnProperty(0|n)){var s,r=null!=(s=this.gamepadAxisToButton.h[0|n])?s:0;if(t>=.5)1!=(null!=(s=this.gamepadPressedValues.h[32*e+r|0])?s:0)&&(this.gamepadPressedValues.h[32*e+r|0]=1,this.backend.input.emitGamepadDown(e,r));else 1==(null!=(s=this.gamepadPressedValues.h[32*e+r|0])?s:0)&&(this.gamepadPressedValues.h[32*e+r|0]=0,this.backend.input.emitGamepadUp(e,r))}else{var l=this.gamepadAxisValues.get(32*e+n),a=Math.round(100*t)/100;Math.abs(l-a)>.01&&(this.gamepadAxisValues.set(32*e+n,a),this.backend.input.emitGamepadAxis(e,n,a))}},gamepadDown:function(e,n,t,i){if(!this.activeGamepads.h.hasOwnProperty(0|e)&&!this.removedGamepads.h.hasOwnProperty(0|e)){this.activeGamepads.h[0|e]=!0;for(var s=0;s<32;){var r=s++;this.gamepadPressedValues.h[32*e+r|0]=0}this.backend.input.emitGamepadEnable(e,null)}this.gamepadButtonMapping.h.hasOwnProperty(0|n)&&(n=null!=(t=this.gamepadButtonMapping.h[0|n])?t:0);1!=(null!=(t=this.gamepadPressedValues.h[32*e+n|0])?t:0)&&(this.gamepadPressedValues.h[32*e+n|0]=1,this.backend.input.emitGamepadDown(e,n))},gamepadUp:function(e,n,t,i){if(!this.activeGamepads.h.hasOwnProperty(0|e)&&!this.removedGamepads.h.hasOwnProperty(0|e)){this.activeGamepads.h[0|e]=!0;for(var s=0;s<32;){var r=s++;this.gamepadPressedValues.h[32*e+r|0]=0}this.backend.input.emitGamepadEnable(e,null)}this.gamepadButtonMapping.h.hasOwnProperty(0|n)&&(n=null!=(t=this.gamepadButtonMapping.h[0|n])?t:0);1==(null!=(t=this.gamepadPressedValues.h[32*e+n|0])?t:0)&&(this.gamepadPressedValues.h[32*e+n|0]=0,this.backend.input.emitGamepadUp(e,n))},gamepadDevice:function(e,n,t,i){var s=this;if(2==t){if(this.activeGamepads.h.hasOwnProperty(0|e)){for(var r=0;r<32;){var l=r++,a=this.gamepadPressedValues.h[32*e+l|0];1==(null!=a?a:0)&&(this.backend.input.emitGamepadUp(e,l),this.gamepadPressedValues.h[32*e+l|0]=0)}this.backend.input.emitGamepadDisable(e),this.activeGamepads.remove(0|e),this.removedGamepads.h[0|e]=!0,ceramic_App.app.onceUpdate(null,(function(n){s.removedGamepads.remove(0|e)}))}}else if(1==t&&!this.activeGamepads.h.hasOwnProperty(0|e)){this.activeGamepads.h[0|e]=!0;for(r=0;r<32;){l=r++;this.gamepadPressedValues.h[32*e+l|0]=0}this.removedGamepads.remove(0|e);this.backend.input.emitGamepadEnable(e,null)}},text:function(e,n,t,i,s,r){this.backend.textInput.inputActive&&this.backend.textInput.handleTextInput(e)},windowEvent:function(e,n,t,i,s){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:break;case 15:ceramic_App.app.settings.set_fullscreen(!0);break;case 16:ceramic_App.app.settings.set_fullscreen(!1)}},__class__:backend_ClayEvents});var spec_Clipboard=function(){};t["spec.Clipboard"]=spec_Clipboard,spec_Clipboard.__name__="spec.Clipboard",spec_Clipboard.__isInterface__=!0,spec_Clipboard.prototype={__class__:spec_Clipboard};var backend_Clipboard=function(){this.didBindBrowserClipboard=!1,this.didLogBrowserClipboardWriteWarning=!1,this.didLogBrowserClipboardReadWarning=!1,this.clipboardText=null};t["backend.Clipboard"]=backend_Clipboard,backend_Clipboard.__name__="backend.Clipboard",backend_Clipboard.__interfaces__=[spec_Clipboard],backend_Clipboard.prototype={bindBrowserClipboard:function(){var e=this;this.didBindBrowserClipboard=!0,this.readBrowserClipboard(),window.addEventListener("focus",(function(){e.readBrowserClipboard()}))},readBrowserClipboard:function(){var n=this,t=e.navigator;try{t.clipboard.readText().then((function(e){n.clipboardText!=e&&(n.clipboardText=e)}))}catch(e){var i=haxe_Exception.caught(e).unwrap();this.didLogBrowserClipboardReadWarning||(this.didLogBrowserClipboardReadWarning=!0,ceramic_App.app.logger.warning("Failed to read browser clipboard: "+Std.string(i),{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Clipboard.hx",lineNumber:68,className:"backend.Clipboard",methodName:"readBrowserClipboard"}))}},writeBrowserClipboard:function(n){var t=e.navigator;try{t.clipboard.writeText(n).then((function(){}))}catch(e){var i=haxe_Exception.caught(e).unwrap();this.didLogBrowserClipboardWriteWarning||(this.didLogBrowserClipboardWriteWarning=!0,ceramic_App.app.logger.warning("Failed to write browser clipboard: "+Std.string(i),{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Clipboard.hx",lineNumber:87,className:"backend.Clipboard",methodName:"writeBrowserClipboard"}))}},getText:function(){return this.clipboardText},setText:function(e){this.clipboardText=e,this.didBindBrowserClipboard&&this.writeBrowserClipboard(e)},__class__:backend_Clipboard};var spec_Draw=function(){};t["spec.Draw"]=spec_Draw,spec_Draw.__name__="spec.Draw",spec_Draw.__isInterface__=!0,spec_Draw.prototype={__class__:spec_Draw};var backend_Draw=function(){this.renderer=new ceramic_Renderer,this.renderer=new ceramic_Renderer};t["backend.Draw"]=backend_Draw,backend_Draw.__name__="backend.Draw",backend_Draw.__interfaces__=[spec_Draw],backend_Draw.prototype={begin:function(){},end:function(){},draw:function(e){this.renderer.render(!0,e)},swap:function(){},initBuffers:function(){backend_Draw._activeTextureSlot=0,backend_Draw._buffersIndex=-1,this.prepareNextBuffers()},prepareNextBuffers:function(){if(backend_Draw._buffersIndex++,backend_Draw._buffersIndex>64&&(backend_Draw._buffersIndex=0),backend_Draw._posListArray.length<=backend_Draw._buffersIndex){var e=new Float32Array(65536);backend_Draw._posListArray[backend_Draw._buffersIndex]=e;e=new Float32Array(43691);backend_Draw._uvListArray[backend_Draw._buffersIndex]=e;e=new Float32Array(65536);backend_Draw._colorListArray[backend_Draw._buffersIndex]=e;e=new Uint16Array(32768);backend_Draw._indiceListArray[backend_Draw._buffersIndex]=e}backend_Draw._posList=backend_Draw._posListArray[backend_Draw._buffersIndex],backend_Draw._uvList=backend_Draw._uvListArray[backend_Draw._buffersIndex],backend_Draw._colorList=backend_Draw._colorListArray[backend_Draw._buffersIndex],backend_Draw._indiceList=backend_Draw._indiceListArray[backend_Draw._buffersIndex]},beginRender:function(){clay_opengl_web_GL.gl.enableVertexAttribArray(0),clay_opengl_web_GL.gl.enableVertexAttribArray(1),clay_opengl_web_GL.gl.enableVertexAttribArray(2)},clear:function(){clay_opengl_web_GL.gl.clearColor((backend_Draw._whiteTransparentColor>>16&255)/255,(backend_Draw._whiteTransparentColor>>8&255)/255,(255&backend_Draw._whiteTransparentColor)/255,backend_Draw._whiteTransparentColor>>24&255),clay_Clay.app.config.render.depth>0?(clay_opengl_web_GL.gl.clear(16640),clay_opengl_web_GL.gl.clearDepth(1)):clay_opengl_web_GL.gl.clear(16384)},clearAndApplyBackground:function(){var e=ceramic_App.app.settings.get_background();clay_opengl_web_GL.gl.clearColor((e>>16&255)/255,(e>>8&255)/255,(255&e)/255,1),clay_Clay.app.config.render.depth>0?(clay_opengl_web_GL.gl.clear(16640),clay_opengl_web_GL.gl.clearDepth(1)):clay_opengl_web_GL.gl.clear(16384)},enableBlending:function(){clay_opengl_web_GL.gl.enable(3042)},disableBlending:function(){clay_opengl_web_GL.gl.disable(3042)},setActiveTexture:function(e){if(backend_Draw._activeTextureSlot=e,clay_opengl_GLGraphics._activeTextureSlot!=e){for(clay_opengl_GLGraphics._activeTextureSlot=e;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+e)}},setRenderWireframe:function(e){},getActiveTexture:function(){return backend_Draw._activeTextureSlot},setRenderTarget:function(e,n){if(null==n&&(n=!1),backend_Draw._currentRenderTarget!=e||n)if(backend_Draw._currentRenderTarget=e,null!=e){var t=e.backendItem.renderTarget;null!=t?(clay_opengl_GLGraphics.bindFramebuffer(t.framebuffer),clay_opengl_GLGraphics.bindRenderbuffer(t.renderbuffer)):(clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null));var i=0,s=0,r=((m=e.width)+i)/(U=m-i),l=(s+(w=e.height))/(x=s-w),a=((y=-1e3)+(v=1e3))/(C=y-v);(O=backend_Draw._projectionMatrix)[0]=2/U,O[4]=0,O[8]=0,O[12]=-r,O[1]=0,O[5]=2/x,O[9]=0,O[13]=-l,O[2]=0,O[6]=0,O[10]=-2/C,O[14]=-a,O[3]=0,O[7]=0,O[11]=0,O[15]=1,(h=backend_Draw._renderTargetTransform).a=1,h.b=0,h.c=0,h.d=1,h.tx=0,h.ty=0,h.changedDirty=!0;var h=backend_Draw._renderTargetTransform,c=e.density,o=e.density;h.a*=c,h.b*=o,h.c*=c,h.d*=o,h.tx*=c,h.ty*=o,h.changedDirty=!0;var u=e.density,_=e.width,d=e.height,b=-1;if(null==b&&(b=1),null!=(g=backend_Draw._renderTargetTransform)){if((h=backend_Draw._modelViewTransform).a=g.a,h.b=g.b,h.c=g.c,h.d=g.d,h.tx=g.tx,h.ty=g.ty,h.changedDirty=!0,0==(D=(h=backend_Draw._modelViewTransform).a*h.d-h.b*h.c))h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty;else{D=1/D;var f=h.d*D;h.d=h.a*D,h.a=f,h.b*=-D,h.c*=-D;var p=-h.a*h.tx-h.c*h.ty;h.ty=-h.b*h.tx-h.d*h.ty,h.tx=p}h.changedDirty=!0}else{(h=backend_Draw._modelViewTransform).a=1,h.b=0,h.c=0,h.d=1,h.tx=0,h.ty=0,h.changedDirty=!0}r=backend_Draw._modelViewTransform.tx,l=backend_Draw._modelViewTransform.ty;if((h=backend_Draw._modelViewTransform).tx+=-r,h.ty+=-l,h.changedDirty=!0,(h=backend_Draw._modelViewTransform).a*=u,h.b*=u,h.c*=u,h.d*=u,h.tx*=u,h.ty*=u,h.changedDirty=!0,(h=backend_Draw._modelViewTransform).tx+=r,h.ty+=l,h.changedDirty=!0,-1==b)(h=backend_Draw._modelViewTransform).tx+=.5*-_,h.ty+=.5*-d,h.changedDirty=!0,(h=backend_Draw._modelViewTransform).a*=1,h.b*=-1,h.c*=1,h.d*=-1,h.tx*=1,h.ty*=-1,h.changedDirty=!0,(h=backend_Draw._modelViewTransform).tx+=.5*_,h.ty+=.5*d,h.changedDirty=!0;if(0==(D=(h=backend_Draw._modelViewTransform).a*h.d-h.b*h.c))h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty;else{D=1/D;f=h.d*D;h.d=h.a*D,h.a=f,h.b*=-D,h.c*=-D;p=-h.a*h.tx-h.c*h.ty;h.ty=-h.b*h.tx-h.d*h.ty,h.tx=p}h.changedDirty=!0;var O=backend_Draw._modelViewMatrix,g=backend_Draw._modelViewTransform;O[0]=g.a,O[4]=g.c,O[8]=0,O[12]=g.tx,O[1]=g.b,O[5]=g.d,O[9]=0,O[13]=g.ty,O[2]=0,O[6]=0,O[10]=1,O[14]=0,O[3]=0,O[7]=0,O[11]=0,O[15]=1,clay_opengl_web_GL.gl.viewport(0,0,e.width*e.density|0,e.height*e.density|0),e.clearOnRender&&clay_opengl_GLGraphics.clear((backend_Draw._blackTransparentColor>>16&255)/255,(backend_Draw._blackTransparentColor>>8&255)/255,(255&backend_Draw._blackTransparentColor)/255,(backend_Draw._blackTransparentColor>>24&255)/255)}else{null!=(e=null)?(clay_opengl_GLGraphics.bindFramebuffer(e.framebuffer),clay_opengl_GLGraphics.bindRenderbuffer(e.renderbuffer)):(clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null));var m,w,v,y,U,x,C;i=0,s=0,r=((m=clay_Clay.app.screenWidth)+i)/(U=m-i),l=(s+(w=clay_Clay.app.screenHeight))/(x=s-w),a=((y=-1e3)+(v=1e3))/(C=y-v);(O=backend_Draw._projectionMatrix)[0]=2/U,O[4]=0,O[8]=0,O[12]=-r,O[1]=0,O[5]=2/x,O[9]=0,O[13]=-l,O[2]=0,O[6]=0,O[10]=-2/C,O[14]=-a,O[3]=0,O[7]=0,O[11]=0,O[15]=1;u=clay_Clay.app.screenDensity,_=clay_Clay.app.screenWidth,d=clay_Clay.app.screenHeight;if(null!=(g=ceramic_App.app.screen.matrix)){if((h=backend_Draw._modelViewTransform).a=g.a,h.b=g.b,h.c=g.c,h.d=g.d,h.tx=g.tx,h.ty=g.ty,h.changedDirty=!0,0==(D=(h=backend_Draw._modelViewTransform).a*h.d-h.b*h.c))h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty;else{D=1/D;f=h.d*D;h.d=h.a*D,h.a=f,h.b*=-D,h.c*=-D;p=-h.a*h.tx-h.c*h.ty;h.ty=-h.b*h.tx-h.d*h.ty,h.tx=p}h.changedDirty=!0}else{(h=backend_Draw._modelViewTransform).a=1,h.b=0,h.c=0,h.d=1,h.tx=0,h.ty=0,h.changedDirty=!0}var D;r=backend_Draw._modelViewTransform.tx,l=backend_Draw._modelViewTransform.ty;if((h=backend_Draw._modelViewTransform).tx+=-r,h.ty+=-l,h.changedDirty=!0,(h=backend_Draw._modelViewTransform).a*=u,h.b*=u,h.c*=u,h.d*=u,h.tx*=u,h.ty*=u,h.changedDirty=!0,(h=backend_Draw._modelViewTransform).tx+=r,h.ty+=l,h.changedDirty=!0,0==(D=(h=backend_Draw._modelViewTransform).a*h.d-h.b*h.c))h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty;else{D=1/D;f=h.d*D;h.d=h.a*D,h.a=f,h.b*=-D,h.c*=-D;p=-h.a*h.tx-h.c*h.ty;h.ty=-h.b*h.tx-h.d*h.ty,h.tx=p}h.changedDirty=!0;O=backend_Draw._modelViewMatrix,g=backend_Draw._modelViewTransform;O[0]=g.a,O[4]=g.c,O[8]=0,O[12]=g.tx,O[1]=g.b,O[5]=g.d,O[9]=0,O[13]=g.ty,O[2]=0,O[6]=0,O[10]=1,O[14]=0,O[3]=0,O[7]=0,O[11]=0,O[15]=1,clay_opengl_web_GL.gl.viewport(0,0,clay_Clay.app.screenWidth*clay_Clay.app.screenDensity|0,clay_Clay.app.screenHeight*clay_Clay.app.screenDensity|0)}},useShader:function(e){backend_Draw._activeShader=e,e.uniforms.setMatrix4("projectionMatrix",backend_Draw._projectionMatrix),e.uniforms.setMatrix4("modelViewMatrix",backend_Draw._modelViewMatrix);var n=ceramic_App.app.backend.shaders,t=0,i=backend_Draw._activeShader.customAttributes;if(null!=i)for(var s=0,r=i.length;s<r;){t+=i[s++].size}backend_Draw._floatAttributesSize=t,backend_Draw._batchMultiTexture=n.canBatchWithMultipleTextures(backend_Draw._activeShader),backend_Draw._vertexSize=3+backend_Draw._floatAttributesSize+(backend_Draw._batchMultiTexture?1:0),backend_Draw._posSize=backend_Draw._vertexSize,backend_Draw._vertexSize<4&&(backend_Draw._vertexSize=4),backend_Draw._maxVerts=0|Math.floor(65536/backend_Draw._vertexSize),e.activate(),0==backend_Draw._numPos&&(backend_Draw._numIndices=0,backend_Draw._numPos=0,backend_Draw._numUVs=0,backend_Draw._numColors=0,backend_Draw._posIndex=0,backend_Draw._uvIndex=0,backend_Draw._colorIndex=0)},resetIndexes:function(){backend_Draw._numIndices=0,backend_Draw._numPos=0,backend_Draw._numUVs=0,backend_Draw._numColors=0,backend_Draw._posIndex=0,backend_Draw._uvIndex=0,backend_Draw._colorIndex=0},setBlendFuncSeparate:function(e,n,t,i){clay_opengl_web_GL.gl.blendFuncSeparate(e,n,t,i)},beginDrawQuad:function(e){},endDrawQuad:function(){},beginDrawMesh:function(e){},endDrawMesh:function(){},drawWithStencilTest:function(){clay_opengl_web_GL.gl.stencilFunc(514,1,255),clay_opengl_web_GL.gl.stencilMask(0),clay_opengl_web_GL.gl.colorMask(!0,!0,!0,!0),clay_opengl_web_GL.gl.enable(2960)},drawWithoutStencilTest:function(){clay_opengl_web_GL.gl.stencilFunc(519,1,255),clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.colorMask(!0,!0,!0,!0),clay_opengl_web_GL.gl.disable(2960)},beginDrawingInStencilBuffer:function(){backend_Draw._drawingInStencilBuffer=!0,clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.clearStencil(255),clay_opengl_web_GL.gl.clear(1024),clay_opengl_web_GL.gl.enable(2960),clay_opengl_web_GL.gl.stencilOp(7680,7680,7681),clay_opengl_web_GL.gl.stencilFunc(519,1,255),clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.colorMask(!1,!1,!1,!1)},endDrawingInStencilBuffer:function(){backend_Draw._drawingInStencilBuffer=!1},bindTexture:function(e){var n=e.textureId;clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=n&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=n,clay_opengl_web_GL.gl.bindTexture(3553,n))},bindNoTexture:function(){var e=ceramic_App.app.defaultWhiteTexture.backendItem.textureId;clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=e&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=e,clay_opengl_web_GL.gl.bindTexture(3553,e))},textureBackendItemMatchesId:function(e,n){return e.textureId==n},getTextureId:function(e){return e.textureId},getTextureWidth:function(e){return e.width},getTextureHeight:function(e){return e.height},getTextureWidthActual:function(e){return e.widthActual},getTextureHeightActual:function(e){return e.heightActual},updateProjectionMatrix:function(e,n){var t=e-0,i=0-n,s=(e+0)/t,r=(0+n)/i,l=backend_Draw._projectionMatrix;l[0]=2/t,l[4]=0,l[8]=0,l[12]=-s,l[1]=0,l[5]=2/i,l[9]=0,l[13]=-r,l[2]=0,l[6]=0,l[10]=.001,l[14]=0,l[3]=0,l[7]=0,l[11]=0,l[15]=1},updateViewMatrix:function(e,n,t,i,s){if(null==s&&(s=1),null!=i){if((a=backend_Draw._modelViewTransform).a=i.a,a.b=i.b,a.c=i.c,a.d=i.d,a.tx=i.tx,a.ty=i.ty,a.changedDirty=!0,0==(h=(a=backend_Draw._modelViewTransform).a*a.d-a.b*a.c))a.a=a.b=a.c=a.d=0,a.tx=-a.tx,a.ty=-a.ty;else{h=1/h;var r=a.d*h;a.d=a.a*h,a.a=r,a.b*=-h,a.c*=-h;var l=-a.a*a.tx-a.c*a.ty;a.ty=-a.b*a.tx-a.d*a.ty,a.tx=l}a.changedDirty=!0}else{(a=backend_Draw._modelViewTransform).a=1,a.b=0,a.c=0,a.d=1,a.tx=0,a.ty=0,a.changedDirty=!0}var a,h,c=backend_Draw._modelViewTransform.tx,o=backend_Draw._modelViewTransform.ty;((a=backend_Draw._modelViewTransform).tx+=-c,a.ty+=-o,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).a*=e,a.b*=e,a.c*=e,a.d*=e,a.tx*=e,a.ty*=e,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).tx+=c,a.ty+=o,a.changedDirty=!0,-1==s)&&((a=backend_Draw._modelViewTransform).tx+=.5*-n,a.ty+=.5*-t,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).a*=1,a.b*=-1,a.c*=1,a.d*=-1,a.tx*=1,a.ty*=-1,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).tx+=.5*n,a.ty+=.5*t,a.changedDirty=!0);if(0==(h=(a=backend_Draw._modelViewTransform).a*a.d-a.b*a.c))a.a=a.b=a.c=a.d=0,a.tx=-a.tx,a.ty=-a.ty;else{h=1/h;r=a.d*h;a.d=a.a*h,a.a=r,a.b*=-h,a.c*=-h;l=-a.a*a.tx-a.c*a.ty;a.ty=-a.b*a.tx-a.d*a.ty,a.tx=l}a.changedDirty=!0;var u=backend_Draw._modelViewMatrix;i=backend_Draw._modelViewTransform;u[0]=i.a,u[4]=i.c,u[8]=0,u[12]=i.tx,u[1]=i.b,u[5]=i.d,u[9]=0,u[13]=i.ty,u[2]=0,u[6]=0,u[10]=1,u[14]=0,u[3]=0,u[7]=0,u[11]=0,u[15]=1},matrixIdentity:function(e){e[0]=1,e[4]=0,e[8]=0,e[12]=0,e[1]=0,e[5]=1,e[9]=0,e[13]=0,e[2]=0,e[6]=0,e[10]=1,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1},setMatrixToTransform:function(e,n){e[0]=n.a,e[4]=n.c,e[8]=0,e[12]=n.tx,e[1]=n.b,e[5]=n.d,e[9]=0,e[13]=n.ty,e[2]=0,e[6]=0,e[10]=1,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1},getNumPos:function(){return backend_Draw._numPos},putPos:function(e,n,t){backend_Draw._posList[backend_Draw._posIndex]=e,backend_Draw._posList[backend_Draw._posIndex+1]=n,backend_Draw._posList[backend_Draw._posIndex+2]=t,backend_Draw._posIndex+=3,backend_Draw._numPos++},putPosAndTextureSlot:function(e,n,t,i){backend_Draw._posList[backend_Draw._posIndex]=e,backend_Draw._posList[backend_Draw._posIndex+1]=n,backend_Draw._posList[backend_Draw._posIndex+2]=t,backend_Draw._posList[backend_Draw._posIndex+3]=i,backend_Draw._posIndex+=4,backend_Draw._numPos++},beginFloatAttributes:function(){},putFloatAttribute:function(e,n){backend_Draw._posList[backend_Draw._posIndex+e]=n},endFloatAttributes:function(){backend_Draw._posIndex+=backend_Draw._floatAttributesSize},putIndice:function(e){backend_Draw._indiceList[backend_Draw._numIndices]=e,backend_Draw._numIndices++},putUVs:function(e,n){backend_Draw._uvList[backend_Draw._uvIndex]=e,backend_Draw._uvList[backend_Draw._uvIndex+1]=n,backend_Draw._uvIndex+=2,backend_Draw._numUVs++},putColor:function(e,n,t,i){backend_Draw._colorList[backend_Draw._colorIndex]=e,backend_Draw._colorList[backend_Draw._colorIndex+1]=n,backend_Draw._colorList[backend_Draw._colorIndex+2]=t,backend_Draw._colorList[backend_Draw._colorIndex+3]=i,backend_Draw._colorIndex+=4,backend_Draw._numColors++},hasAnythingToFlush:function(){return backend_Draw._numPos>0},shouldFlush:function(e,n,t){return!(backend_Draw._numPos+e<=backend_Draw._maxVerts)||backend_Draw._numIndices+n>16384},remainingVertices:function(){return backend_Draw._maxVerts-backend_Draw._numPos},remainingIndices:function(){return 16384-backend_Draw._numIndices},flush:function(){var e=backend_Draw._batchMultiTexture,n=new Float32Array(backend_Draw._posList.buffer,0,4*backend_Draw._posIndex/4|0),t=new Float32Array(backend_Draw._uvList.buffer,0,4*backend_Draw._uvIndex/4|0),i=new Float32Array(backend_Draw._colorList.buffer,0,4*backend_Draw._colorIndex/4|0),s=new Uint16Array(backend_Draw._indiceList.buffer,0,2*backend_Draw._numIndices/2|0),r=clay_opengl_web_GL.gl.createBuffer(),l=clay_opengl_web_GL.gl.createBuffer(),a=clay_opengl_web_GL.gl.createBuffer(),h=clay_opengl_web_GL.gl.createBuffer();clay_opengl_web_GL.gl.enableVertexAttribArray(0),clay_opengl_web_GL.gl.enableVertexAttribArray(1),clay_opengl_web_GL.gl.enableVertexAttribArray(2),clay_opengl_web_GL.gl.bindBuffer(34962,r),clay_opengl_web_GL.gl.vertexAttribPointer(0,3,5126,!1,4*backend_Draw._posSize,0),clay_opengl_web_GL.gl.bufferData(34962,n,35040),clay_opengl_web_GL.gl.bindBuffer(34962,a),clay_opengl_web_GL.gl.vertexAttribPointer(1,2,5126,!1,0,0),clay_opengl_web_GL.gl.bufferData(34962,t,35040),clay_opengl_web_GL.gl.bindBuffer(34962,l),clay_opengl_web_GL.gl.vertexAttribPointer(2,4,5126,!1,0,0),clay_opengl_web_GL.gl.bufferData(34962,i,35040);var c=3,o=3,u=0;if(e){var _=clay_opengl_web_GL.gl.createBuffer();backend_Draw._customGLBuffers[u++]=_,clay_opengl_web_GL.gl.enableVertexAttribArray(o),clay_opengl_web_GL.gl.bindBuffer(34962,_),clay_opengl_web_GL.gl.vertexAttribPointer(o,1,5126,!1,4*backend_Draw._posSize,4*c),clay_opengl_web_GL.gl.bufferData(34962,n,35040),++o,++c}if(null!=backend_Draw._activeShader&&null!=backend_Draw._activeShader.customAttributes){var d=backend_Draw._activeShader.customAttributes,b=u,f=b+d.length;u+=d.length;for(var p=b,O=f;p<O;){var g=d[(m=p++)-b];_=clay_opengl_web_GL.gl.createBuffer();backend_Draw._customGLBuffers[m]=_,clay_opengl_web_GL.gl.enableVertexAttribArray(o),clay_opengl_web_GL.gl.bindBuffer(34962,_),clay_opengl_web_GL.gl.vertexAttribPointer(o,g.size,5126,!1,4*backend_Draw._posSize,4*c),clay_opengl_web_GL.gl.bufferData(34962,n,35040),++o,c+=g.size}}if(clay_opengl_web_GL.gl.bindBuffer(34963,h),clay_opengl_web_GL.gl.bufferData(34963,s,35040),clay_opengl_web_GL.gl.drawElements(4,backend_Draw._numIndices,5123,0),clay_opengl_web_GL.gl.deleteBuffer(r),clay_opengl_web_GL.gl.deleteBuffer(l),clay_opengl_web_GL.gl.deleteBuffer(a),u>0)for(o=3,p=0,O=u;p<O;){var m=p++;_=backend_Draw._customGLBuffers[m];clay_opengl_web_GL.gl.deleteBuffer(_),clay_opengl_web_GL.gl.disableVertexAttribArray(o),++o}clay_opengl_web_GL.gl.bindBuffer(34963,null),clay_opengl_web_GL.gl.deleteBuffer(h),n=null,t=null,i=null,s=null,backend_Draw._numIndices=0,backend_Draw._numPos=0,backend_Draw._numUVs=0,backend_Draw._numColors=0,backend_Draw._posIndex=0,backend_Draw._uvIndex=0,backend_Draw._colorIndex=0,this.prepareNextBuffers()},__class__:backend_Draw};var backend_ElectronRunner=function(){};t["backend.ElectronRunner"]=backend_ElectronRunner,backend_ElectronRunner.__name__="backend.ElectronRunner";var spec_IO=function(){};t["spec.IO"]=spec_IO,spec_IO.__name__="spec.IO",spec_IO.__isInterface__=!0,spec_IO.prototype={__class__:spec_IO};var backend_IO=function(){};t["backend.IO"]=backend_IO,backend_IO.__name__="backend.IO",backend_IO.__interfaces__=[spec_IO],backend_IO.prototype={initKeyValueIfNeeded:function(){},saveString:function(e,n){try{var t=window.localStorage;if(null==t)return ceramic_App.app.logger.error("Cannot save string: localStorage not supported on this browser",{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:200,className:"backend.IO",methodName:"saveString"}),!1;t.setItem(e,ceramic_HashedString.encode(n))}catch(n){var i=haxe_Exception.caught(n).unwrap();return ceramic_App.app.logger.error("Failed to save string (key="+e+"): "+Std.string(i),{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:207,className:"backend.IO",methodName:"saveString"}),!1}return!0},appendString:function(e,n){try{var t=window.localStorage;if(null==t)return ceramic_App.app.logger.error("Cannot append string: localStorage not supported on this browser",{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:220,className:"backend.IO",methodName:"appendString"}),!1;var i=t.getItem(e);null==i?t.setItem(e,ceramic_HashedString.encode(n)):t.setItem(e,i+ceramic_HashedString.encode(n))}catch(n){var s=haxe_Exception.caught(n).unwrap();return ceramic_App.app.logger.error("Failed to append string (key="+e+"): "+Std.string(s),{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:233,className:"backend.IO",methodName:"appendString"}),!1}return!0},readString:function(e){try{var n=window.localStorage;if(null==n)return ceramic_App.app.logger.error("Cannot read string: localStorage not supported on this browser",{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:246,className:"backend.IO",methodName:"readString"}),null;var t=n.getItem(e);return null!=t?ceramic_HashedString.decode(t):null}catch(n){var i=haxe_Exception.caught(n).unwrap();return ceramic_App.app.logger.error("Failed to read string (key="+e+"): "+Std.string(i),{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:254,className:"backend.IO",methodName:"readString"}),null}},__class__:backend_IO};var spec_Info=function(){};t["spec.Info"]=spec_Info,spec_Info.__name__="spec.Info",spec_Info.__isInterface__=!0,spec_Info.prototype={__class__:spec_Info};var backend_Info=function(){};t["backend.Info"]=backend_Info,backend_Info.__name__="backend.Info",backend_Info.__interfaces__=[spec_Info],backend_Info.prototype={storageDirectory:function(){return null},imageExtensions:function(){return["png","jpg","jpeg"]},textExtensions:function(){return["txt","json","fnt"]},soundExtensions:function(){return["ogg","wav"]},shaderExtensions:function(){return["frag","vert"]},__class__:backend_Info};var spec_Input=function(){};t["spec.Input"]=spec_Input,spec_Input.__name__="spec.Input",spec_Input.__isInterface__=!0;var backend_Input=function(){};t["backend.Input"]=backend_Input,backend_Input.__name__="backend.Input",backend_Input.__interfaces__=[spec_Input,tracker_Events],backend_Input.prototype={emitKeyDown:function(e){var n=0;if(null!=this.__cbOnKeyDown&&(n+=this.__cbOnKeyDown.length),null!=this.__cbOnceKeyDown&&(n+=this.__cbOnceKeyDown.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnKeyDown)for(var r=0,l=this.__cbOnKeyDown.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnKeyDown[a],++s):--n}if(null!=this.__cbOnceKeyDown){var h=null,c=null;for(r=0,l=this.__cbOnceKeyDown.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceKeyDown[a],this.__cbOnceKeyDown[a]=null;var o=this.__cbOnceOwnerUnbindKeyDown[a];this.__cbOnceOwnerUnbindKeyDown[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindKeyDown[a]),c.push(this.__cbOnceKeyDown[a])}this.__cbOnceOwnerUnbindKeyDown=h,this.__cbOnceKeyDown=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onKeyDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push(null);null==this.__cbOnKeyDown&&(this.__cbOnKeyDown=[]),this.__cbOnKeyDown.push(n)},onceKeyDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push(null);null==this.__cbOnceKeyDown&&(this.__cbOnceKeyDown=[]),this.__cbOnceKeyDown.push(n)},offKeyDown:function(e){if(null!=e){var n;null!=this.__cbOnKeyDown&&-1!=(n=this.__cbOnKeyDown.indexOf(e))&&(this.__cbOnKeyDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindKeyDown[n])&&r(),this.__cbOnOwnerUnbindKeyDown.splice(n,1)),null!=this.__cbOnceKeyDown&&-1!=(n=this.__cbOnceKeyDown.indexOf(e))&&(this.__cbOnceKeyDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindKeyDown[n])&&r(),this.__cbOnceOwnerUnbindKeyDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyDown){for(var t=0,i=this.__cbOnOwnerUnbindKeyDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindKeyDown[s])&&r()}this.__cbOnOwnerUnbindKeyDown=null}if(null!=this.__cbOnceOwnerUnbindKeyDown){for(t=0,i=this.__cbOnceOwnerUnbindKeyDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindKeyDown[s])&&r()}this.__cbOnceOwnerUnbindKeyDown=null}this.__cbOnKeyDown=null,this.__cbOnceKeyDown=null}},listensKeyDown:function(){return null!=this.__cbOnKeyDown&&this.__cbOnKeyDown.length>0||null!=this.__cbOnceKeyDown&&this.__cbOnceKeyDown.length>0},emitKeyUp:function(e){var n=0;if(null!=this.__cbOnKeyUp&&(n+=this.__cbOnKeyUp.length),null!=this.__cbOnceKeyUp&&(n+=this.__cbOnceKeyUp.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnKeyUp)for(var r=0,l=this.__cbOnKeyUp.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnKeyUp[a],++s):--n}if(null!=this.__cbOnceKeyUp){var h=null,c=null;for(r=0,l=this.__cbOnceKeyUp.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceKeyUp[a],this.__cbOnceKeyUp[a]=null;var o=this.__cbOnceOwnerUnbindKeyUp[a];this.__cbOnceOwnerUnbindKeyUp[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindKeyUp[a]),c.push(this.__cbOnceKeyUp[a])}this.__cbOnceOwnerUnbindKeyUp=h,this.__cbOnceKeyUp=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onKeyUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push(null);null==this.__cbOnKeyUp&&(this.__cbOnKeyUp=[]),this.__cbOnKeyUp.push(n)},onceKeyUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push(null);null==this.__cbOnceKeyUp&&(this.__cbOnceKeyUp=[]),this.__cbOnceKeyUp.push(n)},offKeyUp:function(e){if(null!=e){var n;null!=this.__cbOnKeyUp&&-1!=(n=this.__cbOnKeyUp.indexOf(e))&&(this.__cbOnKeyUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindKeyUp[n])&&r(),this.__cbOnOwnerUnbindKeyUp.splice(n,1)),null!=this.__cbOnceKeyUp&&-1!=(n=this.__cbOnceKeyUp.indexOf(e))&&(this.__cbOnceKeyUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindKeyUp[n])&&r(),this.__cbOnceOwnerUnbindKeyUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyUp){for(var t=0,i=this.__cbOnOwnerUnbindKeyUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindKeyUp[s])&&r()}this.__cbOnOwnerUnbindKeyUp=null}if(null!=this.__cbOnceOwnerUnbindKeyUp){for(t=0,i=this.__cbOnceOwnerUnbindKeyUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindKeyUp[s])&&r()}this.__cbOnceOwnerUnbindKeyUp=null}this.__cbOnKeyUp=null,this.__cbOnceKeyUp=null}},listensKeyUp:function(){return null!=this.__cbOnKeyUp&&this.__cbOnKeyUp.length>0||null!=this.__cbOnceKeyUp&&this.__cbOnceKeyUp.length>0},emitGamepadAxis:function(e,n,t){var i=0;if(null!=this.__cbOnGamepadAxis&&(i+=this.__cbOnGamepadAxis.length),null!=this.__cbOnceGamepadAxis&&(i+=this.__cbOnceGamepadAxis.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnGamepadAxis)for(var a=0,h=this.__cbOnGamepadAxis.length;a<h;){var c=a++;!0?(r.vector[l]=this.__cbOnGamepadAxis[c],++l):--i}if(null!=this.__cbOnceGamepadAxis){var o=null,u=null;for(a=0,h=this.__cbOnceGamepadAxis.length;a<h;){c=a++;if(!0){r.vector[l]=this.__cbOnceGamepadAxis[c],this.__cbOnceGamepadAxis[c]=null;var _=this.__cbOnceOwnerUnbindGamepadAxis[c];this.__cbOnceOwnerUnbindGamepadAxis[c]=null,null!=_&&_(),++l}else--i,null==o&&(o=[],u=[],[]),o.push(this.__cbOnceOwnerUnbindGamepadAxis[c]),u.push(this.__cbOnceGamepadAxis[c])}this.__cbOnceOwnerUnbindGamepadAxis=o,this.__cbOnceGamepadAxis=u}for(a=0,h=i;a<h;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onGamepadAxis:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadAxis(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push(null);null==this.__cbOnGamepadAxis&&(this.__cbOnGamepadAxis=[]),this.__cbOnGamepadAxis.push(n)},onceGamepadAxis:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadAxis(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push(null);null==this.__cbOnceGamepadAxis&&(this.__cbOnceGamepadAxis=[]),this.__cbOnceGamepadAxis.push(n)},offGamepadAxis:function(e){if(null!=e){var n;null!=this.__cbOnGamepadAxis&&-1!=(n=this.__cbOnGamepadAxis.indexOf(e))&&(this.__cbOnGamepadAxis.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadAxis[n])&&r(),this.__cbOnOwnerUnbindGamepadAxis.splice(n,1)),null!=this.__cbOnceGamepadAxis&&-1!=(n=this.__cbOnceGamepadAxis.indexOf(e))&&(this.__cbOnceGamepadAxis.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadAxis[n])&&r(),this.__cbOnceOwnerUnbindGamepadAxis.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadAxis){for(var t=0,i=this.__cbOnOwnerUnbindGamepadAxis.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadAxis[s])&&r()}this.__cbOnOwnerUnbindGamepadAxis=null}if(null!=this.__cbOnceOwnerUnbindGamepadAxis){for(t=0,i=this.__cbOnceOwnerUnbindGamepadAxis.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadAxis[s])&&r()}this.__cbOnceOwnerUnbindGamepadAxis=null}this.__cbOnGamepadAxis=null,this.__cbOnceGamepadAxis=null}},listensGamepadAxis:function(){return null!=this.__cbOnGamepadAxis&&this.__cbOnGamepadAxis.length>0||null!=this.__cbOnceGamepadAxis&&this.__cbOnceGamepadAxis.length>0},emitGamepadDown:function(e,n){var t=0;if(null!=this.__cbOnGamepadDown&&(t+=this.__cbOnGamepadDown.length),null!=this.__cbOnceGamepadDown&&(t+=this.__cbOnceGamepadDown.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnGamepadDown)for(var l=0,a=this.__cbOnGamepadDown.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnGamepadDown[h],++r):--t}if(null!=this.__cbOnceGamepadDown){var c=null,o=null;for(l=0,a=this.__cbOnceGamepadDown.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceGamepadDown[h],this.__cbOnceGamepadDown[h]=null;var u=this.__cbOnceOwnerUnbindGamepadDown[h];this.__cbOnceOwnerUnbindGamepadDown[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindGamepadDown[h]),o.push(this.__cbOnceGamepadDown[h])}this.__cbOnceOwnerUnbindGamepadDown=c,this.__cbOnceGamepadDown=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onGamepadDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push(null);null==this.__cbOnGamepadDown&&(this.__cbOnGamepadDown=[]),this.__cbOnGamepadDown.push(n)},onceGamepadDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push(null);null==this.__cbOnceGamepadDown&&(this.__cbOnceGamepadDown=[]),this.__cbOnceGamepadDown.push(n)},offGamepadDown:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDown&&-1!=(n=this.__cbOnGamepadDown.indexOf(e))&&(this.__cbOnGamepadDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadDown[n])&&r(),this.__cbOnOwnerUnbindGamepadDown.splice(n,1)),null!=this.__cbOnceGamepadDown&&-1!=(n=this.__cbOnceGamepadDown.indexOf(e))&&(this.__cbOnceGamepadDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadDown[n])&&r(),this.__cbOnceOwnerUnbindGamepadDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDown){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadDown[s])&&r()}this.__cbOnOwnerUnbindGamepadDown=null}if(null!=this.__cbOnceOwnerUnbindGamepadDown){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadDown[s])&&r()}this.__cbOnceOwnerUnbindGamepadDown=null}this.__cbOnGamepadDown=null,this.__cbOnceGamepadDown=null}},listensGamepadDown:function(){return null!=this.__cbOnGamepadDown&&this.__cbOnGamepadDown.length>0||null!=this.__cbOnceGamepadDown&&this.__cbOnceGamepadDown.length>0},emitGamepadUp:function(e,n){var t=0;if(null!=this.__cbOnGamepadUp&&(t+=this.__cbOnGamepadUp.length),null!=this.__cbOnceGamepadUp&&(t+=this.__cbOnceGamepadUp.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnGamepadUp)for(var l=0,a=this.__cbOnGamepadUp.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnGamepadUp[h],++r):--t}if(null!=this.__cbOnceGamepadUp){var c=null,o=null;for(l=0,a=this.__cbOnceGamepadUp.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceGamepadUp[h],this.__cbOnceGamepadUp[h]=null;var u=this.__cbOnceOwnerUnbindGamepadUp[h];this.__cbOnceOwnerUnbindGamepadUp[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindGamepadUp[h]),o.push(this.__cbOnceGamepadUp[h])}this.__cbOnceOwnerUnbindGamepadUp=c,this.__cbOnceGamepadUp=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onGamepadUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push(null);null==this.__cbOnGamepadUp&&(this.__cbOnGamepadUp=[]),this.__cbOnGamepadUp.push(n)},onceGamepadUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push(null);null==this.__cbOnceGamepadUp&&(this.__cbOnceGamepadUp=[]),this.__cbOnceGamepadUp.push(n)},offGamepadUp:function(e){if(null!=e){var n;null!=this.__cbOnGamepadUp&&-1!=(n=this.__cbOnGamepadUp.indexOf(e))&&(this.__cbOnGamepadUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadUp[n])&&r(),this.__cbOnOwnerUnbindGamepadUp.splice(n,1)),null!=this.__cbOnceGamepadUp&&-1!=(n=this.__cbOnceGamepadUp.indexOf(e))&&(this.__cbOnceGamepadUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadUp[n])&&r(),this.__cbOnceOwnerUnbindGamepadUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadUp){for(var t=0,i=this.__cbOnOwnerUnbindGamepadUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadUp[s])&&r()}this.__cbOnOwnerUnbindGamepadUp=null}if(null!=this.__cbOnceOwnerUnbindGamepadUp){for(t=0,i=this.__cbOnceOwnerUnbindGamepadUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadUp[s])&&r()}this.__cbOnceOwnerUnbindGamepadUp=null}this.__cbOnGamepadUp=null,this.__cbOnceGamepadUp=null}},listensGamepadUp:function(){return null!=this.__cbOnGamepadUp&&this.__cbOnGamepadUp.length>0||null!=this.__cbOnceGamepadUp&&this.__cbOnceGamepadUp.length>0},emitGamepadEnable:function(e,n){var t=0;if(null!=this.__cbOnGamepadEnable&&(t+=this.__cbOnGamepadEnable.length),null!=this.__cbOnceGamepadEnable&&(t+=this.__cbOnceGamepadEnable.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnGamepadEnable)for(var l=0,a=this.__cbOnGamepadEnable.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnGamepadEnable[h],++r):--t}if(null!=this.__cbOnceGamepadEnable){var c=null,o=null;for(l=0,a=this.__cbOnceGamepadEnable.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceGamepadEnable[h],this.__cbOnceGamepadEnable[h]=null;var u=this.__cbOnceOwnerUnbindGamepadEnable[h];this.__cbOnceOwnerUnbindGamepadEnable[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindGamepadEnable[h]),o.push(this.__cbOnceGamepadEnable[h])}this.__cbOnceOwnerUnbindGamepadEnable=c,this.__cbOnceGamepadEnable=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onGamepadEnable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadEnable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push(null);null==this.__cbOnGamepadEnable&&(this.__cbOnGamepadEnable=[]),this.__cbOnGamepadEnable.push(n)},onceGamepadEnable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadEnable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push(null);null==this.__cbOnceGamepadEnable&&(this.__cbOnceGamepadEnable=[]),this.__cbOnceGamepadEnable.push(n)},offGamepadEnable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadEnable&&-1!=(n=this.__cbOnGamepadEnable.indexOf(e))&&(this.__cbOnGamepadEnable.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadEnable[n])&&r(),this.__cbOnOwnerUnbindGamepadEnable.splice(n,1)),null!=this.__cbOnceGamepadEnable&&-1!=(n=this.__cbOnceGamepadEnable.indexOf(e))&&(this.__cbOnceGamepadEnable.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadEnable[n])&&r(),this.__cbOnceOwnerUnbindGamepadEnable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadEnable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadEnable.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadEnable[s])&&r()}this.__cbOnOwnerUnbindGamepadEnable=null}if(null!=this.__cbOnceOwnerUnbindGamepadEnable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadEnable.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadEnable[s])&&r()}this.__cbOnceOwnerUnbindGamepadEnable=null}this.__cbOnGamepadEnable=null,this.__cbOnceGamepadEnable=null}},listensGamepadEnable:function(){return null!=this.__cbOnGamepadEnable&&this.__cbOnGamepadEnable.length>0||null!=this.__cbOnceGamepadEnable&&this.__cbOnceGamepadEnable.length>0},emitGamepadDisable:function(e){var n=0;if(null!=this.__cbOnGamepadDisable&&(n+=this.__cbOnGamepadDisable.length),null!=this.__cbOnceGamepadDisable&&(n+=this.__cbOnceGamepadDisable.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnGamepadDisable)for(var r=0,l=this.__cbOnGamepadDisable.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnGamepadDisable[a],++s):--n}if(null!=this.__cbOnceGamepadDisable){var h=null,c=null;for(r=0,l=this.__cbOnceGamepadDisable.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceGamepadDisable[a],this.__cbOnceGamepadDisable[a]=null;var o=this.__cbOnceOwnerUnbindGamepadDisable[a];this.__cbOnceOwnerUnbindGamepadDisable[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindGamepadDisable[a]),c.push(this.__cbOnceGamepadDisable[a])}this.__cbOnceOwnerUnbindGamepadDisable=h,this.__cbOnceGamepadDisable=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onGamepadDisable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDisable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push(null);null==this.__cbOnGamepadDisable&&(this.__cbOnGamepadDisable=[]),this.__cbOnGamepadDisable.push(n)},onceGamepadDisable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDisable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push(null);null==this.__cbOnceGamepadDisable&&(this.__cbOnceGamepadDisable=[]),this.__cbOnceGamepadDisable.push(n)},offGamepadDisable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDisable&&-1!=(n=this.__cbOnGamepadDisable.indexOf(e))&&(this.__cbOnGamepadDisable.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadDisable[n])&&r(),this.__cbOnOwnerUnbindGamepadDisable.splice(n,1)),null!=this.__cbOnceGamepadDisable&&-1!=(n=this.__cbOnceGamepadDisable.indexOf(e))&&(this.__cbOnceGamepadDisable.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadDisable[n])&&r(),this.__cbOnceOwnerUnbindGamepadDisable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDisable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDisable.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadDisable[s])&&r()}this.__cbOnOwnerUnbindGamepadDisable=null}if(null!=this.__cbOnceOwnerUnbindGamepadDisable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDisable.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadDisable[s])&&r()}this.__cbOnceOwnerUnbindGamepadDisable=null}this.__cbOnGamepadDisable=null,this.__cbOnceGamepadDisable=null}},listensGamepadDisable:function(){return null!=this.__cbOnGamepadDisable&&this.__cbOnGamepadDisable.length>0||null!=this.__cbOnceGamepadDisable&&this.__cbOnceGamepadDisable.length>0},unbindEvents:function(){this.offKeyDown(),this.offKeyUp(),this.offGamepadAxis(),this.offGamepadDown(),this.offGamepadUp(),this.offGamepadEnable(),this.offGamepadDisable()},__class__:backend_Input};var spec_Screen=function(){};t["spec.Screen"]=spec_Screen,spec_Screen.__name__="spec.Screen",spec_Screen.__isInterface__=!0,spec_Screen.prototype={__class__:spec_Screen};var backend_Screen=function(){this.nextScreenshotIndex=0,this.didTryResumeAudioContext=!1};t["backend.Screen"]=backend_Screen,backend_Screen.__name__="backend.Screen",backend_Screen.__interfaces__=[spec_Screen,tracker_Events],backend_Screen.prototype={emitResize:function(){var e=0;if(null!=this.__cbOnResize&&(e+=this.__cbOnResize.length),null!=this.__cbOnceResize&&(e+=this.__cbOnceResize.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnResize)for(var s=0,r=this.__cbOnResize.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnResize[l],++i):--e}if(null!=this.__cbOnceResize){var a=null,h=null;for(s=0,r=this.__cbOnceResize.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceResize[l],this.__cbOnceResize[l]=null;var c=this.__cbOnceOwnerUnbindResize[l];this.__cbOnceOwnerUnbindResize[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindResize[l]),h.push(this.__cbOnceResize[l])}this.__cbOnceOwnerUnbindResize=a,this.__cbOnceResize=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onResize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event resize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offResize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(null);null==this.__cbOnResize&&(this.__cbOnResize=[]),this.__cbOnResize.push(n)},onceResize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event resize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offResize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(null);null==this.__cbOnceResize&&(this.__cbOnceResize=[]),this.__cbOnceResize.push(n)},offResize:function(e){if(null!=e){var n;null!=this.__cbOnResize&&-1!=(n=this.__cbOnResize.indexOf(e))&&(this.__cbOnResize.splice(n,1),null!=(r=this.__cbOnOwnerUnbindResize[n])&&r(),this.__cbOnOwnerUnbindResize.splice(n,1)),null!=this.__cbOnceResize&&-1!=(n=this.__cbOnceResize.indexOf(e))&&(this.__cbOnceResize.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindResize[n])&&r(),this.__cbOnceOwnerUnbindResize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindResize){for(var t=0,i=this.__cbOnOwnerUnbindResize.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindResize[s])&&r()}this.__cbOnOwnerUnbindResize=null}if(null!=this.__cbOnceOwnerUnbindResize){for(t=0,i=this.__cbOnceOwnerUnbindResize.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindResize[s])&&r()}this.__cbOnceOwnerUnbindResize=null}this.__cbOnResize=null,this.__cbOnceResize=null}},listensResize:function(){return null!=this.__cbOnResize&&this.__cbOnResize.length>0||null!=this.__cbOnceResize&&this.__cbOnceResize.length>0},emitMouseDown:function(e,n,t){this.tryResumeAudioContextIfNeeded();var i=0;if(null!=this.__cbOnMouseDown&&(i+=this.__cbOnMouseDown.length),null!=this.__cbOnceMouseDown&&(i+=this.__cbOnceMouseDown.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnMouseDown)for(var a=0,h=this.__cbOnMouseDown.length;a<h;){var c=a++;!0?(r.vector[l]=this.__cbOnMouseDown[c],++l):--i}if(null!=this.__cbOnceMouseDown){var o=null,u=null;for(a=0,h=this.__cbOnceMouseDown.length;a<h;){c=a++;if(!0){r.vector[l]=this.__cbOnceMouseDown[c],this.__cbOnceMouseDown[c]=null;var _=this.__cbOnceOwnerUnbindMouseDown[c];this.__cbOnceOwnerUnbindMouseDown[c]=null,null!=_&&_(),++l}else--i,null==o&&(o=[],u=[],[]),o.push(this.__cbOnceOwnerUnbindMouseDown[c]),u.push(this.__cbOnceMouseDown[c])}this.__cbOnceOwnerUnbindMouseDown=o,this.__cbOnceMouseDown=u}for(a=0,h=i;a<h;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onMouseDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push(null);null==this.__cbOnMouseDown&&(this.__cbOnMouseDown=[]),this.__cbOnMouseDown.push(n)},onceMouseDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push(null);null==this.__cbOnceMouseDown&&(this.__cbOnceMouseDown=[]),this.__cbOnceMouseDown.push(n)},offMouseDown:function(e){if(null!=e){var n;null!=this.__cbOnMouseDown&&-1!=(n=this.__cbOnMouseDown.indexOf(e))&&(this.__cbOnMouseDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseDown[n])&&r(),this.__cbOnOwnerUnbindMouseDown.splice(n,1)),null!=this.__cbOnceMouseDown&&-1!=(n=this.__cbOnceMouseDown.indexOf(e))&&(this.__cbOnceMouseDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseDown[n])&&r(),this.__cbOnceOwnerUnbindMouseDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseDown){for(var t=0,i=this.__cbOnOwnerUnbindMouseDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMouseDown[s])&&r()}this.__cbOnOwnerUnbindMouseDown=null}if(null!=this.__cbOnceOwnerUnbindMouseDown){for(t=0,i=this.__cbOnceOwnerUnbindMouseDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMouseDown[s])&&r()}this.__cbOnceOwnerUnbindMouseDown=null}this.__cbOnMouseDown=null,this.__cbOnceMouseDown=null}},listensMouseDown:function(){return null!=this.__cbOnMouseDown&&this.__cbOnMouseDown.length>0||null!=this.__cbOnceMouseDown&&this.__cbOnceMouseDown.length>0},emitMouseUp:function(e,n,t){var i=0;if(null!=this.__cbOnMouseUp&&(i+=this.__cbOnMouseUp.length),null!=this.__cbOnceMouseUp&&(i+=this.__cbOnceMouseUp.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnMouseUp)for(var a=0,h=this.__cbOnMouseUp.length;a<h;){var c=a++;!0?(r.vector[l]=this.__cbOnMouseUp[c],++l):--i}if(null!=this.__cbOnceMouseUp){var o=null,u=null;for(a=0,h=this.__cbOnceMouseUp.length;a<h;){c=a++;if(!0){r.vector[l]=this.__cbOnceMouseUp[c],this.__cbOnceMouseUp[c]=null;var _=this.__cbOnceOwnerUnbindMouseUp[c];this.__cbOnceOwnerUnbindMouseUp[c]=null,null!=_&&_(),++l}else--i,null==o&&(o=[],u=[],[]),o.push(this.__cbOnceOwnerUnbindMouseUp[c]),u.push(this.__cbOnceMouseUp[c])}this.__cbOnceOwnerUnbindMouseUp=o,this.__cbOnceMouseUp=u}for(a=0,h=i;a<h;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onMouseUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push(null);null==this.__cbOnMouseUp&&(this.__cbOnMouseUp=[]),this.__cbOnMouseUp.push(n)},onceMouseUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push(null);null==this.__cbOnceMouseUp&&(this.__cbOnceMouseUp=[]),this.__cbOnceMouseUp.push(n)},offMouseUp:function(e){if(null!=e){var n;null!=this.__cbOnMouseUp&&-1!=(n=this.__cbOnMouseUp.indexOf(e))&&(this.__cbOnMouseUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseUp[n])&&r(),this.__cbOnOwnerUnbindMouseUp.splice(n,1)),null!=this.__cbOnceMouseUp&&-1!=(n=this.__cbOnceMouseUp.indexOf(e))&&(this.__cbOnceMouseUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseUp[n])&&r(),this.__cbOnceOwnerUnbindMouseUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseUp){for(var t=0,i=this.__cbOnOwnerUnbindMouseUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMouseUp[s])&&r()}this.__cbOnOwnerUnbindMouseUp=null}if(null!=this.__cbOnceOwnerUnbindMouseUp){for(t=0,i=this.__cbOnceOwnerUnbindMouseUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMouseUp[s])&&r()}this.__cbOnceOwnerUnbindMouseUp=null}this.__cbOnMouseUp=null,this.__cbOnceMouseUp=null}},listensMouseUp:function(){return null!=this.__cbOnMouseUp&&this.__cbOnMouseUp.length>0||null!=this.__cbOnceMouseUp&&this.__cbOnceMouseUp.length>0},emitMouseWheel:function(e,n){var t=0;if(null!=this.__cbOnMouseWheel&&(t+=this.__cbOnMouseWheel.length),null!=this.__cbOnceMouseWheel&&(t+=this.__cbOnceMouseWheel.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnMouseWheel)for(var l=0,a=this.__cbOnMouseWheel.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnMouseWheel[h],++r):--t}if(null!=this.__cbOnceMouseWheel){var c=null,o=null;for(l=0,a=this.__cbOnceMouseWheel.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceMouseWheel[h],this.__cbOnceMouseWheel[h]=null;var u=this.__cbOnceOwnerUnbindMouseWheel[h];this.__cbOnceOwnerUnbindMouseWheel[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindMouseWheel[h]),o.push(this.__cbOnceMouseWheel[h])}this.__cbOnceOwnerUnbindMouseWheel=c,this.__cbOnceMouseWheel=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onMouseWheel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseWheel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseWheel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push(null);null==this.__cbOnMouseWheel&&(this.__cbOnMouseWheel=[]),this.__cbOnMouseWheel.push(n)},onceMouseWheel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseWheel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseWheel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push(null);null==this.__cbOnceMouseWheel&&(this.__cbOnceMouseWheel=[]),this.__cbOnceMouseWheel.push(n)},offMouseWheel:function(e){if(null!=e){var n;null!=this.__cbOnMouseWheel&&-1!=(n=this.__cbOnMouseWheel.indexOf(e))&&(this.__cbOnMouseWheel.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseWheel[n])&&r(),this.__cbOnOwnerUnbindMouseWheel.splice(n,1)),null!=this.__cbOnceMouseWheel&&-1!=(n=this.__cbOnceMouseWheel.indexOf(e))&&(this.__cbOnceMouseWheel.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseWheel[n])&&r(),this.__cbOnceOwnerUnbindMouseWheel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseWheel){for(var t=0,i=this.__cbOnOwnerUnbindMouseWheel.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMouseWheel[s])&&r()}this.__cbOnOwnerUnbindMouseWheel=null}if(null!=this.__cbOnceOwnerUnbindMouseWheel){for(t=0,i=this.__cbOnceOwnerUnbindMouseWheel.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMouseWheel[s])&&r()}this.__cbOnceOwnerUnbindMouseWheel=null}this.__cbOnMouseWheel=null,this.__cbOnceMouseWheel=null}},listensMouseWheel:function(){return null!=this.__cbOnMouseWheel&&this.__cbOnMouseWheel.length>0||null!=this.__cbOnceMouseWheel&&this.__cbOnceMouseWheel.length>0},emitMouseMove:function(e,n){var t=0;if(null!=this.__cbOnMouseMove&&(t+=this.__cbOnMouseMove.length),null!=this.__cbOnceMouseMove&&(t+=this.__cbOnceMouseMove.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnMouseMove)for(var l=0,a=this.__cbOnMouseMove.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnMouseMove[h],++r):--t}if(null!=this.__cbOnceMouseMove){var c=null,o=null;for(l=0,a=this.__cbOnceMouseMove.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceMouseMove[h],this.__cbOnceMouseMove[h]=null;var u=this.__cbOnceOwnerUnbindMouseMove[h];this.__cbOnceOwnerUnbindMouseMove[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindMouseMove[h]),o.push(this.__cbOnceMouseMove[h])}this.__cbOnceOwnerUnbindMouseMove=c,this.__cbOnceMouseMove=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onMouseMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push(null);null==this.__cbOnMouseMove&&(this.__cbOnMouseMove=[]),this.__cbOnMouseMove.push(n)},onceMouseMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push(null);null==this.__cbOnceMouseMove&&(this.__cbOnceMouseMove=[]),this.__cbOnceMouseMove.push(n)},offMouseMove:function(e){if(null!=e){var n;null!=this.__cbOnMouseMove&&-1!=(n=this.__cbOnMouseMove.indexOf(e))&&(this.__cbOnMouseMove.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseMove[n])&&r(),this.__cbOnOwnerUnbindMouseMove.splice(n,1)),null!=this.__cbOnceMouseMove&&-1!=(n=this.__cbOnceMouseMove.indexOf(e))&&(this.__cbOnceMouseMove.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseMove[n])&&r(),this.__cbOnceOwnerUnbindMouseMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseMove){for(var t=0,i=this.__cbOnOwnerUnbindMouseMove.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMouseMove[s])&&r()}this.__cbOnOwnerUnbindMouseMove=null}if(null!=this.__cbOnceOwnerUnbindMouseMove){for(t=0,i=this.__cbOnceOwnerUnbindMouseMove.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMouseMove[s])&&r()}this.__cbOnceOwnerUnbindMouseMove=null}this.__cbOnMouseMove=null,this.__cbOnceMouseMove=null}},listensMouseMove:function(){return null!=this.__cbOnMouseMove&&this.__cbOnMouseMove.length>0||null!=this.__cbOnceMouseMove&&this.__cbOnceMouseMove.length>0},emitTouchDown:function(e,n,t){this.tryResumeAudioContextIfNeeded();var i=0;if(null!=this.__cbOnTouchDown&&(i+=this.__cbOnTouchDown.length),null!=this.__cbOnceTouchDown&&(i+=this.__cbOnceTouchDown.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnTouchDown)for(var a=0,h=this.__cbOnTouchDown.length;a<h;){var c=a++;!0?(r.vector[l]=this.__cbOnTouchDown[c],++l):--i}if(null!=this.__cbOnceTouchDown){var o=null,u=null;for(a=0,h=this.__cbOnceTouchDown.length;a<h;){c=a++;if(!0){r.vector[l]=this.__cbOnceTouchDown[c],this.__cbOnceTouchDown[c]=null;var _=this.__cbOnceOwnerUnbindTouchDown[c];this.__cbOnceOwnerUnbindTouchDown[c]=null,null!=_&&_(),++l}else--i,null==o&&(o=[],u=[],[]),o.push(this.__cbOnceOwnerUnbindTouchDown[c]),u.push(this.__cbOnceTouchDown[c])}this.__cbOnceOwnerUnbindTouchDown=o,this.__cbOnceTouchDown=u}for(a=0,h=i;a<h;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onTouchDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push(null);null==this.__cbOnTouchDown&&(this.__cbOnTouchDown=[]),this.__cbOnTouchDown.push(n)},onceTouchDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push(null);null==this.__cbOnceTouchDown&&(this.__cbOnceTouchDown=[]),this.__cbOnceTouchDown.push(n)},offTouchDown:function(e){if(null!=e){var n;null!=this.__cbOnTouchDown&&-1!=(n=this.__cbOnTouchDown.indexOf(e))&&(this.__cbOnTouchDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTouchDown[n])&&r(),this.__cbOnOwnerUnbindTouchDown.splice(n,1)),null!=this.__cbOnceTouchDown&&-1!=(n=this.__cbOnceTouchDown.indexOf(e))&&(this.__cbOnceTouchDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTouchDown[n])&&r(),this.__cbOnceOwnerUnbindTouchDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchDown){for(var t=0,i=this.__cbOnOwnerUnbindTouchDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTouchDown[s])&&r()}this.__cbOnOwnerUnbindTouchDown=null}if(null!=this.__cbOnceOwnerUnbindTouchDown){for(t=0,i=this.__cbOnceOwnerUnbindTouchDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTouchDown[s])&&r()}this.__cbOnceOwnerUnbindTouchDown=null}this.__cbOnTouchDown=null,this.__cbOnceTouchDown=null}},listensTouchDown:function(){return null!=this.__cbOnTouchDown&&this.__cbOnTouchDown.length>0||null!=this.__cbOnceTouchDown&&this.__cbOnceTouchDown.length>0},emitTouchUp:function(e,n,t){var i=0;if(null!=this.__cbOnTouchUp&&(i+=this.__cbOnTouchUp.length),null!=this.__cbOnceTouchUp&&(i+=this.__cbOnceTouchUp.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnTouchUp)for(var a=0,h=this.__cbOnTouchUp.length;a<h;){var c=a++;!0?(r.vector[l]=this.__cbOnTouchUp[c],++l):--i}if(null!=this.__cbOnceTouchUp){var o=null,u=null;for(a=0,h=this.__cbOnceTouchUp.length;a<h;){c=a++;if(!0){r.vector[l]=this.__cbOnceTouchUp[c],this.__cbOnceTouchUp[c]=null;var _=this.__cbOnceOwnerUnbindTouchUp[c];this.__cbOnceOwnerUnbindTouchUp[c]=null,null!=_&&_(),++l}else--i,null==o&&(o=[],u=[],[]),o.push(this.__cbOnceOwnerUnbindTouchUp[c]),u.push(this.__cbOnceTouchUp[c])}this.__cbOnceOwnerUnbindTouchUp=o,this.__cbOnceTouchUp=u}for(a=0,h=i;a<h;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onTouchUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push(null);null==this.__cbOnTouchUp&&(this.__cbOnTouchUp=[]),this.__cbOnTouchUp.push(n)},onceTouchUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push(null);null==this.__cbOnceTouchUp&&(this.__cbOnceTouchUp=[]),this.__cbOnceTouchUp.push(n)},offTouchUp:function(e){if(null!=e){var n;null!=this.__cbOnTouchUp&&-1!=(n=this.__cbOnTouchUp.indexOf(e))&&(this.__cbOnTouchUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTouchUp[n])&&r(),this.__cbOnOwnerUnbindTouchUp.splice(n,1)),null!=this.__cbOnceTouchUp&&-1!=(n=this.__cbOnceTouchUp.indexOf(e))&&(this.__cbOnceTouchUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTouchUp[n])&&r(),this.__cbOnceOwnerUnbindTouchUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchUp){for(var t=0,i=this.__cbOnOwnerUnbindTouchUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTouchUp[s])&&r()}this.__cbOnOwnerUnbindTouchUp=null}if(null!=this.__cbOnceOwnerUnbindTouchUp){for(t=0,i=this.__cbOnceOwnerUnbindTouchUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTouchUp[s])&&r()}this.__cbOnceOwnerUnbindTouchUp=null}this.__cbOnTouchUp=null,this.__cbOnceTouchUp=null}},listensTouchUp:function(){return null!=this.__cbOnTouchUp&&this.__cbOnTouchUp.length>0||null!=this.__cbOnceTouchUp&&this.__cbOnceTouchUp.length>0},emitTouchMove:function(e,n,t){var i=0;if(null!=this.__cbOnTouchMove&&(i+=this.__cbOnTouchMove.length),null!=this.__cbOnceTouchMove&&(i+=this.__cbOnceTouchMove.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnTouchMove)for(var a=0,h=this.__cbOnTouchMove.length;a<h;){var c=a++;!0?(r.vector[l]=this.__cbOnTouchMove[c],++l):--i}if(null!=this.__cbOnceTouchMove){var o=null,u=null;for(a=0,h=this.__cbOnceTouchMove.length;a<h;){c=a++;if(!0){r.vector[l]=this.__cbOnceTouchMove[c],this.__cbOnceTouchMove[c]=null;var _=this.__cbOnceOwnerUnbindTouchMove[c];this.__cbOnceOwnerUnbindTouchMove[c]=null,null!=_&&_(),++l}else--i,null==o&&(o=[],u=[],[]),o.push(this.__cbOnceOwnerUnbindTouchMove[c]),u.push(this.__cbOnceTouchMove[c])}this.__cbOnceOwnerUnbindTouchMove=o,this.__cbOnceTouchMove=u}for(a=0,h=i;a<h;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onTouchMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push(null);null==this.__cbOnTouchMove&&(this.__cbOnTouchMove=[]),this.__cbOnTouchMove.push(n)},onceTouchMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push(null);null==this.__cbOnceTouchMove&&(this.__cbOnceTouchMove=[]),this.__cbOnceTouchMove.push(n)},offTouchMove:function(e){if(null!=e){var n;null!=this.__cbOnTouchMove&&-1!=(n=this.__cbOnTouchMove.indexOf(e))&&(this.__cbOnTouchMove.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTouchMove[n])&&r(),this.__cbOnOwnerUnbindTouchMove.splice(n,1)),null!=this.__cbOnceTouchMove&&-1!=(n=this.__cbOnceTouchMove.indexOf(e))&&(this.__cbOnceTouchMove.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTouchMove[n])&&r(),this.__cbOnceOwnerUnbindTouchMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchMove){for(var t=0,i=this.__cbOnOwnerUnbindTouchMove.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTouchMove[s])&&r()}this.__cbOnOwnerUnbindTouchMove=null}if(null!=this.__cbOnceOwnerUnbindTouchMove){for(t=0,i=this.__cbOnceOwnerUnbindTouchMove.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTouchMove[s])&&r()}this.__cbOnceOwnerUnbindTouchMove=null}this.__cbOnTouchMove=null,this.__cbOnceTouchMove=null}},listensTouchMove:function(){return null!=this.__cbOnTouchMove&&this.__cbOnTouchMove.length>0||null!=this.__cbOnceTouchMove&&this.__cbOnceTouchMove.length>0},willEmitMouseDown:function(e,n,t){this.tryResumeAudioContextIfNeeded()},willEmitTouchDown:function(e,n,t){this.tryResumeAudioContextIfNeeded()},tryResumeAudioContextIfNeeded:function(){this.didTryResumeAudioContext||(this.didTryResumeAudioContext=!0,ceramic_App.app.backend.audio.resumeAudioContext((function(e){e?ceramic_App.app.logger.success("Did resume audio context",{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Screen.hx",lineNumber:51,className:"backend.Screen",methodName:"tryResumeAudioContextIfNeeded"}):ceramic_App.app.logger.error("Failed to resume audio context",{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Screen.hx",lineNumber:54,className:"backend.Screen",methodName:"tryResumeAudioContextIfNeeded"})})))},getWidth:function(){return clay_Clay.app.screenWidth},getHeight:function(){return clay_Clay.app.screenHeight},getDensity:function(){return clay_Clay.app.screenDensity},setBackground:function(e){},setWindowTitle:function(e){clay_Clay.app.runtime.setWindowTitle(e)},setWindowFullscreen:function(e){null==backend_ElectronRunner.electronRunner||null==backend_ElectronRunner.electronRunner.setFullscreen?clay_Clay.app.runtime.setWindowFullscreen(e)||ceramic_App.app.settings.set_fullscreen(!e):backend_ElectronRunner.electronRunner.setFullscreen(e)},screenshotToTexture:function(e){var n=this;clay_Clay.app.runtime.window.toBlob((function(t){t.arrayBuffer().then((function(t){var i=new Uint8Array(t,0,t.byteLength);clay_Clay.app.assets.imageFromBytes(i,"png",4,!0,(function(t){if(null!=t){var i="screenshot:"+n.nextScreenshotIndex++,s=clay_graphics_Texture.fromImage(t);s.id=i,s.init(),e(s)}else e(null)}))}))}),"image/png")},screenshotToPng:function(e,n){clay_Clay.app.runtime.window.toBlob((function(t){t.arrayBuffer().then((function(t){var i=new haxe_io_Bytes(new Uint8Array(new Uint8Array(t,0,t.byteLength).buffer));null!=e?(ceramic_Files.saveBytes(e,i),n()):n(i)}))}),"image/png")},screenshotToPixels:function(e){clay_Clay.app.runtime.window.toBlob((function(n){n.arrayBuffer().then((function(n){var t=new Uint8Array(n,0,n.byteLength);clay_Clay.app.assets.imageFromBytes(t,"png",4,!1,(function(n){null!=n?e(n.pixels,n.width,n.height):e(null,0,0)}))}))}),"image/png")},unbindEvents:function(){this.offResize(),this.offMouseDown(),this.offMouseUp(),this.offMouseWheel(),this.offMouseMove(),this.offTouchDown(),this.offTouchUp(),this.offTouchMove()},__class__:backend_Screen};var clay_Resource=function(){this.id=null};t["clay.Resource"]=clay_Resource,clay_Resource.__name__="clay.Resource",clay_Resource.prototype={__class__:clay_Resource};var clay_graphics_Shader=function(){this.gpuShader=null,this.uniforms=null,this.textures=null,this.attributes=null,this.fragSource=null,this.vertSource=null,clay_Resource.call(this)};t["clay.graphics.Shader"]=clay_graphics_Shader,clay_graphics_Shader.__name__="clay.graphics.Shader",clay_graphics_Shader.__super__=clay_Resource,clay_graphics_Shader.prototype=$extend(clay_Resource.prototype,{init:function(){if(this.gpuShader=clay_opengl_GLGraphics.createShader(this.vertSource,this.fragSource,this.attributes,this.textures),null==this.gpuShader)throw haxe_Exception.thrown("Failed to create shader (id="+this.id+")");this.uniforms=new clay_graphics_Uniforms(this.gpuShader)},activate:function(){var e=this.gpuShader;clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),null!=this.uniforms&&this.uniforms.apply()},destroy:function(){clay_opengl_GLGraphics.deleteShader(this.gpuShader)},__class__:clay_graphics_Shader});var backend_ShaderImpl=function(){this.isBatchingMultiTexture=!1,this.customAttributes=null,clay_graphics_Shader.call(this)};t["backend.ShaderImpl"]=backend_ShaderImpl,backend_ShaderImpl.__name__="backend.ShaderImpl",backend_ShaderImpl.__super__=clay_graphics_Shader,backend_ShaderImpl.prototype=$extend(clay_graphics_Shader.prototype,{clone:function(){var e=new backend_ShaderImpl;return e.vertSource=this.vertSource,e.fragSource=this.fragSource,e.customAttributes=this.customAttributes,e.isBatchingMultiTexture=this.isBatchingMultiTexture,e.attributes=this.attributes,e.textures=this.textures,e.init(),e},__class__:backend_ShaderImpl});var spec_Shaders=function(){};t["spec.Shaders"]=spec_Shaders,spec_Shaders.__name__="spec.Shaders",spec_Shaders.__isInterface__=!0,spec_Shaders.prototype={__class__:spec_Shaders};var backend_Shaders=function(){};t["backend.Shaders"]=backend_Shaders,backend_Shaders.__name__="backend.Shaders",backend_Shaders.__interfaces__=[spec_Shaders],backend_Shaders.processMultiTextureVertTemplate=function(e,n,t){for(var i=e.split("\n"),s=[],r=0,l=i.length;r<l;){var a=i[r++],h=StringTools.replace(StringTools.trim(a)," ","").toLowerCase();"//ceramic:multitexture/vertextextureid"==h?s.push("attribute float vertexTextureId;"):"//ceramic:multitexture/textureid"==h?s.push("varying float textureId;"):"//ceramic:multitexture/assigntextureid"==h?s.push("textureId = vertexTextureId;"):s.push(a)}return s.join("\n")},backend_Shaders.processMultiTextureFragTemplate=function(e,n,t){for(var i=0|Math.min(n,t),s=e.split("\n"),r=[],l=!1,a=!1,h=[],c=0,o=s.length;c<o;){var u=s[c++],_=StringTools.replace(StringTools.trim(u)," ","").toLowerCase();if(l){l=!1;for(var d=0,b=i;d<b;){var f=d++;0==f?r.push(u):r.push(StringTools.replace(u,"tex0","tex"+f))}}else if(a)if("//ceramic:multitexture/endif"==_){if(a=!1,h.length>0)for(var p=0,O=i;p<O;){var g=p++;0==g?r.push("if (textureId == 0.0) {"):r.push("else if (textureId == "+g+".0) {");for(var m=0,w=h.length;m<w;){var v=m++;0==g?r.push(h[v]):r.push(StringTools.replace(h[v],"tex0","tex"+g))}r.push("}")}}else h.push(u);else StringTools.startsWith(_,"//ceramic:multitexture")?"//ceramic:multitexture/texture"==_?l=!0:"//ceramic:multitexture/textureid"==_?r.push("varying float textureId;"):"//ceramic:multitexture/if"==_&&(a=!0):r.push(u)}return r.join("\n")},backend_Shaders.computeMaxIfStatementsByFragmentShaderIfNeeded=function(e){if(null==e&&(e=32),-1==backend_Shaders._maxIfStatementsByFragmentShader){for(var n=StringTools.trim("\n#ifdef GL_ES\nprecision mediump float;\n#else\n#define mediump\n#endif\nvarying float test;\nvoid main() {\n    {{CONDITIONS}}\n    gl_FragColor = vec4(0.0);\n}\n"),t=clay_opengl_web_GL.gl.createShader(35632);e>0;){var i=StringTools.replace(n,"{{CONDITIONS}}",backend_Shaders.generateIfStatements(e));if(clay_opengl_web_GL.gl.shaderSource(t,i),clay_opengl_web_GL.gl.compileShader(t),0!=clay_opengl_web_GL.gl.getShaderParameter(t,35713)){backend_Shaders._maxIfStatementsByFragmentShader=e;break}e=e/2|0}clay_opengl_web_GL.gl.deleteShader(t)}},backend_Shaders.generateIfStatements=function(e){for(var n="",t=0,i=e;t<i;){var s=t++;s>0&&(n+="\nelse "),s<e-1&&(n+=Std.string("if (test == "+s+".0) {}"))}return n},backend_Shaders.prototype={fromSource:function(e,n,t){for(var i=!1,s=0,r=n.split("\n");s<r.length;){var l=r[s];if(++s,"//ceramic:multitexture"==StringTools.replace(StringTools.trim(l)," ","").toLowerCase()){i=!0;break}}var a=["tex0"];if(i){var h=ceramic_App.app.backend.textures.maxTexturesByBatch(),c=this.maxIfStatementsByFragmentShader(),o=0|Math.min(h,c);if(o>1)for(var u=1;u<=o;)a.push("tex"+u),++u;n=backend_Shaders.processMultiTextureFragTemplate(n,h,c),e=backend_Shaders.processMultiTextureVertTemplate(e,h,c)}var _=new backend_ShaderImpl;return _.attributes=i?backend_Shaders.SHADER_ATTRIBUTES_MULTITEXTURE:backend_Shaders.SHADER_ATTRIBUTES,_.textures=a,_.vertSource=e,_.fragSource=n,_.isBatchingMultiTexture=i,_.customAttributes=t,_.init(),_},destroy:function(e){e.destroy()},clone:function(e){return e.clone()},setInt:function(e,n,t){e.uniforms.setInt(n,t)},setFloat:function(e,n,t){e.uniforms.setFloat(n,t)},setColor:function(e,n,t,i,s,r){e.uniforms.setColor(n,t,i,s,r)},setVec2:function(e,n,t,i){e.uniforms.setVector2(n,t,i)},setVec3:function(e,n,t,i,s){e.uniforms.setVector3(n,t,i,s)},setVec4:function(e,n,t,i,s,r){e.uniforms.setVector4(n,t,i,s,r)},setFloatArray:function(e,n,t){e.uniforms.setFloatArray(n,new Float32Array(t))},setTexture:function(e,n,t,i){e.uniforms.setTexture(n,t,i)},setMat4FromTransform:function(e,n,t){e.uniforms.setMatrix4(n,new Float32Array([t.a,t.b,0,0,t.c,t.d,0,0,0,0,1,0,t.tx,t.ty,0,1]))},customFloatAttributesSize:function(e){var n=0,t=e.customAttributes;if(null!=t)for(var i=0,s=t.length;i<s;){n+=t[i++].size}return n},maxIfStatementsByFragmentShader:function(){var e=32;if(-1==backend_Shaders._maxIfStatementsByFragmentShader){for(var n=StringTools.trim("\n#ifdef GL_ES\nprecision mediump float;\n#else\n#define mediump\n#endif\nvarying float test;\nvoid main() {\n    {{CONDITIONS}}\n    gl_FragColor = vec4(0.0);\n}\n"),t=clay_opengl_web_GL.gl.createShader(35632);e>0;){var i=StringTools.replace(n,"{{CONDITIONS}}",backend_Shaders.generateIfStatements(e));if(clay_opengl_web_GL.gl.shaderSource(t,i),clay_opengl_web_GL.gl.compileShader(t),0!=clay_opengl_web_GL.gl.getShaderParameter(t,35713)){backend_Shaders._maxIfStatementsByFragmentShader=e;break}e=e/2|0}clay_opengl_web_GL.gl.deleteShader(t)}return backend_Shaders._maxIfStatementsByFragmentShader},canBatchWithMultipleTextures:function(e){return e.isBatchingMultiTexture},__class__:backend_Shaders};var spec_TextInput=function(){};t["spec.TextInput"]=spec_TextInput,spec_TextInput.__name__="spec.TextInput",spec_TextInput.__isInterface__=!0,spec_TextInput.prototype={__class__:spec_TextInput};var backend_TextInput=function(){this.inputRectH=0,this.inputRectW=0,this.inputRectY=0,this.inputRectX=0,this.inputActive=!1};t["backend.TextInput"]=backend_TextInput,backend_TextInput.__name__="backend.TextInput",backend_TextInput.__interfaces__=[spec_TextInput],backend_TextInput.prototype={start:function(e,n,t,i,s){this.inputActive||(this.inputRectX=0|n,this.inputRectY=0|t,this.inputRectW=0|Math.max(1,i),this.inputRectH=0|Math.max(1,s),this.inputActive=!0)},stop:function(){this.inputActive&&(this.inputRectX=0,this.inputRectY=0,this.inputRectW=0,this.inputRectH=0,this.inputActive=!1)},handleTextInput:function(e){" "!=e&&ceramic_App.app.textInput.appendText(e)},handleKeyDown:function(e,n){42==n?ceramic_App.app.textInput.backspace():44==n?ceramic_App.app.textInput.space():40==n?ceramic_App.app.textInput.enter():41==n?ceramic_App.app.textInput.escape():80==n?ceramic_App.app.textInput.moveLeft():79==n?ceramic_App.app.textInput.moveRight():82==n?ceramic_App.app.textInput.moveUp():81==n?ceramic_App.app.textInput.moveDown():225==n?ceramic_App.app.textInput.lshiftDown():229==n?ceramic_App.app.textInput.rshiftDown():224==n?ceramic_App.app.textInput.lctrlDown():228==n?ceramic_App.app.textInput.rctrlDown():227==n?ceramic_App.app.textInput.lmetaDown():231==n&&ceramic_App.app.textInput.rmetaDown()},handleKeyUp:function(e,n){225==n?ceramic_App.app.textInput.lshiftUp():229==n?ceramic_App.app.textInput.rshiftUp():224==n?ceramic_App.app.textInput.lctrlUp():228==n?ceramic_App.app.textInput.rctrlUp():227==n?ceramic_App.app.textInput.lmetaUp():231==n&&ceramic_App.app.textInput.rmetaUp()},__class__:backend_TextInput};var spec_Texts=function(){};t["spec.Texts"]=spec_Texts,spec_Texts.__name__="spec.Texts",spec_Texts.__isInterface__=!0,spec_Texts.prototype={__class__:spec_Texts};var backend_Texts=function(){this.loadingTextCallbacks=new haxe_ds_StringMap};t["backend.Texts"]=backend_Texts,backend_Texts.__name__="backend.Texts",backend_Texts.__interfaces__=[spec_Texts],backend_Texts.prototype={load:function(e,n,t){var i=this,s=null!=n&&2==n.loadMethod,r=null!=n?n.immediate:null,done=function(e){var fn=function(){t(e),t=null};null!=r?r.push(fn):ceramic_App.app._onceImmediate(fn)};if(ceramic_Path.isAbsolute(e)||StringTools.startsWith(e,"http://")||StringTools.startsWith(e,"https://")||(e=ceramic_Path.join([ceramic_App.app.settings.assetsPath,e])),Object.prototype.hasOwnProperty.call(this.loadingTextCallbacks.h,e))this.loadingTextCallbacks.h[e].push((function(e){done(e)}));else{this.loadingTextCallbacks.h[e]=[];var l=e,a=l.indexOf("?");-1!=a&&(l=HxOverrides.substr(l,0,a));var h=clay_Clay.app.assets.fullPath(l);clay_Clay.app.io.loadData(h,!0,!s,(function(n){if(null!=n){var t=new haxe_io_Bytes(new Uint8Array(n.buffer)).toString();if(null!=(s=i.loadingTextCallbacks.h[e])){r=i.loadingTextCallbacks;Object.prototype.hasOwnProperty.call(r.h,e)&&delete r.h[e],done(t);for(l=0;l<s.length;){a=s[l];++l,a(t)}}else done(t)}else{var s;if(null!=(s=i.loadingTextCallbacks.h[e])){var r=i.loadingTextCallbacks;Object.prototype.hasOwnProperty.call(r.h,e)&&delete r.h[e],done(null);for(var l=0;l<s.length;){var a=s[l];++l,a(null)}}else done(null)}})),null!=r?r.push(clay_Immediate.flush):ceramic_App.app._onceImmediate(clay_Immediate.flush)}},supportsHotReloadPath:function(){return!0},__class__:backend_Texts};var spec_Textures=function(){};t["spec.Textures"]=spec_Textures,spec_Textures.__name__="spec.Textures",spec_Textures.__isInterface__=!0,spec_Textures.prototype={__class__:spec_Textures};var backend_Textures=function(){this.loadedTexturesRetainCount=new haxe_ds_StringMap,this.loadedTextures=new haxe_ds_StringMap,this.loadingTextureCallbacks=new haxe_ds_StringMap,this.nextPixelsIndex=0,this.nextRenderIndex=0};t["backend.Textures"]=backend_Textures,backend_Textures.__name__="backend.Textures",backend_Textures.__interfaces__=[spec_Textures],backend_Textures.computeMaxTexturesByBatchIfNeeded=function(){-1==backend_Textures._maxTexturesByBatch&&(backend_Textures._maxTexturesByBatch=0|Math.min(32,clay_opengl_web_GL.gl.getParameter(34930)))},backend_Textures.prototype={load:function(e,n,t){var i=this,s=null!=n&&2==n.loadMethod,r=null!=n?n.immediate:null,done=function(e){var fn=function(){t(e),t=null};null!=r?r.push(fn):ceramic_App.app._onceImmediate(fn)};if(ceramic_Path.isAbsolute(e)||StringTools.startsWith(e,"http://")||StringTools.startsWith(e,"https://")||(e=ceramic_Path.join([ceramic_App.app.settings.assetsPath,e])),Object.prototype.hasOwnProperty.call(this.loadedTextures.h,e)){this.loadedTexturesRetainCount.h[e]+=1;var l=this.loadedTextures.h[e];done(l)}else if(Object.prototype.hasOwnProperty.call(this.loadingTextureCallbacks.h,e))this.loadingTextureCallbacks.h[e].push((function(n){if(null!=n){var t=Object.prototype.hasOwnProperty.call(i.loadedTexturesRetainCount.h,e)?i.loadedTexturesRetainCount.h[e]:0;i.loadedTexturesRetainCount.h[e]=t+1}done(n)}));else{var a=e,h=a.indexOf("?");-1!=h&&(a=HxOverrides.substr(a,0,h)),this.loadingTextureCallbacks.h[e]=[function(n){if(null!=n){var t=Object.prototype.hasOwnProperty.call(i.loadedTexturesRetainCount.h,e)?i.loadedTexturesRetainCount.h[e]:0;i.loadedTexturesRetainCount.h[e]=t+1}done(n)}];var c=clay_Clay.app.assets.fullPath(a),o=!0;null!=n&&null!=n.premultiplyAlpha&&(o=n.premultiplyAlpha);var doFail=function(){var n=i.loadingTextureCallbacks.h[e],t=i.loadingTextureCallbacks;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e];for(var s=0;s<n.length;){var r=n[s];++s;try{r(null)}catch(e){var l=[haxe_Exception.caught(e).unwrap()];ceramic_App.app._onceImmediate(function(e){return function(){throw haxe_Exception.thrown(e[0])}}(l))}}};clay_Clay.app.assets.loadImage(c,null,!s,(function(n){if(null!=n){var t=null;if(null!=(t=clay_graphics_Texture.fromImage(n,o))){t.id=e,t.init(),i.loadedTextures.h[e]=t;var s=i.loadingTextureCallbacks.h[e],r=i.loadingTextureCallbacks;Object.prototype.hasOwnProperty.call(r.h,e)&&delete r.h[e];for(var l=0;l<s.length;){var a=s[l];++l;try{a(t)}catch(e){var h=[haxe_Exception.caught(e).unwrap()];ceramic_App.app._onceImmediate(function(e){return function(){throw haxe_Exception.thrown(e[0])}}(h))}}}else doFail()}else doFail()})),null!=r?r.push(clay_Immediate.flush):ceramic_App.app._onceImmediate(clay_Immediate.flush)}},supportsHotReloadPath:function(){return!0},createTexture:function(e,n,t){var i="pixels:"+this.nextPixelsIndex++,s=new clay_graphics_Texture;return s.id=i,s.width=e,s.height=n,s.pixels=t,s.init(),this.loadedTexturesRetainCount.h[i]=1,s},createRenderTarget:function(e,n){var t="render:"+this.nextRenderIndex++,i=new clay_graphics_RenderTexture;return i.id=t,i.width=e,i.height=n,i.stencil=!0,i.init(),this.loadedTexturesRetainCount.h[t]=1,i},fetchTexturePixels:function(e,n){var t=e.width,i=e.height;null==n&&(n=new Uint8Array(t*i*4));return e.fetch(n),n},submitTexturePixels:function(e,n){e.submit(n)},destroyTexture:function(e){var n=e.id;if(this.loadedTexturesRetainCount.h[n]>1)this.loadedTexturesRetainCount.h[n]-=1;else{var t=this.loadedTextures;Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n];t=this.loadedTexturesRetainCount;Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],e.destroy()}},getTextureId:function(e){return e.textureId},getTextureWidth:function(e){return e.width},getTextureHeight:function(e){return e.height},getTextureWidthActual:function(e){return e.widthActual},getTextureHeightActual:function(e){return e.heightActual},getTextureIndex:function(e){return e.index},setTextureFilter:function(e,n){switch(n._hx_index){case 0:e.set_filterMin(9729),e.set_filterMag(9729);break;case 1:e.set_filterMin(9728),e.set_filterMag(9728)}},maxTextureWidth:function(){return 2048},maxTextureHeight:function(){return 2048},maxTexturesByBatch:function(){return-1==backend_Textures._maxTexturesByBatch&&(backend_Textures._maxTexturesByBatch=0|Math.min(32,clay_opengl_web_GL.gl.getParameter(34930))),backend_Textures._maxTexturesByBatch},textureToPng:function(e,n,t){var i=this.fetchTexturePixels(e),s=e.id;StringTools.startsWith(s,"pixels:")||StringTools.startsWith(s,"screenshot:")||StringTools.startsWith(s,"render:")||ceramic_PremultiplyAlpha.reversePremultiplyAlpha(i),clay_Clay.app.assets.pixelsToPngData(e.width,e.height,i,(function(e){null!=e?null!=n?(ceramic_Files.saveBytes(n,new haxe_io_Bytes(new Uint8Array(e.buffer))),t()):t(new haxe_io_Bytes(new Uint8Array(e.buffer))):(ceramic_App.app.logger.warning("Failed to get PNG data from texture",{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:435,className:"backend.Textures",methodName:"textureToPng"}),t(null))}))},pixelsToPng:function(e,n,t,i,s){clay_Clay.app.assets.pixelsToPngData(e,n,t,(function(e){null!=e?null!=i?(ceramic_Files.saveBytes(i,new haxe_io_Bytes(new Uint8Array(e.buffer))),s()):s(new haxe_io_Bytes(new Uint8Array(e.buffer))):(ceramic_App.app.logger.warning("Failed to get PNG data from pixels",{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:455,className:"backend.Textures",methodName:"pixelsToPng"}),s(null))}))},__class__:backend_Textures};var l=i["backend.VisualItem"]={__ename__:"backend.VisualItem",__constructs__:null,NONE:{_hx_name:"NONE",_hx_index:0,__enum__:"backend.VisualItem",toString:$estr},QUAD:{_hx_name:"QUAD",_hx_index:1,__enum__:"backend.VisualItem",toString:$estr},MESH:{_hx_name:"MESH",_hx_index:2,__enum__:"backend.VisualItem",toString:$estr}};l.__constructs__=[l.NONE,l.QUAD,l.MESH];var ceramic_App=function(){this.info={editable:{item11:"ceramic.Particles",item3:"ceramic.Fragment",item10:"ceramic.Line",item5:"ceramic.Text",item7:"ceramic.Shape",item2:"ceramic.Layer",item6:"ceramic.Mesh",item9:"ceramic.Arc",item1:"ceramic.Visual",item4:"ceramic.Quad",item8:"ceramic.Ngon",item0:"ceramic.Entity"},name:"ceramic-webdemo-1",collections:{},version:"1.0",author:"My Company",displayName:"ceramic-webdemo-1"},this.disposedEntities=[],this.beginUpdateCallbacks=[],this.visualsContentDirty=!1,this.hierarchyDirty=!1,this.lazyScenes=!0,this.timelines=new ceramic_Timelines,this.converters=new haxe_ds_StringMap,this.textInput=null,this.persistent=null,this.projectDir=null,this.defaultFont=null,this.defaultWhiteTexture=null,this.defaultTexturedShader=null,this.renderTextures=[],this.groups=[],this.destroyedVisuals=[],this.pendingVisuals=[],this.visuals=[],this.logger=new ceramic_Logger,this.frame=0,this._computeFps=new ceramic_ComputeFps,this.shouldUpdateAndDrawAgain=!1,this.inUpdate=!1,this._xUpdatesToCallNow=[],this._xUpdatesHandlers=[],this._xUpdatesHandlersPool=new ceramic_Pool,this.loaders=[],this.postFlushImmediateCallbacksLen=0,this.postFlushImmediateCallbacksCapacity=0,this.postFlushImmediateCallbacks=[],this.immediateCallbacksLen=0,this.immediateCallbacksCapacity=0,this.immediateCallbacks=[],ceramic_Entity.call(this),ceramic_App.app=this,ceramic_Runner.init(),tracker_Tracker.backend=new ceramic_TrackerBackend,this.settings=new ceramic_Settings,this.screen=new ceramic_Screen,this.audio=new ceramic_Audio,this.input=new ceramic_Input,this.systems=new ceramic_Systems,this.assets=new ceramic_Assets,this.backend=new backend_Backend,this.backend.onceReady(this,$bind(this,this.backendReady)),this.backend.init(this)};t["ceramic.App"]=ceramic_App,ceramic_App.__name__="ceramic.App",ceramic_App.__properties__={get_app:"get_app"},ceramic_App.get_app=function(){return ceramic_App.app},ceramic_App.oncePreInit=function(e){null==ceramic_App.preInitCallbacks&&(ceramic_App.preInitCallbacks=[]),ceramic_App.preInitCallbacks.push(e)},ceramic_App.init=function(){return assets_AllAssets.bind(),new ceramic_App,new ceramic_InitSettings(ceramic_App.app.settings)},ceramic_App.__super__=ceramic_Entity,ceramic_App.prototype=$extend(ceramic_Entity.prototype,{emitReady:function(){var e=0;if(null!=this.__cbOnReady&&(e+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(e+=this.__cbOnceReady.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReady)for(var s=0,r=this.__cbOnReady.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnReady[l],++i):--e}if(null!=this.__cbOnceReady){var a=null,h=null;for(s=0,r=this.__cbOnceReady.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceReady[l],this.__cbOnceReady[l]=null;var c=this.__cbOnceOwnerUnbindReady[l];this.__cbOnceOwnerUnbindReady[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindReady[l]),h.push(this.__cbOnceReady[l])}this.__cbOnceOwnerUnbindReady=a,this.__cbOnceReady=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onReady:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event ready because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReady(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(n)},onceReady:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event ready because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReady(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(n)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReady[n])&&r(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReady[n])&&r(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindReady[s])&&r()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindReady[s])&&r()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&this.__cbOnReady.length>0||null!=this.__cbOnceReady&&this.__cbOnceReady.length>0},emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnUpdate)for(var r=0,l=this.__cbOnUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnUpdate[a],++s):--n}if(null!=this.__cbOnceUpdate){var h=null,c=null;for(r=0,l=this.__cbOnceUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceUpdate[a],this.__cbOnceUpdate[a]=null;var o=this.__cbOnceOwnerUnbindUpdate[a];this.__cbOnceOwnerUnbindUpdate[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindUpdate[a]),c.push(this.__cbOnceUpdate[a])}this.__cbOnceOwnerUnbindUpdate=h,this.__cbOnceUpdate=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(n)},onceUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(n)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdate[n])&&r(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdate[n])&&r(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindUpdate[s])&&r()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindUpdate[s])&&r()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&this.__cbOnUpdate.length>0||null!=this.__cbOnceUpdate&&this.__cbOnceUpdate.length>0},emitPreUpdate:function(e){var n=0;if(null!=this.__cbOnPreUpdate&&(n+=this.__cbOnPreUpdate.length),null!=this.__cbOncePreUpdate&&(n+=this.__cbOncePreUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnPreUpdate)for(var r=0,l=this.__cbOnPreUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnPreUpdate[a],++s):--n}if(null!=this.__cbOncePreUpdate){var h=null,c=null;for(r=0,l=this.__cbOncePreUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOncePreUpdate[a],this.__cbOncePreUpdate[a]=null;var o=this.__cbOnceOwnerUnbindPreUpdate[a];this.__cbOnceOwnerUnbindPreUpdate[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindPreUpdate[a]),c.push(this.__cbOncePreUpdate[a])}this.__cbOnceOwnerUnbindPreUpdate=h,this.__cbOncePreUpdate=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onPreUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event preUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPreUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPreUpdate&&(this.__cbOnOwnerUnbindPreUpdate=[]),this.__cbOnOwnerUnbindPreUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPreUpdate&&(this.__cbOnOwnerUnbindPreUpdate=[]),this.__cbOnOwnerUnbindPreUpdate.push(null);null==this.__cbOnPreUpdate&&(this.__cbOnPreUpdate=[]),this.__cbOnPreUpdate.push(n)},oncePreUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event preUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPreUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPreUpdate&&(this.__cbOnceOwnerUnbindPreUpdate=[]),this.__cbOnceOwnerUnbindPreUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPreUpdate&&(this.__cbOnceOwnerUnbindPreUpdate=[]),this.__cbOnceOwnerUnbindPreUpdate.push(null);null==this.__cbOncePreUpdate&&(this.__cbOncePreUpdate=[]),this.__cbOncePreUpdate.push(n)},offPreUpdate:function(e){if(null!=e){var n;null!=this.__cbOnPreUpdate&&-1!=(n=this.__cbOnPreUpdate.indexOf(e))&&(this.__cbOnPreUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPreUpdate[n])&&r(),this.__cbOnOwnerUnbindPreUpdate.splice(n,1)),null!=this.__cbOncePreUpdate&&-1!=(n=this.__cbOncePreUpdate.indexOf(e))&&(this.__cbOncePreUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPreUpdate[n])&&r(),this.__cbOnceOwnerUnbindPreUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPreUpdate){for(var t=0,i=this.__cbOnOwnerUnbindPreUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPreUpdate[s])&&r()}this.__cbOnOwnerUnbindPreUpdate=null}if(null!=this.__cbOnceOwnerUnbindPreUpdate){for(t=0,i=this.__cbOnceOwnerUnbindPreUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPreUpdate[s])&&r()}this.__cbOnceOwnerUnbindPreUpdate=null}this.__cbOnPreUpdate=null,this.__cbOncePreUpdate=null}},listensPreUpdate:function(){return null!=this.__cbOnPreUpdate&&this.__cbOnPreUpdate.length>0||null!=this.__cbOncePreUpdate&&this.__cbOncePreUpdate.length>0},emitPostUpdate:function(e){var n=0;if(null!=this.__cbOnPostUpdate&&(n+=this.__cbOnPostUpdate.length),null!=this.__cbOncePostUpdate&&(n+=this.__cbOncePostUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnPostUpdate)for(var r=0,l=this.__cbOnPostUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnPostUpdate[a],++s):--n}if(null!=this.__cbOncePostUpdate){var h=null,c=null;for(r=0,l=this.__cbOncePostUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOncePostUpdate[a],this.__cbOncePostUpdate[a]=null;var o=this.__cbOnceOwnerUnbindPostUpdate[a];this.__cbOnceOwnerUnbindPostUpdate[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindPostUpdate[a]),c.push(this.__cbOncePostUpdate[a])}this.__cbOnceOwnerUnbindPostUpdate=h,this.__cbOncePostUpdate=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onPostUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event postUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPostUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPostUpdate&&(this.__cbOnOwnerUnbindPostUpdate=[]),this.__cbOnOwnerUnbindPostUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPostUpdate&&(this.__cbOnOwnerUnbindPostUpdate=[]),this.__cbOnOwnerUnbindPostUpdate.push(null);null==this.__cbOnPostUpdate&&(this.__cbOnPostUpdate=[]),this.__cbOnPostUpdate.push(n)},oncePostUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event postUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPostUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPostUpdate&&(this.__cbOnceOwnerUnbindPostUpdate=[]),this.__cbOnceOwnerUnbindPostUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPostUpdate&&(this.__cbOnceOwnerUnbindPostUpdate=[]),this.__cbOnceOwnerUnbindPostUpdate.push(null);null==this.__cbOncePostUpdate&&(this.__cbOncePostUpdate=[]),this.__cbOncePostUpdate.push(n)},offPostUpdate:function(e){if(null!=e){var n;null!=this.__cbOnPostUpdate&&-1!=(n=this.__cbOnPostUpdate.indexOf(e))&&(this.__cbOnPostUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPostUpdate[n])&&r(),this.__cbOnOwnerUnbindPostUpdate.splice(n,1)),null!=this.__cbOncePostUpdate&&-1!=(n=this.__cbOncePostUpdate.indexOf(e))&&(this.__cbOncePostUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPostUpdate[n])&&r(),this.__cbOnceOwnerUnbindPostUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPostUpdate){for(var t=0,i=this.__cbOnOwnerUnbindPostUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPostUpdate[s])&&r()}this.__cbOnOwnerUnbindPostUpdate=null}if(null!=this.__cbOnceOwnerUnbindPostUpdate){for(t=0,i=this.__cbOnceOwnerUnbindPostUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPostUpdate[s])&&r()}this.__cbOnceOwnerUnbindPostUpdate=null}this.__cbOnPostUpdate=null,this.__cbOncePostUpdate=null}},listensPostUpdate:function(){return null!=this.__cbOnPostUpdate&&this.__cbOnPostUpdate.length>0||null!=this.__cbOncePostUpdate&&this.__cbOncePostUpdate.length>0},emitDefaultAssetsLoad:function(e){var n=0;if(null!=this.__cbOnDefaultAssetsLoad&&(n+=this.__cbOnDefaultAssetsLoad.length),null!=this.__cbOnceDefaultAssetsLoad&&(n+=this.__cbOnceDefaultAssetsLoad.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnDefaultAssetsLoad)for(var r=0,l=this.__cbOnDefaultAssetsLoad.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnDefaultAssetsLoad[a],++s):--n}if(null!=this.__cbOnceDefaultAssetsLoad){var h=null,c=null;for(r=0,l=this.__cbOnceDefaultAssetsLoad.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceDefaultAssetsLoad[a],this.__cbOnceDefaultAssetsLoad[a]=null;var o=this.__cbOnceOwnerUnbindDefaultAssetsLoad[a];this.__cbOnceOwnerUnbindDefaultAssetsLoad[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindDefaultAssetsLoad[a]),c.push(this.__cbOnceDefaultAssetsLoad[a])}this.__cbOnceOwnerUnbindDefaultAssetsLoad=h,this.__cbOnceDefaultAssetsLoad=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onDefaultAssetsLoad:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event defaultAssetsLoad because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDefaultAssetsLoad(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDefaultAssetsLoad&&(this.__cbOnOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnOwnerUnbindDefaultAssetsLoad.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDefaultAssetsLoad&&(this.__cbOnOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnOwnerUnbindDefaultAssetsLoad.push(null);null==this.__cbOnDefaultAssetsLoad&&(this.__cbOnDefaultAssetsLoad=[]),this.__cbOnDefaultAssetsLoad.push(n)},onceDefaultAssetsLoad:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event defaultAssetsLoad because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDefaultAssetsLoad(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDefaultAssetsLoad&&(this.__cbOnceOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnceOwnerUnbindDefaultAssetsLoad.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDefaultAssetsLoad&&(this.__cbOnceOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnceOwnerUnbindDefaultAssetsLoad.push(null);null==this.__cbOnceDefaultAssetsLoad&&(this.__cbOnceDefaultAssetsLoad=[]),this.__cbOnceDefaultAssetsLoad.push(n)},offDefaultAssetsLoad:function(e){if(null!=e){var n;null!=this.__cbOnDefaultAssetsLoad&&-1!=(n=this.__cbOnDefaultAssetsLoad.indexOf(e))&&(this.__cbOnDefaultAssetsLoad.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDefaultAssetsLoad[n])&&r(),this.__cbOnOwnerUnbindDefaultAssetsLoad.splice(n,1)),null!=this.__cbOnceDefaultAssetsLoad&&-1!=(n=this.__cbOnceDefaultAssetsLoad.indexOf(e))&&(this.__cbOnceDefaultAssetsLoad.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDefaultAssetsLoad[n])&&r(),this.__cbOnceOwnerUnbindDefaultAssetsLoad.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDefaultAssetsLoad){for(var t=0,i=this.__cbOnOwnerUnbindDefaultAssetsLoad.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindDefaultAssetsLoad[s])&&r()}this.__cbOnOwnerUnbindDefaultAssetsLoad=null}if(null!=this.__cbOnceOwnerUnbindDefaultAssetsLoad){for(t=0,i=this.__cbOnceOwnerUnbindDefaultAssetsLoad.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindDefaultAssetsLoad[s])&&r()}this.__cbOnceOwnerUnbindDefaultAssetsLoad=null}this.__cbOnDefaultAssetsLoad=null,this.__cbOnceDefaultAssetsLoad=null}},listensDefaultAssetsLoad:function(){return null!=this.__cbOnDefaultAssetsLoad&&this.__cbOnDefaultAssetsLoad.length>0||null!=this.__cbOnceDefaultAssetsLoad&&this.__cbOnceDefaultAssetsLoad.length>0},emitCriticalError:function(e,n){var t=0;if(null!=this.__cbOnCriticalError&&(t+=this.__cbOnCriticalError.length),null!=this.__cbOnceCriticalError&&(t+=this.__cbOnceCriticalError.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnCriticalError)for(var l=0,a=this.__cbOnCriticalError.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnCriticalError[h],++r):--t}if(null!=this.__cbOnceCriticalError){var c=null,o=null;for(l=0,a=this.__cbOnceCriticalError.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceCriticalError[h],this.__cbOnceCriticalError[h]=null;var u=this.__cbOnceOwnerUnbindCriticalError[h];this.__cbOnceOwnerUnbindCriticalError[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindCriticalError[h]),o.push(this.__cbOnceCriticalError[h])}this.__cbOnceOwnerUnbindCriticalError=c,this.__cbOnceCriticalError=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onCriticalError:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event criticalError because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCriticalError(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindCriticalError&&(this.__cbOnOwnerUnbindCriticalError=[]),this.__cbOnOwnerUnbindCriticalError.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindCriticalError&&(this.__cbOnOwnerUnbindCriticalError=[]),this.__cbOnOwnerUnbindCriticalError.push(null);null==this.__cbOnCriticalError&&(this.__cbOnCriticalError=[]),this.__cbOnCriticalError.push(n)},onceCriticalError:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event criticalError because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCriticalError(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindCriticalError&&(this.__cbOnceOwnerUnbindCriticalError=[]),this.__cbOnceOwnerUnbindCriticalError.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindCriticalError&&(this.__cbOnceOwnerUnbindCriticalError=[]),this.__cbOnceOwnerUnbindCriticalError.push(null);null==this.__cbOnceCriticalError&&(this.__cbOnceCriticalError=[]),this.__cbOnceCriticalError.push(n)},offCriticalError:function(e){if(null!=e){var n;null!=this.__cbOnCriticalError&&-1!=(n=this.__cbOnCriticalError.indexOf(e))&&(this.__cbOnCriticalError.splice(n,1),null!=(r=this.__cbOnOwnerUnbindCriticalError[n])&&r(),this.__cbOnOwnerUnbindCriticalError.splice(n,1)),null!=this.__cbOnceCriticalError&&-1!=(n=this.__cbOnceCriticalError.indexOf(e))&&(this.__cbOnceCriticalError.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindCriticalError[n])&&r(),this.__cbOnceOwnerUnbindCriticalError.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCriticalError){for(var t=0,i=this.__cbOnOwnerUnbindCriticalError.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindCriticalError[s])&&r()}this.__cbOnOwnerUnbindCriticalError=null}if(null!=this.__cbOnceOwnerUnbindCriticalError){for(t=0,i=this.__cbOnceOwnerUnbindCriticalError.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindCriticalError[s])&&r()}this.__cbOnceOwnerUnbindCriticalError=null}this.__cbOnCriticalError=null,this.__cbOnceCriticalError=null}},listensCriticalError:function(){return null!=this.__cbOnCriticalError&&this.__cbOnCriticalError.length>0||null!=this.__cbOnceCriticalError&&this.__cbOnceCriticalError.length>0},emitBeginEnterBackground:function(){var e=0;if(null!=this.__cbOnBeginEnterBackground&&(e+=this.__cbOnBeginEnterBackground.length),null!=this.__cbOnceBeginEnterBackground&&(e+=this.__cbOnceBeginEnterBackground.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginEnterBackground)for(var s=0,r=this.__cbOnBeginEnterBackground.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnBeginEnterBackground[l],++i):--e}if(null!=this.__cbOnceBeginEnterBackground){var a=null,h=null;for(s=0,r=this.__cbOnceBeginEnterBackground.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceBeginEnterBackground[l],this.__cbOnceBeginEnterBackground[l]=null;var c=this.__cbOnceOwnerUnbindBeginEnterBackground[l];this.__cbOnceOwnerUnbindBeginEnterBackground[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindBeginEnterBackground[l]),h.push(this.__cbOnceBeginEnterBackground[l])}this.__cbOnceOwnerUnbindBeginEnterBackground=a,this.__cbOnceBeginEnterBackground=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onBeginEnterBackground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginEnterBackground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginEnterBackground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBeginEnterBackground&&(this.__cbOnOwnerUnbindBeginEnterBackground=[]),this.__cbOnOwnerUnbindBeginEnterBackground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBeginEnterBackground&&(this.__cbOnOwnerUnbindBeginEnterBackground=[]),this.__cbOnOwnerUnbindBeginEnterBackground.push(null);null==this.__cbOnBeginEnterBackground&&(this.__cbOnBeginEnterBackground=[]),this.__cbOnBeginEnterBackground.push(n)},onceBeginEnterBackground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginEnterBackground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginEnterBackground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBeginEnterBackground&&(this.__cbOnceOwnerUnbindBeginEnterBackground=[]),this.__cbOnceOwnerUnbindBeginEnterBackground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBeginEnterBackground&&(this.__cbOnceOwnerUnbindBeginEnterBackground=[]),this.__cbOnceOwnerUnbindBeginEnterBackground.push(null);null==this.__cbOnceBeginEnterBackground&&(this.__cbOnceBeginEnterBackground=[]),this.__cbOnceBeginEnterBackground.push(n)},offBeginEnterBackground:function(e){if(null!=e){var n;null!=this.__cbOnBeginEnterBackground&&-1!=(n=this.__cbOnBeginEnterBackground.indexOf(e))&&(this.__cbOnBeginEnterBackground.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBeginEnterBackground[n])&&r(),this.__cbOnOwnerUnbindBeginEnterBackground.splice(n,1)),null!=this.__cbOnceBeginEnterBackground&&-1!=(n=this.__cbOnceBeginEnterBackground.indexOf(e))&&(this.__cbOnceBeginEnterBackground.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBeginEnterBackground[n])&&r(),this.__cbOnceOwnerUnbindBeginEnterBackground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginEnterBackground){for(var t=0,i=this.__cbOnOwnerUnbindBeginEnterBackground.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBeginEnterBackground[s])&&r()}this.__cbOnOwnerUnbindBeginEnterBackground=null}if(null!=this.__cbOnceOwnerUnbindBeginEnterBackground){for(t=0,i=this.__cbOnceOwnerUnbindBeginEnterBackground.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBeginEnterBackground[s])&&r()}this.__cbOnceOwnerUnbindBeginEnterBackground=null}this.__cbOnBeginEnterBackground=null,this.__cbOnceBeginEnterBackground=null}},listensBeginEnterBackground:function(){return null!=this.__cbOnBeginEnterBackground&&this.__cbOnBeginEnterBackground.length>0||null!=this.__cbOnceBeginEnterBackground&&this.__cbOnceBeginEnterBackground.length>0},emitFinishEnterBackground:function(){var e=0;if(null!=this.__cbOnFinishEnterBackground&&(e+=this.__cbOnFinishEnterBackground.length),null!=this.__cbOnceFinishEnterBackground&&(e+=this.__cbOnceFinishEnterBackground.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishEnterBackground)for(var s=0,r=this.__cbOnFinishEnterBackground.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnFinishEnterBackground[l],++i):--e}if(null!=this.__cbOnceFinishEnterBackground){var a=null,h=null;for(s=0,r=this.__cbOnceFinishEnterBackground.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceFinishEnterBackground[l],this.__cbOnceFinishEnterBackground[l]=null;var c=this.__cbOnceOwnerUnbindFinishEnterBackground[l];this.__cbOnceOwnerUnbindFinishEnterBackground[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindFinishEnterBackground[l]),h.push(this.__cbOnceFinishEnterBackground[l])}this.__cbOnceOwnerUnbindFinishEnterBackground=a,this.__cbOnceFinishEnterBackground=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onFinishEnterBackground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishEnterBackground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishEnterBackground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFinishEnterBackground&&(this.__cbOnOwnerUnbindFinishEnterBackground=[]),this.__cbOnOwnerUnbindFinishEnterBackground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFinishEnterBackground&&(this.__cbOnOwnerUnbindFinishEnterBackground=[]),this.__cbOnOwnerUnbindFinishEnterBackground.push(null);null==this.__cbOnFinishEnterBackground&&(this.__cbOnFinishEnterBackground=[]),this.__cbOnFinishEnterBackground.push(n)},onceFinishEnterBackground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishEnterBackground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishEnterBackground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFinishEnterBackground&&(this.__cbOnceOwnerUnbindFinishEnterBackground=[]),this.__cbOnceOwnerUnbindFinishEnterBackground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFinishEnterBackground&&(this.__cbOnceOwnerUnbindFinishEnterBackground=[]),this.__cbOnceOwnerUnbindFinishEnterBackground.push(null);null==this.__cbOnceFinishEnterBackground&&(this.__cbOnceFinishEnterBackground=[]),this.__cbOnceFinishEnterBackground.push(n)},offFinishEnterBackground:function(e){if(null!=e){var n;null!=this.__cbOnFinishEnterBackground&&-1!=(n=this.__cbOnFinishEnterBackground.indexOf(e))&&(this.__cbOnFinishEnterBackground.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFinishEnterBackground[n])&&r(),this.__cbOnOwnerUnbindFinishEnterBackground.splice(n,1)),null!=this.__cbOnceFinishEnterBackground&&-1!=(n=this.__cbOnceFinishEnterBackground.indexOf(e))&&(this.__cbOnceFinishEnterBackground.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFinishEnterBackground[n])&&r(),this.__cbOnceOwnerUnbindFinishEnterBackground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishEnterBackground){for(var t=0,i=this.__cbOnOwnerUnbindFinishEnterBackground.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFinishEnterBackground[s])&&r()}this.__cbOnOwnerUnbindFinishEnterBackground=null}if(null!=this.__cbOnceOwnerUnbindFinishEnterBackground){for(t=0,i=this.__cbOnceOwnerUnbindFinishEnterBackground.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFinishEnterBackground[s])&&r()}this.__cbOnceOwnerUnbindFinishEnterBackground=null}this.__cbOnFinishEnterBackground=null,this.__cbOnceFinishEnterBackground=null}},listensFinishEnterBackground:function(){return null!=this.__cbOnFinishEnterBackground&&this.__cbOnFinishEnterBackground.length>0||null!=this.__cbOnceFinishEnterBackground&&this.__cbOnceFinishEnterBackground.length>0},emitBeginEnterForeground:function(){var e=0;if(null!=this.__cbOnBeginEnterForeground&&(e+=this.__cbOnBeginEnterForeground.length),null!=this.__cbOnceBeginEnterForeground&&(e+=this.__cbOnceBeginEnterForeground.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginEnterForeground)for(var s=0,r=this.__cbOnBeginEnterForeground.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnBeginEnterForeground[l],++i):--e}if(null!=this.__cbOnceBeginEnterForeground){var a=null,h=null;for(s=0,r=this.__cbOnceBeginEnterForeground.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceBeginEnterForeground[l],this.__cbOnceBeginEnterForeground[l]=null;var c=this.__cbOnceOwnerUnbindBeginEnterForeground[l];this.__cbOnceOwnerUnbindBeginEnterForeground[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindBeginEnterForeground[l]),h.push(this.__cbOnceBeginEnterForeground[l])}this.__cbOnceOwnerUnbindBeginEnterForeground=a,this.__cbOnceBeginEnterForeground=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onBeginEnterForeground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginEnterForeground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginEnterForeground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBeginEnterForeground&&(this.__cbOnOwnerUnbindBeginEnterForeground=[]),this.__cbOnOwnerUnbindBeginEnterForeground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBeginEnterForeground&&(this.__cbOnOwnerUnbindBeginEnterForeground=[]),this.__cbOnOwnerUnbindBeginEnterForeground.push(null);null==this.__cbOnBeginEnterForeground&&(this.__cbOnBeginEnterForeground=[]),this.__cbOnBeginEnterForeground.push(n)},onceBeginEnterForeground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginEnterForeground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginEnterForeground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBeginEnterForeground&&(this.__cbOnceOwnerUnbindBeginEnterForeground=[]),this.__cbOnceOwnerUnbindBeginEnterForeground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBeginEnterForeground&&(this.__cbOnceOwnerUnbindBeginEnterForeground=[]),this.__cbOnceOwnerUnbindBeginEnterForeground.push(null);null==this.__cbOnceBeginEnterForeground&&(this.__cbOnceBeginEnterForeground=[]),this.__cbOnceBeginEnterForeground.push(n)},offBeginEnterForeground:function(e){if(null!=e){var n;null!=this.__cbOnBeginEnterForeground&&-1!=(n=this.__cbOnBeginEnterForeground.indexOf(e))&&(this.__cbOnBeginEnterForeground.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBeginEnterForeground[n])&&r(),this.__cbOnOwnerUnbindBeginEnterForeground.splice(n,1)),null!=this.__cbOnceBeginEnterForeground&&-1!=(n=this.__cbOnceBeginEnterForeground.indexOf(e))&&(this.__cbOnceBeginEnterForeground.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBeginEnterForeground[n])&&r(),this.__cbOnceOwnerUnbindBeginEnterForeground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginEnterForeground){for(var t=0,i=this.__cbOnOwnerUnbindBeginEnterForeground.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBeginEnterForeground[s])&&r()}this.__cbOnOwnerUnbindBeginEnterForeground=null}if(null!=this.__cbOnceOwnerUnbindBeginEnterForeground){for(t=0,i=this.__cbOnceOwnerUnbindBeginEnterForeground.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBeginEnterForeground[s])&&r()}this.__cbOnceOwnerUnbindBeginEnterForeground=null}this.__cbOnBeginEnterForeground=null,this.__cbOnceBeginEnterForeground=null}},listensBeginEnterForeground:function(){return null!=this.__cbOnBeginEnterForeground&&this.__cbOnBeginEnterForeground.length>0||null!=this.__cbOnceBeginEnterForeground&&this.__cbOnceBeginEnterForeground.length>0},emitFinishEnterForeground:function(){var e=0;if(null!=this.__cbOnFinishEnterForeground&&(e+=this.__cbOnFinishEnterForeground.length),null!=this.__cbOnceFinishEnterForeground&&(e+=this.__cbOnceFinishEnterForeground.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishEnterForeground)for(var s=0,r=this.__cbOnFinishEnterForeground.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnFinishEnterForeground[l],++i):--e}if(null!=this.__cbOnceFinishEnterForeground){var a=null,h=null;for(s=0,r=this.__cbOnceFinishEnterForeground.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceFinishEnterForeground[l],this.__cbOnceFinishEnterForeground[l]=null;var c=this.__cbOnceOwnerUnbindFinishEnterForeground[l];this.__cbOnceOwnerUnbindFinishEnterForeground[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindFinishEnterForeground[l]),h.push(this.__cbOnceFinishEnterForeground[l])}this.__cbOnceOwnerUnbindFinishEnterForeground=a,this.__cbOnceFinishEnterForeground=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onFinishEnterForeground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishEnterForeground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishEnterForeground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFinishEnterForeground&&(this.__cbOnOwnerUnbindFinishEnterForeground=[]),this.__cbOnOwnerUnbindFinishEnterForeground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFinishEnterForeground&&(this.__cbOnOwnerUnbindFinishEnterForeground=[]),this.__cbOnOwnerUnbindFinishEnterForeground.push(null);null==this.__cbOnFinishEnterForeground&&(this.__cbOnFinishEnterForeground=[]),this.__cbOnFinishEnterForeground.push(n)},onceFinishEnterForeground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishEnterForeground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishEnterForeground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFinishEnterForeground&&(this.__cbOnceOwnerUnbindFinishEnterForeground=[]),this.__cbOnceOwnerUnbindFinishEnterForeground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFinishEnterForeground&&(this.__cbOnceOwnerUnbindFinishEnterForeground=[]),this.__cbOnceOwnerUnbindFinishEnterForeground.push(null);null==this.__cbOnceFinishEnterForeground&&(this.__cbOnceFinishEnterForeground=[]),this.__cbOnceFinishEnterForeground.push(n)},offFinishEnterForeground:function(e){if(null!=e){var n;null!=this.__cbOnFinishEnterForeground&&-1!=(n=this.__cbOnFinishEnterForeground.indexOf(e))&&(this.__cbOnFinishEnterForeground.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFinishEnterForeground[n])&&r(),this.__cbOnOwnerUnbindFinishEnterForeground.splice(n,1)),null!=this.__cbOnceFinishEnterForeground&&-1!=(n=this.__cbOnceFinishEnterForeground.indexOf(e))&&(this.__cbOnceFinishEnterForeground.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFinishEnterForeground[n])&&r(),this.__cbOnceOwnerUnbindFinishEnterForeground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishEnterForeground){for(var t=0,i=this.__cbOnOwnerUnbindFinishEnterForeground.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFinishEnterForeground[s])&&r()}this.__cbOnOwnerUnbindFinishEnterForeground=null}if(null!=this.__cbOnceOwnerUnbindFinishEnterForeground){for(t=0,i=this.__cbOnceOwnerUnbindFinishEnterForeground.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFinishEnterForeground[s])&&r()}this.__cbOnceOwnerUnbindFinishEnterForeground=null}this.__cbOnFinishEnterForeground=null,this.__cbOnceFinishEnterForeground=null}},listensFinishEnterForeground:function(){return null!=this.__cbOnFinishEnterForeground&&this.__cbOnFinishEnterForeground.length>0||null!=this.__cbOnceFinishEnterForeground&&this.__cbOnceFinishEnterForeground.length>0},emitBeginSortVisuals:function(){var e=0;if(null!=this.__cbOnBeginSortVisuals&&(e+=this.__cbOnBeginSortVisuals.length),null!=this.__cbOnceBeginSortVisuals&&(e+=this.__cbOnceBeginSortVisuals.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginSortVisuals)for(var s=0,r=this.__cbOnBeginSortVisuals.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnBeginSortVisuals[l],++i):--e}if(null!=this.__cbOnceBeginSortVisuals){var a=null,h=null;for(s=0,r=this.__cbOnceBeginSortVisuals.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceBeginSortVisuals[l],this.__cbOnceBeginSortVisuals[l]=null;var c=this.__cbOnceOwnerUnbindBeginSortVisuals[l];this.__cbOnceOwnerUnbindBeginSortVisuals[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindBeginSortVisuals[l]),h.push(this.__cbOnceBeginSortVisuals[l])}this.__cbOnceOwnerUnbindBeginSortVisuals=a,this.__cbOnceBeginSortVisuals=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onBeginSortVisuals:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginSortVisuals because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginSortVisuals(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBeginSortVisuals&&(this.__cbOnOwnerUnbindBeginSortVisuals=[]),this.__cbOnOwnerUnbindBeginSortVisuals.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBeginSortVisuals&&(this.__cbOnOwnerUnbindBeginSortVisuals=[]),this.__cbOnOwnerUnbindBeginSortVisuals.push(null);null==this.__cbOnBeginSortVisuals&&(this.__cbOnBeginSortVisuals=[]),this.__cbOnBeginSortVisuals.push(n)},onceBeginSortVisuals:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginSortVisuals because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginSortVisuals(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBeginSortVisuals&&(this.__cbOnceOwnerUnbindBeginSortVisuals=[]),this.__cbOnceOwnerUnbindBeginSortVisuals.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBeginSortVisuals&&(this.__cbOnceOwnerUnbindBeginSortVisuals=[]),this.__cbOnceOwnerUnbindBeginSortVisuals.push(null);null==this.__cbOnceBeginSortVisuals&&(this.__cbOnceBeginSortVisuals=[]),this.__cbOnceBeginSortVisuals.push(n)},offBeginSortVisuals:function(e){if(null!=e){var n;null!=this.__cbOnBeginSortVisuals&&-1!=(n=this.__cbOnBeginSortVisuals.indexOf(e))&&(this.__cbOnBeginSortVisuals.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBeginSortVisuals[n])&&r(),this.__cbOnOwnerUnbindBeginSortVisuals.splice(n,1)),null!=this.__cbOnceBeginSortVisuals&&-1!=(n=this.__cbOnceBeginSortVisuals.indexOf(e))&&(this.__cbOnceBeginSortVisuals.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBeginSortVisuals[n])&&r(),this.__cbOnceOwnerUnbindBeginSortVisuals.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginSortVisuals){for(var t=0,i=this.__cbOnOwnerUnbindBeginSortVisuals.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBeginSortVisuals[s])&&r()}this.__cbOnOwnerUnbindBeginSortVisuals=null}if(null!=this.__cbOnceOwnerUnbindBeginSortVisuals){for(t=0,i=this.__cbOnceOwnerUnbindBeginSortVisuals.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBeginSortVisuals[s])&&r()}this.__cbOnceOwnerUnbindBeginSortVisuals=null}this.__cbOnBeginSortVisuals=null,this.__cbOnceBeginSortVisuals=null}},listensBeginSortVisuals:function(){return null!=this.__cbOnBeginSortVisuals&&this.__cbOnBeginSortVisuals.length>0||null!=this.__cbOnceBeginSortVisuals&&this.__cbOnceBeginSortVisuals.length>0},emitFinishSortVisuals:function(){var e=0;if(null!=this.__cbOnFinishSortVisuals&&(e+=this.__cbOnFinishSortVisuals.length),null!=this.__cbOnceFinishSortVisuals&&(e+=this.__cbOnceFinishSortVisuals.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishSortVisuals)for(var s=0,r=this.__cbOnFinishSortVisuals.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnFinishSortVisuals[l],++i):--e}if(null!=this.__cbOnceFinishSortVisuals){var a=null,h=null;for(s=0,r=this.__cbOnceFinishSortVisuals.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceFinishSortVisuals[l],this.__cbOnceFinishSortVisuals[l]=null;var c=this.__cbOnceOwnerUnbindFinishSortVisuals[l];this.__cbOnceOwnerUnbindFinishSortVisuals[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindFinishSortVisuals[l]),h.push(this.__cbOnceFinishSortVisuals[l])}this.__cbOnceOwnerUnbindFinishSortVisuals=a,this.__cbOnceFinishSortVisuals=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onFinishSortVisuals:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishSortVisuals because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishSortVisuals(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFinishSortVisuals&&(this.__cbOnOwnerUnbindFinishSortVisuals=[]),this.__cbOnOwnerUnbindFinishSortVisuals.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFinishSortVisuals&&(this.__cbOnOwnerUnbindFinishSortVisuals=[]),this.__cbOnOwnerUnbindFinishSortVisuals.push(null);null==this.__cbOnFinishSortVisuals&&(this.__cbOnFinishSortVisuals=[]),this.__cbOnFinishSortVisuals.push(n)},onceFinishSortVisuals:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishSortVisuals because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishSortVisuals(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFinishSortVisuals&&(this.__cbOnceOwnerUnbindFinishSortVisuals=[]),this.__cbOnceOwnerUnbindFinishSortVisuals.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFinishSortVisuals&&(this.__cbOnceOwnerUnbindFinishSortVisuals=[]),this.__cbOnceOwnerUnbindFinishSortVisuals.push(null);null==this.__cbOnceFinishSortVisuals&&(this.__cbOnceFinishSortVisuals=[]),this.__cbOnceFinishSortVisuals.push(n)},offFinishSortVisuals:function(e){if(null!=e){var n;null!=this.__cbOnFinishSortVisuals&&-1!=(n=this.__cbOnFinishSortVisuals.indexOf(e))&&(this.__cbOnFinishSortVisuals.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFinishSortVisuals[n])&&r(),this.__cbOnOwnerUnbindFinishSortVisuals.splice(n,1)),null!=this.__cbOnceFinishSortVisuals&&-1!=(n=this.__cbOnceFinishSortVisuals.indexOf(e))&&(this.__cbOnceFinishSortVisuals.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFinishSortVisuals[n])&&r(),this.__cbOnceOwnerUnbindFinishSortVisuals.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishSortVisuals){for(var t=0,i=this.__cbOnOwnerUnbindFinishSortVisuals.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFinishSortVisuals[s])&&r()}this.__cbOnOwnerUnbindFinishSortVisuals=null}if(null!=this.__cbOnceOwnerUnbindFinishSortVisuals){for(t=0,i=this.__cbOnceOwnerUnbindFinishSortVisuals.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFinishSortVisuals[s])&&r()}this.__cbOnceOwnerUnbindFinishSortVisuals=null}this.__cbOnFinishSortVisuals=null,this.__cbOnceFinishSortVisuals=null}},listensFinishSortVisuals:function(){return null!=this.__cbOnFinishSortVisuals&&this.__cbOnFinishSortVisuals.length>0||null!=this.__cbOnceFinishSortVisuals&&this.__cbOnceFinishSortVisuals.length>0},emitBeginDraw:function(){var e=0;if(null!=this.__cbOnBeginDraw&&(e+=this.__cbOnBeginDraw.length),null!=this.__cbOnceBeginDraw&&(e+=this.__cbOnceBeginDraw.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginDraw)for(var s=0,r=this.__cbOnBeginDraw.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnBeginDraw[l],++i):--e}if(null!=this.__cbOnceBeginDraw){var a=null,h=null;for(s=0,r=this.__cbOnceBeginDraw.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceBeginDraw[l],this.__cbOnceBeginDraw[l]=null;var c=this.__cbOnceOwnerUnbindBeginDraw[l];this.__cbOnceOwnerUnbindBeginDraw[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindBeginDraw[l]),h.push(this.__cbOnceBeginDraw[l])}this.__cbOnceOwnerUnbindBeginDraw=a,this.__cbOnceBeginDraw=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onBeginDraw:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginDraw because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginDraw(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBeginDraw&&(this.__cbOnOwnerUnbindBeginDraw=[]),this.__cbOnOwnerUnbindBeginDraw.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBeginDraw&&(this.__cbOnOwnerUnbindBeginDraw=[]),this.__cbOnOwnerUnbindBeginDraw.push(null);null==this.__cbOnBeginDraw&&(this.__cbOnBeginDraw=[]),this.__cbOnBeginDraw.push(n)},onceBeginDraw:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginDraw because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginDraw(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBeginDraw&&(this.__cbOnceOwnerUnbindBeginDraw=[]),this.__cbOnceOwnerUnbindBeginDraw.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBeginDraw&&(this.__cbOnceOwnerUnbindBeginDraw=[]),this.__cbOnceOwnerUnbindBeginDraw.push(null);null==this.__cbOnceBeginDraw&&(this.__cbOnceBeginDraw=[]),this.__cbOnceBeginDraw.push(n)},offBeginDraw:function(e){if(null!=e){var n;null!=this.__cbOnBeginDraw&&-1!=(n=this.__cbOnBeginDraw.indexOf(e))&&(this.__cbOnBeginDraw.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBeginDraw[n])&&r(),this.__cbOnOwnerUnbindBeginDraw.splice(n,1)),null!=this.__cbOnceBeginDraw&&-1!=(n=this.__cbOnceBeginDraw.indexOf(e))&&(this.__cbOnceBeginDraw.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBeginDraw[n])&&r(),this.__cbOnceOwnerUnbindBeginDraw.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginDraw){for(var t=0,i=this.__cbOnOwnerUnbindBeginDraw.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBeginDraw[s])&&r()}this.__cbOnOwnerUnbindBeginDraw=null}if(null!=this.__cbOnceOwnerUnbindBeginDraw){for(t=0,i=this.__cbOnceOwnerUnbindBeginDraw.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBeginDraw[s])&&r()}this.__cbOnceOwnerUnbindBeginDraw=null}this.__cbOnBeginDraw=null,this.__cbOnceBeginDraw=null}},listensBeginDraw:function(){return null!=this.__cbOnBeginDraw&&this.__cbOnBeginDraw.length>0||null!=this.__cbOnceBeginDraw&&this.__cbOnceBeginDraw.length>0},emitFinishDraw:function(){var e=0;if(null!=this.__cbOnFinishDraw&&(e+=this.__cbOnFinishDraw.length),null!=this.__cbOnceFinishDraw&&(e+=this.__cbOnceFinishDraw.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishDraw)for(var s=0,r=this.__cbOnFinishDraw.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnFinishDraw[l],++i):--e}if(null!=this.__cbOnceFinishDraw){var a=null,h=null;for(s=0,r=this.__cbOnceFinishDraw.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceFinishDraw[l],this.__cbOnceFinishDraw[l]=null;var c=this.__cbOnceOwnerUnbindFinishDraw[l];this.__cbOnceOwnerUnbindFinishDraw[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindFinishDraw[l]),h.push(this.__cbOnceFinishDraw[l])}this.__cbOnceOwnerUnbindFinishDraw=a,this.__cbOnceFinishDraw=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onFinishDraw:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishDraw because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishDraw(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFinishDraw&&(this.__cbOnOwnerUnbindFinishDraw=[]),this.__cbOnOwnerUnbindFinishDraw.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFinishDraw&&(this.__cbOnOwnerUnbindFinishDraw=[]),this.__cbOnOwnerUnbindFinishDraw.push(null);null==this.__cbOnFinishDraw&&(this.__cbOnFinishDraw=[]),this.__cbOnFinishDraw.push(n)},onceFinishDraw:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishDraw because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishDraw(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFinishDraw&&(this.__cbOnceOwnerUnbindFinishDraw=[]),this.__cbOnceOwnerUnbindFinishDraw.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFinishDraw&&(this.__cbOnceOwnerUnbindFinishDraw=[]),this.__cbOnceOwnerUnbindFinishDraw.push(null);null==this.__cbOnceFinishDraw&&(this.__cbOnceFinishDraw=[]),this.__cbOnceFinishDraw.push(n)},offFinishDraw:function(e){if(null!=e){var n;null!=this.__cbOnFinishDraw&&-1!=(n=this.__cbOnFinishDraw.indexOf(e))&&(this.__cbOnFinishDraw.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFinishDraw[n])&&r(),this.__cbOnOwnerUnbindFinishDraw.splice(n,1)),null!=this.__cbOnceFinishDraw&&-1!=(n=this.__cbOnceFinishDraw.indexOf(e))&&(this.__cbOnceFinishDraw.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFinishDraw[n])&&r(),this.__cbOnceOwnerUnbindFinishDraw.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishDraw){for(var t=0,i=this.__cbOnOwnerUnbindFinishDraw.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFinishDraw[s])&&r()}this.__cbOnOwnerUnbindFinishDraw=null}if(null!=this.__cbOnceOwnerUnbindFinishDraw){for(t=0,i=this.__cbOnceOwnerUnbindFinishDraw.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFinishDraw[s])&&r()}this.__cbOnceOwnerUnbindFinishDraw=null}this.__cbOnFinishDraw=null,this.__cbOnceFinishDraw=null}},listensFinishDraw:function(){return null!=this.__cbOnFinishDraw&&this.__cbOnFinishDraw.length>0||null!=this.__cbOnceFinishDraw&&this.__cbOnceFinishDraw.length>0},emitLowMemory:function(){var e=0;if(null!=this.__cbOnLowMemory&&(e+=this.__cbOnLowMemory.length),null!=this.__cbOnceLowMemory&&(e+=this.__cbOnceLowMemory.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnLowMemory)for(var s=0,r=this.__cbOnLowMemory.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnLowMemory[l],++i):--e}if(null!=this.__cbOnceLowMemory){var a=null,h=null;for(s=0,r=this.__cbOnceLowMemory.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceLowMemory[l],this.__cbOnceLowMemory[l]=null;var c=this.__cbOnceOwnerUnbindLowMemory[l];this.__cbOnceOwnerUnbindLowMemory[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindLowMemory[l]),h.push(this.__cbOnceLowMemory[l])}this.__cbOnceOwnerUnbindLowMemory=a,this.__cbOnceLowMemory=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onLowMemory:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event lowMemory because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offLowMemory(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindLowMemory&&(this.__cbOnOwnerUnbindLowMemory=[]),this.__cbOnOwnerUnbindLowMemory.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindLowMemory&&(this.__cbOnOwnerUnbindLowMemory=[]),this.__cbOnOwnerUnbindLowMemory.push(null);null==this.__cbOnLowMemory&&(this.__cbOnLowMemory=[]),this.__cbOnLowMemory.push(n)},onceLowMemory:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event lowMemory because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offLowMemory(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindLowMemory&&(this.__cbOnceOwnerUnbindLowMemory=[]),this.__cbOnceOwnerUnbindLowMemory.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindLowMemory&&(this.__cbOnceOwnerUnbindLowMemory=[]),this.__cbOnceOwnerUnbindLowMemory.push(null);null==this.__cbOnceLowMemory&&(this.__cbOnceLowMemory=[]),this.__cbOnceLowMemory.push(n)},offLowMemory:function(e){if(null!=e){var n;null!=this.__cbOnLowMemory&&-1!=(n=this.__cbOnLowMemory.indexOf(e))&&(this.__cbOnLowMemory.splice(n,1),null!=(r=this.__cbOnOwnerUnbindLowMemory[n])&&r(),this.__cbOnOwnerUnbindLowMemory.splice(n,1)),null!=this.__cbOnceLowMemory&&-1!=(n=this.__cbOnceLowMemory.indexOf(e))&&(this.__cbOnceLowMemory.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindLowMemory[n])&&r(),this.__cbOnceOwnerUnbindLowMemory.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLowMemory){for(var t=0,i=this.__cbOnOwnerUnbindLowMemory.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindLowMemory[s])&&r()}this.__cbOnOwnerUnbindLowMemory=null}if(null!=this.__cbOnceOwnerUnbindLowMemory){for(t=0,i=this.__cbOnceOwnerUnbindLowMemory.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindLowMemory[s])&&r()}this.__cbOnceOwnerUnbindLowMemory=null}this.__cbOnLowMemory=null,this.__cbOnceLowMemory=null}},listensLowMemory:function(){return null!=this.__cbOnLowMemory&&this.__cbOnLowMemory.length>0||null!=this.__cbOnceLowMemory&&this.__cbOnceLowMemory.length>0},emitTerminate:function(){var e=0;if(null!=this.__cbOnTerminate&&(e+=this.__cbOnTerminate.length),null!=this.__cbOnceTerminate&&(e+=this.__cbOnceTerminate.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnTerminate)for(var s=0,r=this.__cbOnTerminate.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnTerminate[l],++i):--e}if(null!=this.__cbOnceTerminate){var a=null,h=null;for(s=0,r=this.__cbOnceTerminate.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceTerminate[l],this.__cbOnceTerminate[l]=null;var c=this.__cbOnceOwnerUnbindTerminate[l];this.__cbOnceOwnerUnbindTerminate[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindTerminate[l]),h.push(this.__cbOnceTerminate[l])}this.__cbOnceOwnerUnbindTerminate=a,this.__cbOnceTerminate=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onTerminate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event terminate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTerminate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTerminate&&(this.__cbOnOwnerUnbindTerminate=[]),this.__cbOnOwnerUnbindTerminate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTerminate&&(this.__cbOnOwnerUnbindTerminate=[]),this.__cbOnOwnerUnbindTerminate.push(null);null==this.__cbOnTerminate&&(this.__cbOnTerminate=[]),this.__cbOnTerminate.push(n)},onceTerminate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event terminate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTerminate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTerminate&&(this.__cbOnceOwnerUnbindTerminate=[]),this.__cbOnceOwnerUnbindTerminate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTerminate&&(this.__cbOnceOwnerUnbindTerminate=[]),this.__cbOnceOwnerUnbindTerminate.push(null);null==this.__cbOnceTerminate&&(this.__cbOnceTerminate=[]),this.__cbOnceTerminate.push(n)},offTerminate:function(e){if(null!=e){var n;null!=this.__cbOnTerminate&&-1!=(n=this.__cbOnTerminate.indexOf(e))&&(this.__cbOnTerminate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTerminate[n])&&r(),this.__cbOnOwnerUnbindTerminate.splice(n,1)),null!=this.__cbOnceTerminate&&-1!=(n=this.__cbOnceTerminate.indexOf(e))&&(this.__cbOnceTerminate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTerminate[n])&&r(),this.__cbOnceOwnerUnbindTerminate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTerminate){for(var t=0,i=this.__cbOnOwnerUnbindTerminate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTerminate[s])&&r()}this.__cbOnOwnerUnbindTerminate=null}if(null!=this.__cbOnceOwnerUnbindTerminate){for(t=0,i=this.__cbOnceOwnerUnbindTerminate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTerminate[s])&&r()}this.__cbOnceOwnerUnbindTerminate=null}this.__cbOnTerminate=null,this.__cbOnceTerminate=null}},listensTerminate:function(){return null!=this.__cbOnTerminate&&this.__cbOnTerminate.length>0||null!=this.__cbOnceTerminate&&this.__cbOnceTerminate.length>0},_onceImmediateWithOwner:function(e,n){this._onceImmediate((function(){(null==e||e._lifecycleState>=0)&&n()}))},_onceImmediate:function(e){if(null==e)throw haxe_Exception.thrown("Immediate callback should not be null!");this.immediateCallbacksLen<this.immediateCallbacksCapacity?(this.immediateCallbacks[this.immediateCallbacksLen]=e,this.immediateCallbacksLen++):(this.immediateCallbacks[this.immediateCallbacksLen++]=e,this.immediateCallbacksCapacity++)},_oncePostFlushImmediateWithOwner:function(e,n,t){this._oncePostFlushImmediate((function(){(null==e||e._lifecycleState>=0)&&n()}),t)},_oncePostFlushImmediate:function(e,n){var t=this;n?ceramic_App.app._onceImmediate((function(){var n=!1;null==n&&(n=!0),t._oncePostFlushImmediate(e,n)})):0==this.immediateCallbacksLen?e():this.postFlushImmediateCallbacksLen<this.postFlushImmediateCallbacksCapacity?(this.postFlushImmediateCallbacks[this.postFlushImmediateCallbacksLen]=e,this.postFlushImmediateCallbacksLen++):(this.postFlushImmediateCallbacks[this.postFlushImmediateCallbacksLen++]=e,this.postFlushImmediateCallbacksCapacity++)},flushImmediate:function(){for(var e=!1;this.immediateCallbacksLen>0;){e=!0;var n=(c=ceramic_ArrayPool.pool(this.immediateCallbacksLen)).get(),t=this.immediateCallbacksLen;this.immediateCallbacksLen=0;for(var i=0,s=t;i<s;){var r=i++;n.vector[r]=this.immediateCallbacks[r],this.immediateCallbacks[r]=null}for(var l=0,a=t;l<a;){var h=l++;(0,n.vector[h])()}c.release(n)}if(this.postFlushImmediateCallbacksLen>0){var c;n=(c=ceramic_ArrayPool.pool(this.postFlushImmediateCallbacksLen)).get(),t=this.postFlushImmediateCallbacksLen;this.postFlushImmediateCallbacksLen=0;for(i=0,s=t;i<s;){r=i++;n.vector[r]=this.postFlushImmediateCallbacks[r],this.postFlushImmediateCallbacks[r]=null}for(i=0,s=t;i<s;){r=i++;(0,n.vector[r])()}c.release(n)}return e},onceXUpdates:function(e,n,t){var i=this._xUpdatesHandlersPool,s=i.availableItems.length>0?i.availableItems.pop():null;null==s&&(s=new ceramic_AppXUpdatesHandler),s.owner=e,s.numUpdates=n,s.callback=t;for(var r=!1,l=0,a=this._xUpdatesHandlers.length;l<a;){var h=l++;if(null==this._xUpdatesHandlers[h]){this._xUpdatesHandlers[h]=s,r=!0;break}}r||this._xUpdatesHandlers.push(s)},offXUpdates:function(e){for(var n=!1,t=0,i=this._xUpdatesHandlers.length;t<i;){var s=t++,r=this._xUpdatesHandlers[s];r.callback==e&&(r.reset(),this._xUpdatesHandlersPool.recycle(r),this._xUpdatesHandlers[s]=null,n=!0)}n&&this.cleanXUpdatesNullValues()},tickOnceXUpdates:function(){for(var e=0,n=!1,t=0,i=this._xUpdatesHandlers.length;t<i;){var s=t++,r=this._xUpdatesHandlers[s];if(null!=r&&(r.numUpdates--,r.numUpdates<=0)){var l=r.owner;(null==l||l._lifecycleState>=0)&&(this._xUpdatesToCallNow[e]=r.callback,++e),this._xUpdatesHandlers[s]=null,n=!0}}if(e>0)for(t=0,i=e;t<i;){s=t++;var a=this._xUpdatesToCallNow[s];this._xUpdatesToCallNow[s]=null,a()}n&&this.cleanXUpdatesNullValues()},cleanXUpdatesNullValues:function(){for(var e=0,n=0,t=this._xUpdatesHandlers.length;e<t;){for(;;){if(null!=this._xUpdatesHandlers[e])break;if(++n,!(++e<t))break}if(0!=n&&e<t){var i=e-n;this._xUpdatesHandlers[i]=this._xUpdatesHandlers[e]}++e}var s=this._xUpdatesHandlers,r=t-n;s.length!=r&&(s.length>r?s.splice(r,s.length-r):s[r-1]=null)},requestFullUpdateAndDrawInFrame:function(){this.inUpdate&&(this.shouldUpdateAndDrawAgain=!0)},get_computedFps:function(){return this._computeFps.fps},get_scenes:function(){return this.lazyScenes&&(this.lazyScenes=!1,this.scenes=ceramic_SceneSystem.get_shared()),this.scenes},set_scenes:function(e){return this.scenes=e},quit:function(){ceramic_PlatformSpecific.quit()},backendReady:function(){var e=this;if(this.backend.onUpdate(this,$bind(this,this.updatePreReady)),this.persistent=new ceramic_PersistentData("app"),this.textInput=new ceramic_TextInput,this.bindSettings(),this.screen.backendReady(),null!=ceramic_App.preInitCallbacks){for(var n=0,t=[].concat(ceramic_App.preInitCallbacks);n<t.length;){var i=t[n];++n,i()}ceramic_App.preInitCallbacks=null}this.initFieldConverters(),null!=this.settings.collections&&this.initCollections(this.settings.collections(),this.settings.appInfo),this.assets.add(this.settings.defaultShader),this.assets.add("shader:msdf"),this.assets.add("shader:pixelArt"),this.assets.onceComplete(this,(function(n){e.assets.add(e.settings.defaultFont),e.assets.add("image:white"),e.assets.onceComplete(e,(function(n){n?(e.defaultFont=e.assets.font(e.settings.defaultFont),e.defaultWhiteTexture=e.assets.texture("image:white"),e.defaultTexturedShader=e.assets.shader(e.settings.defaultShader),e.logger.success("Default assets loaded.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/App.hx",lineNumber:848,className:"ceramic.App",methodName:"backendReady"}),e.assetsLoaded()):ceramic_App.app.logger.error("Failed to load default assets.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/App.hx",lineNumber:851,className:"ceramic.App",methodName:"backendReady"})})),e.emitDefaultAssetsLoad(e.assets),e.assets.load(null,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/App.hx",lineNumber:859,className:"ceramic.App",methodName:"backendReady"}),e.assets.immediate.flush(),e.flushImmediate()})),this.assets.load(null,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/App.hx",lineNumber:865,className:"ceramic.App",methodName:"backendReady"}),this.assets.immediate.flush(),this.flushImmediate()},bindSettings:function(){this.settings.onTargetFpsChange(this,(function(e,n){ceramic_App.app.backend.setTargetFps(e)})),ceramic_App.app.backend.setTargetFps(this.settings.get_targetFps())},initFieldConverters:function(){var e=this.converters,n=new ceramic_ConvertTexture;e.h["ceramic.Texture"]=n;e=this.converters,n=new ceramic_ConvertFont;e.h["ceramic.BitmapFont"]=n;e=this.converters,n=new ceramic_ConvertFragmentData;e.h["ceramic.FragmentData"]=n;e=this.converters,n=new ceramic_ConvertMap;e.h["Map<String,String>"]=n;e=this.converters,n=new ceramic_ConvertMap;e.h["Map<String,Bool>"]=n;e=this.converters,n=new ceramic_ConvertMap;e.h["ceramic.ReadOnlyMap<String,String>"]=n;e=this.converters,n=new ceramic_ConvertMap;e.h["ceramic.ReadOnlyMap<String,Bool>"]=n;e=this.converters,n=new ceramic_ConvertArray;e.h["Array<Float>"]=n;e=this.converters,n=new ceramic_ConvertArray;e.h["Array<Int>"]=n;e=this.converters,n=new ceramic_ConvertArray;e.h["Array<String>"]=n;e=this.converters,n=new ceramic_ConvertArray;e.h["ceramic.ReadOnlyArray<Float>"]=n;e=this.converters,n=new ceramic_ConvertArray;e.h["ceramic.ReadOnlyArray<Int>"]=n;e=this.converters,n=new ceramic_ConvertArray;e.h["ceramic.ReadOnlyArray<String>"]=n;e=this.converters,n=new ceramic_ConvertComponentMap;e.h["Map<String,ceramic.Component>"]=n;e=this.converters,n=new ceramic_ConvertComponentMap;e.h["ceramic.ReadOnlyMap<String,ceramic.Component>"]=n;e=this.converters,n=new ceramic_ConvertIntBoolMap;e.h["ceramic.IntBoolMap"]=n},initCollections:function(e,n){var i=this;null==n&&(n=this.info);for(var s=Object.create(null),r=0,l=0,a=Reflect.fields(n.collections);l<a.length;){var h=a[l];++l;for(var c=0,o=Reflect.fields(Reflect.field(n.collections,h));c<o.length;){var u=o[c];++c;var _=Reflect.field(Reflect.field(n.collections,h),u);if("string"!=typeof _){var d=_.data;null!=d&&(Object.prototype.hasOwnProperty.call(s,d)||(s[d]=!0,this.assets.addDatabase(d),++r))}}}r>0&&this.assets.onceComplete(this,(function(s){for(var r=0,l=Reflect.fields(n.collections);r<l.length;){var a=l[r];++r;for(var h=0,c=Reflect.fields(Reflect.field(n.collections,a));h<c.length;){var o=c[h];++h;var u=Reflect.field(Reflect.field(n.collections,a),o);if("string"!=typeof u){var _=u.data;if(null!=_){for(var d=i.assets.database(_),b=Reflect.field(e,o),f=u.type,p=t[f],O=0;O<d.length;){var g=d[O];++O;var m=Type.createInstance(p,[null,null]);m.setRawData(g),b.push(m)}b.synchronize()}}}}}))},assetsLoaded:function(){this.runNextLoader()},runNextLoader:function(){this.loaders.length>0?this.loaders.shift()($bind(this,this.runNextLoader)):(this.loaders=null,this.runReady())},runReady:function(){var e=this;ceramic_PlatformSpecific.postAppInit(),this.emitReady(),this.screen.resize(),this.backend.offUpdate($bind(this,this.updatePreReady)),this.backend.onUpdate(this,$bind(this,this.update)),this.backend.input.onKeyDown(this,(function(n){e.beginUpdateCallbacks.push((function(){e.input.emitKeyDown(n)}))})),this.backend.input.onKeyUp(this,(function(n){e.beginUpdateCallbacks.push((function(){e.input.emitKeyUp(n)}))})),this.backend.input.onGamepadEnable(this,(function(n,t){e.beginUpdateCallbacks.push((function(){e.input.emitGamepadEnable(n,t)}))})),this.backend.input.onGamepadDisable(this,(function(n){e.beginUpdateCallbacks.push((function(){e.input.emitGamepadDisable(n)}))})),this.backend.input.onGamepadDown(this,(function(n,t){e.beginUpdateCallbacks.push((function(){e.input.emitGamepadDown(n,t)}))})),this.backend.input.onGamepadUp(this,(function(n,t){e.beginUpdateCallbacks.push((function(){e.input.emitGamepadUp(n,t)}))})),this.backend.input.onGamepadAxis(this,(function(n,t,i){e.beginUpdateCallbacks.push((function(){e.input.emitGamepadAxis(n,t,i)}))}))},updatePreReady:function(e){ceramic_Assets.flushAllInstancesImmediate(),this.flushImmediate()},update:function(e){++this.frame>999999999&&(this.frame-=999999999);var n=e;n>this.settings.get_maxDelta()&&(n=this.settings.get_maxDelta()),this.settings.get_overrideDelta()>=0&&(n=this.settings.get_overrideDelta()),this._computeFps.addFrame(n),this.delta=n,this.realDelta=e,ceramic_Timer.update(n,e),ceramic_Runner.tick(),this.screen.updatePointerOverState(n),this.inUpdate=!0,this.shouldUpdateAndDrawAgain=!0;for(var t=!0;this.shouldUpdateAndDrawAgain;){this.shouldUpdateAndDrawAgain=!1;var i=t?n:0;if(this.screen.resetDeltas(),this.beginUpdateCallbacks.length>0){var s=this.beginUpdateCallbacks;this.beginUpdateCallbacks=[];for(var r=0;r<s.length;){var l=s[r];++r,l()}}for(this.emitPreUpdate(i),this.systems.earlyUpdate(n),ceramic_Assets.flushAllInstancesImmediate(),this.flushImmediate(),i>0&&(ceramic_Tween.tick(n),this.flushImmediate()),this.emitUpdate(i),this.tickOnceXUpdates(),this.flushImmediate(),this.systems.lateUpdate(n),this.emitPostUpdate(i),this.flushImmediate();this.disposedEntities.length>0;){this.disposedEntities.shift().destroy()}this.syncPendingVisuals();for(var a=this.visuals,h=0,c=!1,o=!1;;){this.visualsContentDirty=!1;var u=this.screen.matrix;u.changedDirty&&(u.changed=u.tx!=u._txPrev||u.ty!=u._tyPrev||u.a!=u._aPrev||u.b!=u._bPrev||u.c!=u._cPrev||u.d!=u._dPrev,u.changedDirty=!1),this.screen.matrix.changed&&this.screen.matrix.emitChange();for(var _=0,d=a.length;_<d;){var b=a[_++];b._lifecycleState>=0&&(b.touchableDirty&&b.computeTouchable(),b.contentDirty&&(b.visibilityDirty&&b.computeVisibility(),b.computedVisible&&b.computeContent()))}for(var f=0,p=a.length;f<p;){var O=a[f++];if(O._lifecycleState>=0&&null!=O.transform){var g=O.transform;g.changedDirty&&(g.changed=g.tx!=g._txPrev||g.ty!=g._tyPrev||g.a!=g._aPrev||g.b!=g._bPrev||g.c!=g._cPrev||g.d!=g._dPrev,g.changedDirty=!1),O.transform.changed&&O.transform.emitChange()}}if(h++>9999){if(c&&this.visualsContentDirty)throw haxe_Exception.thrown("Failed to update visuals because flushImmediate() is being called continuously and visuals content stays dirty.");if(c)throw haxe_Exception.thrown("Failed to update visuals because flushImmediate() is being called continuously.");for(var m=0,w=a.length;m<w;){var v=a[m++];if(v._lifecycleState>=0&&v.contentDirty)throw haxe_Exception.thrown("Failed to update visuals because visuals content stays dirty. ("+Std.string(v)+")")}}if(c=this.flushImmediate(),o=this.syncPendingVisuals(),!(c||this.visualsContentDirty||o))break}for(var y=0,U=this.renderTextures.length;y<U;){var x=y++,C=this.renderTextures[x];null!=C.dependingTextures&&(C.dependingTextures.h={})}for(var D=0,T=a.length;D<T;){var E=a[D++];if(E._lifecycleState>=0&&(E.renderTargetDirty&&E.computeRenderTarget(),E.matrixDirty&&E.computeMatrix(),E.visibilityDirty&&E.computeVisibility(),E.computedVisible&&E.clipDirty&&E.computeClip(),null!=E.computedRenderTarget))if(null!=E.asQuad){if(null!=E.asQuad.texture){var S=E.computedRenderTarget,A=E.asQuad.texture;if(null==S.dependingTextures){var M=new haxe_ds_IntMap;S.dependingTextures=M}var F=S.dependingTextures.h[0|A.index],P=(null!=F?F:0)+1;S.dependingTextures.h[0|A.index]=P}}else if(null!=E.asMesh&&null!=E.asMesh.texture){var R=E.computedRenderTarget,I=E.asMesh.texture;if(null==R.dependingTextures){var k=new haxe_ds_IntMap;R.dependingTextures=k}var B=R.dependingTextures.h[0|I.index],L=(null!=B?B:0)+1;R.dependingTextures.h[0|I.index]=L}}this.computeHierarchy();var N=this.renderTextures;if(0!=N.length){for(var W=N.length,K=0,G=W;K<G;){N[K++].priority=0}for(var Y=0,X=W;Y<X;)for(var V=N[Y++],H=0,z=W;H<z;){var j,$=N[H++];if(null!=V.dependingTextures){var Q=V.dependingTextures.h[0|$.index];j=(null!=Q?Q:0)>0}else j=!1;j&&$.priority<=V.priority&&($.priority=V.priority+1)}for(var q=0,Z=W;q<Z;)for(var J=N[q++],ee=0,ne=W;ee<ne;){var te,ie=N[ee++];if(null!=J.dependingTextures){var se=J.dependingTextures.h[0|ie.index];te=(null!=se?se:0)>0}else te=!1;te&&ie.priority<=J.priority&&(ie.priority=J.priority+1)}}this.syncDestroyedVisuals();var re=this.visuals;this.emitBeginSortVisuals(),ceramic_SortVisuals.rec(re,0,re.length),this.emitFinishSortVisuals(),t=!1,this.emitBeginDraw(),this.backend.draw.draw(this.visuals),this.emitFinishDraw()}this.inUpdate=!1},addVisual:function(e){this.pendingVisuals.push(e)},removeVisual:function(e){this.destroyedVisuals.push(e)},syncPendingVisuals:function(){if(this.pendingVisuals.length>0){for(;this.pendingVisuals.length>0;)this.visuals.push(this.pendingVisuals.pop());return this.hierarchyDirty=!0,!0}return!1},syncDestroyedVisuals:function(){if(this.destroyedVisuals.length>0){for(var e=0,n=0,t=this.visuals.length;e<t;){for(;;){if(!(this.visuals[e]._lifecycleState<0))break;if(++n,!(++e<t))break}if(0!=n&&e<t){var i=e-n;this.visuals[i]=this.visuals[e]}++e}if(0!=(s=this.destroyedVisuals).length)if(s.length>0)s.splice(0,s.length);else s[-1]=null;var s,r=t-n;if((s=this.visuals).length!=r)if(s.length>r)s.splice(r,s.length-r);else s[r-1]=null;this.hierarchyDirty=!0}},updateVisuals:function(e){for(var n=0,t=!1,i=!1;;){this.visualsContentDirty=!1,(f=this.screen.matrix).changedDirty&&(f.changed=f.tx!=f._txPrev||f.ty!=f._tyPrev||f.a!=f._aPrev||f.b!=f._bPrev||f.c!=f._cPrev||f.d!=f._dPrev,f.changedDirty=!1),this.screen.matrix.changed&&this.screen.matrix.emitChange();for(var s=0,r=e.length;s<r;){(b=e[_=s++])._lifecycleState>=0&&(b.touchableDirty&&b.computeTouchable(),b.contentDirty&&(b.visibilityDirty&&b.computeVisibility(),b.computedVisible&&b.computeContent()))}for(var l=0,a=e.length;l<a;){var h=e[l++];if(h._lifecycleState>=0&&null!=h.transform)(w=h.transform).changedDirty&&(w.changed=w.tx!=w._txPrev||w.ty!=w._tyPrev||w.a!=w._aPrev||w.b!=w._bPrev||w.c!=w._cPrev||w.d!=w._dPrev,w.changedDirty=!1),h.transform.changed&&h.transform.emitChange()}if(n++>9999){if(t&&this.visualsContentDirty)throw haxe_Exception.thrown("Failed to update visuals because flushImmediate() is being called continuously and visuals content stays dirty.");if(t)throw haxe_Exception.thrown("Failed to update visuals because flushImmediate() is being called continuously.");for(var c=0,o=e.length;c<o;){var u=e[c++];if(u._lifecycleState>=0&&u.contentDirty)throw haxe_Exception.thrown("Failed to update visuals because visuals content stays dirty. ("+Std.string(u)+")")}}if(t=this.flushImmediate(),i=this.syncPendingVisuals(),!(t||this.visualsContentDirty||i))break}for(s=0,r=this.renderTextures.length;s<r;){var _=s++,d=this.renderTextures[_];null!=d.dependingTextures&&(d.dependingTextures.h={})}for(s=0,r=e.length;s<r;){var b;if((b=e[_=s++])._lifecycleState>=0&&(b.renderTargetDirty&&b.computeRenderTarget(),b.matrixDirty&&b.computeMatrix(),b.visibilityDirty&&b.computeVisibility(),b.computedVisible&&b.clipDirty&&b.computeClip(),null!=b.computedRenderTarget))if(null!=b.asQuad){if(null!=b.asQuad.texture){var f=b.computedRenderTarget,p=b.asQuad.texture;if(null==f.dependingTextures){var O=new haxe_ds_IntMap;f.dependingTextures=O}var g=f.dependingTextures.h[0|p.index],m=(null!=g?g:0)+1;f.dependingTextures.h[0|p.index]=m}}else if(null!=b.asMesh&&null!=b.asMesh.texture){var w=b.computedRenderTarget,v=b.asMesh.texture;if(null==w.dependingTextures){var y=new haxe_ds_IntMap;w.dependingTextures=y}var U=w.dependingTextures.h[0|v.index],x=(null!=U?U:0)+1;w.dependingTextures.h[0|v.index]=x}}},computeHierarchy:function(){if(this.hierarchyDirty){for(var e=0,n=this.visuals.length;e<n;){var t=e++,i=this.visuals[t];i._lifecycleState>=0&&null==i.parent&&(i.computedDepth=2e6*i.depth,null!=i.children&&ceramic_Visual._computeChildrenDepth0(i))}this.hierarchyDirty=!1}},computeRenderTexturesPriority:function(e){if(0!=e.length){for(var n=e.length,t=0,i=n;t<i;){e[t++].priority=0}for(t=0,i=n;t<i;)for(var s=e[t++],r=0,l=n;r<l;){var a=e[r++];if(null!=s.dependingTextures)h=(null!=(c=s.dependingTextures.h[0|a.index])?c:0)>0;else h=!1;h&&a.priority<=s.priority&&(a.priority=s.priority+1)}for(t=0,i=n;t<i;)for(s=e[t++],r=0,l=n;r<l;){var h,c;a=e[r++];if(null!=s.dependingTextures)h=(null!=(c=s.dependingTextures.h[0|a.index])?c:0)>0;else h=!1;h&&a.priority<=s.priority&&(a.priority=s.priority+1)}}},sortVisuals:function(e){this.emitBeginSortVisuals(),ceramic_SortVisuals.rec(e,0,e.length),this.emitFinishSortVisuals()},group:function(e,n){null==n&&(n=!0);for(var t=0,i=this.groups.length;t<i;){var s=t++,r=this.groups[s];if(r.id==e)return r}return n?new ceramic_Group(e):null},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offReady(),this.offUpdate(),this.offPreUpdate(),this.offPostUpdate(),this.offDefaultAssetsLoad(),this.offCriticalError(),this.offBeginEnterBackground(),this.offFinishEnterBackground(),this.offBeginEnterForeground(),this.offFinishEnterForeground(),this.offBeginSortVisuals(),this.offFinishSortVisuals(),this.offBeginDraw(),this.offFinishDraw(),this.offLowMemory(),this.offTerminate()},__class__:ceramic_App,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_scenes:"set_scenes",get_scenes:"get_scenes",get_computedFps:"get_computedFps"})});var ceramic_AppXUpdatesHandler=function(){this.callback=null,this.numUpdates=-1,this.owner=null};t["ceramic.AppXUpdatesHandler"]=ceramic_AppXUpdatesHandler,ceramic_AppXUpdatesHandler.__name__="ceramic.AppXUpdatesHandler",ceramic_AppXUpdatesHandler.prototype={reset:function(){this.owner=null,this.numUpdates=-1,this.callback=null},__class__:ceramic_AppXUpdatesHandler};var ceramic_Mesh=function(){this.uvs=[],this.texture=null,this.colors=[],this.indices=[],this.vertices=[],this.complexHit=!1,this.customFloatAttributesSize=0,this.colorMapping=0,ceramic_Visual.call(this),this.asMesh=this};t["ceramic.Mesh"]=ceramic_Mesh,ceramic_Mesh.__name__="ceramic.Mesh",ceramic_Mesh.__super__=ceramic_Visual,ceramic_Mesh.prototype=$extend(ceramic_Visual.prototype,{destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2;null!=this.texture&&(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.release()),this.texture=null,null!=this.texture&&(this.texture.onDestroy(this,$bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.retain())),this._lifecycleState=-1,ceramic_Visual.prototype.destroy.call(this)}},get_color:function(){if(null==this.colors||0==this.colors.length)return 16777215;var e=this.colors[0],n=e>>16&255,t=e>>8&255,i=255&e,s=c._new();return s&=65535,s|=(n>255?255:n<0?0:n)<<16,s&=16711935,s|=(t>255?255:t<0?0:t)<<8,s&=16776960,s|=i>255?255:i<0?0:i},set_color:function(e){if(null==this.colors&&(this.colors=[]),0==this.colors.length){null==(i=255)&&(i=255);var n=(0|e)-16777216;n&=16777215;var t=n|=(i>255?255:i<0?0:i)<<24;this.colors.push(t)}else{var i;null==(i=255)&&(i=255);n=(0|e)-16777216;n&=16777215;t=n|=(i>255?255:i<0?0:i)<<24;this.colors[0]=t}return e},set_texture:function(e){return this.texture==e||(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.release()),this.texture=e,null!=this.texture&&(this.texture.onDestroy(this,$bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.retain())),e},textureDestroyed:function(e){null!=this.texture&&(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.release()),this.texture=null,null!=this.texture&&(this.texture.onDestroy(this,$bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.retain()))},hitTest:function(e,n,t){if(this.complexHit){for(var i,s,r,l,a,h,c,o,u,_,d=e*t.a+n*t.c+t.tx,b=e*t.b+n*t.d+t.ty,f=2+this.customFloatAttributesSize,p=0,O=0,g=this.indices.length/3|0;p<g;){s=this.indices[O],++O,r=this.indices[O],++O,l=this.indices[O],++O,i=s*f,a=this.vertices[i],++i,h=this.vertices[i],i=r*f,c=this.vertices[i],++i,o=this.vertices[i],i=l*f,u=this.vertices[i],++i;var m=(d-c)*(h-o)-(a-c)*(b-o),w=(d-u)*(o-(_=this.vertices[i]))-(c-u)*(b-_),v=(d-a)*(_-h)-(u-a)*(b-h);if(!(m<0||w<0||v<0)||!(m>0||w>0||v>0))return!0;++p}return!1}return ceramic_Visual.prototype.hitTest.call(this,e,n,t)},set_shader:function(e){return this.shader=e,null!=e&&(this.customFloatAttributesSize=e.customFloatAttributesSize),e},computeSize:function(){if(null!=this.vertices&&this.vertices.length>=2){var e=0,n=0,t=0,i=this.vertices.length-1;if(this.customFloatAttributesSize>0)for(;t<i;){(s=this.vertices[t])>e&&(e=s),++t,(r=this.vertices[t])>n&&(n=r),t+=1+this.customFloatAttributesSize}else for(;t<i;){var s,r;(s=this.vertices[t])>e&&(e=s),++t,(r=this.vertices[t])>n&&(n=r),++t}var l=Math.round(1e3*n)/1e3;this.set_width(Math.round(1e3*e)/1e3),this.set_height(l)}else this.set_width(0),this.set_height(0)},grid:function(e,n,t,i){null==i&&(i=-1),null==t&&(t=-1),-1==t&&(t=this._width),-1==i&&(i=this._height);for(var s,r=t/e,l=i/n,a=0,h=0,c=0,o=n+1;c<o;)for(var u=c++,_=u*l,d=0,b=e+1;d<b;){var f=d++;if(this.vertices[a]=f*r,++a,this.vertices[a]=_,++a,u>0&&f>0){var p=(u-1)*(e+1)+f-1;this.indices[h]=p,++h,this.indices[h]=p+1,++h,this.indices[h]=p+(e+1),++h,this.indices[h]=p+1,++h,this.indices[h]=p+(e+1),++h,this.indices[h]=p+(e+1)+1,++h}}this.vertices.length>a&&((s=this.vertices).length!=a&&(s.length>a?s.splice(a,s.length-a):s[a-1]=null));this.indices.length>h&&((s=this.indices).length!=h&&(s.length>h?s.splice(h,s.length-h):s[h-1]=null))},gridFromTexture:function(e,n,t){null==t&&(t=this.texture),this.grid(e,n,t.width,t.height);for(var i=0,s=1/e,r=1/n,l=0,a=n+1;l<a;){var h=l++*r;this.uvs[i]=0,++i,this.uvs[i]=h,++i;for(var c=1,o=e+1;c<o;){var u=c++;this.uvs[i]=u*s,++i,this.uvs[i]=h,++i}}if(this.uvs.length>i){var _=this.uvs;if(_.length!=i)if(_.length>i)_.splice(i,_.length-i);else _[i-1]=null}},__class__:ceramic_Mesh,__properties__:$extend(ceramic_Visual.prototype.__properties__,{set_texture:"set_texture",set_color:"set_color",get_color:"get_color"})});var ceramic_Arc=function(){this.thickness=16,this.borderPosition=h.MIDDLE,this.angle=270,this.radius=64,this.sides=32,ceramic_Mesh.call(this),this.set_anchorX(.5),this.set_anchorY(.5)};t["ceramic.Arc"]=ceramic_Arc,ceramic_Arc.__name__="ceramic.Arc",ceramic_Arc.__super__=ceramic_Mesh,ceramic_Arc.prototype=$extend(ceramic_Mesh.prototype,{set_sides:function(e){return this.sides==e||(this.sides=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_radius:function(e){return this.radius==e||(this.radius=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_angle:function(e){return this.angle==e||(this.angle=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_borderPosition:function(e){return this.borderPosition==e||(this.borderPosition=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_thickness:function(e){return this.thickness==e||(this.thickness=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},computeContent:function(){var e,n,t=this.radius,i=this.angle,s=this.thickness,r=this.borderPosition,l=Math.ceil(this.sides*i/360),a=this.vertices,h=this.indices;0!=a.length&&(a.length>0?a.splice(0,a.length):a[-1]=null);0!=h.length&&(h.length>0?h.splice(0,h.length):h[-1]=null);var c,o,u=1.5*Math.PI,_=.017453292519943295*i/l;switch(r._hx_index){case 0:c=-s;break;case 1:c=0;break;case 2:c=.5*-s}switch(r._hx_index){case 0:o=0;break;case 1:o=s;break;case 2:o=.5*s}this.set_width(2*t),this.set_height(2*t);for(var d=0,b=l+1;d<b;){var f=d++,p=Math.cos(u+_*f),O=Math.sin(u+_*f);if(e=(t+c)*p,n=(t+c)*O,a.push(t+e),a.push(t+n),e=(t+o)*p,n=(t+o)*O,a.push(t+e),a.push(t+n),f>0){var g=2*(f-1);h.push(g),h.push(g+1),h.push(g+2),h.push(g+1),h.push(g+2),h.push(g+3)}}this.contentDirty=!1},__class__:ceramic_Arc,__properties__:$extend(ceramic_Mesh.prototype.__properties__,{set_thickness:"set_thickness",set_borderPosition:"set_borderPosition",set_angle:"set_angle",set_radius:"set_radius",set_sides:"set_sides"})});var ceramic_ArrayPool=function(e){this.nextFree=0,this.arrays=null,this.arrayLengths=e};t["ceramic.ArrayPool"]=ceramic_ArrayPool,ceramic_ArrayPool.__name__="ceramic.ArrayPool",ceramic_ArrayPool.pool=function(e){return e<=10?ceramic_ArrayPool.dynPool10:e<=100?ceramic_ArrayPool.dynPool100:e<=1e3?ceramic_ArrayPool.dynPool1000:e<=1e4?ceramic_ArrayPool.dynPool10000:e<=1e5?ceramic_ArrayPool.dynPool100000:(ceramic_ArrayPool.didNotifyLargePool||(ceramic_ArrayPool.didNotifyLargePool=!0,ceramic_Timer.schedule(null,.5,(function(){ceramic_ArrayPool.didNotifyLargePool=!1}),-1),ceramic_App.app.logger.warning("You should avoid asking a pool for arrays with more than 100000 elements (asked: "+e+") because it needs allocating a temporary one-time pool each time for that.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ArrayPool.hx",lineNumber:45,className:"ceramic.ArrayPool",methodName:"pool"})),new ceramic_ArrayPool(e))},ceramic_ArrayPool.prototype={get:function(){if(null==this.arrays)this.arrays=new ceramic_ReusableArray(ceramic_ArrayPool.ALLOC_STEP);else if(this.nextFree>=this.arrays.length){var e=this.arrays;e.set_length(e.length+ceramic_ArrayPool.ALLOC_STEP)}var n=this.arrays.vector[this.nextFree];for(null==n&&(n=new ceramic_ReusableArray(this.arrayLengths),this.arrays.vector[this.nextFree]=n),n._poolIndex=this.nextFree;this.nextFree++,this.nextFree!=this.arrays.length;){var t=this.arrays.vector[this.nextFree];if(null==t)break;if(-1==t._poolIndex)break}return n},release:function(e){var n=e._poolIndex;e._poolIndex=-1,this.nextFree>n&&(this.nextFree=n);for(var t=0,i=e.length;t<i;){var s=t++;e.vector[s]=null}},__class__:ceramic_ArrayPool};var ceramic_Assert=function(){};t["ceramic.Assert"]=ceramic_Assert,ceramic_Assert.__name__="ceramic.Assert";var ceramic_Asset=function(e,n,t){this.hotReload=!1,this.handleTexturesDensityChange=!1,this.unobservedStatus=a.NONE,this.statusAutoruns=null,this.refCount=0,this.assets=null,this.density=1,this.observedDirty=!1,ceramic_Entity.call(this),this.kind=e,this.options=null!=t?t:{},this.set_name(n),this.computePath()};t["ceramic.Asset"]=ceramic_Asset,ceramic_Asset.__name__="ceramic.Asset",ceramic_Asset.__interfaces__=[tracker_Observable],ceramic_Asset.__super__=ceramic_Entity,ceramic_Asset.prototype=$extend(ceramic_Entity.prototype,{emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var l=0,a=this.__cbOnObservedDirty.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnObservedDirty[h],++r):--t}if(null!=this.__cbOnceObservedDirty){var c=null,o=null;for(l=0,a=this.__cbOnceObservedDirty.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceObservedDirty[h],this.__cbOnceObservedDirty[h]=null;var u=this.__cbOnceOwnerUnbindObservedDirty[h];this.__cbOnceOwnerUnbindObservedDirty[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindObservedDirty[h]),o.push(this.__cbOnceObservedDirty[h])}this.__cbOnceOwnerUnbindObservedDirty=c,this.__cbOnceObservedDirty=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(n)},onceObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(n)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[s])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[s])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&this.__cbOnObservedDirty.length>0||null!=this.__cbOnceObservedDirty&&this.__cbOnceObservedDirty.length>0},emitComplete:function(e){e&&null!=this.owner&&this.owner.emitUpdate(this);var n=0;if(null!=this.__cbOnComplete&&(n+=this.__cbOnComplete.length),null!=this.__cbOnceComplete&&(n+=this.__cbOnceComplete.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnComplete)for(var r=0,l=this.__cbOnComplete.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnComplete[a],++s):--n}if(null!=this.__cbOnceComplete){var h=null,c=null;for(r=0,l=this.__cbOnceComplete.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceComplete[a],this.__cbOnceComplete[a]=null;var o=this.__cbOnceOwnerUnbindComplete[a];this.__cbOnceOwnerUnbindComplete[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindComplete[a]),c.push(this.__cbOnceComplete[a])}this.__cbOnceOwnerUnbindComplete=h,this.__cbOnceComplete=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onComplete:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event complete because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offComplete(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(null);null==this.__cbOnComplete&&(this.__cbOnComplete=[]),this.__cbOnComplete.push(n)},onceComplete:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event complete because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offComplete(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(null);null==this.__cbOnceComplete&&(this.__cbOnceComplete=[]),this.__cbOnceComplete.push(n)},offComplete:function(e){if(null!=e){var n;null!=this.__cbOnComplete&&-1!=(n=this.__cbOnComplete.indexOf(e))&&(this.__cbOnComplete.splice(n,1),null!=(r=this.__cbOnOwnerUnbindComplete[n])&&r(),this.__cbOnOwnerUnbindComplete.splice(n,1)),null!=this.__cbOnceComplete&&-1!=(n=this.__cbOnceComplete.indexOf(e))&&(this.__cbOnceComplete.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindComplete[n])&&r(),this.__cbOnceOwnerUnbindComplete.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComplete){for(var t=0,i=this.__cbOnOwnerUnbindComplete.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindComplete[s])&&r()}this.__cbOnOwnerUnbindComplete=null}if(null!=this.__cbOnceOwnerUnbindComplete){for(t=0,i=this.__cbOnceOwnerUnbindComplete.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindComplete[s])&&r()}this.__cbOnceOwnerUnbindComplete=null}this.__cbOnComplete=null,this.__cbOnceComplete=null}},listensComplete:function(){return null!=this.__cbOnComplete&&this.__cbOnComplete.length>0||null!=this.__cbOnceComplete&&this.__cbOnceComplete.length>0},get_status:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.statusAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.statusAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedStatus},set_status:function(e){var n=this.unobservedStatus;if(this.unobservedStatus=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitStatusChange(e,n);var t=this.statusAutoruns;if(null!=t){this.statusAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateStatus:function(){var e=this.unobservedStatus;this.emitStatusChange(e,e);var n=this.statusAutoruns;if(null!=n){this.statusAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitStatusChange:function(e,n){var t=0;if(null!=this.__cbOnStatusChange&&(t+=this.__cbOnStatusChange.length),null!=this.__cbOnceStatusChange&&(t+=this.__cbOnceStatusChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnStatusChange)for(var l=0,a=this.__cbOnStatusChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnStatusChange[h],++r):--t}if(null!=this.__cbOnceStatusChange){var c=null,o=null;for(l=0,a=this.__cbOnceStatusChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceStatusChange[h],this.__cbOnceStatusChange[h]=null;var u=this.__cbOnceOwnerUnbindStatusChange[h];this.__cbOnceOwnerUnbindStatusChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindStatusChange[h]),o.push(this.__cbOnceStatusChange[h])}this.__cbOnceOwnerUnbindStatusChange=c,this.__cbOnceStatusChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onStatusChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event statusChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStatusChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(null);null==this.__cbOnStatusChange&&(this.__cbOnStatusChange=[]),this.__cbOnStatusChange.push(n)},onceStatusChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event statusChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStatusChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(null);null==this.__cbOnceStatusChange&&(this.__cbOnceStatusChange=[]),this.__cbOnceStatusChange.push(n)},offStatusChange:function(e){if(null!=e){var n;null!=this.__cbOnStatusChange&&-1!=(n=this.__cbOnStatusChange.indexOf(e))&&(this.__cbOnStatusChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindStatusChange[n])&&r(),this.__cbOnOwnerUnbindStatusChange.splice(n,1)),null!=this.__cbOnceStatusChange&&-1!=(n=this.__cbOnceStatusChange.indexOf(e))&&(this.__cbOnceStatusChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindStatusChange[n])&&r(),this.__cbOnceOwnerUnbindStatusChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStatusChange){for(var t=0,i=this.__cbOnOwnerUnbindStatusChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindStatusChange[s])&&r()}this.__cbOnOwnerUnbindStatusChange=null}if(null!=this.__cbOnceOwnerUnbindStatusChange){for(t=0,i=this.__cbOnceOwnerUnbindStatusChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindStatusChange[s])&&r()}this.__cbOnceOwnerUnbindStatusChange=null}this.__cbOnStatusChange=null,this.__cbOnceStatusChange=null}},listensStatusChange:function(){return null!=this.__cbOnStatusChange&&this.__cbOnStatusChange.length>0||null!=this.__cbOnceStatusChange&&this.__cbOnceStatusChange.length>0},load:function(){this.set_status(a.BROKEN),ceramic_App.app.logger.error("This asset as no load implementation.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Asset.hx",lineNumber:90,className:"ceramic.Asset",methodName:"load"}),this.emitComplete(!1)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),null!=this.owner&&(this.owner.removeAsset(this),this.owner=null),null!=this.assets&&(this.assets.destroy(),this.assets=null))},computePath:function(e,n,t){if(null==t&&null!=this.runtimeAssets&&(t=this.runtimeAssets),null==e)switch(this.kind){case"database":e=["csv"];break;case"font":e=["fnt"];break;case"fragments":e=["fragments"];break;case"image":e=["png","jpg","jpeg"];break;case"shader":e=["frag","vert"];break;case"sound":e=["ogg","wav"];break;case"text":e=["txt","json","fnt"];break;default:e=null}if((null==e||null==n)&&Object.prototype.hasOwnProperty.call(ceramic_Assets.customAssetKinds.h,this.kind)){var i=ceramic_Assets.customAssetKinds.h[this.kind];null==e&&(e=i.extensions),null==n&&(n=i.dir)}null==e&&(e=[]),null==n&&(n=!1);var s=ceramic_App.app.screen.get_texturesDensity(),r=null,l=null,a=n?null!=t?t.getLists().allDirsByName:ceramic_Assets.allDirsByName:null!=t?t.getLists().allByName:ceramic_Assets.allByName,h=this.name;if(null==r&&null!=h&&ceramic_Path.isAbsolute(h)&&(r=h),e.length>0){for(var c=0;c<e.length;){var o=e[c];if(++c,StringTools.endsWith(h,"."+o)){h=HxOverrides.substr(h,0,h.length-o.length-1);break}}if(Object.prototype.hasOwnProperty.call(a.h,h)){var u=a.h[h];for(c=0;c<e.length;){o=e[c];++c;for(var _=99999999999,d=0;d<u.length;){var b=u[d];++d;var f=ceramic_Assets.decodePath(b);if(f.extension==o){var p=Math.abs(s-f.density);p<_&&(_=p,f.density,r=f.path,l=f)}}if(null!=r)break}}}if(null==r&&(r=h),this.set_path(r),null!=l&&null!=l.flags)for(var O=l.flags.h,g=Object.keys(O),m=g.length,w=0;w<m;){var v=g[w++];Object.prototype.hasOwnProperty.call(this.options,v)||(this.options[v]=l.flags.h[v])}},set_path:function(e){return this.path==e||(this.get_status()==a.READY&&this.set_status(a.NONE),this.path=e,this.density=null==e?1:ceramic_Assets.decodePath(e).density),e},set_name:function(e){return this.name==e||(this.name=e,this.id="asset:"+this.kind+":"+e),e},set_runtimeAssets:function(e){return this.runtimeAssets==e||(this.runtimeAssets=e,this.computePath()),e},set_handleTexturesDensityChange:function(e){return this.handleTexturesDensityChange==e||(this.handleTexturesDensityChange=e,e?ceramic_App.app.screen.onTexturesDensityChange(this,$bind(this,this.texturesDensityDidChange)):ceramic_App.app.screen.offTexturesDensityChange($bind(this,this.texturesDensityDidChange))),e},texturesDensityDidChange:function(e,n){},set_hotReload:function(e){return this.hotReload==e||(this.hotReload=e,e?this.owner.onAssetFilesChange(this,$bind(this,this.assetFilesDidChange)):this.owner.offAssetFilesChange($bind(this,this.assetFilesDidChange))),e},assetFilesDidChange:function(e,n){},toString:function(){var e=this.className();return null!=this.path&&""!=StringTools.trim(this.path)?e+"("+this.name+" "+this.path+")":e+"("+this.name+")"},willEmitComplete:function(e){e&&null!=this.owner&&this.owner.emitUpdate(this)},retain:function(){this.refCount++},release:function(){0==this.refCount?ceramic_App.app.logger.warning("Called release() on asset "+Std.string(this)+" when its refCount is already 0",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Asset.hx",lineNumber:342,className:"ceramic.Asset",methodName:"release"}):this.refCount--},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offStatusChange(),this.offComplete()},__class__:ceramic_Asset,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_hotReload:"set_hotReload",set_handleTexturesDensityChange:"set_handleTexturesDensityChange",set_status:"set_status",get_status:"get_status",set_runtimeAssets:"set_runtimeAssets",set_path:"set_path",set_name:"set_name"})});var ceramic_AssetPathInfo=function(e){this.path=e;var n=e.lastIndexOf(".");this.extension=HxOverrides.substr(e,n+1,null).toLowerCase();var t=HxOverrides.substr(e,0,n),i=t.lastIndexOf("@");if(this.density=1,-1==i)i=n;else for(var s=0,r=HxOverrides.substr(t,i+1,null).split("+");s<r.length;){var l=r[s];++s;var a=!0;if(StringTools.endsWith(l,"x")){var h=parseFloat(HxOverrides.substr(l,0,l.length-1));isNaN(h)||(this.density=h,a=!1)}if(a){null==this.flags&&(this.flags=new haxe_ds_StringMap);var c=l.indexOf("=");if(-1==c)this.flags.h[l]=!0;else{var o=HxOverrides.substr(l,0,c),u=HxOverrides.substr(l,c+1,null);this.flags.h[o]=u}}}this.name=HxOverrides.substr(e,0,Math.min(i,n))};t["ceramic.AssetPathInfo"]=ceramic_AssetPathInfo,ceramic_AssetPathInfo.__name__="ceramic.AssetPathInfo",ceramic_AssetPathInfo.prototype={toString:function(){return""+Std.string({extension:this.extension,name:this.name,path:this.path,density:this.density})},__class__:ceramic_AssetPathInfo};var a=i["ceramic.AssetStatus"]={__ename__:"ceramic.AssetStatus",__constructs__:null,NONE:{_hx_name:"NONE",_hx_index:0,__enum__:"ceramic.AssetStatus",toString:$estr},LOADING:{_hx_name:"LOADING",_hx_index:1,__enum__:"ceramic.AssetStatus",toString:$estr},READY:{_hx_name:"READY",_hx_index:2,__enum__:"ceramic.AssetStatus",toString:$estr},BROKEN:{_hx_name:"BROKEN",_hx_index:3,__enum__:"ceramic.AssetStatus",toString:$estr}};a.__constructs__=[a.NONE,a.LOADING,a.READY,a.BROKEN];var ceramic_Audio=function(){ceramic_Entity.call(this),this.mixers=new ceramic_IntMap,this.mixers.exists(0)||this.mixers.set(0,new ceramic_AudioMixer(0))};t["ceramic.Audio"]=ceramic_Audio,ceramic_Audio.__name__="ceramic.Audio",ceramic_Audio.__super__=ceramic_Entity,ceramic_Audio.prototype=$extend(ceramic_Entity.prototype,{initMixerIfNeeded:function(e){this.mixers.exists(e)||this.mixers.set(e,new ceramic_AudioMixer(e))},mixer:function(e){this.mixers.exists(e)||this.mixers.set(e,new ceramic_AudioMixer(e));var n=this.mixers,t=n.keys.h[0|e];return(e=null!=t?t:0)>=2?n.values[e-2]:ceramic_IntMap.RET_NULL},__class__:ceramic_Audio});var ceramic_AudioMixer=function(e){this.mute=!1,this.pitch=1,this.pan=0,this.volume=.5,ceramic_Entity.call(this),this.index=e};t["ceramic.AudioMixer"]=ceramic_AudioMixer,ceramic_AudioMixer.__name__="ceramic.AudioMixer",ceramic_AudioMixer.__super__=ceramic_Entity,ceramic_AudioMixer.prototype=$extend(ceramic_Entity.prototype,{__class__:ceramic_AudioMixer});var ceramic_AutoCollections=function(){};t["ceramic.AutoCollections"]=ceramic_AutoCollections,ceramic_AutoCollections.__name__="ceramic.AutoCollections",ceramic_AutoCollections.__isInterface__=!0;var ceramic_BackgroundQueue=function(e){null==e&&(e=.1),this.pending=[],this.stop=!1,this.runsInBackground=!1,this.checkInterval=.1,ceramic_Entity.call(this),this.checkInterval=.1};t["ceramic.BackgroundQueue"]=ceramic_BackgroundQueue,ceramic_BackgroundQueue.__name__="ceramic.BackgroundQueue",ceramic_BackgroundQueue.__super__=ceramic_Entity,ceramic_BackgroundQueue.prototype=$extend(ceramic_Entity.prototype,{schedule:function(e){ceramic_App.app._onceImmediate(e)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),this.stop=!0)},__class__:ceramic_BackgroundQueue});var ceramic_BezierEasing=function(e,n,t,i){if(this.quadratic=!1,this.cached=!1,this.linearEasing=!1,this.cached&&this.removeFromCache(this.mX1,this.mY1,this.mX2,this.mY2),null==t||null==i?(this.quadratic=!0,this.mQuadraticX1=e,this.mQuadraticX2=t,this.mX1=ceramic_BezierEasing.TWO_THIRD*e,this.mY1=ceramic_BezierEasing.TWO_THIRD*n,this.mX2=1+ceramic_BezierEasing.TWO_THIRD*(e-1),this.mY2=1+ceramic_BezierEasing.TWO_THIRD*(n-1)):(this.quadratic=!1,this.mX1=e,this.mY1=n,this.mX2=t,this.mY2=i),this.mX1==this.mY1&&this.mX2==this.mY2)this.linearEasing=!0;else{this.linearEasing=!1,null==this.sampleValues&&(this.sampleValues=[]);for(var s=0,r=ceramic_BezierEasing.SPLINE_TABLE_SIZE;s<r;){var l=s++,a=l*ceramic_BezierEasing.SAMPLE_STEP_SIZE,h=this.mX1,c=this.mX2;this.sampleValues[l]=(((1-3*c+3*h)*a+(3*c-6*h))*a+3*h)*a}}};t["ceramic.BezierEasing"]=ceramic_BezierEasing,ceramic_BezierEasing.__name__="ceramic.BezierEasing",ceramic_BezierEasing.quadraticToCubicCP1=function(e){return ceramic_BezierEasing.TWO_THIRD*e},ceramic_BezierEasing.quadraticToCubicCP2=function(e){return 1+ceramic_BezierEasing.TWO_THIRD*(e-1)},ceramic_BezierEasing.cacheKey=function(e,n,t,i){return 0|100*e+1e3*n+1e4*t+1e5*i},ceramic_BezierEasing.clearCache=function(){ceramic_BezierEasing.cachedInstances=null,ceramic_BezierEasing.numCachedInstances=0},ceramic_BezierEasing.get=function(e,n,t,i){var s=null==t||null==i,r=s?ceramic_BezierEasing.TWO_THIRD*e:e,l=s?ceramic_BezierEasing.TWO_THIRD*n:n,a=s?1+ceramic_BezierEasing.TWO_THIRD*(e-1):t,h=s?1+ceramic_BezierEasing.TWO_THIRD*(n-1):i,c=null,o=0|100*r+1e3*l+1e4*a+1e5*h;null==ceramic_BezierEasing.cachedInstances&&(ceramic_BezierEasing.cachedInstances=new ceramic_IntMap);var u=ceramic_BezierEasing.cachedInstances,_=u.keys.h[0|o],d=null!=_?_:0,b=d>=2?u.values[d-2]:ceramic_IntMap.RET_NULL;if(null==b)ceramic_BezierEasing.numCachedInstances>=ceramic_BezierEasing.CACHE_SIZE&&ceramic_BezierEasing.clearCache(),c=new ceramic_BezierEasing(r,l,a,h),ceramic_BezierEasing.cachedInstances.set(o,[c]),ceramic_BezierEasing.numCachedInstances++;else{for(var f=b.length-1;f>=0;){var p=b[f];if(p.mX1==r&&p.mY1==l&&p.mX2==a&&p.mY2==h){c=p;break}--f}null==c&&((c=new ceramic_BezierEasing(e,n,t,i)).cached=!0,b.push(c))}return c},ceramic_BezierEasing.prototype={configure:function(e,n,t,i){if(this.cached&&this.removeFromCache(this.mX1,this.mY1,this.mX2,this.mY2),null==t||null==i?(this.quadratic=!0,this.mQuadraticX1=e,this.mQuadraticX2=t,this.mX1=ceramic_BezierEasing.TWO_THIRD*e,this.mY1=ceramic_BezierEasing.TWO_THIRD*n,this.mX2=1+ceramic_BezierEasing.TWO_THIRD*(e-1),this.mY2=1+ceramic_BezierEasing.TWO_THIRD*(n-1)):(this.quadratic=!1,this.mX1=e,this.mY1=n,this.mX2=t,this.mY2=i),this.mX1==this.mY1&&this.mX2==this.mY2)this.linearEasing=!0;else{this.linearEasing=!1,null==this.sampleValues&&(this.sampleValues=[]);for(var s=0,r=ceramic_BezierEasing.SPLINE_TABLE_SIZE;s<r;){var l=s++,a=l*ceramic_BezierEasing.SAMPLE_STEP_SIZE,h=this.mX1,c=this.mX2;this.sampleValues[l]=(((1-3*c+3*h)*a+(3*c-6*h))*a+3*h)*a}}},ease:function(e){if(this.linearEasing)return e;if(0==e)return 0;if(1==e)return 1;for(var n=0,t=1,i=ceramic_BezierEasing.SPLINE_TABLE_SIZE-1;t!=i&&this.sampleValues[t]<=e;)n+=ceramic_BezierEasing.SAMPLE_STEP_SIZE,++t;--t;var s,r=n+(e-this.sampleValues[t])/(this.sampleValues[t+1]-this.sampleValues[t])*ceramic_BezierEasing.SAMPLE_STEP_SIZE,l=this.mX1,a=3*(1-3*(f=this.mX2)+3*l)*r*r+2*(3*f-6*l)*r+3*l;if(a>=ceramic_BezierEasing.NEWTON_MIN_SLOPE)s=this.newtonRaphsonIterate(e,r,this.mX1,this.mX2);else if(0==a)s=r;else{for(var h,c,o=n,u=n+ceramic_BezierEasing.SAMPLE_STEP_SIZE,_=this.mX1,d=this.mX2,b=0;(h=(((1-3*d+3*_)*(c=o+(u-o)/2)+(3*d-6*_))*c+3*_)*c-e)>0?u=c:o=c,Math.abs(h)>ceramic_BezierEasing.SUBDIVISION_PRECISION&&++b<ceramic_BezierEasing.SUBDIVISION_MAX_ITERATIONS;);s=c}var f;l=this.mY1;return(((1-3*(f=this.mY2)+3*l)*s+(3*f-6*l))*s+3*l)*s},getTForX:function(e){for(var n=0,t=1,i=ceramic_BezierEasing.SPLINE_TABLE_SIZE-1;t!=i&&this.sampleValues[t]<=e;)n+=ceramic_BezierEasing.SAMPLE_STEP_SIZE,++t;--t;var s=n+(e-this.sampleValues[t])/(this.sampleValues[t+1]-this.sampleValues[t])*ceramic_BezierEasing.SAMPLE_STEP_SIZE,r=this.mX1,l=this.mX2,a=3*(1-3*l+3*r)*s*s+2*(3*l-6*r)*s+3*r;if(a>=ceramic_BezierEasing.NEWTON_MIN_SLOPE)return this.newtonRaphsonIterate(e,s,this.mX1,this.mX2);if(0==a)return s;for(var h,c,o=n,u=n+ceramic_BezierEasing.SAMPLE_STEP_SIZE,_=this.mX1,d=this.mX2,b=0;(h=(((1-3*d+3*_)*(c=o+(u-o)/2)+(3*d-6*_))*c+3*_)*c-e)>0?u=c:o=c,Math.abs(h)>ceramic_BezierEasing.SUBDIVISION_PRECISION&&++b<ceramic_BezierEasing.SUBDIVISION_MAX_ITERATIONS;);return c},calcBezier:function(e,n,t){return(((1-3*t+3*n)*e+(3*t-6*n))*e+3*n)*e},getSlope:function(e,n,t){return 3*(1-3*t+3*n)*e*e+2*(3*t-6*n)*e+3*n},binarySubdivide:function(e,n,t,i,s){for(var r,l,a=0;(r=(((1-3*s+3*i)*(l=n+(t-n)/2)+(3*s-6*i))*l+3*i)*l-e)>0?t=l:n=l,Math.abs(r)>ceramic_BezierEasing.SUBDIVISION_PRECISION&&++a<ceramic_BezierEasing.SUBDIVISION_MAX_ITERATIONS;);return l},newtonRaphsonIterate:function(e,n,t,i){for(var s=0,r=ceramic_BezierEasing.NEWTON_ITERATIONS;s<r;){s++;var l=3*(1-3*i+3*t)*n*n+2*(3*i-6*t)*n+3*t;if(0==l)return n;n-=((((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n-e)/l}return n},A:function(e,n){return 1-3*n+3*e},B:function(e,n){return 3*n-6*e},C:function(e){return 3*e},removeFromCache:function(e,n,t,i){this.cached=!1;var s=0|100*e+1e3*n+1e4*t+1e5*i;if(null!=ceramic_BezierEasing.cachedInstances){var r=ceramic_BezierEasing.cachedInstances,l=r.keys.h[0|s],a=null!=l?l:0,h=a>=2?r.values[a-2]:ceramic_IntMap.RET_NULL;null!=h&&(1==h.length&&h[0]==this?ceramic_BezierEasing.cachedInstances.remove(s):HxOverrides.remove(h,this))}},__class__:ceramic_BezierEasing};var ceramic_BinaryAsset=function(e,n){this.unobservedBytes=null,this.bytesAutoruns=null,ceramic_Asset.call(this,"binary",e,n)};t["ceramic.BinaryAsset"]=ceramic_BinaryAsset,ceramic_BinaryAsset.__name__="ceramic.BinaryAsset",ceramic_BinaryAsset.__super__=ceramic_Asset,ceramic_BinaryAsset.prototype=$extend(ceramic_Asset.prototype,{get_bytes:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.bytesAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.bytesAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedBytes},set_bytes:function(e){var n=this.unobservedBytes;if(this.unobservedBytes=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitBytesChange(e,n);var t=this.bytesAutoruns;if(null!=t){this.bytesAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateBytes:function(){var e=this.unobservedBytes;this.emitBytesChange(e,e);var n=this.bytesAutoruns;if(null!=n){this.bytesAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitBytesChange:function(e,n){var t=0;if(null!=this.__cbOnBytesChange&&(t+=this.__cbOnBytesChange.length),null!=this.__cbOnceBytesChange&&(t+=this.__cbOnceBytesChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnBytesChange)for(var l=0,a=this.__cbOnBytesChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnBytesChange[h],++r):--t}if(null!=this.__cbOnceBytesChange){var c=null,o=null;for(l=0,a=this.__cbOnceBytesChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceBytesChange[h],this.__cbOnceBytesChange[h]=null;var u=this.__cbOnceOwnerUnbindBytesChange[h];this.__cbOnceOwnerUnbindBytesChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindBytesChange[h]),o.push(this.__cbOnceBytesChange[h])}this.__cbOnceOwnerUnbindBytesChange=c,this.__cbOnceBytesChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onBytesChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event bytesChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBytesChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBytesChange&&(this.__cbOnOwnerUnbindBytesChange=[]),this.__cbOnOwnerUnbindBytesChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBytesChange&&(this.__cbOnOwnerUnbindBytesChange=[]),this.__cbOnOwnerUnbindBytesChange.push(null);null==this.__cbOnBytesChange&&(this.__cbOnBytesChange=[]),this.__cbOnBytesChange.push(n)},onceBytesChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event bytesChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBytesChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBytesChange&&(this.__cbOnceOwnerUnbindBytesChange=[]),this.__cbOnceOwnerUnbindBytesChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBytesChange&&(this.__cbOnceOwnerUnbindBytesChange=[]),this.__cbOnceOwnerUnbindBytesChange.push(null);null==this.__cbOnceBytesChange&&(this.__cbOnceBytesChange=[]),this.__cbOnceBytesChange.push(n)},offBytesChange:function(e){if(null!=e){var n;null!=this.__cbOnBytesChange&&-1!=(n=this.__cbOnBytesChange.indexOf(e))&&(this.__cbOnBytesChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBytesChange[n])&&r(),this.__cbOnOwnerUnbindBytesChange.splice(n,1)),null!=this.__cbOnceBytesChange&&-1!=(n=this.__cbOnceBytesChange.indexOf(e))&&(this.__cbOnceBytesChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBytesChange[n])&&r(),this.__cbOnceOwnerUnbindBytesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBytesChange){for(var t=0,i=this.__cbOnOwnerUnbindBytesChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBytesChange[s])&&r()}this.__cbOnOwnerUnbindBytesChange=null}if(null!=this.__cbOnceOwnerUnbindBytesChange){for(t=0,i=this.__cbOnceOwnerUnbindBytesChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBytesChange[s])&&r()}this.__cbOnceOwnerUnbindBytesChange=null}this.__cbOnBytesChange=null,this.__cbOnceBytesChange=null}},listensBytesChange:function(){return null!=this.__cbOnBytesChange&&this.__cbOnBytesChange.length>0||null!=this.__cbOnceBytesChange&&this.__cbOnceBytesChange.length>0},load:function(){var e=this;if(this.set_status(a.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load binary asset if path is undefined.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:21,className:"ceramic.BinaryAsset",methodName:"load"}),this.set_status(a.BROKEN),void this.emitComplete(!1);var n={};if(null!=this.owner&&(n.immediate=this.owner.immediate,n.loadMethod=this.owner.loadMethod),null!=this.options)for(var t=0,i=Reflect.fields(this.options);t<i.length;){var s=i[t];++t,n[s]=Reflect.field(this.options,s)}var r=this.path,l=ceramic_Assets.realAssetPath(r,this.runtimeAssets),h=ceramic_Assets.getReloadCount(l);h>0&&(l+="?hot="+h,r+="?hot="+h),ceramic_App.app.logger.info("Load binary "+r,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:47,className:"ceramic.BinaryAsset",methodName:"load"}),ceramic_App.app.backend.binaries.load(l,n,(function(n){null!=n?(e.set_bytes(n),e.set_status(a.READY),e.emitComplete(!0)):(e.set_status(a.BROKEN),ceramic_App.app.logger.error("Failed to load binary at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:57,className:"ceramic.BinaryAsset",methodName:"load"}),e.emitComplete(!1))}))},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload binary (file has changed)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:80,className:"ceramic.BinaryAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),this.set_bytes(null))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offBytesChange()},__class__:ceramic_BinaryAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_bytes:"set_bytes",get_bytes:"get_bytes"})});var ceramic_BitmapFont=function(e,n){if(this.preRenderedPages=null,this.pageShaders=null,this.pages=new haxe_ds_IntMap,ceramic_Entity.call(this),this.set_fontData(e),null==e)throw haxe_Exception.thrown("BitmapFont: fontData is null");if(null==n)throw haxe_Exception.thrown("BitmapFont: pages is null");null!=e.distanceField&&(this.pageShaders=new haxe_ds_IntMap);for(var t=0,i=e.pages;t<i.length;){var s=i[t];++t;var r=n.h[s.file];if(null==r)throw haxe_Exception.thrown("BitmapFont: missing texture for file "+s.file);if(this.pages.h[s.id]=r,null!=e.distanceField){var l=ceramic_App.app.assets.shader("shader:msdf").clone();ceramic_App.app.backend.shaders;l.backendItem.uniforms.setFloat("pxRange",e.distanceField.distanceRange);ceramic_App.app.backend.shaders;l.backendItem.uniforms.setVector2("texSize",r.width*r.density,r.height*r.density),this.pageShaders.h[s.id]=l}}};t["ceramic.BitmapFont"]=ceramic_BitmapFont,ceramic_BitmapFont.__name__="ceramic.BitmapFont",ceramic_BitmapFont.__super__=ceramic_Entity,ceramic_BitmapFont.prototype=$extend(ceramic_Entity.prototype,{set_fontData:function(e){return this.fontData=e,null!=e&&(this.spaceChar=e.chars.h[32],null==e.chars.h[160]&&(e.chars.h[160]=this.spaceChar)),e},get_face:function(){return this.fontData.face},set_face:function(e){return this.fontData.face=e},get_pointSize:function(){return this.fontData.pointSize},set_pointSize:function(e){return this.fontData.pointSize=e},get_baseSize:function(){return this.fontData.baseSize},set_baseSize:function(e){return this.fontData.baseSize=e},get_chars:function(){return this.fontData.chars},set_chars:function(e){return this.fontData.chars=e},get_charCount:function(){return this.fontData.charCount},set_charCount:function(e){return this.fontData.charCount=e},get_lineHeight:function(){return this.fontData.lineHeight},set_lineHeight:function(e){return this.fontData.lineHeight=e},get_kernings:function(){return this.fontData.kernings},set_kernings:function(e){return this.fontData.kernings=e},get_msdf:function(){return null!=this.fontData.distanceField&&"msdf"==this.fontData.distanceField.fieldType},destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy(),null!=this.pages){for(var e=this.pages.iterator();e.hasNext();){e.next().destroy()}this.pages=null}if(null!=this.pageShaders){for(var n=this.pageShaders.iterator();n.hasNext();){n.next().destroy()}this.pageShaders=null}if(null!=this.preRenderedPages){for(var t=this.preRenderedPages.iterator();t.hasNext();)for(e=t.next().iterator();e.hasNext();){e.next().destroy()}this.preRenderedPages=null}}},needsToPreRenderAtSize:function(e){if(null==this.preRenderedPages||!this.preRenderedPages.h.hasOwnProperty(e))return!0;for(var n=this.preRenderedPages.h[e],t=this.pages.keys();t.hasNext();){var i=t.next();if(!n.h.hasOwnProperty(i))return!0}return!1},preRenderAtSize:function(e,n){for(var t=0,i=this.pages.keys();i.hasNext();){var s=i.next();t+=1,this.preRenderPage(s,e,(function(){0==(t-=1)&&(n(),n=null)}))}},preRenderPage:function(e,n,t){var i=this;null==this.preRenderedPages&&(this.preRenderedPages=new haxe_ds_IntMap);var s=this.preRenderedPages.h[n],r=this.pages.h[e];if(null==r)throw haxe_Exception.thrown("Invalid bitmap font page with id "+e);var l=n/this.fontData.pointSize,a=Math.ceil(r.width*r.density*l),h=Math.ceil(r.width*r.density*l),c=new ceramic_RenderTexture(a,h,1);c.clearOnRender=!0,c.autoRender=!1;var o=new ceramic_Quad;if(o.texture!=r)if(null!=o.texture&&(o.texture.offDestroy($bind(o,o.textureDestroyed)),null!=o.texture.asset&&o.texture.asset.release()),o.texture=r,null==r)o.frameX=-1,o.frameY=-1,-1!=o.frameWidth&&(o.frameWidth=-1),-1!=o.frameHeight&&(o.frameHeight=-1);else if(null!=o.tile){o.frameX=o.tile.frameX,o.frameY=o.tile.frameY;var u=o.tile.frameWidth;o.frameWidth!=u&&(o.frameWidth=u,-1!=u&&o.set_width(u));var _=o.tile.frameHeight;o.frameHeight!=_&&(o.frameHeight=_,-1!=_&&o.set_height(_))}else{o.frameX=0,o.frameY=0;u=r.width;o.frameWidth!=u&&(o.frameWidth=u,-1!=u&&o.set_width(u));_=r.height;o.frameHeight!=_&&(o.frameHeight=_,-1!=_&&o.set_height(_)),r.onDestroy(o,$bind(o,o.textureDestroyed)),null!=r.asset&&r.asset.retain()}o.set_width(a),o.set_height(h),o.set_shader(null!=this.pageShaders?this.pageShaders.h[e]:null),o.set_visible(!1),null!=s&&s.h.hasOwnProperty(e)&&s.h[e].destroy(),c.stamp(o,(function(){o.destroy(),o=null,null==s&&(s=new haxe_ds_IntMap,i.preRenderedPages.h[n]=s),s.h[e]=c,t(),t=null}))},kerning:function(e,n){var t=this.fontData.kernings.h[e];return null!=t&&t.h.hasOwnProperty(n)?t.h[n]:0},__class__:ceramic_BitmapFont,__properties__:$extend(ceramic_Entity.prototype.__properties__,{get_msdf:"get_msdf",set_kernings:"set_kernings",get_kernings:"get_kernings",set_lineHeight:"set_lineHeight",get_lineHeight:"get_lineHeight",set_charCount:"set_charCount",get_charCount:"get_charCount",set_chars:"set_chars",get_chars:"get_chars",set_baseSize:"set_baseSize",get_baseSize:"get_baseSize",set_pointSize:"set_pointSize",get_pointSize:"get_pointSize",set_face:"set_face",get_face:"get_face",set_fontData:"set_fontData"})});var ceramic_BitmapFontCharacter=function(e,n,t,i,s,r,l,a,h){this.id=e,this.x=n,this.y=t,this.width=i,this.height=s,this.xOffset=r,this.yOffset=l,this.xAdvance=a,this.page=h};t["ceramic.BitmapFontCharacter"]=ceramic_BitmapFontCharacter,ceramic_BitmapFontCharacter.__name__="ceramic.BitmapFontCharacter",ceramic_BitmapFontCharacter.prototype={__class__:ceramic_BitmapFontCharacter};var ceramic_BitmapFontData=function(e,n,t,i,s,r,l,a,h){this.face=e,this.pointSize=n,this.baseSize=t,this.chars=i,this.charCount=s,this.distanceField=r,this.pages=l,this.lineHeight=a,this.kernings=h};t["ceramic.BitmapFontData"]=ceramic_BitmapFontData,ceramic_BitmapFontData.__name__="ceramic.BitmapFontData",ceramic_BitmapFontData.prototype={__class__:ceramic_BitmapFontData};var ceramic_BitmapFontDistanceFieldData=function(e,n){this.fieldType=e,this.distanceRange=n};t["ceramic.BitmapFontDistanceFieldData"]=ceramic_BitmapFontDistanceFieldData,ceramic_BitmapFontDistanceFieldData.__name__="ceramic.BitmapFontDistanceFieldData",ceramic_BitmapFontDistanceFieldData.prototype={__class__:ceramic_BitmapFontDistanceFieldData};var ceramic_BitmapFontParser=function(){};t["ceramic.BitmapFontParser"]=ceramic_BitmapFontParser,ceramic_BitmapFontParser.__name__="ceramic.BitmapFontParser",ceramic_BitmapFontParser.parse=function(e){if(0==e.length)throw haxe_Exception.thrown("BitmapFont: fontData is 0 length");var n=new ceramic_BitmapFontData(null,0,0,new haxe_ds_IntMap,0,null,[],0,new haxe_ds_IntMap),t=StringTools.replace(StringTools.replace(e,"\r",""),"\t"," ").split("\n");if(0==t.length)throw haxe_Exception.thrown("BitmapFont: invalid font data specified for parser.");var i=t[0];if("info"!=HxOverrides.substr(StringTools.ltrim(i),0,4))throw haxe_Exception.thrown("BitmapFont: invalid font data specified for parser. Format should be plain ascii text .fnt file only currently.");for(var s=0;s<t.length;){var r=t[s];++s,ceramic_BitmapFontParser.parseLine(r,n)}return t=null,n},ceramic_BitmapFontParser.parseLine=function(e,n){var t=new haxe_ds_StringMap;switch(ceramic_BitmapFontParser.extractLineTokens(e,t)){case"char":var i=new ceramic_BitmapFontCharacter(Std.parseInt(t.h.id),parseFloat(t.h.x),parseFloat(t.h.y),parseFloat(t.h.width),parseFloat(t.h.height),parseFloat(t.h.xoffset),parseFloat(t.h.yoffset),parseFloat(t.h.xadvance),Std.parseInt(t.h.page));n.chars.h[i.id]=i;break;case"chars":n.charCount=Std.parseInt(t.h.count);break;case"common":n.lineHeight=parseFloat(t.h.lineHeight),n.baseSize=parseFloat(t.h.base);break;case"distanceField":var s=t.h.fieldType,r=Std.parseInt(t.h.distanceRange);n.distanceField=new ceramic_BitmapFontDistanceFieldData(s,r);break;case"info":var l=(u=t.h.face).length;34==HxOverrides.cca(u,0)&&34==HxOverrides.cca(u,l-1)&&(u=u.substring(1,l-1)),n.face=u,n.pointSize=parseFloat(t.h.size);break;case"kerning":var a=Std.parseInt(t.h.first),h=Std.parseInt(t.h.second),c=parseFloat(t.h.amount),o=n.kernings.h[a];null==o&&(o=new haxe_ds_IntMap,n.kernings.h[a]=o),o.h[h]=c;break;case"page":var u;l=(u=t.h.file).length;34==HxOverrides.cca(u,0)&&34==HxOverrides.cca(u,l-1)&&(u=u.substring(1,l-1)),n.pages.push({id:Std.parseInt(t.h.id),file:StringTools.trim(u)})}},ceramic_BitmapFontParser.extractLineTokens=function(e,n){for(var t=0,i=e.length,s=null,r=null,l=null,a=!1;t<i;){var h=HxOverrides.cca(e,t);if(a){if(92==h?(h=HxOverrides.cca(e,t),++t):34==h&&(a=!1),null==l)throw haxe_Exception.thrown("Invalid bitmap font line: "+e);l.b+=Std.string(e.charAt(t))}else if(32==h)null!=l&&(null==s?s=l.b:null==r?(r=l.b,n.h[r]=null):n.h[r]=l.b,r=null,l=null);else if(null==r&&61==h){if(null==l)throw haxe_Exception.thrown("Invalid bitmap font line: "+e);r=l.b,l=null}else 34==h&&(a=!0),null==l&&(l=new StringBuf),l.b+=Std.string(e.charAt(t));++t}return null!=l&&(null==s?s=l.b:null==r?(r=l.b,n.h[r]=null):n.h[r]=l.b,r=null,l=null),s},ceramic_BitmapFontParser.unquote=function(e){var n=e.length;return 34==HxOverrides.cca(e,0)&&34==HxOverrides.cca(e,n-1)&&(e=e.substring(1,n-1)),e};var ceramic_Border=function(){this.borderRightColor=-1,this.borderLeftColor=-1,this.borderBottomColor=-1,this.borderTopColor=-1,this.borderColor=8421504,this.borderRightSize=-1,this.borderLeftSize=-1,this.borderBottomSize=-1,this.borderTopSize=-1,this.borderSize=1,this.borderPosition=h.INSIDE,this.autoComputeColors=!0,this.autoComputeVertices=!0,ceramic_Mesh.call(this),this.colorMapping=1,this.vertices=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.indices=[0,1,2,2,1,3,3,1,5,5,1,7,4,5,6,6,5,7,0,2,6,6,2,4],this.colors=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.computeVertices()};t["ceramic.Border"]=ceramic_Border,ceramic_Border.__name__="ceramic.Border",ceramic_Border.__super__=ceramic_Mesh,ceramic_Border.prototype=$extend(ceramic_Mesh.prototype,{set_autoComputeVertices:function(e){return this.autoComputeVertices==e||(this.autoComputeVertices=e,e&&this.computeVertices()),e},set_autoComputeColors:function(e){return this.autoComputeColors==e||(this.autoComputeColors=e,e&&this.computeColors()),e},set_width:function(e){return ceramic_Mesh.prototype.set_width.call(this,e),this.autoComputeVertices&&this.computeVertices(),e},set_height:function(e){return ceramic_Mesh.prototype.set_height.call(this,e),this.autoComputeVertices&&this.computeVertices(),e},set_borderPosition:function(e){return this.borderPosition==e||(this.borderPosition=e,this.autoComputeVertices&&this.computeVertices()),e},set_borderSize:function(e){return this.borderSize==e||(this.borderSize=e,this.autoComputeVertices&&this.computeVertices()),e},set_borderTopSize:function(e){return this.borderTopSize==e||(this.borderTopSize=e,this.autoComputeVertices&&this.computeVertices()),e},set_borderBottomSize:function(e){return this.borderBottomSize==e||(this.borderBottomSize=e,this.autoComputeVertices&&this.computeVertices()),e},set_borderLeftSize:function(e){return this.borderLeftSize==e||(this.borderLeftSize=e,this.autoComputeVertices&&this.computeVertices()),e},set_borderRightSize:function(e){return this.borderRightSize==e||(this.borderRightSize=e,this.autoComputeVertices&&this.computeVertices()),e},set_borderColor:function(e){return this.borderColor==e||(this.borderColor=e,this.autoComputeColors&&this.computeColors()),e},set_borderTopColor:function(e){return this.borderTopColor==e||(this.borderTopColor=e,this.autoComputeColors&&this.computeColors()),e},set_borderBottomColor:function(e){return this.borderBottomColor==e||(this.borderBottomColor=e,this.autoComputeColors&&this.computeColors()),e},set_borderLeftColor:function(e){return this.borderLeftColor==e||(this.borderLeftColor=e,this.autoComputeColors&&this.computeColors()),e},set_borderRightColor:function(e){return this.borderRightColor==e||(this.borderRightColor=e,this.autoComputeColors&&this.computeColors()),e},computeColors:function(){var e=(0|(-1!=this.borderTopColor?this.borderTopColor:this.borderColor))-16777216;e&=16777215;var n=e|=-16777216;e=(0|(-1!=this.borderBottomColor?this.borderBottomColor:this.borderColor))-16777216;e&=16777215;var t=e|=-16777216;e=(0|(-1!=this.borderLeftColor?this.borderLeftColor:this.borderColor))-16777216;e&=16777215;var i=e|=-16777216;e=(0|(-1!=this.borderRightColor?this.borderRightColor:this.borderColor))-16777216;e&=16777215;var s=e|=-16777216;this.colors[0]=n,this.colors[1]=n,this.colors[2]=n,this.colors[3]=n,this.colors[4]=n,this.colors[5]=n,this.colors[6]=s,this.colors[7]=s,this.colors[8]=s,this.colors[9]=s,this.colors[10]=s,this.colors[11]=s,this.colors[12]=t,this.colors[13]=t,this.colors[14]=t,this.colors[15]=t,this.colors[16]=t,this.colors[17]=t,this.colors[18]=i,this.colors[19]=i,this.colors[20]=i,this.colors[21]=i,this.colors[22]=i,this.colors[23]=i},computeVertices:function(){var e=.5,n=.5;this.borderPosition==h.OUTSIDE?(e=1,n=0):this.borderPosition==h.INSIDE&&(e=0,n=1);var t=this.borderLeftSize>=0?this.borderLeftSize:this.borderSize,i=e*t,s=n*t,r=this.borderTopSize>=0?this.borderTopSize:this.borderSize,l=e*r,a=n*r,c=this.borderRightSize>=0?this.borderRightSize:this.borderSize,o=e*c,u=n*c,_=this.borderBottomSize>=0?this.borderBottomSize:this.borderSize,d=e*_,b=n*_,f=this.get_width(),p=this.get_height();this.vertices[0]=-i,this.vertices[1]=-l;var O=f+o;this.vertices[2]=O,this.vertices[3]=-l,this.vertices[4]=s,this.vertices[5]=a,O=f-u,this.vertices[6]=O,this.vertices[7]=a,this.vertices[8]=s,O=p-b,this.vertices[9]=O,O=f-u,this.vertices[10]=O,O=p-b,this.vertices[11]=O,this.vertices[12]=-i,O=p+d,this.vertices[13]=O,O=f+o,this.vertices[14]=O,O=p+d,this.vertices[15]=O},__class__:ceramic_Border,__properties__:$extend(ceramic_Mesh.prototype.__properties__,{set_borderRightColor:"set_borderRightColor",set_borderLeftColor:"set_borderLeftColor",set_borderBottomColor:"set_borderBottomColor",set_borderTopColor:"set_borderTopColor",set_borderColor:"set_borderColor",set_borderRightSize:"set_borderRightSize",set_borderLeftSize:"set_borderLeftSize",set_borderBottomSize:"set_borderBottomSize",set_borderTopSize:"set_borderTopSize",set_borderSize:"set_borderSize",set_borderPosition:"set_borderPosition",set_autoComputeColors:"set_autoComputeColors",set_autoComputeVertices:"set_autoComputeVertices"})});var h=i["ceramic.BorderPosition"]={__ename__:"ceramic.BorderPosition",__constructs__:null,INSIDE:{_hx_name:"INSIDE",_hx_index:0,__enum__:"ceramic.BorderPosition",toString:$estr},OUTSIDE:{_hx_name:"OUTSIDE",_hx_index:1,__enum__:"ceramic.BorderPosition",toString:$estr},MIDDLE:{_hx_name:"MIDDLE",_hx_index:2,__enum__:"ceramic.BorderPosition",toString:$estr}};h.__constructs__=[h.INSIDE,h.OUTSIDE,h.MIDDLE];var ceramic_CollectionImpl=function(){this.combinedCollectionLastChanges=null,this.combinedCollections=null,this.filter=null,this.byId=null,this.entriesDirty=!1,this.indexDirty=!0,this.entries=[],this.lastChange=0,this.internalId=ceramic_CollectionImpl._nextInternalId++};t["ceramic.CollectionImpl"]=ceramic_CollectionImpl,ceramic_CollectionImpl.__name__="ceramic.CollectionImpl",ceramic_CollectionImpl.__interfaces__=[tracker_Events],ceramic_CollectionImpl.prototype={get_length:function(){if(null!=this.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=this){for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(this.combinedCollectionLastChanges[t]!=i.lastChange){this.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.entries.length},pushAll:function(e){for(var n=0;n<e.length;){var t=e[n];++n,this.entries.push(t)}this.indexDirty=!0,this.lastChange=this.lastChange>999999999?-999999999:this.lastChange+1,ceramic_CollectionImpl._lastCheckedCombined=null},clear:function(){var e=this.entries.length;e>0&&this.entries.splice(0,e),this.indexDirty=!0,this.lastChange=this.lastChange>999999999?-999999999:this.lastChange+1,ceramic_CollectionImpl._lastCheckedCombined=null},push:function(e){this.entries.push(e),this.indexDirty=!0,this.lastChange=this.lastChange>999999999?-999999999:this.lastChange+1,ceramic_CollectionImpl._lastCheckedCombined=null},remove:function(e){HxOverrides.remove(this.entries,e),this.indexDirty=!0,this.lastChange=this.lastChange>999999999?-999999999:this.lastChange+1,ceramic_CollectionImpl._lastCheckedCombined=null},synchronize:function(){this.entriesDirty&&this.computeEntries(),this.indexDirty&&this.computeIndex()},get:function(e){if(null==e)throw haxe_Exception.thrown("Cannot get a collection entry with a null id!");if(null!=this.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=this){for(var n=0,t=this.combinedCollections.length;n<t;){var i=n++,s=this.combinedCollections[i];if(this.combinedCollectionLastChanges[i]!=s.lastChange){this.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.indexDirty&&this.computeIndex(),this.byId.h[e]},getByIndex:function(e){if(null!=this.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=this){for(var n=0,t=this.combinedCollections.length;n<t;){var i=n++,s=this.combinedCollections[i];if(this.combinedCollectionLastChanges[i]!=s.lastChange){this.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.entries[e]},indexOfId:function(e){var n=this.get(e);return null==n?-1:this.indexOf(n)},indexOf:function(e){if(null!=this.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=this){for(var n=0,t=this.combinedCollections.length;n<t;){var i=n++,s=this.combinedCollections[i];if(this.combinedCollectionLastChanges[i]!=s.lastChange){this.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.entries.indexOf(e)},iterator:function(){if(null!=this.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=this){for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(this.combinedCollectionLastChanges[t]!=i.lastChange){this.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),new haxe_iterators_ArrayIterator(this.entries)},checkCombined:function(){if(null!=this.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=this){for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(this.combinedCollectionLastChanges[t]!=i.lastChange){this.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=this}},computeIndex:function(){this.entriesDirty&&this.computeEntries(),this.byId=new haxe_ds_StringMap;for(var e=0,n=this.entries;e<n.length;){var t=n[e];++e,Object.prototype.hasOwnProperty.call(this.byId.h,t.id)||(this.byId.h[t.id]=t)}this.indexDirty=!1},computeEntries:function(){this.entries=[];for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(null!=i.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=i){for(var s=0,r=i.combinedCollections.length;s<r;){var l=s++,a=i.combinedCollections[l];if(i.combinedCollectionLastChanges[l]!=a.lastChange){i.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=i}i.entriesDirty&&i.computeEntries();for(var h=0,c=i.entries;h<c.length;){var o=c[h++];this.entries.push(o)}this.combinedCollectionLastChanges[t]=i.lastChange}null!=this.filter&&(this.entries=this.filter(this.entries)),this.entriesDirty=!1,this.indexDirty=!0,ceramic_CollectionImpl._lastCheckedCombined!=this&&(ceramic_CollectionImpl._lastCheckedCombined=null)},__class__:ceramic_CollectionImpl,__properties__:{get_length:"get_length"}};var ceramic_CollectionEntry=function(e,n){this.index=ceramic_CollectionEntry._nextIndex++,this.id=null!=e?e:"id"+ceramic_CollectionEntry._nextId++,this.name=n};t["ceramic.CollectionEntry"]=ceramic_CollectionEntry,ceramic_CollectionEntry.__name__="ceramic.CollectionEntry",ceramic_CollectionEntry.prototype={setRawData:function(e){for(var n=js_Boot.getClass(this).__name__,t=ceramic_FieldInfo.types(n),s=t.h,r=Object.keys(s),l=r.length,a=0;a<l;){var h=r[a++],c=t.h[h];if(Object.prototype.hasOwnProperty.call(e,h)){var o=Reflect.field(e,h),u=null;if(this.setRawField(h,o))continue;if(null==c){var _=StringTools.trim((""+Std.string(o)).toLowerCase()),d=i[c];if(null!=d){for(var b=0,f=d.__constructs__,p=new Array(f.length),O=0,g=f.length;O<g;){var m=O++;p[m]=f[m]._hx_name}for(var w=p;b<w.length;){var v=w[b];if(++b,v.toLowerCase()==_){u=Type.createEnum(d,v);break}}}}else switch(c){case"Bool":u="boolean"==typeof o?o:""!=(o=StringTools.trim((""+Std.string(o)).toLowerCase()))&&"0"!=o&&"false"!=o&&"no"!=o;break;case"Float":"number"==typeof o&&(0|o)===o||"number"==typeof o?u=o:(null==(u=parseFloat(StringTools.replace(""+Std.string(o),",",".")))||isNaN(u))&&(u=0);break;case"String":u=null==o||"null"==o?null:""+Std.string(o);break;case"Int":case"ceramic.Color":"number"==typeof o&&(0|o)===o||"number"==typeof o?u=0|o:(null==(u=Std.parseInt(""+Std.string(o)))||isNaN(u))&&(u=0);break;default:var y=StringTools.trim((""+Std.string(o)).toLowerCase()),U=i[c];if(null!=U){for(var x=0,C=U.__constructs__,D=new Array(C.length),T=0,E=C.length;T<E;){var S=T++;D[S]=C[S]._hx_name}for(var A=D;x<A.length;){var M=A[x];if(++x,M.toLowerCase()==y){u=Type.createEnum(U,M);break}}}}this[h]=u}}},setRawField:function(e,n){return!1},__class__:ceramic_CollectionEntry};var c={__properties__:{set_lightness:"set_lightness",get_lightness:"get_lightness",set_brightness:"set_brightness",get_brightness:"get_brightness",set_saturation:"set_saturation",get_saturation:"get_saturation",set_hue:"set_hue",get_hue:"get_hue",set_black:"set_black",get_black:"get_black",set_yellow:"set_yellow",get_yellow:"get_yellow",set_magenta:"set_magenta",get_magenta:"get_magenta",set_cyan:"set_cyan",get_cyan:"get_cyan",set_greenFloat:"set_greenFloat",get_greenFloat:"get_greenFloat",set_blueFloat:"set_blueFloat",get_blueFloat:"get_blueFloat",set_redFloat:"set_redFloat",get_redFloat:"get_redFloat",set_green:"set_green",get_green:"get_green",set_blue:"set_blue",get_blue:"get_blue",set_red:"set_red",get_red:"get_red"},random:function(e,n){null==n&&(n=.5),null==e&&(e=.5);var t=360*Math.random(),i=Math.random()*(1-e)+e,s=Math.random()*(1-n)+n;return c.fromHSB(t,i,s)},fromInt:function(e){return c._new(e)},fromRGB:function(e,n,t){var i=c._new();return i&=65535,i|=(e>255?255:e<0?0:e)<<16,i&=16711935,i|=(n>255?255:n<0?0:n)<<8,i&=16776960,i|=t>255?255:t<0?0:t},fromRGBFloat:function(e,n,t){var i,s=c._new();return s&=65535,s|=((i=Math.round(255*e))>255?255:i<0?0:i)<<16,s&=16711935,s|=((i=Math.round(255*n))>255?255:i<0?0:i)<<8,s&=16776960,s|=(i=Math.round(255*t))>255?255:i<0?0:i},fromCMYK:function(e,n,t,i){var s=c._new(),r=(1-e)*(1-i);s&=65535,s|=((l=Math.round(255*r))>255?255:l<0?0:l)<<16;r=(1-n)*(1-i);s&=16711935,s|=((l=Math.round(255*r))>255?255:l<0?0:l)<<8;var l;r=(1-t)*(1-i);return s&=16776960,s|=(l=Math.round(255*r))>255?255:l<0?0:l},fromHSB:function(e,n,t){var i=c._new(),s=t*n,r=t-s,l=e,a=s,h=(l%=360)/60,o=a*(1-Math.abs(h%2-1))+r;switch(a+=r,0|h){case 0:i&=65535,i|=((u=Math.round(255*a))>255?255:u<0?0:u)<<16,i&=16711935,i|=((u=Math.round(255*o))>255?255:u<0?0:u)<<8,i&=16776960,i|=(u=Math.round(255*r))>255?255:u<0?0:u;break;case 1:i&=65535,i|=((u=Math.round(255*o))>255?255:u<0?0:u)<<16,i&=16711935,i|=((u=Math.round(255*a))>255?255:u<0?0:u)<<8,i&=16776960,i|=(u=Math.round(255*r))>255?255:u<0?0:u;break;case 2:i&=65535,i|=((u=Math.round(255*r))>255?255:u<0?0:u)<<16,i&=16711935,i|=((u=Math.round(255*a))>255?255:u<0?0:u)<<8,i&=16776960,i|=(u=Math.round(255*o))>255?255:u<0?0:u;break;case 3:i&=65535,i|=((u=Math.round(255*r))>255?255:u<0?0:u)<<16,i&=16711935,i|=((u=Math.round(255*o))>255?255:u<0?0:u)<<8,i&=16776960,i|=(u=Math.round(255*a))>255?255:u<0?0:u;break;case 4:i&=65535,i|=((u=Math.round(255*o))>255?255:u<0?0:u)<<16,i&=16711935,i|=((u=Math.round(255*r))>255?255:u<0?0:u)<<8,i&=16776960,i|=(u=Math.round(255*a))>255?255:u<0?0:u;break;case 5:var u;i&=65535,i|=((u=Math.round(255*a))>255?255:u<0?0:u)<<16,i&=16711935,i|=((u=Math.round(255*r))>255?255:u<0?0:u)<<8,i&=16776960,i|=(u=Math.round(255*o))>255?255:u<0?0:u}return i},fromHSL:function(e,n,t){var i=c._new(),s=(1-Math.abs(2*t-1))*n,r=t-s/2,l=e,a=s,h=(l%=360)/60,o=a*(1-Math.abs(h%2-1))+r;switch(a+=r,0|h){case 0:i&=65535,i|=((u=Math.round(255*a))>255?255:u<0?0:u)<<16,i&=16711935,i|=((u=Math.round(255*o))>255?255:u<0?0:u)<<8,i&=16776960,i|=(u=Math.round(255*r))>255?255:u<0?0:u;break;case 1:i&=65535,i|=((u=Math.round(255*o))>255?255:u<0?0:u)<<16,i&=16711935,i|=((u=Math.round(255*a))>255?255:u<0?0:u)<<8,i&=16776960,i|=(u=Math.round(255*r))>255?255:u<0?0:u;break;case 2:i&=65535,i|=((u=Math.round(255*r))>255?255:u<0?0:u)<<16,i&=16711935,i|=((u=Math.round(255*a))>255?255:u<0?0:u)<<8,i&=16776960,i|=(u=Math.round(255*o))>255?255:u<0?0:u;break;case 3:i&=65535,i|=((u=Math.round(255*r))>255?255:u<0?0:u)<<16,i&=16711935,i|=((u=Math.round(255*o))>255?255:u<0?0:u)<<8,i&=16776960,i|=(u=Math.round(255*a))>255?255:u<0?0:u;break;case 4:i&=65535,i|=((u=Math.round(255*o))>255?255:u<0?0:u)<<16,i&=16711935,i|=((u=Math.round(255*r))>255?255:u<0?0:u)<<8,i&=16776960,i|=(u=Math.round(255*a))>255?255:u<0?0:u;break;case 5:var u;i&=65535,i|=((u=Math.round(255*a))>255?255:u<0?0:u)<<16,i&=16711935,i|=((u=Math.round(255*r))>255?255:u<0?0:u)<<8,i&=16776960,i|=(u=Math.round(255*o))>255?255:u<0?0:u}return i},fromString:function(e){var n=null;if(e=StringTools.trim(e),StringTools.startsWith(e,"0x"))n=c._new(Std.parseInt(e.substring(0,8)));else if(StringTools.startsWith(e,"#")){var t="0x"+e.substring(1,7);n=c._new(Std.parseInt(t))}else{e=e.toUpperCase();for(var i=c.colorLookup.h,s=Object.keys(i),r=s.length,l=0;l<r;){var a=s[l++];if(a.toUpperCase()==e){n=c._new(c.colorLookup.h[a]);break}}}return n},getHSBColorWheel:function(){for(var e=[],n=0;n<360;){var t=n++;e.push(c.fromHSB(t,1,1))}return e},interpolate:function(e,n,t){null==t&&(t=.5);var i=((n>>16&255)-(e>>16&255))*t+(e>>16&255)|0,s=((n>>8&255)-(e>>8&255))*t+(e>>8&255)|0,r=((255&n)-(255&e))*t+(255&e)|0,l=c._new();return l&=65535,l|=(i>255?255:i<0?0:i)<<16,l&=16711935,l|=(s>255?255:s<0?0:s)<<8,l&=16776960,l|=r>255?255:r<0?0:r},gradient:function(e,n,t,i){var s=[];null==i&&(i=function(e){return e});for(var r=0,l=t;r<l;){var a=r++,h=i(a/(t-1));null==h&&(h=.5);var o=((n>>16&255)-(e>>16&255))*h+(e>>16&255)|0,u=((n>>8&255)-(e>>8&255))*h+(e>>8&255)|0,_=((255&n)-(255&e))*h+(255&e)|0,d=c._new();d&=65535,d|=(o>255?255:o<0?0:o)<<16,d&=16711935,d|=(u>255?255:u<0?0:u)<<8,d&=16776960,d|=_>255?255:_<0?0:_,s[a]=d}return s},multiply:function(e,n){var t,i=(e>>16&255)/255*((n>>16&255)/255),s=(e>>8&255)/255*((n>>8&255)/255),r=(255&e)/255*((255&n)/255),l=c._new();return l&=65535,l|=((t=Math.round(255*i))>255?255:t<0?0:t)<<16,l&=16711935,l|=((t=Math.round(255*s))>255?255:t<0?0:t)<<8,l&=16776960,l|=(t=Math.round(255*r))>255?255:t<0?0:t},add:function(e,n){var t=(e>>16&255)+(n>>16&255),i=(e>>8&255)+(n>>8&255),s=(255&e)+(255&n),r=c._new();return r&=65535,r|=(t>255?255:t<0?0:t)<<16,r&=16711935,r|=(i>255?255:i<0?0:i)<<8,r&=16776960,r|=s>255?255:s<0?0:s},subtract:function(e,n){var t=(e>>16&255)-(n>>16&255),i=(e>>8&255)-(n>>8&255),s=(255&e)-(255&n),r=c._new();return r&=65535,r|=(t>255?255:t<0?0:t)<<16,r&=16711935,r|=(i>255?255:i<0?0:i)<<8,r&=16776960,r|=s>255?255:s<0?0:s},toHexString:function(e,n){return null==n&&(n=!0),(n?"0x":"")+StringTools.hex(e>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)},toWebString:function(e){var n=!1;return null==n&&(n=!0),"#"+(n?"0x":"")+StringTools.hex(e>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)},getColorInfo:function(e){var n="0x"+StringTools.hex(e>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)+"\n";return n+="Red: "+(e>>16&255)+" green: "+(e>>8&255)+" blue: "+(255&e)+"\n",n+="Hue: "+c.roundDecimal(c.get_hue(e),2)+" saturation: "+c.roundDecimal((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),2)+" brightness: "+c.roundDecimal(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),2)+" lightness: "+c.roundDecimal((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2,2)},getDarkened:function(e,n){null==n&&(n=.2);var t=n<0?0:n;n=t>1?1:t;var i=e,s=(Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))+Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/2*(1-n),r=c.get_hue(i),l=(1-Math.abs(2*s-1))*((Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))-Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))),a=s-l/2,h=r,o=l,u=(h%=360)/60,_=o*(1-Math.abs(u%2-1))+a;switch(o+=a,0|u){case 0:i&=65535,i|=((s=Math.round(255*o))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*_))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*a))>255?255:s<0?0:s;break;case 1:i&=65535,i|=((s=Math.round(255*_))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*o))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*a))>255?255:s<0?0:s;break;case 2:i&=65535,i|=((s=Math.round(255*a))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*o))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*_))>255?255:s<0?0:s;break;case 3:i&=65535,i|=((s=Math.round(255*a))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*_))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*o))>255?255:s<0?0:s;break;case 4:i&=65535,i|=((s=Math.round(255*_))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*a))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*o))>255?255:s<0?0:s;break;case 5:i&=65535,i|=((s=Math.round(255*o))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*a))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*_))>255?255:s<0?0:s}return i},getLightened:function(e,n){null==n&&(n=.2);var t=n<0?0:n;n=t>1?1:t;var i=e,s=(Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))+Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/2+(1-(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2)*n,r=c.get_hue(i),l=(1-Math.abs(2*s-1))*((Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))-Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))),a=s-l/2,h=r,o=l,u=(h%=360)/60,_=o*(1-Math.abs(u%2-1))+a;switch(o+=a,0|u){case 0:i&=65535,i|=((s=Math.round(255*o))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*_))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*a))>255?255:s<0?0:s;break;case 1:i&=65535,i|=((s=Math.round(255*_))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*o))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*a))>255?255:s<0?0:s;break;case 2:i&=65535,i|=((s=Math.round(255*a))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*o))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*_))>255?255:s<0?0:s;break;case 3:i&=65535,i|=((s=Math.round(255*a))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*_))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*o))>255?255:s<0?0:s;break;case 4:i&=65535,i|=((s=Math.round(255*_))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*a))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*o))>255?255:s<0?0:s;break;case 5:i&=65535,i|=((s=Math.round(255*o))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*a))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*_))>255?255:s<0?0:s}return i},getInverted:function(e){var n=255-(e>>16&255),t=255-(e>>8&255),i=255-(255&e),s=c._new();return s&=65535,s|=(n>255?255:n<0?0:n)<<16,s&=16711935,s|=(t>255?255:t<0?0:t)<<8,s&=16776960,s|=i>255?255:i<0?0:i},setRGB:function(e,n,t,i){return e&=65535,e|=(n>255?255:n<0?0:n)<<16,e&=16711935,e|=(t>255?255:t<0?0:t)<<8,e&=16776960,e|=i>255?255:i<0?0:i},setRGBFloat:function(e,n,t,i){var s;return e&=65535,e|=((s=Math.round(255*n))>255?255:s<0?0:s)<<16,e&=16711935,e|=((s=Math.round(255*t))>255?255:s<0?0:s)<<8,e&=16776960,e|=(s=Math.round(255*i))>255?255:s<0?0:s},setCMYK:function(e,n,t,i,s){var r=(1-n)*(1-s);e&=65535,e|=((l=Math.round(255*r))>255?255:l<0?0:l)<<16;r=(1-t)*(1-s);e&=16711935,e|=((l=Math.round(255*r))>255?255:l<0?0:l)<<8;var l;r=(1-i)*(1-s);return e&=16776960,e|=(l=Math.round(255*r))>255?255:l<0?0:l},setHSB:function(e,n,t,i){var s=i*t,r=i-s,l=n,a=s,h=(l%=360)/60,c=a*(1-Math.abs(h%2-1))+r;switch(a+=r,0|h){case 0:e&=65535,e|=((o=Math.round(255*a))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*c))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*r))>255?255:o<0?0:o;break;case 1:e&=65535,e|=((o=Math.round(255*c))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*a))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*r))>255?255:o<0?0:o;break;case 2:e&=65535,e|=((o=Math.round(255*r))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*a))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*c))>255?255:o<0?0:o;break;case 3:e&=65535,e|=((o=Math.round(255*r))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*c))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*a))>255?255:o<0?0:o;break;case 4:e&=65535,e|=((o=Math.round(255*c))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*r))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*a))>255?255:o<0?0:o;break;case 5:var o;e&=65535,e|=((o=Math.round(255*a))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*r))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*c))>255?255:o<0?0:o}return e},setHSL:function(e,n,t,i){var s=(1-Math.abs(2*i-1))*t,r=i-s/2,l=n,a=s,h=(l%=360)/60,c=a*(1-Math.abs(h%2-1))+r;switch(a+=r,0|h){case 0:e&=65535,e|=((o=Math.round(255*a))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*c))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*r))>255?255:o<0?0:o;break;case 1:e&=65535,e|=((o=Math.round(255*c))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*a))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*r))>255?255:o<0?0:o;break;case 2:e&=65535,e|=((o=Math.round(255*r))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*a))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*c))>255?255:o<0?0:o;break;case 3:e&=65535,e|=((o=Math.round(255*r))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*c))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*a))>255?255:o<0?0:o;break;case 4:e&=65535,e|=((o=Math.round(255*c))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*r))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*a))>255?255:o<0?0:o;break;case 5:var o;e&=65535,e|=((o=Math.round(255*a))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*r))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*c))>255?255:o<0?0:o}return e},setHSChromaMatch:function(e,n,t,i,s){var r=(n%=360)/60,l=i*(1-Math.abs(r%2-1))+s;switch(i+=s,0|r){case 0:e&=65535,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<16,e&=16711935,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<8,e&=16776960,e|=(a=Math.round(255*s))>255?255:a<0?0:a;break;case 1:e&=65535,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<16,e&=16711935,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<8,e&=16776960,e|=(a=Math.round(255*s))>255?255:a<0?0:a;break;case 2:e&=65535,e|=((a=Math.round(255*s))>255?255:a<0?0:a)<<16,e&=16711935,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<8,e&=16776960,e|=(a=Math.round(255*l))>255?255:a<0?0:a;break;case 3:e&=65535,e|=((a=Math.round(255*s))>255?255:a<0?0:a)<<16,e&=16711935,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<8,e&=16776960,e|=(a=Math.round(255*i))>255?255:a<0?0:a;break;case 4:e&=65535,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<16,e&=16711935,e|=((a=Math.round(255*s))>255?255:a<0?0:a)<<8,e&=16776960,e|=(a=Math.round(255*i))>255?255:a<0?0:a;break;case 5:var a;e&=65535,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<16,e&=16711935,e|=((a=Math.round(255*s))>255?255:a<0?0:a)<<8,e&=16776960,e|=(a=Math.round(255*l))>255?255:a<0?0:a}return e},_new:function(e){return null==e&&(e=0),e},get_red:function(e){return e>>16&255},get_green:function(e){return e>>8&255},get_blue:function(e){return 255&e},get_redFloat:function(e){return(e>>16&255)/255},get_greenFloat:function(e){return(e>>8&255)/255},get_blueFloat:function(e){return(255&e)/255},set_red:function(e,n){return 65535,(n>255?255:n<0?0:n)<<16,n},set_green:function(e,n){return 16711935,(n>255?255:n<0?0:n)<<8,n},set_blue:function(e,n){return 16776960,n>255?255:n<0?0:n,n},set_redFloat:function(e,n){var t=Math.round(255*n);return 65535,(t>255?255:t<0?0:t)<<16,n},set_greenFloat:function(e,n){var t=Math.round(255*n);return 16711935,(t>255?255:t<0?0:t)<<8,n},set_blueFloat:function(e,n){var t=Math.round(255*n);return 16776960,t>255?255:t<0?0:t,n},get_cyan:function(e){return(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_magenta:function(e){return(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_yellow:function(e){return(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_black:function(e){return 1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},set_cyan:function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),s=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),r=(1-n)*(1-s);e&=65535,e|=((l=Math.round(255*r))>255?255:l<0?0:l)<<16;r=(1-t)*(1-s);e&=16711935,e|=((l=Math.round(255*r))>255?255:l<0?0:l)<<8;var l;r=(1-i)*(1-s);return e&=16776960,e|=(l=Math.round(255*r))>255?255:l<0?0:l,n},set_magenta:function(e,n){var t=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),s=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-i);e&=65535,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<16;s=(1-n)*(1-i);e&=16711935,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<8;var r;s=(1-t)*(1-i);return e&=16776960,e|=(r=Math.round(255*s))>255?255:r<0?0:r,n},set_yellow:function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),s=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-i);e&=65535,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<16;s=(1-t)*(1-i);e&=16711935,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<8;var r;s=(1-n)*(1-i);return e&=16776960,e|=(r=Math.round(255*s))>255?255:r<0?0:r,n},set_black:function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),s=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-n);e&=65535,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<16;s=(1-t)*(1-n);e&=16711935,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<8;var r;s=(1-i)*(1-n);return e&=16776960,e|=(r=Math.round(255*s))>255?255:r<0?0:r,n},get_hue:function(e){var n=0;return 0!=Math.atan2(Math.sqrt(3)*((e>>8&255)/255-(255&e)/255),(e>>16&255)/255*2-(e>>8&255)/255-(255&e)/255)&&(n=180/Math.PI*Math.atan2(Math.sqrt(3)*((e>>8&255)/255-(255&e)/255),(e>>16&255)/255*2-(e>>8&255)/255-(255&e)/255)),n<0?n+360:n},get_brightness:function(e){return Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_saturation:function(e){return(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_lightness:function(e){return(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2},set_hue:function(e,n){var t=Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=t*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),s=t-i,r=n,l=i,a=(r%=360)/60,h=l*(1-Math.abs(a%2-1))+s;switch(l+=s,0|a){case 0:e&=65535,e|=((c=Math.round(255*l))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*s))>255?255:c<0?0:c;break;case 1:e&=65535,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*l))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*s))>255?255:c<0?0:c;break;case 2:e&=65535,e|=((c=Math.round(255*s))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*l))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*h))>255?255:c<0?0:c;break;case 3:e&=65535,e|=((c=Math.round(255*s))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*l))>255?255:c<0?0:c;break;case 4:e&=65535,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*s))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*l))>255?255:c<0?0:c;break;case 5:var c;e&=65535,e|=((c=Math.round(255*l))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*s))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*h))>255?255:c<0?0:c}return n},set_saturation:function(e,n){var t=c.get_hue(e),i=Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),s=i*n,r=i-s,l=t,a=s,h=(l%=360)/60,o=a*(1-Math.abs(h%2-1))+r;switch(a+=r,0|h){case 0:e&=65535,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<16,e&=16711935,e|=((u=Math.round(255*o))>255?255:u<0?0:u)<<8,e&=16776960,e|=(u=Math.round(255*r))>255?255:u<0?0:u;break;case 1:e&=65535,e|=((u=Math.round(255*o))>255?255:u<0?0:u)<<16,e&=16711935,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<8,e&=16776960,e|=(u=Math.round(255*r))>255?255:u<0?0:u;break;case 2:e&=65535,e|=((u=Math.round(255*r))>255?255:u<0?0:u)<<16,e&=16711935,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<8,e&=16776960,e|=(u=Math.round(255*o))>255?255:u<0?0:u;break;case 3:e&=65535,e|=((u=Math.round(255*r))>255?255:u<0?0:u)<<16,e&=16711935,e|=((u=Math.round(255*o))>255?255:u<0?0:u)<<8,e&=16776960,e|=(u=Math.round(255*a))>255?255:u<0?0:u;break;case 4:e&=65535,e|=((u=Math.round(255*o))>255?255:u<0?0:u)<<16,e&=16711935,e|=((u=Math.round(255*r))>255?255:u<0?0:u)<<8,e&=16776960,e|=(u=Math.round(255*a))>255?255:u<0?0:u;break;case 5:var u;e&=65535,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<16,e&=16711935,e|=((u=Math.round(255*r))>255?255:u<0?0:u)<<8,e&=16776960,e|=(u=Math.round(255*o))>255?255:u<0?0:u}return n},set_brightness:function(e,n){var t=c.get_hue(e),i=n*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),s=n-i,r=t,l=i,a=(r%=360)/60,h=l*(1-Math.abs(a%2-1))+s;switch(l+=s,0|a){case 0:e&=65535,e|=((o=Math.round(255*l))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*h))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*s))>255?255:o<0?0:o;break;case 1:e&=65535,e|=((o=Math.round(255*h))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*l))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*s))>255?255:o<0?0:o;break;case 2:e&=65535,e|=((o=Math.round(255*s))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*l))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*h))>255?255:o<0?0:o;break;case 3:e&=65535,e|=((o=Math.round(255*s))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*h))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*l))>255?255:o<0?0:o;break;case 4:e&=65535,e|=((o=Math.round(255*h))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*s))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*l))>255?255:o<0?0:o;break;case 5:var o;e&=65535,e|=((o=Math.round(255*l))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*s))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*h))>255?255:o<0?0:o}return n},set_lightness:function(e,n){var t=c.get_hue(e),i=(1-Math.abs(2*n-1))*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),s=n-i/2,r=t,l=i,a=(r%=360)/60,h=l*(1-Math.abs(a%2-1))+s;switch(l+=s,0|a){case 0:e&=65535,e|=((o=Math.round(255*l))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*h))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*s))>255?255:o<0?0:o;break;case 1:e&=65535,e|=((o=Math.round(255*h))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*l))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*s))>255?255:o<0?0:o;break;case 2:e&=65535,e|=((o=Math.round(255*s))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*l))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*h))>255?255:o<0?0:o;break;case 3:e&=65535,e|=((o=Math.round(255*s))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*h))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*l))>255?255:o<0?0:o;break;case 4:e&=65535,e|=((o=Math.round(255*h))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*s))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*l))>255?255:o<0?0:o;break;case 5:var o;e&=65535,e|=((o=Math.round(255*l))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*s))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*h))>255?255:o<0?0:o}return n},maxColor:function(e){return Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},minColor:function(e){return Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255))},boundChannel:function(e,n){return n>255?255:n<0?0:n},roundDecimal:function(e,n){for(var t=1,i=0,s=n;i<s;){i++;t*=10}return Math.round(e*t)/t},bound:function(e,n,t){var i=null!=n&&e<n?n:e;return null!=t&&i>t?t:i},toString:function(e){return-1==e?"NONE":"0x"+StringTools.hex(e>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)},fromHSLuv:function(e,n,t){var i=c._new();if(c._hsluvTuple[0]=e,c._hsluvTuple[1]=100*n,c._hsluvTuple[2]=100*t,t>.001){hsluv_Hsluv.hsluvToRgb(c._hsluvTuple,c._hsluvResult);var s=c._hsluvResult[0];s<0&&(s=0),i&=65535,i|=((_=Math.round(255*s))>255?255:_<0?0:_)<<16,(s=c._hsluvResult[1])<0&&(s=0),i&=16711935,i|=((_=Math.round(255*s))>255?255:_<0?0:_)<<8,(s=c._hsluvResult[2])<0&&(s=0),i&=16776960,i|=(_=Math.round(255*s))>255?255:_<0?0:_}else{var r=(1-Math.abs(2*t-1))*n,l=t-r/2,a=e,h=r,o=(a%=360)/60,u=h*(1-Math.abs(o%2-1))+l;switch(h+=l,0|o){case 0:i&=65535,i|=((_=Math.round(255*h))>255?255:_<0?0:_)<<16,i&=16711935,i|=((_=Math.round(255*u))>255?255:_<0?0:_)<<8,i&=16776960,i|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 1:i&=65535,i|=((_=Math.round(255*u))>255?255:_<0?0:_)<<16,i&=16711935,i|=((_=Math.round(255*h))>255?255:_<0?0:_)<<8,i&=16776960,i|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 2:i&=65535,i|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,i&=16711935,i|=((_=Math.round(255*h))>255?255:_<0?0:_)<<8,i&=16776960,i|=(_=Math.round(255*u))>255?255:_<0?0:_;break;case 3:i&=65535,i|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,i&=16711935,i|=((_=Math.round(255*u))>255?255:_<0?0:_)<<8,i&=16776960,i|=(_=Math.round(255*h))>255?255:_<0?0:_;break;case 4:i&=65535,i|=((_=Math.round(255*u))>255?255:_<0?0:_)<<16,i&=16711935,i|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,i&=16776960,i|=(_=Math.round(255*h))>255?255:_<0?0:_;break;case 5:var _;i&=65535,i|=((_=Math.round(255*h))>255?255:_<0?0:_)<<16,i&=16711935,i|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,i&=16776960,i|=(_=Math.round(255*u))>255?255:_<0?0:_}}return i},setHSLuv:function(e,n,t,i){if(c._hsluvTuple[0]=n,c._hsluvTuple[1]=100*t,c._hsluvTuple[2]=100*i,i>.001){hsluv_Hsluv.hsluvToRgb(c._hsluvTuple,c._hsluvResult);var s=c._hsluvResult[0];s<0&&(s=0),e&=65535,e|=((_=Math.round(255*s))>255?255:_<0?0:_)<<16,(s=c._hsluvResult[1])<0&&(s=0),e&=16711935,e|=((_=Math.round(255*s))>255?255:_<0?0:_)<<8,(s=c._hsluvResult[2])<0&&(s=0),e&=16776960,e|=(_=Math.round(255*s))>255?255:_<0?0:_}else{var r=(1-Math.abs(2*i-1))*t,l=i-r/2,a=n,h=r,o=(a%=360)/60,u=h*(1-Math.abs(o%2-1))+l;switch(h+=l,0|o){case 0:e&=65535,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 1:e&=65535,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 2:e&=65535,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*u))>255?255:_<0?0:_;break;case 3:e&=65535,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*h))>255?255:_<0?0:_;break;case 4:e&=65535,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*h))>255?255:_<0?0:_;break;case 5:var _;e&=65535,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*u))>255?255:_<0?0:_}}return e},getHSLuv:function(e,n){return null==n&&(n=[0,0,0]),c._hsluvTuple[0]=(e>>16&255)/255,c._hsluvTuple[1]=(e>>8&255)/255,c._hsluvTuple[2]=(255&e)/255,hsluv_Hsluv.rgbToHsluv(c._hsluvTuple,n),n[1]*=.01,n[2]*=.01,n}},ceramic_Component=function(){};t["ceramic.Component"]=ceramic_Component,ceramic_Component.__name__="ceramic.Component",ceramic_Component.__isInterface__=!0,ceramic_Component.prototype={__class__:ceramic_Component};var ceramic_ComputeFps=function(e){null==e&&(e=10),this.fps=0,this.index=0,this.size=e,this.frames=[];for(var n=0,t=e;n<t;){n++;this.frames.push(0)}};t["ceramic.ComputeFps"]=ceramic_ComputeFps,ceramic_ComputeFps.__name__="ceramic.ComputeFps",ceramic_ComputeFps.prototype={addFrame:function(e){this.frames[this.index]=e,this.index=(this.index+1)%this.size;for(var n=0,t=0,i=this.size;t<i;){var s=t++;n+=this.frames[s]}n=n>0?this.size/n:0,this.fps=Math.round(Math.min(999,n))},__class__:ceramic_ComputeFps};var ceramic_ConvertField=function(){};t["ceramic.ConvertField"]=ceramic_ConvertField,ceramic_ConvertField.__name__="ceramic.ConvertField",ceramic_ConvertField.__isInterface__=!0,ceramic_ConvertField.prototype={__class__:ceramic_ConvertField};var ceramic_ConvertArray=function(){};t["ceramic.ConvertArray"]=ceramic_ConvertArray,ceramic_ConvertArray.__name__="ceramic.ConvertArray",ceramic_ConvertArray.__interfaces__=[ceramic_ConvertField],ceramic_ConvertArray.prototype={basicToField:function(e,n,t,i,s){if(null!=i){var r=[];s(r=r.concat(i))}else s(null)},fieldToBasic:function(e,n,t){if(null==t)return null;var i=[];return i=i.concat(t)},__class__:ceramic_ConvertArray};var ceramic_ConvertComponentMap=function(){};t["ceramic.ConvertComponentMap"]=ceramic_ConvertComponentMap,ceramic_ConvertComponentMap.__name__="ceramic.ConvertComponentMap",ceramic_ConvertComponentMap.__interfaces__=[ceramic_ConvertField],ceramic_ConvertComponentMap.prototype={basicToField:function(e,n,t,i,s){if(null!=i){for(var r=new haxe_ds_StringMap,l=0,a=Reflect.fields(i);l<a.length;){var h=a[l];++l;i[h];ceramic_App.app.logger.error("Not using component initializers anymore. Need to implement event based solution!",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ConvertComponentMap.hx",lineNumber:38,className:"ceramic.ConvertComponentMap",methodName:"basicToField"})}s(r)}else s(null)},fieldToBasic:function(e,n,t){if(null==t)return null;for(var i={},s=t.h,r=Object.keys(s),l=r.length,a=0;a<l;){var h=r[a++],c=t.h[h];null!=c&&null!=c.initializerName&&(i[h]=c.initializerName)}return i},__class__:ceramic_ConvertComponentMap};var ceramic_ConvertFont=function(){};t["ceramic.ConvertFont"]=ceramic_ConvertFont,ceramic_ConvertFont.__name__="ceramic.ConvertFont",ceramic_ConvertFont.__interfaces__=[ceramic_ConvertField],ceramic_ConvertFont.prototype={basicToField:function(e,n,t,i,s){null!=i?i==ceramic_App.app.defaultFont.asset.name?s(ceramic_App.app.defaultFont):t.ensureFont(i,null,(function(e){s(null!=e?e.get_font():null)})):s(null)},fieldToBasic:function(e,n,t){return null==t||null==t.asset?null:t.asset.name},__class__:ceramic_ConvertFont};var ceramic_ConvertFragmentData=function(){};t["ceramic.ConvertFragmentData"]=ceramic_ConvertFragmentData,ceramic_ConvertFragmentData.__name__="ceramic.ConvertFragmentData",ceramic_ConvertFragmentData.__interfaces__=[ceramic_ConvertField],ceramic_ConvertFragmentData.prototype={basicToField:function(e,n,t,i,s){s(i)},fieldToBasic:function(e,n,t){return t},__class__:ceramic_ConvertFragmentData};var ceramic_ConvertIntBoolMap=function(){};t["ceramic.ConvertIntBoolMap"]=ceramic_ConvertIntBoolMap,ceramic_ConvertIntBoolMap.__name__="ceramic.ConvertIntBoolMap",ceramic_ConvertIntBoolMap.__interfaces__=[ceramic_ConvertField],ceramic_ConvertIntBoolMap.prototype={basicToField:function(e,n,t,i,s){if(null!=i){for(var r=new haxe_ds_IntMap,l=0,a=Reflect.fields(i);l<a.length;){var h=a[l];++l;var c=Reflect.field(i,h);r.h[0|Std.parseInt(h)]=c}s(r)}else s(null)},fieldToBasic:function(e,n,t){if(null==t)return null;return ceramic_App.app.logger.warning("ConvertIntBoolMap.fieldToBasic() not implemented!",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ConvertIntBoolMap.hx",lineNumber:47,className:"ceramic.ConvertIntBoolMap",methodName:"fieldToBasic"}),{}},__class__:ceramic_ConvertIntBoolMap};var ceramic_ConvertMap=function(){};t["ceramic.ConvertMap"]=ceramic_ConvertMap,ceramic_ConvertMap.__name__="ceramic.ConvertMap",ceramic_ConvertMap.__interfaces__=[ceramic_ConvertField],ceramic_ConvertMap.prototype={basicToField:function(e,n,t,i,s){if(null!=i){for(var r=new haxe_ds_StringMap,l=0,a=Reflect.fields(i);l<a.length;){var h=a[l];++l,r.h[h]=i[h]}s(r)}else s(null)},fieldToBasic:function(e,n,t){if(null==t)return null;for(var i={},s=t.h,r=Object.keys(s),l=r.length,a=0;a<l;){var h=r[a++];i[h]=t.h[h]}return i},__class__:ceramic_ConvertMap};var ceramic_ConvertTexture=function(){};t["ceramic.ConvertTexture"]=ceramic_ConvertTexture,ceramic_ConvertTexture.__name__="ceramic.ConvertTexture",ceramic_ConvertTexture.__interfaces__=[ceramic_ConvertField],ceramic_ConvertTexture.prototype={basicToField:function(e,n,t,i,s){null!=i?t.ensureImage(i,null,(function(e){s(null!=e?e.get_texture():null)})):s(null)},fieldToBasic:function(e,n,t){return null==t||null==t.asset?null:t.asset.name},__class__:ceramic_ConvertTexture};var ceramic_Csv=function(){};t["ceramic.Csv"]=ceramic_Csv,ceramic_Csv.__name__="ceramic.Csv",ceramic_Csv.parse=function(e){for(var n="",t=0,i="",s=(e=StringTools.trim(e)).length,r=!1,l="",a=[];t<s;)if(i=e.charAt(t),r)'"'==i?'""'==i+e.charAt(t+1)?(l+='"',t+=2):(r=!1,++t):(l+=i,++t);else{if("\n"==i){++t;break}""==l&&'"'==i?(r=!0,++t):""==n?(","==i||";"==i?(n=i,a.push(StringTools.replace(l,"\r","")),l=""):l+=i,++t):i==n?(a.push(StringTools.replace(l,"\r","")),l="",++t):(l+=i,++t)}""!=l&&a.push(StringTools.replace(l,"\r","")),r=!1,l="";for(var h={},c=!1,o=[],u=0,_="",d=-1;t<s;)i=e.charAt(t),r?'"'==i?'""'==i+e.charAt(t+1)?(l+='"',t+=2):(r=!1,++t):(l+=i,++t):"\n"==i?(null!=(_=a[u++])?(h[_]=StringTools.replace(l,"\r",""),c=!0):-1==d&&(d=o.length),l="",o.push(h),c=!1,u=0,h={},++t):""==l&&'"'==i?(r=!0,++t):i==n?(null!=(_=a[u++])?(h[_]=StringTools.replace(l,"\r",""),c=!0):-1==d&&(d=o.length),l="",++t):(l+=i,++t);return null!=(_=a[u++])?(h[_]=StringTools.replace(l,"\r",""),c=!0):-1==d&&(ceramic_Csv.warning(h),d=o.length),l="",c&&o.push(h),d>=0&&ceramic_Csv.warning("Malformed CSV: too many columns at row #"+d),o},ceramic_Csv.stringify=function(e,n){if(null==n){n=[];for(var t=Object.create(null),i=0;i<e.length;){var s=e[i];++i;for(var r=0,l=Reflect.fields(s);r<l.length;){var a=l[r];++r,Object.prototype.hasOwnProperty.call(t,a)||(n.push(a),t[a]=!0)}}}var h="",c=0;for(i=0;i<n.length;){a=n[i];if(++i,c++>0&&(h+=","),0!=a.length){h+='"';for(r=0,l=a.length;r<l;){var o=r++;h+='"'==(b=a.charAt(o))?'""':Std.string(b)}h+='"'}}for(i=0;i<e.length;){s=e[i];++i,h+="\n",c=0;for(r=0;r<n.length;){a=n[r];++r,c++>0&&(h+=",");var u=Reflect.field(s,a),_=null!=u?Std.string(u):"";if(0!=_.length){h+='"';l=0;for(var d=_.length;l<d;){var b;o=l++;h+='"'==(b=_.charAt(o))?'""':Std.string(b)}h+='"'}}}return h},ceramic_Csv.warning=function(e){ceramic_App.app.logger.warning(e,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Csv.hx",lineNumber:238,className:"ceramic.Csv",methodName:"warning"})};var ceramic_CustomAssetKind=function(e,n,t,i,s){this.kind=e,this.add=n,this.extensions=t,this.dir=i,this.types=s};t["ceramic.CustomAssetKind"]=ceramic_CustomAssetKind,ceramic_CustomAssetKind.__name__="ceramic.CustomAssetKind",ceramic_CustomAssetKind.prototype={__class__:ceramic_CustomAssetKind};var ceramic_DatabaseAsset=function(e,n){this.unobservedDatabase=null,this.databaseAutoruns=null,ceramic_Asset.call(this,"database",e,n)};t["ceramic.DatabaseAsset"]=ceramic_DatabaseAsset,ceramic_DatabaseAsset.__name__="ceramic.DatabaseAsset",ceramic_DatabaseAsset.__super__=ceramic_Asset,ceramic_DatabaseAsset.prototype=$extend(ceramic_Asset.prototype,{get_database:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.databaseAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.databaseAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedDatabase},set_database:function(e){var n=this.unobservedDatabase;if(this.unobservedDatabase=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDatabaseChange(e,n);var t=this.databaseAutoruns;if(null!=t){this.databaseAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateDatabase:function(){var e=this.unobservedDatabase;this.emitDatabaseChange(e,e);var n=this.databaseAutoruns;if(null!=n){this.databaseAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitDatabaseChange:function(e,n){var t=0;if(null!=this.__cbOnDatabaseChange&&(t+=this.__cbOnDatabaseChange.length),null!=this.__cbOnceDatabaseChange&&(t+=this.__cbOnceDatabaseChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnDatabaseChange)for(var l=0,a=this.__cbOnDatabaseChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnDatabaseChange[h],++r):--t}if(null!=this.__cbOnceDatabaseChange){var c=null,o=null;for(l=0,a=this.__cbOnceDatabaseChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceDatabaseChange[h],this.__cbOnceDatabaseChange[h]=null;var u=this.__cbOnceOwnerUnbindDatabaseChange[h];this.__cbOnceOwnerUnbindDatabaseChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindDatabaseChange[h]),o.push(this.__cbOnceDatabaseChange[h])}this.__cbOnceOwnerUnbindDatabaseChange=c,this.__cbOnceDatabaseChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onDatabaseChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event databaseChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDatabaseChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDatabaseChange&&(this.__cbOnOwnerUnbindDatabaseChange=[]),this.__cbOnOwnerUnbindDatabaseChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDatabaseChange&&(this.__cbOnOwnerUnbindDatabaseChange=[]),this.__cbOnOwnerUnbindDatabaseChange.push(null);null==this.__cbOnDatabaseChange&&(this.__cbOnDatabaseChange=[]),this.__cbOnDatabaseChange.push(n)},onceDatabaseChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event databaseChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDatabaseChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDatabaseChange&&(this.__cbOnceOwnerUnbindDatabaseChange=[]),this.__cbOnceOwnerUnbindDatabaseChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDatabaseChange&&(this.__cbOnceOwnerUnbindDatabaseChange=[]),this.__cbOnceOwnerUnbindDatabaseChange.push(null);null==this.__cbOnceDatabaseChange&&(this.__cbOnceDatabaseChange=[]),this.__cbOnceDatabaseChange.push(n)},offDatabaseChange:function(e){if(null!=e){var n;null!=this.__cbOnDatabaseChange&&-1!=(n=this.__cbOnDatabaseChange.indexOf(e))&&(this.__cbOnDatabaseChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDatabaseChange[n])&&r(),this.__cbOnOwnerUnbindDatabaseChange.splice(n,1)),null!=this.__cbOnceDatabaseChange&&-1!=(n=this.__cbOnceDatabaseChange.indexOf(e))&&(this.__cbOnceDatabaseChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDatabaseChange[n])&&r(),this.__cbOnceOwnerUnbindDatabaseChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDatabaseChange){for(var t=0,i=this.__cbOnOwnerUnbindDatabaseChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindDatabaseChange[s])&&r()}this.__cbOnOwnerUnbindDatabaseChange=null}if(null!=this.__cbOnceOwnerUnbindDatabaseChange){for(t=0,i=this.__cbOnceOwnerUnbindDatabaseChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindDatabaseChange[s])&&r()}this.__cbOnceOwnerUnbindDatabaseChange=null}this.__cbOnDatabaseChange=null,this.__cbOnceDatabaseChange=null}},listensDatabaseChange:function(){return null!=this.__cbOnDatabaseChange&&this.__cbOnDatabaseChange.length>0||null!=this.__cbOnceDatabaseChange&&this.__cbOnceDatabaseChange.length>0},load:function(){var e=this;if(this.set_status(a.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load database asset if path is undefined.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:21,className:"ceramic.DatabaseAsset",methodName:"load"}),this.set_status(a.BROKEN),void this.emitComplete(!1);var n={};null!=this.owner&&(n.immediate=this.owner.immediate,n.loadMethod=this.owner.loadMethod);var t=this.path,i=ceramic_Assets.realAssetPath(t,this.runtimeAssets),s=ceramic_Assets.getReloadCount(i);s>0&&(i+="?hot="+s,t+="?hot="+s),ceramic_App.app.logger.info("Load database "+t,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:42,className:"ceramic.DatabaseAsset",methodName:"load"}),ceramic_App.app.backend.texts.load(i,n,(function(n){if(null!=n){try{e.set_database(ceramic_Csv.parse(n))}catch(n){return e.set_status(a.BROKEN),ceramic_App.app.logger.error("Failed to parse database at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:50,className:"ceramic.DatabaseAsset",methodName:"load"}),void e.emitComplete(!1)}e.set_status(a.READY),e.emitComplete(!0)}else e.set_status(a.BROKEN),ceramic_App.app.logger.error("Failed to load database at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:59,className:"ceramic.DatabaseAsset",methodName:"load"}),e.emitComplete(!1)}))},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload database (file has changed)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:82,className:"ceramic.DatabaseAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),this.set_database(null))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offDatabaseChange()},__class__:ceramic_DatabaseAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_database:"set_database",get_database:"get_database"})});var o=i["ceramic.Easing"]={__ename__:"ceramic.Easing",__constructs__:null,NONE:{_hx_name:"NONE",_hx_index:0,__enum__:"ceramic.Easing",toString:$estr},LINEAR:{_hx_name:"LINEAR",_hx_index:1,__enum__:"ceramic.Easing",toString:$estr},BACK_EASE_IN:{_hx_name:"BACK_EASE_IN",_hx_index:2,__enum__:"ceramic.Easing",toString:$estr},BACK_EASE_IN_OUT:{_hx_name:"BACK_EASE_IN_OUT",_hx_index:3,__enum__:"ceramic.Easing",toString:$estr},BACK_EASE_OUT:{_hx_name:"BACK_EASE_OUT",_hx_index:4,__enum__:"ceramic.Easing",toString:$estr},QUAD_EASE_IN:{_hx_name:"QUAD_EASE_IN",_hx_index:5,__enum__:"ceramic.Easing",toString:$estr},QUAD_EASE_IN_OUT:{_hx_name:"QUAD_EASE_IN_OUT",_hx_index:6,__enum__:"ceramic.Easing",toString:$estr},QUAD_EASE_OUT:{_hx_name:"QUAD_EASE_OUT",_hx_index:7,__enum__:"ceramic.Easing",toString:$estr},CUBIC_EASE_IN:{_hx_name:"CUBIC_EASE_IN",_hx_index:8,__enum__:"ceramic.Easing",toString:$estr},CUBIC_EASE_IN_OUT:{_hx_name:"CUBIC_EASE_IN_OUT",_hx_index:9,__enum__:"ceramic.Easing",toString:$estr},CUBIC_EASE_OUT:{_hx_name:"CUBIC_EASE_OUT",_hx_index:10,__enum__:"ceramic.Easing",toString:$estr},QUART_EASE_IN:{_hx_name:"QUART_EASE_IN",_hx_index:11,__enum__:"ceramic.Easing",toString:$estr},QUART_EASE_IN_OUT:{_hx_name:"QUART_EASE_IN_OUT",_hx_index:12,__enum__:"ceramic.Easing",toString:$estr},QUART_EASE_OUT:{_hx_name:"QUART_EASE_OUT",_hx_index:13,__enum__:"ceramic.Easing",toString:$estr},QUINT_EASE_IN:{_hx_name:"QUINT_EASE_IN",_hx_index:14,__enum__:"ceramic.Easing",toString:$estr},QUINT_EASE_IN_OUT:{_hx_name:"QUINT_EASE_IN_OUT",_hx_index:15,__enum__:"ceramic.Easing",toString:$estr},QUINT_EASE_OUT:{_hx_name:"QUINT_EASE_OUT",_hx_index:16,__enum__:"ceramic.Easing",toString:$estr},BOUNCE_EASE_IN:{_hx_name:"BOUNCE_EASE_IN",_hx_index:17,__enum__:"ceramic.Easing",toString:$estr},BOUNCE_EASE_IN_OUT:{_hx_name:"BOUNCE_EASE_IN_OUT",_hx_index:18,__enum__:"ceramic.Easing",toString:$estr},BOUNCE_EASE_OUT:{_hx_name:"BOUNCE_EASE_OUT",_hx_index:19,__enum__:"ceramic.Easing",toString:$estr},ELASTIC_EASE_IN:{_hx_name:"ELASTIC_EASE_IN",_hx_index:20,__enum__:"ceramic.Easing",toString:$estr},ELASTIC_EASE_IN_OUT:{_hx_name:"ELASTIC_EASE_IN_OUT",_hx_index:21,__enum__:"ceramic.Easing",toString:$estr},ELASTIC_EASE_OUT:{_hx_name:"ELASTIC_EASE_OUT",_hx_index:22,__enum__:"ceramic.Easing",toString:$estr},EXPO_EASE_IN:{_hx_name:"EXPO_EASE_IN",_hx_index:23,__enum__:"ceramic.Easing",toString:$estr},EXPO_EASE_IN_OUT:{_hx_name:"EXPO_EASE_IN_OUT",_hx_index:24,__enum__:"ceramic.Easing",toString:$estr},EXPO_EASE_OUT:{_hx_name:"EXPO_EASE_OUT",_hx_index:25,__enum__:"ceramic.Easing",toString:$estr},SINE_EASE_IN:{_hx_name:"SINE_EASE_IN",_hx_index:26,__enum__:"ceramic.Easing",toString:$estr},SINE_EASE_IN_OUT:{_hx_name:"SINE_EASE_IN_OUT",_hx_index:27,__enum__:"ceramic.Easing",toString:$estr},SINE_EASE_OUT:{_hx_name:"SINE_EASE_OUT",_hx_index:28,__enum__:"ceramic.Easing",toString:$estr},BEZIER:(n=function(e,n,t,i){return{_hx_index:29,x1:e,y1:n,x2:t,y2:i,__enum__:"ceramic.Easing",toString:$estr}},n._hx_name="BEZIER",n.__params__=["x1","y1","x2","y2"],n),CUSTOM:(n=function(e){return{_hx_index:30,easing:e,__enum__:"ceramic.Easing",toString:$estr}},n._hx_name="CUSTOM",n.__params__=["easing"],n)};o.__constructs__=[o.NONE,o.LINEAR,o.BACK_EASE_IN,o.BACK_EASE_IN_OUT,o.BACK_EASE_OUT,o.QUAD_EASE_IN,o.QUAD_EASE_IN_OUT,o.QUAD_EASE_OUT,o.CUBIC_EASE_IN,o.CUBIC_EASE_IN_OUT,o.CUBIC_EASE_OUT,o.QUART_EASE_IN,o.QUART_EASE_IN_OUT,o.QUART_EASE_OUT,o.QUINT_EASE_IN,o.QUINT_EASE_IN_OUT,o.QUINT_EASE_OUT,o.BOUNCE_EASE_IN,o.BOUNCE_EASE_IN_OUT,o.BOUNCE_EASE_OUT,o.ELASTIC_EASE_IN,o.ELASTIC_EASE_IN_OUT,o.ELASTIC_EASE_OUT,o.EXPO_EASE_IN,o.EXPO_EASE_IN_OUT,o.EXPO_EASE_OUT,o.SINE_EASE_IN,o.SINE_EASE_IN_OUT,o.SINE_EASE_OUT,o.BEZIER,o.CUSTOM];var ceramic_EasingUtils=function(){};t["ceramic.EasingUtils"]=ceramic_EasingUtils,ceramic_EasingUtils.__name__="ceramic.EasingUtils",ceramic_EasingUtils.easingFromString=function(e){return Type.createEnum(o,e,ceramic_EasingUtils._emptyArray)},ceramic_EasingUtils.easingToString=function(e){return i[e.__enum__].__constructs__[e._hx_index]._hx_name};var ceramic_Extensions=function(){};t["ceramic.Extensions"]=ceramic_Extensions,ceramic_Extensions.__name__="ceramic.Extensions",ceramic_Extensions.unsafeGet=function(e,n){return e[n]},ceramic_Extensions.unsafeSet=function(e,n,t){e[n]=t},ceramic_Extensions.setArrayLength=function(e,n){e.length!=n&&(e.length>n?e.splice(n,e.length-n):e[n-1]=null)},ceramic_Extensions.randomElement=function(e){return e[Math.floor(.99999*Math.random()*e.length)]},ceramic_Extensions.randomElementExcept=function(e,n,t){if(null==t&&(t=!1),t){for(var i=null;(i=e[Math.floor(.99999*Math.random()*e.length)])==n;);return i}for(var s=[],r=0;r<e.length;){var l=e[r];++r,s.push(l)}ceramic_Extensions.shuffle(s);for(r=0;r<s.length;){l=s[r];if(++r,l!=n)return l}return null},ceramic_Extensions.randomElementMatchingValidator=function(e,n){for(var t=[],i=0;i<e.length;){var s=e[i];++i,t.push(s)}ceramic_Extensions.shuffle(t);for(i=0;i<t.length;){s=t[i];if(++i,n(s))return s}return null},ceramic_Extensions.shuffle=function(e){if(null!=e)for(var n=0,t=e.length;n<t;){var i=n++,s=Math.floor((e.length-1+1)*Math.random()),r=e[i],l=e[s];e[i]=l,e[s]=r}},ceramic_Extensions.swapElements=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},ceramic_Extensions.removeNullElements=function(e){for(var n=0,t=0,i=e.length;n<i;){for(;;){if(null!=e[n])break;if(++t,!(++n<i))break}if(0!=t&&n<i)e[n-t]=e[n];++n}var s=i-t;e.length!=s&&(e.length>s?e.splice(s,e.length-s):e[s-1]=null)},ceramic_Extensions.setProperty=function(e,n,t){Reflect.setProperty(e,n,t)},ceramic_Extensions.getProperty=function(e,n){return Reflect.getProperty(e,n)};var ceramic_FieldInfo=function(){};t["ceramic.FieldInfo"]=ceramic_FieldInfo,ceramic_FieldInfo.__name__="ceramic.FieldInfo",ceramic_FieldInfo.types=function(e,n){null==n&&(n=!0);var i=ceramic_FieldInfo.fieldInfoMap.h[e];if(null==i){i=new haxe_ds_StringMap,ceramic_FieldInfo.fieldInfoMap.h[e]=i;var s=t[e];for(Std.string(s);null!=s;){var r=Reflect.field(s,"_fieldInfo");if(!1,null!=r)for(var l=r,a=Reflect.fields(r),h=0;h<a.length;){var c=a[h++],o=c,u=l[c];Object.prototype.hasOwnProperty.call(i.h,o)||(i.h[o]=u.type)}if(!n)break;s=s.__super__}}return i},ceramic_FieldInfo.typeOf=function(e,n){return ceramic_FieldInfo.types(e).h[n]};var ceramic_Files=function(){};t["ceramic.Files"]=ceramic_Files,ceramic_Files.__name__="ceramic.Files",ceramic_Files.haveSameContent=function(e,n){return ceramic_App.app.logger.warning("haveSameContent() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:41,className:"ceramic.Files",methodName:"haveSameContent"}),!1},ceramic_Files.haveSameLastModified=function(e,n){return ceramic_App.app.logger.warning("haveSameLastModified() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:78,className:"ceramic.Files",methodName:"haveSameLastModified"}),!1},ceramic_Files.setToSameLastModified=function(e,n){ceramic_App.app.logger.warning("setToSameLastModified() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:103,className:"ceramic.Files",methodName:"setToSameLastModified"})},ceramic_Files.getFlatDirectory=function(e,n){return null==n&&(n=!0),[]},ceramic_Files.getLastModified=function(e){return-1},ceramic_Files.removeEmptyDirectories=function(e,n){null==n&&(n=!0),ceramic_App.app.logger.warning("removeEmptyDirectories() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:232,className:"ceramic.Files",methodName:"removeEmptyDirectories"})},ceramic_Files.isEmptyDirectory=function(e,n){return null==n&&(n=!0),ceramic_App.app.logger.warning("isEmptyDirectory() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:253,className:"ceramic.Files",methodName:"isEmptyDirectory"}),!1},ceramic_Files.deleteRecursive=function(e){ceramic_App.app.logger.warning("deleteRecursive() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:297,className:"ceramic.Files",methodName:"deleteRecursive"})},ceramic_Files.getRelativePath=function(e,n){for(var t=HxOverrides.substr(ceramic_Path.normalize(n),1,null).split("/"),i=HxOverrides.substr(ceramic_Path.normalize(e),1,null).split("/"),s=Math.min(t.length,i.length),r=s,l=0,a=s;l<a;){if(t[c=l++]!=i[c]){r=c;break}}var h=[];for(l=r,a=t.length;l<a;){var c=l++;h.push("..")}var o=(h=h.concat(i.slice(r))).join("/");return StringTools.endsWith(e,"/")&&!StringTools.endsWith(o,"/")&&(o+="/"),StringTools.startsWith(o,".")||(o="./"+o),o},ceramic_Files.copyFileWithIntermediateDirs=function(e,n){ceramic_App.app.logger.warning("copyFileWithIntermediateDirs() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:353,className:"ceramic.Files",methodName:"copyFileWithIntermediateDirs"})},ceramic_Files.copyDirectory=function(e,n,t){null==t&&(t=!1),ceramic_App.app.logger.warning("copyDirectory() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:387,className:"ceramic.Files",methodName:"copyDirectory"})},ceramic_Files.deleteFile=function(e){ceramic_App.app.logger.warning("deleteFile() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:413,className:"ceramic.Files",methodName:"deleteFile"})},ceramic_Files.getContent=function(e){return ceramic_App.app.logger.warning("getContent() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:439,className:"ceramic.Files",methodName:"getContent"}),null},ceramic_Files.getBytes=function(e){return ceramic_App.app.logger.warning("getBytes() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:467,className:"ceramic.Files",methodName:"getBytes"}),null},ceramic_Files.saveContent=function(e,n){ceramic_App.app.logger.warning("saveContent() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:493,className:"ceramic.Files",methodName:"saveContent"})},ceramic_Files.saveBytes=function(e,n){ceramic_App.app.logger.warning("saveBytes() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:519,className:"ceramic.Files",methodName:"saveBytes"})},ceramic_Files.createDirectory=function(e){ceramic_App.app.logger.warning("createDirectory() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:544,className:"ceramic.Files",methodName:"createDirectory"})},ceramic_Files.exists=function(e){return ceramic_App.app.logger.warning("exists() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:596,className:"ceramic.Files",methodName:"exists"}),!1},ceramic_Files.isDirectory=function(e){return ceramic_App.app.logger.warning("isDirectory() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:629,className:"ceramic.Files",methodName:"isDirectory"}),!1};var ceramic_Filter=function(){this.explicitRenderPendingResultCallbacks=null,this.explicitRenderState=0,this.density=-1,this.unobservedRenderTexture=null,this.renderTextureAutoruns=null,this.textureTile=null,this.textureTilePacker=null,this.explicitRender=!1,this.autoRender=!0,this.textureFilter=g.LINEAR,this.enabled=!0,this.hitVisual=null,this.textureId=null,this.observedDirty=!1,ceramic_Layer.call(this),this.transparent=!1,this.content=new ceramic_Quad,this.content.transparent=!0,this.content.color=16777215,this.add(this.content),this.set_hitVisual(this),ceramic_App.app.screen.onTexturesDensityChange(this,$bind(this,this.handleTexturesDensityChange))};t["ceramic.Filter"]=ceramic_Filter,ceramic_Filter.__name__="ceramic.Filter",ceramic_Filter.__interfaces__=[tracker_Observable],ceramic_Filter.__super__=ceramic_Layer,ceramic_Filter.prototype=$extend(ceramic_Layer.prototype,{emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var l=0,a=this.__cbOnObservedDirty.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnObservedDirty[h],++r):--t}if(null!=this.__cbOnceObservedDirty){var c=null,o=null;for(l=0,a=this.__cbOnceObservedDirty.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceObservedDirty[h],this.__cbOnceObservedDirty[h]=null;var u=this.__cbOnceOwnerUnbindObservedDirty[h];this.__cbOnceOwnerUnbindObservedDirty[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindObservedDirty[h]),o.push(this.__cbOnceObservedDirty[h])}this.__cbOnceOwnerUnbindObservedDirty=c,this.__cbOnceObservedDirty=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(n)},onceObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(n)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[s])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[s])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&this.__cbOnObservedDirty.length>0||null!=this.__cbOnceObservedDirty&&this.__cbOnceObservedDirty.length>0},set_textureId:function(e){return this.textureId=e,null!=this.get_renderTexture()&&(this.get_renderTexture().id=e),e},set_hitVisual:function(e){return this.hitVisual==e||(null!=this.hitVisual&&ceramic_App.app.screen.removeHitVisual(this.hitVisual),this.hitVisual=e,null!=this.hitVisual&&ceramic_App.app.screen.addHitVisual(this.hitVisual)),e},set_enabled:function(e){return this.enabled==e||(this.enabled=e,this.transparent=!e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_textureFilter:function(e){return this.textureFilter==e||(this.textureFilter=e,null!=this.get_renderTexture()&&this.get_renderTexture().set_filter(e)),e},set_autoRender:function(e){return this.autoRender==e||(this.autoRender=e,null!=this.get_renderTexture()&&(this.get_renderTexture().autoRender=e)),e},set_explicitRender:function(e){return this.explicitRender==e||(this.explicitRender=e,this.content.set_active(!e)),e},set_textureTilePacker:function(e){return this.textureTilePacker==e||(null!=this.textureTile&&null!=this.textureTilePacker&&(this.textureTilePacker.releaseTile(this.textureTile),this.textureTile=null,this.set_tile(null),this.set_tile(null),this.content.set_renderTarget(null)),this.textureTilePacker=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},get_renderTexture:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.renderTextureAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.renderTextureAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedRenderTexture},set_renderTexture:function(e){var n=this.unobservedRenderTexture;if(this.unobservedRenderTexture=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitRenderTextureChange(e,n);var t=this.renderTextureAutoruns;if(null!=t){this.renderTextureAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateRenderTexture:function(){var e=this.unobservedRenderTexture;this.emitRenderTextureChange(e,e);var n=this.renderTextureAutoruns;if(null!=n){this.renderTextureAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitRenderTextureChange:function(e,n){var t=0;if(null!=this.__cbOnRenderTextureChange&&(t+=this.__cbOnRenderTextureChange.length),null!=this.__cbOnceRenderTextureChange&&(t+=this.__cbOnceRenderTextureChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnRenderTextureChange)for(var l=0,a=this.__cbOnRenderTextureChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnRenderTextureChange[h],++r):--t}if(null!=this.__cbOnceRenderTextureChange){var c=null,o=null;for(l=0,a=this.__cbOnceRenderTextureChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceRenderTextureChange[h],this.__cbOnceRenderTextureChange[h]=null;var u=this.__cbOnceOwnerUnbindRenderTextureChange[h];this.__cbOnceOwnerUnbindRenderTextureChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindRenderTextureChange[h]),o.push(this.__cbOnceRenderTextureChange[h])}this.__cbOnceOwnerUnbindRenderTextureChange=c,this.__cbOnceRenderTextureChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onRenderTextureChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event renderTextureChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offRenderTextureChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindRenderTextureChange&&(this.__cbOnOwnerUnbindRenderTextureChange=[]),this.__cbOnOwnerUnbindRenderTextureChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindRenderTextureChange&&(this.__cbOnOwnerUnbindRenderTextureChange=[]),this.__cbOnOwnerUnbindRenderTextureChange.push(null);null==this.__cbOnRenderTextureChange&&(this.__cbOnRenderTextureChange=[]),this.__cbOnRenderTextureChange.push(n)},onceRenderTextureChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event renderTextureChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offRenderTextureChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindRenderTextureChange&&(this.__cbOnceOwnerUnbindRenderTextureChange=[]),this.__cbOnceOwnerUnbindRenderTextureChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindRenderTextureChange&&(this.__cbOnceOwnerUnbindRenderTextureChange=[]),this.__cbOnceOwnerUnbindRenderTextureChange.push(null);null==this.__cbOnceRenderTextureChange&&(this.__cbOnceRenderTextureChange=[]),this.__cbOnceRenderTextureChange.push(n)},offRenderTextureChange:function(e){if(null!=e){var n;null!=this.__cbOnRenderTextureChange&&-1!=(n=this.__cbOnRenderTextureChange.indexOf(e))&&(this.__cbOnRenderTextureChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindRenderTextureChange[n])&&r(),this.__cbOnOwnerUnbindRenderTextureChange.splice(n,1)),null!=this.__cbOnceRenderTextureChange&&-1!=(n=this.__cbOnceRenderTextureChange.indexOf(e))&&(this.__cbOnceRenderTextureChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindRenderTextureChange[n])&&r(),this.__cbOnceOwnerUnbindRenderTextureChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindRenderTextureChange){for(var t=0,i=this.__cbOnOwnerUnbindRenderTextureChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindRenderTextureChange[s])&&r()}this.__cbOnOwnerUnbindRenderTextureChange=null}if(null!=this.__cbOnceOwnerUnbindRenderTextureChange){for(t=0,i=this.__cbOnceOwnerUnbindRenderTextureChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindRenderTextureChange[s])&&r()}this.__cbOnceOwnerUnbindRenderTextureChange=null}this.__cbOnRenderTextureChange=null,this.__cbOnceRenderTextureChange=null}},listensRenderTextureChange:function(){return null!=this.__cbOnRenderTextureChange&&this.__cbOnRenderTextureChange.length>0||null!=this.__cbOnceRenderTextureChange&&this.__cbOnceRenderTextureChange.length>0},set_density:function(e){return this.density==e||(this.density=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},handleTexturesDensityChange:function(e,n){e!=n&&-1==this.density&&(this.filterSize(Math.ceil(this.get_width()),Math.ceil(this.get_height()),e),this.contentDirty=!1)},filterSize:function(e,n,t){if(this.enabled){if(null==this.get_renderTexture()||(null==this.textureTilePacker||!this.textureTilePacker.managesTexture(this.get_renderTexture()))&&(this.get_renderTexture().width!=e||this.get_renderTexture().height!=n||-1!=t&&this.get_renderTexture().density!=t)||null!=this.textureTilePacker&&!this.textureTilePacker.managesTexture(this.get_renderTexture())||null!=this.textureTile&&(this.textureTile.frameWidth!=e||this.textureTile.frameHeight!=n)){if(null!=this.get_renderTexture()&&(null==this.textureTilePacker||!this.textureTilePacker.managesTexture(this.get_renderTexture()))){var i=null;if(this.texture!=i)if(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.release()),this.texture=i,null==i)this.frameX=-1,this.frameY=-1,-1!=this.frameWidth&&(this.frameWidth=-1),-1!=this.frameHeight&&(this.frameHeight=-1);else if(null!=this.tile){this.frameX=this.tile.frameX,this.frameY=this.tile.frameY;var s=this.tile.frameWidth;this.frameWidth!=s&&(this.frameWidth=s,-1!=s&&this.set_width(s));var r=this.tile.frameHeight;this.frameHeight!=r&&(this.frameHeight=r,-1!=r&&this.set_height(r))}else{this.frameX=0,this.frameY=0;s=i.width;this.frameWidth!=s&&(this.frameWidth=s,-1!=s&&this.set_width(s));r=i.height;this.frameHeight!=r&&(this.frameHeight=r,-1!=r&&this.set_height(r)),i.onDestroy(this,$bind(this,this.textureDestroyed)),null!=i.asset&&i.asset.retain()}this.get_renderTexture().destroy(),this.set_renderTexture(null)}if(null!=this.textureTile&&null!=this.textureTilePacker&&(this.textureTilePacker.releaseTile(this.textureTile),this.textureTile=null),e>0&&n>0)if(null!=this.textureTilePacker)this.set_renderTexture(this.textureTilePacker.texture),this.textureTile=this.textureTilePacker.allocTile(e,n),this.set_tile(this.textureTile);else{this.set_renderTexture(new ceramic_RenderTexture(e,n,t)),this.get_renderTexture().id=this.textureId,this.get_renderTexture().set_filter(this.textureFilter),this.get_renderTexture().autoRender=this.autoRender,this.set_tile(null);i=this.get_renderTexture();if(this.texture!=i)if(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.release()),this.texture=i,null==i)this.frameX=-1,this.frameY=-1,-1!=this.frameWidth&&(this.frameWidth=-1),-1!=this.frameHeight&&(this.frameHeight=-1);else if(null!=this.tile){this.frameX=this.tile.frameX,this.frameY=this.tile.frameY;s=this.tile.frameWidth;this.frameWidth!=s&&(this.frameWidth=s,-1!=s&&this.set_width(s));r=this.tile.frameHeight;this.frameHeight!=r&&(this.frameHeight=r,-1!=r&&this.set_height(r))}else{this.frameX=0,this.frameY=0;s=i.width;this.frameWidth!=s&&(this.frameWidth=s,-1!=s&&this.set_width(s));r=i.height;this.frameHeight!=r&&(this.frameHeight=r,-1!=r&&this.set_height(r)),i.onDestroy(this,$bind(this,this.textureDestroyed)),null!=i.asset&&i.asset.retain()}}}}else if(null!=this.get_renderTexture()&&(null==this.textureTilePacker||!this.textureTilePacker.managesTexture(this.get_renderTexture()))){this.set_tile(null);i=null;if(this.texture!=i)if(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.release()),this.texture=i,null==i)this.frameX=-1,this.frameY=-1,-1!=this.frameWidth&&(this.frameWidth=-1),-1!=this.frameHeight&&(this.frameHeight=-1);else if(null!=this.tile){this.frameX=this.tile.frameX,this.frameY=this.tile.frameY;s=this.tile.frameWidth;this.frameWidth!=s&&(this.frameWidth=s,-1!=s&&this.set_width(s));r=this.tile.frameHeight;this.frameHeight!=r&&(this.frameHeight=r,-1!=r&&this.set_height(r))}else{this.frameX=0,this.frameY=0;s=i.width;this.frameWidth!=s&&(this.frameWidth=s,-1!=s&&this.set_width(s));r=i.height;this.frameHeight!=r&&(this.frameHeight=r,-1!=r&&this.set_height(r)),i.onDestroy(this,$bind(this,this.textureDestroyed)),null!=i.asset&&i.asset.retain()}this.get_renderTexture().destroy(),this.set_renderTexture(null)}if((l=this.content).set_width(e),l.set_height(n),this.content.set_renderTarget(this.get_renderTexture()),null!=this.textureTile){var l=this.content,a=this.textureTile.frameY;l.set_x(this.textureTile.frameX),l.set_y(a)}else{(l=this.content).set_x(0),l.set_y(0)}this.content.contentDirty&&this.content.computeContent()},render:function(e,n){null==e&&(e=!1);var t=this;if(this.explicitRender)if(1!=this.explicitRenderState)if(2!=this.explicitRenderState)if(this.explicitRenderState=1,this.contentDirty&&this.computeContent(),null!=this.get_renderTexture()){if(this.content.set_active(!0),e){var i=ceramic_App.app;i.inUpdate&&(i.shouldUpdateAndDrawAgain=!0)}ceramic_App.app.onceUpdate(null,(function(e){if(t._lifecycleState<0)n=null;else if(t.explicitRenderState=2,t.contentDirty&&t.computeContent(),null!=t.get_renderTexture())t.get_renderTexture().renderDirty=!0,ceramic_App.app.onceFinishDraw(null,(function(){if(t._lifecycleState<0)n=null;else{t.content.set_active(!1),t.explicitRenderState=0;var e=t.explicitRenderPendingResultCallbacks;if(t.explicitRenderPendingResultCallbacks=null,null!=n&&(n(),n=null),null!=e)for(var i=0,s=e.length;i<s;){var r=i++,l=e[r];e[r]=null,l(),l=null}}}));else{t.content.set_active(!1),t.explicitRenderState=0;var i=t.explicitRenderPendingResultCallbacks;if(t.explicitRenderPendingResultCallbacks=null,null!=n&&(n(),n=null),null!=i)for(var s=0,r=i.length;s<r;){var l=s++,a=i[l];i[l]=null,a(),a=null}}}))}else{this.explicitRenderState=0;var s=this.explicitRenderPendingResultCallbacks;if(this.explicitRenderPendingResultCallbacks=null,null!=n&&(n(),n=null),null!=s)for(var r=0,l=s.length;r<l;){var a=r++,h=s[a];s[a]=null,h(),h=null}}else null!=n&&(null==this.explicitRenderPendingResultCallbacks&&(this.explicitRenderPendingResultCallbacks=[]),this.explicitRenderPendingResultCallbacks.push((function(){t.render(e,n),n=null})));else null!=n&&(null==this.explicitRenderPendingResultCallbacks&&(this.explicitRenderPendingResultCallbacks=[]),this.explicitRenderPendingResultCallbacks.push(n),n=null);else ceramic_App.app.logger.warning("Explicit render is disabled on this filter. Ignoring render() call.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Filter.hx",lineNumber:244,className:"ceramic.Filter",methodName:"render"})},visualInContentHits:function(e,n,t){var i=ceramic_Screen.matchedHitVisual;if(ceramic_Screen.matchedHitVisual=null,this.hitVisual.hits(n,t)){ceramic_Screen.matchedHitVisual=i,e.matrixDirty&&e.computeMatrix(),(u=ceramic_Filter._matrix).a=e.matA,u.b=e.matB,u.c=e.matC,u.d=e.matD,u.tx=e.matTX,u.ty=e.matTY,u.changedDirty=!0;for(var s=this.hitVisual;;){s.matrixDirty&&s.computeMatrix();var r=ceramic_Filter._matrix.a*s.matA+ceramic_Filter._matrix.b*s.matC;ceramic_Filter._matrix.b=ceramic_Filter._matrix.a*s.matB+ceramic_Filter._matrix.b*s.matD,ceramic_Filter._matrix.a=r;var l=ceramic_Filter._matrix.c*s.matA+ceramic_Filter._matrix.d*s.matC;ceramic_Filter._matrix.d=ceramic_Filter._matrix.c*s.matB+ceramic_Filter._matrix.d*s.matD,ceramic_Filter._matrix.c=l;var a=ceramic_Filter._matrix.tx*s.matA+ceramic_Filter._matrix.ty*s.matC+s.matTX;if(ceramic_Filter._matrix.ty=ceramic_Filter._matrix.tx*s.matB+ceramic_Filter._matrix.ty*s.matD+s.matTY,ceramic_Filter._matrix.tx=a,null!=s.computedRenderTarget){var h=!1,c=s.parent;if(null!=c)for(;;){if(null!=c.asQuad&&c instanceof ceramic_Filter){var o=c;if(o.get_renderTexture()==s.computedRenderTarget){s=o.hitVisual,h=!0;break}}if(null==(c=c.parent))break}if(!h)return!1}else s=null;if(null==s)break}var u,_=(u=ceramic_Filter._matrix).a*u.d-u.b*u.c;if(0==_)u.a=u.b=u.c=u.d=0,u.tx=-u.tx,u.ty=-u.ty;else{_=1/_;r=u.d*_;u.d=u.a*_,u.a=r,u.b*=-_,u.c*=-_;a=-u.a*u.tx-u.c*u.ty;u.ty=-u.b*u.tx-u.d*u.ty,u.tx=a}return u.changedDirty=!0,e.hitTest(n,t,ceramic_Filter._matrix)}return ceramic_Screen.matchedHitVisual=i,!1},set_width:function(e){return this.get_width()==e?e:(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,ceramic_Layer.prototype.set_width.call(this,e))},set_height:function(e){return this.get_height()==e?e:(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,ceramic_Layer.prototype.set_height.call(this,e))},computeContent:function(){this.filterSize(Math.ceil(this.get_width()),Math.ceil(this.get_height()),this.density),this.contentDirty=!1},destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this.set_hitVisual(null);var e=null;if(this.texture!=e)null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.release()),this.texture=e,this.frameX=-1,this.frameY=-1,-1!=this.frameWidth&&(this.frameWidth=-1),-1!=this.frameHeight&&(this.frameHeight=-1);null==this.get_renderTexture()||null!=this.textureTilePacker&&this.textureTilePacker.managesTexture(this.get_renderTexture())||(this.get_renderTexture().destroy(),this.set_renderTexture(null)),this.set_textureTilePacker(null),this.set_renderTexture(null),this.explicitRenderPendingResultCallbacks=null,this.content=null,this._lifecycleState=-1,ceramic_Layer.prototype.destroy.call(this)}},unbindEvents:function(){ceramic_Layer.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offRenderTextureChange()},__class__:ceramic_Filter,__properties__:$extend(ceramic_Layer.prototype.__properties__,{set_density:"set_density",set_renderTexture:"set_renderTexture",get_renderTexture:"get_renderTexture",set_textureTilePacker:"set_textureTilePacker",set_explicitRender:"set_explicitRender",set_autoRender:"set_autoRender",set_textureFilter:"set_textureFilter",set_enabled:"set_enabled",set_hitVisual:"set_hitVisual",set_textureId:"set_textureId"})});var ceramic_FontAsset=function(e,n){this.unobservedFont=null,this.fontAutoruns=null,this.pages=null,this.fontData=null,ceramic_Asset.call(this,"font",e,n),this.set_handleTexturesDensityChange(!0),this.assets=new ceramic_Assets};t["ceramic.FontAsset"]=ceramic_FontAsset,ceramic_FontAsset.__name__="ceramic.FontAsset",ceramic_FontAsset.__super__=ceramic_Asset,ceramic_FontAsset.prototype=$extend(ceramic_Asset.prototype,{emitReplaceFont:function(e,n){var t=0;if(null!=this.__cbOnReplaceFont&&(t+=this.__cbOnReplaceFont.length),null!=this.__cbOnceReplaceFont&&(t+=this.__cbOnceReplaceFont.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnReplaceFont)for(var l=0,a=this.__cbOnReplaceFont.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnReplaceFont[h],++r):--t}if(null!=this.__cbOnceReplaceFont){var c=null,o=null;for(l=0,a=this.__cbOnceReplaceFont.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceReplaceFont[h],this.__cbOnceReplaceFont[h]=null;var u=this.__cbOnceOwnerUnbindReplaceFont[h];this.__cbOnceOwnerUnbindReplaceFont[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindReplaceFont[h]),o.push(this.__cbOnceReplaceFont[h])}this.__cbOnceOwnerUnbindReplaceFont=c,this.__cbOnceReplaceFont=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onReplaceFont:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceFont because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceFont(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReplaceFont&&(this.__cbOnOwnerUnbindReplaceFont=[]),this.__cbOnOwnerUnbindReplaceFont.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReplaceFont&&(this.__cbOnOwnerUnbindReplaceFont=[]),this.__cbOnOwnerUnbindReplaceFont.push(null);null==this.__cbOnReplaceFont&&(this.__cbOnReplaceFont=[]),this.__cbOnReplaceFont.push(n)},onceReplaceFont:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceFont because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceFont(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReplaceFont&&(this.__cbOnceOwnerUnbindReplaceFont=[]),this.__cbOnceOwnerUnbindReplaceFont.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReplaceFont&&(this.__cbOnceOwnerUnbindReplaceFont=[]),this.__cbOnceOwnerUnbindReplaceFont.push(null);null==this.__cbOnceReplaceFont&&(this.__cbOnceReplaceFont=[]),this.__cbOnceReplaceFont.push(n)},offReplaceFont:function(e){if(null!=e){var n;null!=this.__cbOnReplaceFont&&-1!=(n=this.__cbOnReplaceFont.indexOf(e))&&(this.__cbOnReplaceFont.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReplaceFont[n])&&r(),this.__cbOnOwnerUnbindReplaceFont.splice(n,1)),null!=this.__cbOnceReplaceFont&&-1!=(n=this.__cbOnceReplaceFont.indexOf(e))&&(this.__cbOnceReplaceFont.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReplaceFont[n])&&r(),this.__cbOnceOwnerUnbindReplaceFont.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceFont){for(var t=0,i=this.__cbOnOwnerUnbindReplaceFont.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindReplaceFont[s])&&r()}this.__cbOnOwnerUnbindReplaceFont=null}if(null!=this.__cbOnceOwnerUnbindReplaceFont){for(t=0,i=this.__cbOnceOwnerUnbindReplaceFont.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindReplaceFont[s])&&r()}this.__cbOnceOwnerUnbindReplaceFont=null}this.__cbOnReplaceFont=null,this.__cbOnceReplaceFont=null}},listensReplaceFont:function(){return null!=this.__cbOnReplaceFont&&this.__cbOnReplaceFont.length>0||null!=this.__cbOnceReplaceFont&&this.__cbOnceReplaceFont.length>0},get_font:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.fontAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.fontAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedFont},set_font:function(e){var n=this.unobservedFont;if(this.unobservedFont=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFontChange(e,n);var t=this.fontAutoruns;if(null!=t){this.fontAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateFont:function(){var e=this.unobservedFont;this.emitFontChange(e,e);var n=this.fontAutoruns;if(null!=n){this.fontAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitFontChange:function(e,n){var t=0;if(null!=this.__cbOnFontChange&&(t+=this.__cbOnFontChange.length),null!=this.__cbOnceFontChange&&(t+=this.__cbOnceFontChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnFontChange)for(var l=0,a=this.__cbOnFontChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnFontChange[h],++r):--t}if(null!=this.__cbOnceFontChange){var c=null,o=null;for(l=0,a=this.__cbOnceFontChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceFontChange[h],this.__cbOnceFontChange[h]=null;var u=this.__cbOnceOwnerUnbindFontChange[h];this.__cbOnceOwnerUnbindFontChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindFontChange[h]),o.push(this.__cbOnceFontChange[h])}this.__cbOnceOwnerUnbindFontChange=c,this.__cbOnceFontChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onFontChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event fontChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFontChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFontChange&&(this.__cbOnOwnerUnbindFontChange=[]),this.__cbOnOwnerUnbindFontChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFontChange&&(this.__cbOnOwnerUnbindFontChange=[]),this.__cbOnOwnerUnbindFontChange.push(null);null==this.__cbOnFontChange&&(this.__cbOnFontChange=[]),this.__cbOnFontChange.push(n)},onceFontChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event fontChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFontChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFontChange&&(this.__cbOnceOwnerUnbindFontChange=[]),this.__cbOnceOwnerUnbindFontChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFontChange&&(this.__cbOnceOwnerUnbindFontChange=[]),this.__cbOnceOwnerUnbindFontChange.push(null);null==this.__cbOnceFontChange&&(this.__cbOnceFontChange=[]),this.__cbOnceFontChange.push(n)},offFontChange:function(e){if(null!=e){var n;null!=this.__cbOnFontChange&&-1!=(n=this.__cbOnFontChange.indexOf(e))&&(this.__cbOnFontChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFontChange[n])&&r(),this.__cbOnOwnerUnbindFontChange.splice(n,1)),null!=this.__cbOnceFontChange&&-1!=(n=this.__cbOnceFontChange.indexOf(e))&&(this.__cbOnceFontChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFontChange[n])&&r(),this.__cbOnceOwnerUnbindFontChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFontChange){for(var t=0,i=this.__cbOnOwnerUnbindFontChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFontChange[s])&&r()}this.__cbOnOwnerUnbindFontChange=null}if(null!=this.__cbOnceOwnerUnbindFontChange){for(t=0,i=this.__cbOnceOwnerUnbindFontChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFontChange[s])&&r()}this.__cbOnceOwnerUnbindFontChange=null}this.__cbOnFontChange=null,this.__cbOnceFontChange=null}},listensFontChange:function(){return null!=this.__cbOnFontChange&&this.__cbOnFontChange.length>0||null!=this.__cbOnceFontChange&&this.__cbOnceFontChange.length>0},load:function(){var e=this;null!=this.owner&&(this.assets.inheritRuntimeAssetsFromAssets(this.owner),this.assets.loadMethod=this.owner.loadMethod,this.assets.scheduleMethod=this.owner.scheduleMethod,this.assets.delayBetweenXAssets=this.owner.delayBetweenXAssets);for(var n=[],t=this.assets.iterator();t.hasNext();){var i=t.next();n.push(i)}if(this.set_status(a.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load font asset if path is undefined.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:49,className:"ceramic.FontAsset",methodName:"load"}),this.set_status(a.BROKEN),void this.emitComplete(!1);ceramic_App.app.logger.info("Load font "+this.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:55,className:"ceramic.FontAsset",methodName:"load"}),this.assets.runtimeAssets=this.runtimeAssets,(t=new ceramic_TextAsset(this.name)).set_handleTexturesDensityChange(!1),t.set_path(this.path),this.assets.addAsset(t),this.assets.onceComplete(this,(function(i){var s=t.get_text();if(null!=s)try{e.fontData=ceramic_BitmapFontParser.parse(s);for(var r=new haxe_ds_StringMap,l=[],h=0,c=e.fontData.pages;h<c.length;){var o=c[h];++h;var u=ceramic_Assets.decodePath(o.file),_=new ceramic_ImageAsset(u.name);_.set_handleTexturesDensityChange(!1),_.set_path(u.path),e.assets.addAsset(_),l.push(_)}e.assets.onceComplete(e,(function(t){if(t){for(var i=0;i<l.length;){var s=l[i];++i;var h=s.path,c=s.get_texture();r.h[h]=c}var o=e.get_font(),u=new ceramic_BitmapFont(e.fontData,r);if(u.id="font:"+e.path,u.asset=e,e.set_font(u),null!=o){e.emitReplaceFont(e.get_font(),o),o==ceramic_App.app.defaultFont&&(ceramic_App.app.defaultFont=e.get_font());i=0;for(var _=[].concat(ceramic_App.app.visuals);i<_.length;){var d=_[i];if(++i,d._lifecycleState>=0&&d instanceof ceramic_Text){var b=d;b.font==o&&b.set_font(e.get_font())}}o.asset=null,o.destroy()}for(i=0;i<n.length;){s=n[i];if(++i,s instanceof ceramic_ImageAsset){var f=s;-1==l.indexOf(f)&&s.destroy()}else s.destroy()}e.set_status(a.READY),e.emitComplete(!0),e.handleTexturesDensityChange&&e.checkTexturesDensity()}else e.set_status(a.BROKEN),ceramic_App.app.logger.error("Failed to load textures for font at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:161,className:"ceramic.FontAsset",methodName:"load"}),e.emitComplete(!1)})),e.assets.load(null,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:167,className:"ceramic.FontAsset",methodName:"load"})}catch(h){e.set_status(a.BROKEN),ceramic_App.app.logger.error("Failed to decode font data at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:171,className:"ceramic.FontAsset",methodName:"load"}),e.emitComplete(!1)}else e.set_status(a.BROKEN),ceramic_App.app.logger.error("Failed to load font data at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:177,className:"ceramic.FontAsset",methodName:"load"}),e.emitComplete(!1)})),this.assets.load(null,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:182,className:"ceramic.FontAsset",methodName:"load"})},texturesDensityDidChange:function(e,n){this.get_status()==a.READY&&this.checkTexturesDensity()},checkTexturesDensity:function(){var e=this.path;this.computePath(),e!=this.path&&(ceramic_App.app.logger.info("Reload font ("+e+" -> "+this.path+")",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:203,className:"ceramic.FontAsset",methodName:"checkTexturesDensity"}),this.load())},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload font (file has changed)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:224,className:"ceramic.FontAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){if(!(this._lifecycleState<=-2)&&(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),null!=this.get_font()&&(this.get_font().destroy(),this.set_font(null)),null!=this.pages)){for(var e=this.pages.h,n=Object.keys(e),t=n.length,i=0;i<t;){var s=n[i++];this.pages.h[s].destroy()}this.pages=null}},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offReplaceFont(),this.offFontChange()},__class__:ceramic_FontAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_font:"set_font",get_font:"get_font"})});var ceramic_Value=function(e){null!=e&&(this.value=e)};t["ceramic.Value"]=ceramic_Value,ceramic_Value.__name__="ceramic.Value",ceramic_Value.prototype={__class__:ceramic_Value};var ceramic_Fragment=function(e,n){null==n&&(n=!1),this.fragmentComponents=null,this.timeline=null,this.pendingLoads=0,this.floatD=0,this.floatC=0,this.floatB=0,this.floatA=0,this.autoUpdateTimeline=!0,this.resizable=!1,this.fragmentData=null,this.fps=30,this.assets=null,this.editedItems=!1,ceramic_Layer.call(this),this.editedItems=n,this.assets=e,this.entities=[],this.items=[]};t["ceramic.Fragment"]=ceramic_Fragment,ceramic_Fragment.__name__="ceramic.Fragment",ceramic_Fragment.cacheData=function(e){ceramic_Fragment.cachedFragmentData.h[e.id]=e},ceramic_Fragment.getData=function(e){return ceramic_Fragment.cachedFragmentData.h[e]},ceramic_Fragment.__super__=ceramic_Layer,ceramic_Fragment.prototype=$extend(ceramic_Layer.prototype,{emitFloatAChange:function(e,n){var t=0;if(null!=this.__cbOnFloatAChange&&(t+=this.__cbOnFloatAChange.length),null!=this.__cbOnceFloatAChange&&(t+=this.__cbOnceFloatAChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnFloatAChange)for(var l=0,a=this.__cbOnFloatAChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnFloatAChange[h],++r):--t}if(null!=this.__cbOnceFloatAChange){var c=null,o=null;for(l=0,a=this.__cbOnceFloatAChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceFloatAChange[h],this.__cbOnceFloatAChange[h]=null;var u=this.__cbOnceOwnerUnbindFloatAChange[h];this.__cbOnceOwnerUnbindFloatAChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindFloatAChange[h]),o.push(this.__cbOnceFloatAChange[h])}this.__cbOnceOwnerUnbindFloatAChange=c,this.__cbOnceFloatAChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onFloatAChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatAChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatAChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFloatAChange&&(this.__cbOnOwnerUnbindFloatAChange=[]),this.__cbOnOwnerUnbindFloatAChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFloatAChange&&(this.__cbOnOwnerUnbindFloatAChange=[]),this.__cbOnOwnerUnbindFloatAChange.push(null);null==this.__cbOnFloatAChange&&(this.__cbOnFloatAChange=[]),this.__cbOnFloatAChange.push(n)},onceFloatAChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatAChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatAChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFloatAChange&&(this.__cbOnceOwnerUnbindFloatAChange=[]),this.__cbOnceOwnerUnbindFloatAChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFloatAChange&&(this.__cbOnceOwnerUnbindFloatAChange=[]),this.__cbOnceOwnerUnbindFloatAChange.push(null);null==this.__cbOnceFloatAChange&&(this.__cbOnceFloatAChange=[]),this.__cbOnceFloatAChange.push(n)},offFloatAChange:function(e){if(null!=e){var n;null!=this.__cbOnFloatAChange&&-1!=(n=this.__cbOnFloatAChange.indexOf(e))&&(this.__cbOnFloatAChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFloatAChange[n])&&r(),this.__cbOnOwnerUnbindFloatAChange.splice(n,1)),null!=this.__cbOnceFloatAChange&&-1!=(n=this.__cbOnceFloatAChange.indexOf(e))&&(this.__cbOnceFloatAChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFloatAChange[n])&&r(),this.__cbOnceOwnerUnbindFloatAChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFloatAChange){for(var t=0,i=this.__cbOnOwnerUnbindFloatAChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFloatAChange[s])&&r()}this.__cbOnOwnerUnbindFloatAChange=null}if(null!=this.__cbOnceOwnerUnbindFloatAChange){for(t=0,i=this.__cbOnceOwnerUnbindFloatAChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFloatAChange[s])&&r()}this.__cbOnceOwnerUnbindFloatAChange=null}this.__cbOnFloatAChange=null,this.__cbOnceFloatAChange=null}},listensFloatAChange:function(){return null!=this.__cbOnFloatAChange&&this.__cbOnFloatAChange.length>0||null!=this.__cbOnceFloatAChange&&this.__cbOnceFloatAChange.length>0},emitFloatBChange:function(e,n){var t=0;if(null!=this.__cbOnFloatBChange&&(t+=this.__cbOnFloatBChange.length),null!=this.__cbOnceFloatBChange&&(t+=this.__cbOnceFloatBChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnFloatBChange)for(var l=0,a=this.__cbOnFloatBChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnFloatBChange[h],++r):--t}if(null!=this.__cbOnceFloatBChange){var c=null,o=null;for(l=0,a=this.__cbOnceFloatBChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceFloatBChange[h],this.__cbOnceFloatBChange[h]=null;var u=this.__cbOnceOwnerUnbindFloatBChange[h];this.__cbOnceOwnerUnbindFloatBChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindFloatBChange[h]),o.push(this.__cbOnceFloatBChange[h])}this.__cbOnceOwnerUnbindFloatBChange=c,this.__cbOnceFloatBChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onFloatBChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatBChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatBChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFloatBChange&&(this.__cbOnOwnerUnbindFloatBChange=[]),this.__cbOnOwnerUnbindFloatBChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFloatBChange&&(this.__cbOnOwnerUnbindFloatBChange=[]),this.__cbOnOwnerUnbindFloatBChange.push(null);null==this.__cbOnFloatBChange&&(this.__cbOnFloatBChange=[]),this.__cbOnFloatBChange.push(n)},onceFloatBChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatBChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatBChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFloatBChange&&(this.__cbOnceOwnerUnbindFloatBChange=[]),this.__cbOnceOwnerUnbindFloatBChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFloatBChange&&(this.__cbOnceOwnerUnbindFloatBChange=[]),this.__cbOnceOwnerUnbindFloatBChange.push(null);null==this.__cbOnceFloatBChange&&(this.__cbOnceFloatBChange=[]),this.__cbOnceFloatBChange.push(n)},offFloatBChange:function(e){if(null!=e){var n;null!=this.__cbOnFloatBChange&&-1!=(n=this.__cbOnFloatBChange.indexOf(e))&&(this.__cbOnFloatBChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFloatBChange[n])&&r(),this.__cbOnOwnerUnbindFloatBChange.splice(n,1)),null!=this.__cbOnceFloatBChange&&-1!=(n=this.__cbOnceFloatBChange.indexOf(e))&&(this.__cbOnceFloatBChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFloatBChange[n])&&r(),this.__cbOnceOwnerUnbindFloatBChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFloatBChange){for(var t=0,i=this.__cbOnOwnerUnbindFloatBChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFloatBChange[s])&&r()}this.__cbOnOwnerUnbindFloatBChange=null}if(null!=this.__cbOnceOwnerUnbindFloatBChange){for(t=0,i=this.__cbOnceOwnerUnbindFloatBChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFloatBChange[s])&&r()}this.__cbOnceOwnerUnbindFloatBChange=null}this.__cbOnFloatBChange=null,this.__cbOnceFloatBChange=null}},listensFloatBChange:function(){return null!=this.__cbOnFloatBChange&&this.__cbOnFloatBChange.length>0||null!=this.__cbOnceFloatBChange&&this.__cbOnceFloatBChange.length>0},emitFloatCChange:function(e,n){var t=0;if(null!=this.__cbOnFloatCChange&&(t+=this.__cbOnFloatCChange.length),null!=this.__cbOnceFloatCChange&&(t+=this.__cbOnceFloatCChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnFloatCChange)for(var l=0,a=this.__cbOnFloatCChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnFloatCChange[h],++r):--t}if(null!=this.__cbOnceFloatCChange){var c=null,o=null;for(l=0,a=this.__cbOnceFloatCChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceFloatCChange[h],this.__cbOnceFloatCChange[h]=null;var u=this.__cbOnceOwnerUnbindFloatCChange[h];this.__cbOnceOwnerUnbindFloatCChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindFloatCChange[h]),o.push(this.__cbOnceFloatCChange[h])}this.__cbOnceOwnerUnbindFloatCChange=c,this.__cbOnceFloatCChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onFloatCChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatCChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatCChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFloatCChange&&(this.__cbOnOwnerUnbindFloatCChange=[]),this.__cbOnOwnerUnbindFloatCChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFloatCChange&&(this.__cbOnOwnerUnbindFloatCChange=[]),this.__cbOnOwnerUnbindFloatCChange.push(null);null==this.__cbOnFloatCChange&&(this.__cbOnFloatCChange=[]),this.__cbOnFloatCChange.push(n)},onceFloatCChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatCChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatCChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFloatCChange&&(this.__cbOnceOwnerUnbindFloatCChange=[]),this.__cbOnceOwnerUnbindFloatCChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFloatCChange&&(this.__cbOnceOwnerUnbindFloatCChange=[]),this.__cbOnceOwnerUnbindFloatCChange.push(null);null==this.__cbOnceFloatCChange&&(this.__cbOnceFloatCChange=[]),this.__cbOnceFloatCChange.push(n)},offFloatCChange:function(e){if(null!=e){var n;null!=this.__cbOnFloatCChange&&-1!=(n=this.__cbOnFloatCChange.indexOf(e))&&(this.__cbOnFloatCChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFloatCChange[n])&&r(),this.__cbOnOwnerUnbindFloatCChange.splice(n,1)),null!=this.__cbOnceFloatCChange&&-1!=(n=this.__cbOnceFloatCChange.indexOf(e))&&(this.__cbOnceFloatCChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFloatCChange[n])&&r(),this.__cbOnceOwnerUnbindFloatCChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFloatCChange){for(var t=0,i=this.__cbOnOwnerUnbindFloatCChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFloatCChange[s])&&r()}this.__cbOnOwnerUnbindFloatCChange=null}if(null!=this.__cbOnceOwnerUnbindFloatCChange){for(t=0,i=this.__cbOnceOwnerUnbindFloatCChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFloatCChange[s])&&r()}this.__cbOnceOwnerUnbindFloatCChange=null}this.__cbOnFloatCChange=null,this.__cbOnceFloatCChange=null}},listensFloatCChange:function(){return null!=this.__cbOnFloatCChange&&this.__cbOnFloatCChange.length>0||null!=this.__cbOnceFloatCChange&&this.__cbOnceFloatCChange.length>0},emitFloatDChange:function(e,n){var t=0;if(null!=this.__cbOnFloatDChange&&(t+=this.__cbOnFloatDChange.length),null!=this.__cbOnceFloatDChange&&(t+=this.__cbOnceFloatDChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnFloatDChange)for(var l=0,a=this.__cbOnFloatDChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnFloatDChange[h],++r):--t}if(null!=this.__cbOnceFloatDChange){var c=null,o=null;for(l=0,a=this.__cbOnceFloatDChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceFloatDChange[h],this.__cbOnceFloatDChange[h]=null;var u=this.__cbOnceOwnerUnbindFloatDChange[h];this.__cbOnceOwnerUnbindFloatDChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindFloatDChange[h]),o.push(this.__cbOnceFloatDChange[h])}this.__cbOnceOwnerUnbindFloatDChange=c,this.__cbOnceFloatDChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onFloatDChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatDChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatDChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFloatDChange&&(this.__cbOnOwnerUnbindFloatDChange=[]),this.__cbOnOwnerUnbindFloatDChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFloatDChange&&(this.__cbOnOwnerUnbindFloatDChange=[]),this.__cbOnOwnerUnbindFloatDChange.push(null);null==this.__cbOnFloatDChange&&(this.__cbOnFloatDChange=[]),this.__cbOnFloatDChange.push(n)},onceFloatDChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatDChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatDChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFloatDChange&&(this.__cbOnceOwnerUnbindFloatDChange=[]),this.__cbOnceOwnerUnbindFloatDChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFloatDChange&&(this.__cbOnceOwnerUnbindFloatDChange=[]),this.__cbOnceOwnerUnbindFloatDChange.push(null);null==this.__cbOnceFloatDChange&&(this.__cbOnceFloatDChange=[]),this.__cbOnceFloatDChange.push(n)},offFloatDChange:function(e){if(null!=e){var n;null!=this.__cbOnFloatDChange&&-1!=(n=this.__cbOnFloatDChange.indexOf(e))&&(this.__cbOnFloatDChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFloatDChange[n])&&r(),this.__cbOnOwnerUnbindFloatDChange.splice(n,1)),null!=this.__cbOnceFloatDChange&&-1!=(n=this.__cbOnceFloatDChange.indexOf(e))&&(this.__cbOnceFloatDChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFloatDChange[n])&&r(),this.__cbOnceOwnerUnbindFloatDChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFloatDChange){for(var t=0,i=this.__cbOnOwnerUnbindFloatDChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFloatDChange[s])&&r()}this.__cbOnOwnerUnbindFloatDChange=null}if(null!=this.__cbOnceOwnerUnbindFloatDChange){for(t=0,i=this.__cbOnceOwnerUnbindFloatDChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFloatDChange[s])&&r()}this.__cbOnceOwnerUnbindFloatDChange=null}this.__cbOnFloatDChange=null,this.__cbOnceFloatDChange=null}},listensFloatDChange:function(){return null!=this.__cbOnFloatDChange&&this.__cbOnFloatDChange.length>0||null!=this.__cbOnceFloatDChange&&this.__cbOnceFloatDChange.length>0},emitLocation:function(e){var n=0;if(null!=this.__cbOnLocation&&(n+=this.__cbOnLocation.length),null!=this.__cbOnceLocation&&(n+=this.__cbOnceLocation.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnLocation)for(var r=0,l=this.__cbOnLocation.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnLocation[a],++s):--n}if(null!=this.__cbOnceLocation){var h=null,c=null;for(r=0,l=this.__cbOnceLocation.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceLocation[a],this.__cbOnceLocation[a]=null;var o=this.__cbOnceOwnerUnbindLocation[a];this.__cbOnceOwnerUnbindLocation[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindLocation[a]),c.push(this.__cbOnceLocation[a])}this.__cbOnceOwnerUnbindLocation=h,this.__cbOnceLocation=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onLocation:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event location because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offLocation(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindLocation&&(this.__cbOnOwnerUnbindLocation=[]),this.__cbOnOwnerUnbindLocation.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindLocation&&(this.__cbOnOwnerUnbindLocation=[]),this.__cbOnOwnerUnbindLocation.push(null);null==this.__cbOnLocation&&(this.__cbOnLocation=[]),this.__cbOnLocation.push(n)},onceLocation:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event location because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offLocation(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindLocation&&(this.__cbOnceOwnerUnbindLocation=[]),this.__cbOnceOwnerUnbindLocation.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindLocation&&(this.__cbOnceOwnerUnbindLocation=[]),this.__cbOnceOwnerUnbindLocation.push(null);null==this.__cbOnceLocation&&(this.__cbOnceLocation=[]),this.__cbOnceLocation.push(n)},offLocation:function(e){if(null!=e){var n;null!=this.__cbOnLocation&&-1!=(n=this.__cbOnLocation.indexOf(e))&&(this.__cbOnLocation.splice(n,1),null!=(r=this.__cbOnOwnerUnbindLocation[n])&&r(),this.__cbOnOwnerUnbindLocation.splice(n,1)),null!=this.__cbOnceLocation&&-1!=(n=this.__cbOnceLocation.indexOf(e))&&(this.__cbOnceLocation.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindLocation[n])&&r(),this.__cbOnceOwnerUnbindLocation.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLocation){for(var t=0,i=this.__cbOnOwnerUnbindLocation.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindLocation[s])&&r()}this.__cbOnOwnerUnbindLocation=null}if(null!=this.__cbOnceOwnerUnbindLocation){for(t=0,i=this.__cbOnceOwnerUnbindLocation.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindLocation[s])&&r()}this.__cbOnceOwnerUnbindLocation=null}this.__cbOnLocation=null,this.__cbOnceLocation=null}},listensLocation:function(){return null!=this.__cbOnLocation&&this.__cbOnLocation.length>0||null!=this.__cbOnceLocation&&this.__cbOnceLocation.length>0},set_autoUpdateTimeline:function(e){return this.autoUpdateTimeline!=e&&(this.autoUpdateTimeline=e,null!=this.timeline&&this.timeline.set_autoUpdate(e)),e},set_floatA:function(e){if(this.floatA!=e){var n=this.floatA;this.floatA=e,this.emitFloatAChange(e,n)}return e},set_floatB:function(e){if(this.floatB!=e){var n=this.floatB;this.floatB=e,this.emitFloatBChange(e,n)}return e},set_floatC:function(e){if(this.floatC!=e){var n=this.floatC;this.floatC=e,this.emitFloatCChange(e,n)}return e},set_floatD:function(e){if(this.floatD!=e){var n=this.floatD;this.floatD=e,this.emitFloatDChange(e,n)}return e},emitReady:function(){var e=0;if(null!=this.__cbOnReady&&(e+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(e+=this.__cbOnceReady.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReady)for(var s=0,r=this.__cbOnReady.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnReady[l],++i):--e}if(null!=this.__cbOnceReady){var a=null,h=null;for(s=0,r=this.__cbOnceReady.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceReady[l],this.__cbOnceReady[l]=null;var c=this.__cbOnceOwnerUnbindReady[l];this.__cbOnceOwnerUnbindReady[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindReady[l]),h.push(this.__cbOnceReady[l])}this.__cbOnceOwnerUnbindReady=a,this.__cbOnceReady=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onReady:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event ready because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReady(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(n)},onceReady:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event ready because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReady(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(n)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReady[n])&&r(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReady[n])&&r(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindReady[s])&&r()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindReady[s])&&r()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&this.__cbOnReady.length>0||null!=this.__cbOnceReady&&this.__cbOnceReady.length>0},set_fragmentData:function(e){var n=this;this.pendingLoads++,this.fragmentData=e;var t=Object.create(null);if(null!=e&&(this.set_width(e.width),this.set_height(e.height),null!=e.color?this.color=e.color:this.color=0,null!=e.transparent?this.transparent=e.transparent:this.transparent=!0,null!=e.items))for(var i=0,s=e.items;i<s.length;){var r=s[i];++i,this.putItem(r),t[r.id]=!0}if(null==e||Object.prototype.hasOwnProperty.call(e,"items")){var l=null;for(i=0,s=this.entities;i<s.length;){var a=s[i];++i,Object.prototype.hasOwnProperty.call(t,a.id)||(null==l&&(l=[]),l.push(a.id))}if(null!=l)for(i=0;i<l.length;){var h=l[i];++i,this.removeItem(h)}}null!=e&&(this.pendingLoads++,ceramic_App.app.converters.h["ceramic.ReadOnlyMap<String,ceramic.Component>"].basicToField(this,"components",this.assets,e.components,(function(e){n._lifecycleState<0||(n.pendingLoads--,n.onceReady(n,(function(){n.set_fragmentComponents(e)})),0==n.pendingLoads&&n.emitReady())})));null!=e&&null!=e.fps&&this.set_fps(e.fps);var c=null;if(null!=e&&null!=e.tracks){for(i=0,s=e.tracks;i<s.length;){var o=s[i];++i,null==c&&(c=new haxe_ds_StringMap),c.h[o.entity+"#"+o.field]=!0,this.putTrack(null,o)}if(null!=this.timeline&&this.timeline.tracks.length>0)for(i=0,s=[].concat(this.timeline.tracks);i<s.length;){var u=s[i];if(++i,null==c||!Object.prototype.hasOwnProperty.call(c.h,u.id)){var _=u.id.split("#");2==_.length?this.removeTrack(_[0],_[1]):ceramic_App.app.logger.warning("Cannot remove track with unhandled id: "+u.id,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:312,className:"ceramic.Fragment",methodName:"set_fragmentData"})}}}var d=null;if(null!=e&&null!=e.labels){var b=e.labels;for(i=0,s=Reflect.fields(b);i<s.length;){var f=s[i];++i,null==d&&(d=new haxe_ds_StringMap),d.h[f]=!0;var p=b[f];this.putLabel(p,f)}if(null!=this.timeline&&null!=this.timeline.labels)for(i=0,s=[].concat(this.timeline.labels);i<s.length;){var O=s[i];++i,null!=d&&Object.prototype.hasOwnProperty.call(d.h,O)||this.timeline.removeLabel(O)}}return this.pendingLoads--,0==this.pendingLoads&&this.emitReady(),e},set_fps:function(e){if(this.fps!=e&&(this.fps=e,null!=this.timeline&&(this.timeline.fps=e),null!=this.tracks))for(var n=0,t=this.tracks;n<t.length;){var i=t[n];++n,this.putTrack(null,i)}return e},putItem:function(e){var n=this.get(e.id),s=!1;if(null!=n){s=n instanceof ceramic_Visual;var r=js_Boot.getClass(n);e.entity!=r.__name__&&(this.removeItem(e.id),n=null)}else this.items.push(e);var l=e.entity,a=t[l],h=null!=n?n:null,c="ceramic.Fragment"==e.entity;if(null==h){var o=[];c&&(o.push(this.assets),o.push(!1)),h=Type.createInstance(a,o)}if(null==h)throw haxe_Exception.thrown("Failed to create instance of "+e.entity);(h.id=e.id,c)&&h.set_depthRange(1);if(null==h.get_data().name&&null!=e.name&&(h.get_data().name=e.name),null!=e.data&&null!=h.get_data())for(var u=0,_=Reflect.fields(e.data);u<_.length;){var d=_[u];++u,h.get_data()[d]=Reflect.field(e.data,d)}if(null!=e.props){var b=Reflect.fields(e.props);haxe_ds_ArraySort.sort(b,(function(e,n){return 0}));for(u=0;u<b.length;){var f=b[u];++u;var p=ceramic_FieldInfo.typeOf(e.entity,f),O=Reflect.field(e.props,f);if(null!=(C=null!=p?ceramic_App.app.converters.h[p]:null))this.putItemField(c,e,h,f,O,C);else{if(!Object.prototype.hasOwnProperty.call(ceramic_Fragment.basicTypes.h,p)){var g=i[p];if(null!=g){_=0;for(var m=g.__constructs__,w=new Array(m.length),v=0,y=m.length;v<y;){var U=v++;w[U]=m[U]._hx_name}for(var x=w;_<x.length;){l=x[_];if(++_,l.toLowerCase()==O.toLowerCase()){O=Type.createEnum(g,l);break}}}}Reflect.setProperty(h,f,O)}}var C;p=ceramic_FieldInfo.typeOf(e.entity,"components"),O=e.components;null!=(C=null!=p?ceramic_App.app.converters.h[p]:null)?this.putItemField(c,e,h,"components",O,C):ceramic_App.app.logger.warning("No converter found for field: components (type: "+p+")",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:472,className:"ceramic.Fragment",methodName:"putItem"})}return null==n&&("ceramic.Assets"==ceramic_FieldInfo.typeOf(e.entity,"assets")&&Reflect.setProperty(h,"assets",this.assets),this.entities.push(h)),h instanceof ceramic_Visual&&!s&&this.add(h),null==n&&this.putTracksForItem(e.id),h},putItemField:function(e,n,t,i,s,r){var l=this;this.pendingLoads++,r.basicToField(t,i,this.assets,s,(function(n){if(l.pendingLoads--,!(l._lifecycleState<0)){if(t._lifecycleState>=0)if(e&&"fragmentData"==i){var s=t;l.pendingLoads++,s.onceReady(l,(function(){l.pendingLoads--,l._lifecycleState<0||0==l.pendingLoads&&l.emitReady()})),s.set_fragmentData(n)}else"components"!=i?Reflect.setProperty(t,i,n):l.onceReady(l,(function(){var e=null;if(null!=n&&null!=(e=n))for(var i=e.h,s=Object.keys(i),r=s.length,l=0;l<r;){var a=s[l++],h=e.h[a];null!=h&&t.component(a,h)}}));0==l.pendingLoads&&l.emitReady()}}))},get:function(e){for(var n=0,t=this.entities;n<t.length;){var i=t[n];if(++n,i.id==e)return i}return null},getItemInstanceByName:function(e){for(var n=0,t=this.entities;n<t.length;){var i=t[n];if(++n,i.get_data().name==e)return i}return null},getItem:function(e){for(var n=0,t=this.items;n<t.length;){var i=t[n];if(++n,i.id==e)return i}return null},getItemByName:function(e){for(var n=0,t=this.items;n<t.length;){var i=t[n];if(++n,i.name==e)return i}return null},typeOfItem:function(e){var n=this.getItem(e);return null!=n?n.entity:(ceramic_App.app.logger.warning("Failed to resolve entity type for item "+e,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:685,className:"ceramic.Fragment",methodName:"typeOfItem"}),null)},removeItem:function(e){for(var n=0,t=this.entities;n<t.length;){var i=t[n];if(++n,i.id==e){HxOverrides.remove(this.entities,i),i.destroy();break}}for(n=0,t=this.items;n<t.length;){var s=t[n];if(++n,s.id==e){HxOverrides.remove(this.items,s);break}}},removeAllItems:function(){for(var e=0,n=[].concat(this.entities);e<n.length;){var t=n[e];++e,HxOverrides.remove(this.entities,t),t.destroy()}for(e=0,n=[].concat(this.items);e<n.length;){var i=n[e];++e,HxOverrides.remove(this.items,i)}},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Layer.prototype.destroy.call(this),null!=this.timeline&&(this.timeline.destroy(),this.timeline=null),this.removeAllItems())},set_components:function(e){if(this._components==e)return e;if(null!=this._components){s=this._components.h;for(var n=(r=Object.keys(s)).length,t=0;t<n;){var i=r[t++];null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)||null!=this.fragmentComponents&&Object.prototype.hasOwnProperty.call(this.fragmentComponents.h,i)||this.removeComponent(i)}}if(null!=e){var s,r;for(s=e.h,n=(r=Object.keys(s)).length,t=0;t<n;){i=r[t++];var l=e.h[i];if(null!=this._components){var a=this._components.h[i];null!=a?a!=l&&(this.removeComponent(i),this.component(i,l)):this.component(i,l)}else this.component(i,l)}}return this._components=e,e},set_fragmentComponents:function(e){if(this.fragmentComponents==e)return e;if(null!=this.fragmentComponents){s=this.fragmentComponents.h;for(var n=(r=Object.keys(s)).length,t=0;t<n;){var i=r[t++];null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)||this.removeComponent(i)}}if(null!=e){var s,r;for(s=e.h,n=(r=Object.keys(s)).length,t=0;t<n;){i=r[t++];var l=e.h[i];if(null!=this.fragmentComponents){var a=this.fragmentComponents.h[i];null!=a?a!=l&&(this.removeComponent(i),this.component(i,l)):this.component(i,l)}else this.component(i,l)}}return this.fragmentComponents=e,e},isManagedComponent:function(){},putTrack:function(e,n){var t=null;if(null==(m=this.getTrack(n.entity,n.field)))null==this.tracks&&(this.tracks=[]),this.tracks.push(n);else{t=new haxe_ds_IntMap;for(var i=0,s=m.keyframes;i<s.length;){var r=s[i];++i,t.h[r.index]=!0}var l=this.tracks.indexOf(m);this.tracks[l]=n}var a=n.entity,h=this.get(a);if(null!=n.keyframes&&n.keyframes.length>0){this.createTimelineIfNeeded();var c=n.field,o=a+"#"+c,u=n.options;if(null==e&&(e=this.typeOfItem(n.entity)),null==e)return void ceramic_App.app.logger.warning("Cannot update timeline track "+o+": failed to resolve entity type",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:1011,className:"ceramic.Fragment",methodName:"putTrack"});var _=ceramic_FieldInfo.types(e),d=null!=_?_.h[c]:null;if(null==d)return void ceramic_App.app.logger.warning("Cannot update timeline track "+o+": failed to resolve info for "+c+" of entity type "+e,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:1017,className:"ceramic.Fragment",methodName:"putTrack"});var b=this.timeline.get(o);if(null==b){if(null==h)return void ceramic_App.app.logger.warning("Failed to create timeline track "+o+" because there is no entity with id "+n.entity,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:1025,className:"ceramic.Fragment",methodName:"putTrack"});if(ceramic_Fragment._trackResult.value=null,ceramic_App.app.timelines.emitCreateTrack(d,u,ceramic_Fragment._trackResult),null==(b=ceramic_Fragment._trackResult.value))return void ceramic_App.app.logger.warning("Failed to create timeline track "+o+" for "+c+" of entity type "+e,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:1033,className:"ceramic.Fragment",methodName:"putTrack"});h.onDestroy(b,(function(e){b.destroy()})),b.id=o,ceramic_App.app.timelines.emitBindTrack(d,u,b,h,c),this.timeline.add(b)}if(b.loop=n.loop,ceramic_Fragment._usedKeyframes.length>0){for(i=0,s=ceramic_Fragment._usedKeyframes.length;i<s;){var f=i++;ceramic_Fragment._usedKeyframes[f]=null}if(0!=(x=ceramic_Fragment._usedKeyframes).length)if(x.length>0)x.splice(0,x.length);else x[-1]=null}var p=-1,O=!0;for(i=0,s=n.keyframes;i<s.length;){r=s[i];++i;var g=r.index;g<p&&(O=!1),p=g;var m=b.findKeyframeAtIndex(g);if(ceramic_Fragment._keyframeResult.value=null,ceramic_App.app.timelines.emitCreateKeyframe(d,u,r.value,g,ceramic_EasingUtils.easingFromString(r.easing),m,ceramic_Fragment._keyframeResult),null==(U=ceramic_Fragment._keyframeResult.value))return void ceramic_App.app.logger.warning("Failed to create or update keyframe #"+Std.string($bind(this,this.frame))+" of track "+o+" for field "+c+" of entity type "+e,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:1090,className:"ceramic.Fragment",methodName:"putTrack"});ceramic_Fragment._usedKeyframes.push(U),null!=m?m!=U&&(b.remove(m),b.add(U)):b.add(U)}var w=null,v=b.keyframes;if(O){var y=0;for(i=0,s=v.length;i<s;){var U=v[f=i++];ceramic_Fragment._usedKeyframes[y]==U?++y:(null==w&&(w=[]),w.push(U))}}else{ceramic_App.app.logger.warning("Input keyframe array should be sorted by time in ascending order!",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:1120,className:"ceramic.Fragment",methodName:"putTrack"});for(i=0,s=v.length;i<s;){U=v[f=i++];-1==ceramic_Fragment._usedKeyframes.indexOf(U)&&(null==w&&(w=[]),w.push(U))}}if(null!=w){for(i=0;i<w.length;){U=w[i];++i,b.remove(U)}w=null}if(ceramic_Fragment._usedKeyframes.length>0){for(i=0,s=ceramic_Fragment._usedKeyframes.length;i<s;){f=i++;ceramic_Fragment._usedKeyframes[f]=null}var x;if(0!=(x=ceramic_Fragment._usedKeyframes).length)if(x.length>0)x.splice(0,x.length);else x[-1]=null}b.apply()}},putTracksForItem:function(e){if(null!=this.tracks)for(var n=0,t=this.tracks.length;n<t;){var i=n++,s=this.tracks[i];s.entity==e&&this.putTrack(null,s)}},getTrack:function(e,n){if(null!=this.tracks)for(var t=0,i=this.tracks;t<i.length;){var s=i[t];if(++t,s.entity==e&&s.field==n)return s}return null},removeTrack:function(e,n){if(null!=this.tracks){for(var t=-1,i=0,s=this.tracks.length;i<s;){var r=i++,l=this.tracks[r];if(l.entity==e&&l.field==n){t=r;break}}if(-1!=t&&(this.tracks.splice(t,1),null!=this.timeline)){var a=e+"#"+n,h=this.timeline.get(a);null!=h&&(this.timeline.remove(h),h.destroy())}}},createTimelineIfNeeded:function(){null==this.timeline&&(this.timeline=new ceramic_Timeline,this.timeline.fps=this.fps,this.timeline.set_autoUpdate(this.autoUpdateTimeline))},putLabel:function(e,n){this.createTimelineIfNeeded(),this.timeline.setLabel(e,n)},indexOfLabel:function(e){return null!=this.timeline?this.timeline.indexOfLabel(e):-1},labelAtIndex:function(e){return null!=this.timeline?this.timeline.labelAtIndex(e):null},removeLabel:function(e){null!=this.timeline&&this.timeline.removeLabel(e)},removeLabelAtIndex:function(e){null!=this.timeline&&this.timeline.removeLabelAtIndex(e)},get_paused:function(){return null!=this.timeline&&this.timeline.paused},set_paused:function(e){return(null!=this.timeline&&this.timeline.paused)!=e&&(this.createTimelineIfNeeded(),this.timeline.set_paused(e)),e},unbindEvents:function(){ceramic_Layer.prototype.unbindEvents.call(this),this.offFloatAChange(),this.offFloatBChange(),this.offFloatCChange(),this.offFloatDChange(),this.offLocation(),this.offReady()},__class__:ceramic_Fragment,__properties__:$extend(ceramic_Layer.prototype.__properties__,{set_paused:"set_paused",get_paused:"get_paused",set_fragmentComponents:"set_fragmentComponents",set_floatD:"set_floatD",set_floatC:"set_floatC",set_floatB:"set_floatB",set_floatA:"set_floatA",set_autoUpdateTimeline:"set_autoUpdateTimeline",set_fragmentData:"set_fragmentData",set_fps:"set_fps"})});var ceramic_FragmentsAsset=function(e,n){this.unobservedFragments=null,this.fragmentsAutoruns=null,ceramic_Asset.call(this,"fragments",e,n)};t["ceramic.FragmentsAsset"]=ceramic_FragmentsAsset,ceramic_FragmentsAsset.__name__="ceramic.FragmentsAsset",ceramic_FragmentsAsset.__super__=ceramic_Asset,ceramic_FragmentsAsset.prototype=$extend(ceramic_Asset.prototype,{get_fragments:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.fragmentsAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.fragmentsAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedFragments},set_fragments:function(e){var n=this.unobservedFragments;if(this.unobservedFragments=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFragmentsChange(e,n);var t=this.fragmentsAutoruns;if(null!=t){this.fragmentsAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateFragments:function(){var e=this.unobservedFragments;this.emitFragmentsChange(e,e);var n=this.fragmentsAutoruns;if(null!=n){this.fragmentsAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitFragmentsChange:function(e,n){var t=0;if(null!=this.__cbOnFragmentsChange&&(t+=this.__cbOnFragmentsChange.length),null!=this.__cbOnceFragmentsChange&&(t+=this.__cbOnceFragmentsChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnFragmentsChange)for(var l=0,a=this.__cbOnFragmentsChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnFragmentsChange[h],++r):--t}if(null!=this.__cbOnceFragmentsChange){var c=null,o=null;for(l=0,a=this.__cbOnceFragmentsChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceFragmentsChange[h],this.__cbOnceFragmentsChange[h]=null;var u=this.__cbOnceOwnerUnbindFragmentsChange[h];this.__cbOnceOwnerUnbindFragmentsChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindFragmentsChange[h]),o.push(this.__cbOnceFragmentsChange[h])}this.__cbOnceOwnerUnbindFragmentsChange=c,this.__cbOnceFragmentsChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onFragmentsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event fragmentsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFragmentsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFragmentsChange&&(this.__cbOnOwnerUnbindFragmentsChange=[]),this.__cbOnOwnerUnbindFragmentsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFragmentsChange&&(this.__cbOnOwnerUnbindFragmentsChange=[]),this.__cbOnOwnerUnbindFragmentsChange.push(null);null==this.__cbOnFragmentsChange&&(this.__cbOnFragmentsChange=[]),this.__cbOnFragmentsChange.push(n)},onceFragmentsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event fragmentsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFragmentsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFragmentsChange&&(this.__cbOnceOwnerUnbindFragmentsChange=[]),this.__cbOnceOwnerUnbindFragmentsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFragmentsChange&&(this.__cbOnceOwnerUnbindFragmentsChange=[]),this.__cbOnceOwnerUnbindFragmentsChange.push(null);null==this.__cbOnceFragmentsChange&&(this.__cbOnceFragmentsChange=[]),this.__cbOnceFragmentsChange.push(n)},offFragmentsChange:function(e){if(null!=e){var n;null!=this.__cbOnFragmentsChange&&-1!=(n=this.__cbOnFragmentsChange.indexOf(e))&&(this.__cbOnFragmentsChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFragmentsChange[n])&&r(),this.__cbOnOwnerUnbindFragmentsChange.splice(n,1)),null!=this.__cbOnceFragmentsChange&&-1!=(n=this.__cbOnceFragmentsChange.indexOf(e))&&(this.__cbOnceFragmentsChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFragmentsChange[n])&&r(),this.__cbOnceOwnerUnbindFragmentsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFragmentsChange){for(var t=0,i=this.__cbOnOwnerUnbindFragmentsChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFragmentsChange[s])&&r()}this.__cbOnOwnerUnbindFragmentsChange=null}if(null!=this.__cbOnceOwnerUnbindFragmentsChange){for(t=0,i=this.__cbOnceOwnerUnbindFragmentsChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFragmentsChange[s])&&r()}this.__cbOnceOwnerUnbindFragmentsChange=null}this.__cbOnFragmentsChange=null,this.__cbOnceFragmentsChange=null}},listensFragmentsChange:function(){return null!=this.__cbOnFragmentsChange&&this.__cbOnFragmentsChange.length>0||null!=this.__cbOnceFragmentsChange&&this.__cbOnceFragmentsChange.length>0},load:function(){var e=this;if(this.set_status(a.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load fragments asset if path is undefined.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:22,className:"ceramic.FragmentsAsset",methodName:"load"}),this.set_status(a.BROKEN),void this.emitComplete(!1);var n=this.path,t=ceramic_Assets.realAssetPath(n,this.runtimeAssets),i=ceramic_Assets.getReloadCount(t);i>0&&(t+="?hot="+i,n+="?hot="+i);var s={};null!=this.owner&&(s.immediate=this.owner.immediate,s.loadMethod=this.owner.loadMethod),ceramic_App.app.logger.info("Load fragments "+n,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:43,className:"ceramic.FragmentsAsset",methodName:"load"}),ceramic_App.app.backend.texts.load(t,s,(function(n){if(null!=n){try{e.set_fragments(JSON.parse(n))}catch(n){return e.set_status(a.BROKEN),ceramic_App.app.logger.error("Failed to parse fragments at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:51,className:"ceramic.FragmentsAsset",methodName:"load"}),void e.emitComplete(!1)}e.set_status(a.READY),e.emitComplete(!0)}else e.set_status(a.BROKEN),ceramic_App.app.logger.error("Failed to load fragments at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:60,className:"ceramic.FragmentsAsset",methodName:"load"}),e.emitComplete(!1)}))},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload fragments (file has changed)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:83,className:"ceramic.FragmentsAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),this.set_fragments(null))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offFragmentsChange()},__class__:ceramic_FragmentsAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_fragments:"set_fragments",get_fragments:"get_fragments"})});var u={toString:function(e){switch(e){case 0:return"LEFT_X";case 1:return"LEFT_Y";case 2:return"RIGHT_X";case 3:return"RIGHT_Y";default:return""+e}}},_={toString:function(e){switch(e){case 0:return"A";case 1:return"B";case 2:return"X";case 3:return"Y";case 4:return"L1";case 5:return"R1";case 6:return"L2";case 7:return"R2";case 8:return"SELECT";case 9:return"START";case 10:return"L3";case 11:return"R3";case 12:return"DPAD_UP";case 13:return"DPAD_DOWN";case 14:return"DPAD_LEFT";case 15:return"DPAD_RIGHT";default:return""+e}}},ceramic_GeometryUtils=function(){};t["ceramic.GeometryUtils"]=ceramic_GeometryUtils,ceramic_GeometryUtils.__name__="ceramic.GeometryUtils",ceramic_GeometryUtils.pointInTriangle=function(e,n,t,i,s,r,l,a){var h=(e-s)*(i-r)-(t-s)*(n-r),c=(e-l)*(r-a)-(s-l)*(n-a),o=(e-t)*(a-i)-(l-t)*(n-i);return!((h<0||c<0||o<0)&&(h>0||c>0||o>0))},ceramic_GeometryUtils.pointInRectangle=function(e,n,t,i,s,r){return!(e<t)&&(!(n<i)&&(!(e>=t+s)&&!(n>=i+r)))},ceramic_GeometryUtils.pointInCircle=function(e,n,t,i,s){return(e-t)*(e-t)+(n-i)*(n-i)<=s*s},ceramic_GeometryUtils.distance=function(e,n,t,i){var s=t-e,r=i-n;return Math.sqrt(s*s+r*r)},ceramic_GeometryUtils.angleTo=function(e,n,t,i){return 57.29577951308232*Math.atan2(i-n,t-e)-90};var ceramic_GlyphQuad=function(){this.glyphAdvance=-1,this.glyphY=-1,this.glyphX=-1,this.code=-1,this.line=-1,this.posInLine=-1,this.index=-1,this.glyph=null,this.char=null,ceramic_Quad.call(this)};t["ceramic.GlyphQuad"]=ceramic_GlyphQuad,ceramic_GlyphQuad.__name__="ceramic.GlyphQuad",ceramic_GlyphQuad.__super__=ceramic_Quad,ceramic_GlyphQuad.prototype=$extend(ceramic_Quad.prototype,{emitClear:function(e){var n=0;if(null!=this.__cbOnClear&&(n+=this.__cbOnClear.length),null!=this.__cbOnceClear&&(n+=this.__cbOnceClear.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnClear)for(var r=0,l=this.__cbOnClear.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnClear[a],++s):--n}if(null!=this.__cbOnceClear){var h=null,c=null;for(r=0,l=this.__cbOnceClear.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceClear[a],this.__cbOnceClear[a]=null;var o=this.__cbOnceOwnerUnbindClear[a];this.__cbOnceOwnerUnbindClear[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindClear[a]),c.push(this.__cbOnceClear[a])}this.__cbOnceOwnerUnbindClear=h,this.__cbOnceClear=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onClear:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event clear because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offClear(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindClear&&(this.__cbOnOwnerUnbindClear=[]),this.__cbOnOwnerUnbindClear.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindClear&&(this.__cbOnOwnerUnbindClear=[]),this.__cbOnOwnerUnbindClear.push(null);null==this.__cbOnClear&&(this.__cbOnClear=[]),this.__cbOnClear.push(n)},onceClear:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event clear because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offClear(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindClear&&(this.__cbOnceOwnerUnbindClear=[]),this.__cbOnceOwnerUnbindClear.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindClear&&(this.__cbOnceOwnerUnbindClear=[]),this.__cbOnceOwnerUnbindClear.push(null);null==this.__cbOnceClear&&(this.__cbOnceClear=[]),this.__cbOnceClear.push(n)},offClear:function(e){if(null!=e){var n;null!=this.__cbOnClear&&-1!=(n=this.__cbOnClear.indexOf(e))&&(this.__cbOnClear.splice(n,1),null!=(r=this.__cbOnOwnerUnbindClear[n])&&r(),this.__cbOnOwnerUnbindClear.splice(n,1)),null!=this.__cbOnceClear&&-1!=(n=this.__cbOnceClear.indexOf(e))&&(this.__cbOnceClear.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindClear[n])&&r(),this.__cbOnceOwnerUnbindClear.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClear){for(var t=0,i=this.__cbOnOwnerUnbindClear.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindClear[s])&&r()}this.__cbOnOwnerUnbindClear=null}if(null!=this.__cbOnceOwnerUnbindClear){for(t=0,i=this.__cbOnceOwnerUnbindClear.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindClear[s])&&r()}this.__cbOnceOwnerUnbindClear=null}this.__cbOnClear=null,this.__cbOnceClear=null}},listensClear:function(){return null!=this.__cbOnClear&&this.__cbOnClear.length>0||null!=this.__cbOnceClear&&this.__cbOnceClear.length>0},toString:function(){return"GlyphQuad(c="+this.char+",i="+this.index+",l="+this.line+",x="+this.glyphX+",y="+this.glyphY+")"},clear:function(){this.emitClear(this),ceramic_Quad.prototype.clear.call(this)},unbindEvents:function(){ceramic_Quad.prototype.unbindEvents.call(this),this.offClear()},__class__:ceramic_GlyphQuad});var ceramic_Group=function(e){this.items=[],ceramic_Entity.call(this),null!=e&&(this.id=e),ceramic_App.app.groups.push(this)};t["ceramic.Group"]=ceramic_Group,ceramic_Group.__name__="ceramic.Group",ceramic_Group.__super__=ceramic_Entity,ceramic_Group.prototype=$extend(ceramic_Entity.prototype,{add:function(e){var n=this.items;-1!=n.indexOf(e)?ceramic_App.app.logger.warning("Cannot add item "+Std.string(e)+" to group, already inside group",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Group.hx",lineNumber:43,className:"ceramic.Group",methodName:"add"}):(n.push(e),e.onDestroy(this,$bind(this,this.itemDestroyed)))},remove:function(e){var n=this.items,t=n.indexOf(e);-1!=t?(n.splice(t,1),e.offDestroy($bind(this,this.itemDestroyed))):ceramic_App.app.logger.warning("Cannot remove item "+Std.string(e)+" from group, index is -1",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Group.hx",lineNumber:62,className:"ceramic.Group",methodName:"remove"})},contains:function(e){return-1!=this.items.indexOf(e)},itemDestroyed:function(e){this.remove(e)},clear:function(){var e=this.items;if(e.length>0){for(var n=e.length,t=ceramic_ArrayPool.pool(n),i=t.get(),s=0,r=n;s<r;){var l=s++;i.vector[l]=e[l]}for(s=0,r=n;s<r;){l=s++;var a=i.vector[l];a.offDestroy($bind(this,this.itemDestroyed)),a.destroy()}if(0!=e.length)if(e.length>0)e.splice(0,e.length);else e[-1]=null;t.release(i)}},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),HxOverrides.remove(ceramic_App.app.groups,this),this.clear())},__class__:ceramic_Group});var ceramic_HashedString=function(){};t["ceramic.HashedString"]=ceramic_HashedString,ceramic_HashedString.__name__="ceramic.HashedString",ceramic_HashedString.encode=function(e){return haxe_crypto_Md5.encode(e)+""+e.length+";"+e},ceramic_HashedString.append=function(e,n){return e+ceramic_HashedString.encode(n)},ceramic_HashedString.decode=function(e){ceramic_HashedString._lastDecodeIncomplete=!1;for(var n=0,t=e.length,i=null;n<t;){for(var s=e.substring(n,n+32),r=n+=32;r<t&&59!=HxOverrides.cca(e,r);)++r;var l=Std.parseInt(e.substring(n,r));if(null==l||l<=0){ceramic_App.app.logger.warning("Failed to parse all encoded string: invalid section length",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:63,className:"ceramic.HashedString",methodName:"decode"}),ceramic_HashedString._lastDecodeIncomplete=!0;break}n=r+1;var a=e.substring(n,n+l);if(null==a){ceramic_App.app.logger.warning("Failed to parse all encoded string: null section",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:72,className:"ceramic.HashedString",methodName:"decode"}),ceramic_HashedString._lastDecodeIncomplete=!0;break}if(haxe_crypto_Md5.encode(a)!=s){ceramic_App.app.logger.warning("Failed to parse all encoded string: section hash mismatch",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:77,className:"ceramic.HashedString",methodName:"decode"}),ceramic_HashedString._lastDecodeIncomplete=!0;break}n+=l,null==i&&(i=new StringBuf),i.b+=null==a?"null":""+a}return null!=i?i.b:(ceramic_App.app.logger.error("Invalid encoded string",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:95,className:"ceramic.HashedString",methodName:"decode"}),ceramic_HashedString._lastDecodeIncomplete=!0,null)},ceramic_HashedString.prototype={isLastDecodeIncomplete:function(){return ceramic_HashedString._lastDecodeIncomplete},__class__:ceramic_HashedString};var ceramic_ImageAsset=function(e,n){this.reloadBecauseOfDensityChange=!1,this.defaultImageOptions=null,this.unobservedTexture=null,this.textureAutoruns=null,ceramic_Asset.call(this,"image",e,n),this.set_handleTexturesDensityChange(!0)};t["ceramic.ImageAsset"]=ceramic_ImageAsset,ceramic_ImageAsset.__name__="ceramic.ImageAsset",ceramic_ImageAsset.__super__=ceramic_Asset,ceramic_ImageAsset.prototype=$extend(ceramic_Asset.prototype,{emitReplaceTexture:function(e,n){var t=0;if(null!=this.__cbOnReplaceTexture&&(t+=this.__cbOnReplaceTexture.length),null!=this.__cbOnceReplaceTexture&&(t+=this.__cbOnceReplaceTexture.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnReplaceTexture)for(var l=0,a=this.__cbOnReplaceTexture.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnReplaceTexture[h],++r):--t}if(null!=this.__cbOnceReplaceTexture){var c=null,o=null;for(l=0,a=this.__cbOnceReplaceTexture.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceReplaceTexture[h],this.__cbOnceReplaceTexture[h]=null;var u=this.__cbOnceOwnerUnbindReplaceTexture[h];this.__cbOnceOwnerUnbindReplaceTexture[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindReplaceTexture[h]),o.push(this.__cbOnceReplaceTexture[h])}this.__cbOnceOwnerUnbindReplaceTexture=c,this.__cbOnceReplaceTexture=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onReplaceTexture:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceTexture because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceTexture(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReplaceTexture&&(this.__cbOnOwnerUnbindReplaceTexture=[]),this.__cbOnOwnerUnbindReplaceTexture.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReplaceTexture&&(this.__cbOnOwnerUnbindReplaceTexture=[]),this.__cbOnOwnerUnbindReplaceTexture.push(null);null==this.__cbOnReplaceTexture&&(this.__cbOnReplaceTexture=[]),this.__cbOnReplaceTexture.push(n)},onceReplaceTexture:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceTexture because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceTexture(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReplaceTexture&&(this.__cbOnceOwnerUnbindReplaceTexture=[]),this.__cbOnceOwnerUnbindReplaceTexture.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReplaceTexture&&(this.__cbOnceOwnerUnbindReplaceTexture=[]),this.__cbOnceOwnerUnbindReplaceTexture.push(null);null==this.__cbOnceReplaceTexture&&(this.__cbOnceReplaceTexture=[]),this.__cbOnceReplaceTexture.push(n)},offReplaceTexture:function(e){if(null!=e){var n;null!=this.__cbOnReplaceTexture&&-1!=(n=this.__cbOnReplaceTexture.indexOf(e))&&(this.__cbOnReplaceTexture.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReplaceTexture[n])&&r(),this.__cbOnOwnerUnbindReplaceTexture.splice(n,1)),null!=this.__cbOnceReplaceTexture&&-1!=(n=this.__cbOnceReplaceTexture.indexOf(e))&&(this.__cbOnceReplaceTexture.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReplaceTexture[n])&&r(),this.__cbOnceOwnerUnbindReplaceTexture.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceTexture){for(var t=0,i=this.__cbOnOwnerUnbindReplaceTexture.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindReplaceTexture[s])&&r()}this.__cbOnOwnerUnbindReplaceTexture=null}if(null!=this.__cbOnceOwnerUnbindReplaceTexture){for(t=0,i=this.__cbOnceOwnerUnbindReplaceTexture.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindReplaceTexture[s])&&r()}this.__cbOnceOwnerUnbindReplaceTexture=null}this.__cbOnReplaceTexture=null,this.__cbOnceReplaceTexture=null}},listensReplaceTexture:function(){return null!=this.__cbOnReplaceTexture&&this.__cbOnReplaceTexture.length>0||null!=this.__cbOnceReplaceTexture&&this.__cbOnceReplaceTexture.length>0},get_texture:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.textureAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.textureAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedTexture},set_texture:function(e){var n=this.unobservedTexture;if(this.unobservedTexture=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextureChange(e,n);var t=this.textureAutoruns;if(null!=t){this.textureAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTexture:function(){var e=this.unobservedTexture;this.emitTextureChange(e,e);var n=this.textureAutoruns;if(null!=n){this.textureAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitTextureChange:function(e,n){var t=0;if(null!=this.__cbOnTextureChange&&(t+=this.__cbOnTextureChange.length),null!=this.__cbOnceTextureChange&&(t+=this.__cbOnceTextureChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnTextureChange)for(var l=0,a=this.__cbOnTextureChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnTextureChange[h],++r):--t}if(null!=this.__cbOnceTextureChange){var c=null,o=null;for(l=0,a=this.__cbOnceTextureChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceTextureChange[h],this.__cbOnceTextureChange[h]=null;var u=this.__cbOnceOwnerUnbindTextureChange[h];this.__cbOnceOwnerUnbindTextureChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindTextureChange[h]),o.push(this.__cbOnceTextureChange[h])}this.__cbOnceOwnerUnbindTextureChange=c,this.__cbOnceTextureChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onTextureChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event textureChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTextureChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push(null);null==this.__cbOnTextureChange&&(this.__cbOnTextureChange=[]),this.__cbOnTextureChange.push(n)},onceTextureChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event textureChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTextureChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push(null);null==this.__cbOnceTextureChange&&(this.__cbOnceTextureChange=[]),this.__cbOnceTextureChange.push(n)},offTextureChange:function(e){if(null!=e){var n;null!=this.__cbOnTextureChange&&-1!=(n=this.__cbOnTextureChange.indexOf(e))&&(this.__cbOnTextureChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTextureChange[n])&&r(),this.__cbOnOwnerUnbindTextureChange.splice(n,1)),null!=this.__cbOnceTextureChange&&-1!=(n=this.__cbOnceTextureChange.indexOf(e))&&(this.__cbOnceTextureChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTextureChange[n])&&r(),this.__cbOnceOwnerUnbindTextureChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextureChange){for(var t=0,i=this.__cbOnOwnerUnbindTextureChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTextureChange[s])&&r()}this.__cbOnOwnerUnbindTextureChange=null}if(null!=this.__cbOnceOwnerUnbindTextureChange){for(t=0,i=this.__cbOnceOwnerUnbindTextureChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTextureChange[s])&&r()}this.__cbOnceOwnerUnbindTextureChange=null}this.__cbOnTextureChange=null,this.__cbOnceTextureChange=null}},listensTextureChange:function(){return null!=this.__cbOnTextureChange&&this.__cbOnTextureChange.length>0||null!=this.__cbOnceTextureChange&&this.__cbOnceTextureChange.length>0},load:function(){var e=this;this.set_status(a.LOADING);var n=this.reloadBecauseOfDensityChange;if(this.reloadBecauseOfDensityChange=!1,null==this.path)return ceramic_App.app.logger.warning("Cannot load image asset if path is undefined.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:41,className:"ceramic.ImageAsset",methodName:"load"}),this.set_status(a.BROKEN),void this.emitComplete(!1);var t={};if(null!=this.owner&&(t.immediate=this.owner.immediate,t.loadMethod=this.owner.loadMethod),null!=this.defaultImageOptions)for(var i=0,s=Reflect.fields(this.defaultImageOptions);i<s.length;){var r=s[i];++i,t[r]=Reflect.field(this.defaultImageOptions,r)}if(null!=this.options)for(i=0,s=Reflect.fields(this.options);i<s.length;){r=s[i];++i,t[r]=Reflect.field(this.options,r)}var l=this.path,h=ceramic_Assets.realAssetPath(l,this.runtimeAssets),c=ceramic_Assets.getReloadCount(h);c>0&&(h+="?hot="+c,l+="?hot="+c),ceramic_App.app.logger.info("Load image "+l+" (density="+this.density+")",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:72,className:"ceramic.ImageAsset",methodName:"load"}),ceramic_App.app.backend.textures.load(h,t,(function(t){if(null!=t){var i=e.get_texture(),s=new ceramic_Texture(t,e.density);if(s.id="texture:"+l,e.set_texture(s),e.get_texture().asset=e,null!=i){e.get_texture().set_filter(i.filter),e.emitReplaceTexture(e.get_texture(),i);for(var r=0,h=[].concat(ceramic_App.app.visuals);r<h.length;){var c=h[r];if(++r,c._lifecycleState>=0)if(null!=c.asQuad){var o=c.asQuad;if(o.texture==i){var u=o.frameX,_=o.frameY,d=o.frameWidth,b=o.frameHeight,f=e.get_texture();if(o.texture!=f)if(null!=o.texture&&(o.texture.offDestroy($bind(o,o.textureDestroyed)),null!=o.texture.asset&&o.texture.asset.release()),o.texture=f,null==f)o.frameX=-1,o.frameY=-1,-1!=o.frameWidth&&(o.frameWidth=-1),-1!=o.frameHeight&&(o.frameHeight=-1);else if(null!=o.tile){o.frameX=o.tile.frameX,o.frameY=o.tile.frameY;var p=o.tile.frameWidth;o.frameWidth!=p&&(o.frameWidth=p,-1!=p&&o.set_width(p));var O=o.tile.frameHeight;o.frameHeight!=O&&(o.frameHeight=O,-1!=O&&o.set_height(O))}else{o.frameX=0,o.frameY=0;var g=f.width;o.frameWidth!=g&&(o.frameWidth=g,-1!=g&&o.set_width(g));var m=f.height;o.frameHeight!=m&&(o.frameHeight=m,-1!=m&&o.set_height(m)),f.onDestroy(o,$bind(o,o.textureDestroyed)),null!=f.asset&&f.asset.retain()}(n||0!=u||0!=_||d!=i.width||b!=i.height)&&(o.frameX=u,o.frameY=_,o.frameWidth!=d&&(o.frameWidth=d,-1!=d&&o.set_width(d)),o.frameHeight!=b&&(o.frameHeight=b,-1!=b&&o.set_height(b)))}}else if(null!=c.asMesh){var w=c.asMesh;if(w.texture==i){var v=e.get_texture();w.texture!=v&&(null!=w.texture&&(w.texture.offDestroy($bind(w,w.textureDestroyed)),null!=w.texture.asset&&w.texture.asset.release()),w.texture=v,null!=w.texture&&(w.texture.onDestroy(w,$bind(w,w.textureDestroyed)),null!=w.texture.asset&&w.texture.asset.retain()))}}}i.asset=null,i.destroy()}e.set_status(a.READY),e.emitComplete(!0),e.handleTexturesDensityChange&&e.checkTexturesDensity()}else e.set_status(a.BROKEN),ceramic_App.app.logger.error("Failed to load texture at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:150,className:"ceramic.ImageAsset",methodName:"load"}),e.emitComplete(!1)}))},texturesDensityDidChange:function(e,n){this.get_status()==a.READY&&this.checkTexturesDensity()},checkTexturesDensity:function(){var e=this.path;this.computePath(),e!=this.path&&(ceramic_App.app.logger.info("Reload texture ("+e+" -> "+this.path+")",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:175,className:"ceramic.ImageAsset",methodName:"checkTexturesDensity"}),this.reloadBecauseOfDensityChange=!0,this.load())},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload texture (file has changed)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:197,className:"ceramic.ImageAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),null!=this.get_texture()&&(this.get_texture().destroy(),this.set_texture(null)))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offReplaceTexture(),this.offTextureChange()},__class__:ceramic_ImageAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_texture:"set_texture",get_texture:"get_texture"})});var ceramic_Immediate=function(){this.immediateCallbacksLen=0,this.immediateCallbacksCapacity=0,this.immediateCallbacks=[]};t["ceramic.Immediate"]=ceramic_Immediate,ceramic_Immediate.__name__="ceramic.Immediate",ceramic_Immediate.prototype={push:function(e){if(null==e)throw haxe_Exception.thrown("Immediate callback should not be null!");this.immediateCallbacksLen<this.immediateCallbacksCapacity?(this.immediateCallbacks[this.immediateCallbacksLen]=e,this.immediateCallbacksLen++):(this.immediateCallbacks[this.immediateCallbacksLen++]=e,this.immediateCallbacksCapacity++)},flush:function(){for(var e=!1;this.immediateCallbacksLen>0;){e=!0;var n=ceramic_ArrayPool.pool(this.immediateCallbacksLen),t=n.get(),i=this.immediateCallbacksLen;this.immediateCallbacksLen=0;for(var s=0,r=i;s<r;){var l=s++;t.vector[l]=this.immediateCallbacks[l],this.immediateCallbacks[l]=null}for(var a=0,h=i;a<h;){var c=a++;(0,t.vector[c])()}n.release(t)}return e},__class__:ceramic_Immediate};var ceramic_InitSettings=function(e){this.settings=e};t["ceramic.InitSettings"]=ceramic_InitSettings,ceramic_InitSettings.__name__="ceramic.InitSettings",ceramic_InitSettings.prototype={get_targetWidth:function(){return this.settings.get_targetWidth()},set_targetWidth:function(e){return this.settings.set_targetWidth(e)},get_targetHeight:function(){return this.settings.get_targetHeight()},set_targetHeight:function(e){return this.settings.set_targetHeight(e)},targetSize:function(e,n){this.settings.set_targetWidth(e),this.settings.set_targetHeight(n)},get_windowWidth:function(){return this.settings.get_windowWidth()},set_windowWidth:function(e){return this.settings.set_windowWidth(e)},get_windowHeight:function(){return this.settings.get_windowHeight()},set_windowHeight:function(e){return this.settings.set_windowHeight(e)},windowSize:function(e,n){this.settings.set_windowWidth(e),this.settings.set_windowHeight(n)},get_targetDensity:function(){return this.settings.get_targetDensity()},set_targetDensity:function(e){return this.settings.set_targetDensity(e)},get_background:function(){return this.settings.get_background()},set_background:function(e){return this.settings.set_background(e)},get_scaling:function(){return this.settings.get_scaling()},set_scaling:function(e){return this.settings.set_scaling(e)},get_title:function(){return this.settings.get_title()},set_title:function(e){return this.settings.set_title(e)},get_fullscreen:function(){return this.settings.get_fullscreen()},set_fullscreen:function(e){return this.settings.set_fullscreen(e)},get_targetFps:function(){return this.settings.get_targetFps()},set_targetFps:function(e){return this.settings.set_targetFps(e)},get_maxDelta:function(){return this.settings.get_maxDelta()},set_maxDelta:function(e){return this.settings.set_maxDelta(e)},get_overrideDelta:function(){return this.settings.get_overrideDelta()},set_overrideDelta:function(e){return this.settings.set_overrideDelta(e)},get_orientation:function(){return this.settings.orientation},set_orientation:function(e){return this.settings.orientation=e},get_antialiasing:function(){return this.settings.antialiasing},set_antialiasing:function(e){return this.settings.antialiasing=e},get_collections:function(){return this.settings.collections},set_collections:function(e){return this.settings.collections=e},get_appInfo:function(){return this.settings.appInfo},set_appInfo:function(e){return this.settings.appInfo=e},get_resizable:function(){return this.settings.resizable},set_resizable:function(e){return this.settings.resizable=e},get_assetsPath:function(){return this.settings.assetsPath},set_assetsPath:function(e){return this.settings.assetsPath=e},get_backend:function(){return this.settings.backend},set_backend:function(e){return this.settings.backend=e},get_defaultFont:function(){return this.settings.defaultFont},set_defaultFont:function(e){return this.settings.defaultFont=e},get_defaultShader:function(){return this.settings.defaultShader},set_defaultShader:function(e){return this.settings.defaultShader=e},__class__:ceramic_InitSettings,__properties__:{set_defaultShader:"set_defaultShader",get_defaultShader:"get_defaultShader",set_defaultFont:"set_defaultFont",get_defaultFont:"get_defaultFont",set_backend:"set_backend",get_backend:"get_backend",set_assetsPath:"set_assetsPath",get_assetsPath:"get_assetsPath",set_resizable:"set_resizable",get_resizable:"get_resizable",set_appInfo:"set_appInfo",get_appInfo:"get_appInfo",set_collections:"set_collections",get_collections:"get_collections",set_antialiasing:"set_antialiasing",get_antialiasing:"get_antialiasing",set_orientation:"set_orientation",get_orientation:"get_orientation",set_overrideDelta:"set_overrideDelta",get_overrideDelta:"get_overrideDelta",set_maxDelta:"set_maxDelta",get_maxDelta:"get_maxDelta",set_targetFps:"set_targetFps",get_targetFps:"get_targetFps",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_title:"set_title",get_title:"get_title",set_scaling:"set_scaling",get_scaling:"get_scaling",set_background:"set_background",get_background:"get_background",set_targetDensity:"set_targetDensity",get_targetDensity:"get_targetDensity",set_windowHeight:"set_windowHeight",get_windowHeight:"get_windowHeight",set_windowWidth:"set_windowWidth",get_windowWidth:"get_windowWidth",set_targetHeight:"set_targetHeight",get_targetHeight:"get_targetHeight",set_targetWidth:"set_targetWidth",get_targetWidth:"get_targetWidth"}};var ceramic_Input=function(){this.activeGamepads=[],this.gamepadAxisValues=new haxe_ds_IntMap,this.pressedGamepadButtons=new haxe_ds_IntMap,this.pressedKeyCodes=new haxe_ds_IntMap,this.pressedScanCodes=new haxe_ds_IntMap,ceramic_Entity.call(this)};t["ceramic.Input"]=ceramic_Input,ceramic_Input.__name__="ceramic.Input",ceramic_Input.__super__=ceramic_Entity,ceramic_Input.prototype=$extend(ceramic_Entity.prototype,{emitKeyDown:function(e){this.willEmitKeyDown(e);var n=0;if(null!=this.__cbOnKeyDown&&(n+=this.__cbOnKeyDown.length),null!=this.__cbOnceKeyDown&&(n+=this.__cbOnceKeyDown.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnKeyDown)for(var r=0,l=this.__cbOnKeyDown.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnKeyDown[a],++s):--n}if(null!=this.__cbOnceKeyDown){var h=null,c=null;for(r=0,l=this.__cbOnceKeyDown.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceKeyDown[a],this.__cbOnceKeyDown[a]=null;var o=this.__cbOnceOwnerUnbindKeyDown[a];this.__cbOnceOwnerUnbindKeyDown[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindKeyDown[a]),c.push(this.__cbOnceKeyDown[a])}this.__cbOnceOwnerUnbindKeyDown=h,this.__cbOnceKeyDown=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onKeyDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push(null);null==this.__cbOnKeyDown&&(this.__cbOnKeyDown=[]),this.__cbOnKeyDown.push(n)},onceKeyDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push(null);null==this.__cbOnceKeyDown&&(this.__cbOnceKeyDown=[]),this.__cbOnceKeyDown.push(n)},offKeyDown:function(e){if(null!=e){var n;null!=this.__cbOnKeyDown&&-1!=(n=this.__cbOnKeyDown.indexOf(e))&&(this.__cbOnKeyDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindKeyDown[n])&&r(),this.__cbOnOwnerUnbindKeyDown.splice(n,1)),null!=this.__cbOnceKeyDown&&-1!=(n=this.__cbOnceKeyDown.indexOf(e))&&(this.__cbOnceKeyDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindKeyDown[n])&&r(),this.__cbOnceOwnerUnbindKeyDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyDown){for(var t=0,i=this.__cbOnOwnerUnbindKeyDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindKeyDown[s])&&r()}this.__cbOnOwnerUnbindKeyDown=null}if(null!=this.__cbOnceOwnerUnbindKeyDown){for(t=0,i=this.__cbOnceOwnerUnbindKeyDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindKeyDown[s])&&r()}this.__cbOnceOwnerUnbindKeyDown=null}this.__cbOnKeyDown=null,this.__cbOnceKeyDown=null}},listensKeyDown:function(){return null!=this.__cbOnKeyDown&&this.__cbOnKeyDown.length>0||null!=this.__cbOnceKeyDown&&this.__cbOnceKeyDown.length>0},emitKeyUp:function(e){this.willEmitKeyUp(e);var n=0;if(null!=this.__cbOnKeyUp&&(n+=this.__cbOnKeyUp.length),null!=this.__cbOnceKeyUp&&(n+=this.__cbOnceKeyUp.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnKeyUp)for(var r=0,l=this.__cbOnKeyUp.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnKeyUp[a],++s):--n}if(null!=this.__cbOnceKeyUp){var h=null,c=null;for(r=0,l=this.__cbOnceKeyUp.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceKeyUp[a],this.__cbOnceKeyUp[a]=null;var o=this.__cbOnceOwnerUnbindKeyUp[a];this.__cbOnceOwnerUnbindKeyUp[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindKeyUp[a]),c.push(this.__cbOnceKeyUp[a])}this.__cbOnceOwnerUnbindKeyUp=h,this.__cbOnceKeyUp=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onKeyUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push(null);null==this.__cbOnKeyUp&&(this.__cbOnKeyUp=[]),this.__cbOnKeyUp.push(n)},onceKeyUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push(null);null==this.__cbOnceKeyUp&&(this.__cbOnceKeyUp=[]),this.__cbOnceKeyUp.push(n)},offKeyUp:function(e){if(null!=e){var n;null!=this.__cbOnKeyUp&&-1!=(n=this.__cbOnKeyUp.indexOf(e))&&(this.__cbOnKeyUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindKeyUp[n])&&r(),this.__cbOnOwnerUnbindKeyUp.splice(n,1)),null!=this.__cbOnceKeyUp&&-1!=(n=this.__cbOnceKeyUp.indexOf(e))&&(this.__cbOnceKeyUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindKeyUp[n])&&r(),this.__cbOnceOwnerUnbindKeyUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyUp){for(var t=0,i=this.__cbOnOwnerUnbindKeyUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindKeyUp[s])&&r()}this.__cbOnOwnerUnbindKeyUp=null}if(null!=this.__cbOnceOwnerUnbindKeyUp){for(t=0,i=this.__cbOnceOwnerUnbindKeyUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindKeyUp[s])&&r()}this.__cbOnceOwnerUnbindKeyUp=null}this.__cbOnKeyUp=null,this.__cbOnceKeyUp=null}},listensKeyUp:function(){return null!=this.__cbOnKeyUp&&this.__cbOnKeyUp.length>0||null!=this.__cbOnceKeyUp&&this.__cbOnceKeyUp.length>0},emitGamepadAxis:function(e,n,t){var i=32*e+n;this.gamepadAxisValues.h[0|i]=t;var s=0;if(null!=this.__cbOnGamepadAxis&&(s+=this.__cbOnGamepadAxis.length),null!=this.__cbOnceGamepadAxis&&(s+=this.__cbOnceGamepadAxis.length),s>0){var r=ceramic_ArrayPool.pool(s),l=r.get(),a=0;if(null!=this.__cbOnGamepadAxis)for(var h=0,c=this.__cbOnGamepadAxis.length;h<c;){var o=h++;!0?(l.vector[a]=this.__cbOnGamepadAxis[o],++a):--s}if(null!=this.__cbOnceGamepadAxis){var u=null,_=null;for(h=0,c=this.__cbOnceGamepadAxis.length;h<c;){o=h++;if(!0){l.vector[a]=this.__cbOnceGamepadAxis[o],this.__cbOnceGamepadAxis[o]=null;var d=this.__cbOnceOwnerUnbindGamepadAxis[o];this.__cbOnceOwnerUnbindGamepadAxis[o]=null,null!=d&&d(),++a}else--s,null==u&&(u=[],_=[],[]),u.push(this.__cbOnceOwnerUnbindGamepadAxis[o]),_.push(this.__cbOnceGamepadAxis[o])}this.__cbOnceOwnerUnbindGamepadAxis=u,this.__cbOnceGamepadAxis=_}for(h=0,c=s;h<c;){a=h++;(0,l.vector[a])(e,n,t)}r.release(l),l=null}},onGamepadAxis:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadAxis(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push(null);null==this.__cbOnGamepadAxis&&(this.__cbOnGamepadAxis=[]),this.__cbOnGamepadAxis.push(n)},onceGamepadAxis:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadAxis(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push(null);null==this.__cbOnceGamepadAxis&&(this.__cbOnceGamepadAxis=[]),this.__cbOnceGamepadAxis.push(n)},offGamepadAxis:function(e){if(null!=e){var n;null!=this.__cbOnGamepadAxis&&-1!=(n=this.__cbOnGamepadAxis.indexOf(e))&&(this.__cbOnGamepadAxis.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadAxis[n])&&r(),this.__cbOnOwnerUnbindGamepadAxis.splice(n,1)),null!=this.__cbOnceGamepadAxis&&-1!=(n=this.__cbOnceGamepadAxis.indexOf(e))&&(this.__cbOnceGamepadAxis.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadAxis[n])&&r(),this.__cbOnceOwnerUnbindGamepadAxis.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadAxis){for(var t=0,i=this.__cbOnOwnerUnbindGamepadAxis.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadAxis[s])&&r()}this.__cbOnOwnerUnbindGamepadAxis=null}if(null!=this.__cbOnceOwnerUnbindGamepadAxis){for(t=0,i=this.__cbOnceOwnerUnbindGamepadAxis.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadAxis[s])&&r()}this.__cbOnceOwnerUnbindGamepadAxis=null}this.__cbOnGamepadAxis=null,this.__cbOnceGamepadAxis=null}},listensGamepadAxis:function(){return null!=this.__cbOnGamepadAxis&&this.__cbOnGamepadAxis.length>0||null!=this.__cbOnceGamepadAxis&&this.__cbOnceGamepadAxis.length>0},emitGamepadDown:function(e,n){this.willEmitGamepadDown(e,n);var t=0;if(null!=this.__cbOnGamepadDown&&(t+=this.__cbOnGamepadDown.length),null!=this.__cbOnceGamepadDown&&(t+=this.__cbOnceGamepadDown.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnGamepadDown)for(var l=0,a=this.__cbOnGamepadDown.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnGamepadDown[h],++r):--t}if(null!=this.__cbOnceGamepadDown){var c=null,o=null;for(l=0,a=this.__cbOnceGamepadDown.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceGamepadDown[h],this.__cbOnceGamepadDown[h]=null;var u=this.__cbOnceOwnerUnbindGamepadDown[h];this.__cbOnceOwnerUnbindGamepadDown[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindGamepadDown[h]),o.push(this.__cbOnceGamepadDown[h])}this.__cbOnceOwnerUnbindGamepadDown=c,this.__cbOnceGamepadDown=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onGamepadDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push(null);null==this.__cbOnGamepadDown&&(this.__cbOnGamepadDown=[]),this.__cbOnGamepadDown.push(n)},onceGamepadDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push(null);null==this.__cbOnceGamepadDown&&(this.__cbOnceGamepadDown=[]),this.__cbOnceGamepadDown.push(n)},offGamepadDown:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDown&&-1!=(n=this.__cbOnGamepadDown.indexOf(e))&&(this.__cbOnGamepadDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadDown[n])&&r(),this.__cbOnOwnerUnbindGamepadDown.splice(n,1)),null!=this.__cbOnceGamepadDown&&-1!=(n=this.__cbOnceGamepadDown.indexOf(e))&&(this.__cbOnceGamepadDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadDown[n])&&r(),this.__cbOnceOwnerUnbindGamepadDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDown){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadDown[s])&&r()}this.__cbOnOwnerUnbindGamepadDown=null}if(null!=this.__cbOnceOwnerUnbindGamepadDown){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadDown[s])&&r()}this.__cbOnceOwnerUnbindGamepadDown=null}this.__cbOnGamepadDown=null,this.__cbOnceGamepadDown=null}},listensGamepadDown:function(){return null!=this.__cbOnGamepadDown&&this.__cbOnGamepadDown.length>0||null!=this.__cbOnceGamepadDown&&this.__cbOnceGamepadDown.length>0},emitGamepadUp:function(e,n){this.willEmitGamepadUp(e,n);var t=0;if(null!=this.__cbOnGamepadUp&&(t+=this.__cbOnGamepadUp.length),null!=this.__cbOnceGamepadUp&&(t+=this.__cbOnceGamepadUp.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnGamepadUp)for(var l=0,a=this.__cbOnGamepadUp.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnGamepadUp[h],++r):--t}if(null!=this.__cbOnceGamepadUp){var c=null,o=null;for(l=0,a=this.__cbOnceGamepadUp.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceGamepadUp[h],this.__cbOnceGamepadUp[h]=null;var u=this.__cbOnceOwnerUnbindGamepadUp[h];this.__cbOnceOwnerUnbindGamepadUp[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindGamepadUp[h]),o.push(this.__cbOnceGamepadUp[h])}this.__cbOnceOwnerUnbindGamepadUp=c,this.__cbOnceGamepadUp=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onGamepadUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push(null);null==this.__cbOnGamepadUp&&(this.__cbOnGamepadUp=[]),this.__cbOnGamepadUp.push(n)},onceGamepadUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push(null);null==this.__cbOnceGamepadUp&&(this.__cbOnceGamepadUp=[]),this.__cbOnceGamepadUp.push(n)},offGamepadUp:function(e){if(null!=e){var n;null!=this.__cbOnGamepadUp&&-1!=(n=this.__cbOnGamepadUp.indexOf(e))&&(this.__cbOnGamepadUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadUp[n])&&r(),this.__cbOnOwnerUnbindGamepadUp.splice(n,1)),null!=this.__cbOnceGamepadUp&&-1!=(n=this.__cbOnceGamepadUp.indexOf(e))&&(this.__cbOnceGamepadUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadUp[n])&&r(),this.__cbOnceOwnerUnbindGamepadUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadUp){for(var t=0,i=this.__cbOnOwnerUnbindGamepadUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadUp[s])&&r()}this.__cbOnOwnerUnbindGamepadUp=null}if(null!=this.__cbOnceOwnerUnbindGamepadUp){for(t=0,i=this.__cbOnceOwnerUnbindGamepadUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadUp[s])&&r()}this.__cbOnceOwnerUnbindGamepadUp=null}this.__cbOnGamepadUp=null,this.__cbOnceGamepadUp=null}},listensGamepadUp:function(){return null!=this.__cbOnGamepadUp&&this.__cbOnGamepadUp.length>0||null!=this.__cbOnceGamepadUp&&this.__cbOnceGamepadUp.length>0},emitGamepadEnable:function(e,n){this.willEmitGamepadEnable(e,n);var t=0;if(null!=this.__cbOnGamepadEnable&&(t+=this.__cbOnGamepadEnable.length),null!=this.__cbOnceGamepadEnable&&(t+=this.__cbOnceGamepadEnable.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnGamepadEnable)for(var l=0,a=this.__cbOnGamepadEnable.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnGamepadEnable[h],++r):--t}if(null!=this.__cbOnceGamepadEnable){var c=null,o=null;for(l=0,a=this.__cbOnceGamepadEnable.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceGamepadEnable[h],this.__cbOnceGamepadEnable[h]=null;var u=this.__cbOnceOwnerUnbindGamepadEnable[h];this.__cbOnceOwnerUnbindGamepadEnable[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindGamepadEnable[h]),o.push(this.__cbOnceGamepadEnable[h])}this.__cbOnceOwnerUnbindGamepadEnable=c,this.__cbOnceGamepadEnable=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onGamepadEnable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadEnable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push(null);null==this.__cbOnGamepadEnable&&(this.__cbOnGamepadEnable=[]),this.__cbOnGamepadEnable.push(n)},onceGamepadEnable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadEnable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push(null);null==this.__cbOnceGamepadEnable&&(this.__cbOnceGamepadEnable=[]),this.__cbOnceGamepadEnable.push(n)},offGamepadEnable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadEnable&&-1!=(n=this.__cbOnGamepadEnable.indexOf(e))&&(this.__cbOnGamepadEnable.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadEnable[n])&&r(),this.__cbOnOwnerUnbindGamepadEnable.splice(n,1)),null!=this.__cbOnceGamepadEnable&&-1!=(n=this.__cbOnceGamepadEnable.indexOf(e))&&(this.__cbOnceGamepadEnable.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadEnable[n])&&r(),this.__cbOnceOwnerUnbindGamepadEnable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadEnable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadEnable.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadEnable[s])&&r()}this.__cbOnOwnerUnbindGamepadEnable=null}if(null!=this.__cbOnceOwnerUnbindGamepadEnable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadEnable.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadEnable[s])&&r()}this.__cbOnceOwnerUnbindGamepadEnable=null}this.__cbOnGamepadEnable=null,this.__cbOnceGamepadEnable=null}},listensGamepadEnable:function(){return null!=this.__cbOnGamepadEnable&&this.__cbOnGamepadEnable.length>0||null!=this.__cbOnceGamepadEnable&&this.__cbOnceGamepadEnable.length>0},emitGamepadDisable:function(e){this.willEmitGamepadDisable(e);var n=0;if(null!=this.__cbOnGamepadDisable&&(n+=this.__cbOnGamepadDisable.length),null!=this.__cbOnceGamepadDisable&&(n+=this.__cbOnceGamepadDisable.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnGamepadDisable)for(var r=0,l=this.__cbOnGamepadDisable.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnGamepadDisable[a],++s):--n}if(null!=this.__cbOnceGamepadDisable){var h=null,c=null;for(r=0,l=this.__cbOnceGamepadDisable.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceGamepadDisable[a],this.__cbOnceGamepadDisable[a]=null;var o=this.__cbOnceOwnerUnbindGamepadDisable[a];this.__cbOnceOwnerUnbindGamepadDisable[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindGamepadDisable[a]),c.push(this.__cbOnceGamepadDisable[a])}this.__cbOnceOwnerUnbindGamepadDisable=h,this.__cbOnceGamepadDisable=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onGamepadDisable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDisable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push(null);null==this.__cbOnGamepadDisable&&(this.__cbOnGamepadDisable=[]),this.__cbOnGamepadDisable.push(n)},onceGamepadDisable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDisable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push(null);null==this.__cbOnceGamepadDisable&&(this.__cbOnceGamepadDisable=[]),this.__cbOnceGamepadDisable.push(n)},offGamepadDisable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDisable&&-1!=(n=this.__cbOnGamepadDisable.indexOf(e))&&(this.__cbOnGamepadDisable.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadDisable[n])&&r(),this.__cbOnOwnerUnbindGamepadDisable.splice(n,1)),null!=this.__cbOnceGamepadDisable&&-1!=(n=this.__cbOnceGamepadDisable.indexOf(e))&&(this.__cbOnceGamepadDisable.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadDisable[n])&&r(),this.__cbOnceOwnerUnbindGamepadDisable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDisable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDisable.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadDisable[s])&&r()}this.__cbOnOwnerUnbindGamepadDisable=null}if(null!=this.__cbOnceOwnerUnbindGamepadDisable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDisable.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadDisable[s])&&r()}this.__cbOnceOwnerUnbindGamepadDisable=null}this.__cbOnGamepadDisable=null,this.__cbOnceGamepadDisable=null}},listensGamepadDisable:function(){return null!=this.__cbOnGamepadDisable&&this.__cbOnGamepadDisable.length>0||null!=this.__cbOnceGamepadDisable&&this.__cbOnceGamepadDisable.length>0},willEmitKeyDown:function(e){var n=this,t=null!=(s=this.pressedScanCodes.h[0|e.scanCode])?s:0,i=null!=(s=this.pressedKeyCodes.h[0|e.keyCode])?s:0;-1==t&&(t=0,i=0);var s=t+1;this.pressedScanCodes.h[0|e.scanCode]=s;s=i+1;this.pressedKeyCodes.h[0|e.keyCode]=s,0==t&&ceramic_App.app.beginUpdateCallbacks.push((function(){var t;1==(null!=(t=n.pressedScanCodes.h[0|e.scanCode])?t:0)&&(n.pressedScanCodes.h[0|e.scanCode]=2),1==(null!=(t=n.pressedKeyCodes.h[0|e.keyCode])?t:0)&&(n.pressedKeyCodes.h[0|e.keyCode]=2)}))},willEmitKeyUp:function(e){var n=this,t=this.pressedScanCodes.h[0|e.scanCode];0!=(null!=t?t:0)&&(this.pressedScanCodes.h[0|e.scanCode]=-1,this.pressedKeyCodes.h[0|e.keyCode]=-1,ceramic_App.app.beginUpdateCallbacks.push((function(){var t;-1==(null!=(t=n.pressedScanCodes.h[0|e.scanCode])?t:0)&&(n.pressedScanCodes.h[0|e.scanCode]=0),-1==(null!=(t=n.pressedKeyCodes.h[0|e.keyCode])?t:0)&&(n.pressedKeyCodes.h[0|e.keyCode]=0)})))},_keyPressed:function(e){var n=this.pressedKeyCodes.h[0|e];return(null!=n?n:0)>0},_keyJustPressed:function(e){var n=this.pressedKeyCodes.h[0|e];return 1==(null!=n?n:0)},_keyJustReleased:function(e){var n=this.pressedKeyCodes.h[0|e];return-1==(null!=n?n:0)},_scanPressed:function(e){var n=this.pressedScanCodes.h[0|e];return(null!=n?n:0)>0},_scanJustPressed:function(e){var n=this.pressedScanCodes.h[0|e];return 1==(null!=n?n:0)},_scanJustReleased:function(e){var n=this.pressedScanCodes.h[0|e];return-1==(null!=n?n:0)},willEmitGamepadEnable:function(e,n){for(var t=32*e,i=0;i<32;){var s=t+i++;this.pressedGamepadButtons.h[0|s]=0,this.gamepadAxisValues.h[0|s]=0}-1==this.activeGamepads.indexOf(e)&&this.activeGamepads.push(e)},willEmitGamepadDisable:function(e){var n=this.activeGamepads.indexOf(e);-1!=n&&this.activeGamepads.splice(n,1)},willEmitGamepadDown:function(e,n){var t=this,i=32*e+n,s=null!=(r=this.pressedGamepadButtons.h[0|i])?r:0;-1==s&&(s=0);var r=s+1;this.pressedGamepadButtons.h[0|i]=r,0==s&&ceramic_App.app.beginUpdateCallbacks.push((function(){var e=t.pressedGamepadButtons.h[0|i];1==(null!=e?e:0)&&(t.pressedGamepadButtons.h[0|i]=2)}))},willEmitGamepadUp:function(e,n){var t=this,i=32*e+n;this.pressedGamepadButtons.h[0|i]=-1,ceramic_App.app.beginUpdateCallbacks.push((function(){var e=t.pressedGamepadButtons.h[0|i];-1==(null!=e?e:0)&&(t.pressedGamepadButtons.h[0|i]=0)}))},_gamepadPressed:function(e,n){var t=32*e+n,i=this.pressedGamepadButtons.h[0|t];return(null!=i?i:0)>0},_gamepadJustPressed:function(e,n){var t=32*e+n,i=this.pressedGamepadButtons.h[0|t];return 1==(null!=i?i:0)},_gamepadJustReleased:function(e,n){var t=32*e+n,i=this.pressedGamepadButtons.h[0|t];return-1==(null!=i?i:0)},willEmitGamepadAxis:function(e,n,t){var i=32*e+n;this.gamepadAxisValues.h[0|i]=t},gamepadAxisValue:function(e,n){var t=32*e+n,i=this.gamepadAxisValues.h[0|t];return null!=i?i:0},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offKeyDown(),this.offKeyUp(),this.offGamepadAxis(),this.offGamepadDown(),this.offGamepadUp(),this.offGamepadEnable(),this.offGamepadDisable()},__class__:ceramic_Input});var ceramic_IntMap=function(e,n,t){null==t&&(t=!1),null==n&&(n=.5),null==e&&(e=16),this.iterableKeys=null,this.nextFreeIndex=0;var i=new haxe_ds_IntMap;this.keys=i;i=new Array(e);this.values=i,t&&(this.iterableKeys=[])};t["ceramic.IntMap"]=ceramic_IntMap,ceramic_IntMap.__name__="ceramic.IntMap",ceramic_IntMap.prototype={get:function(e){var n=this.keys.h[0|e],t=null!=n?n:0;return t>=2?this.values[t-2]:ceramic_IntMap.RET_NULL},getInline:function(e){var n=this.keys.h[0|e],t=null!=n?n:0;return t>=2?this.values[t-2]:ceramic_IntMap.RET_NULL},exists:function(e){return this.keys.h.hasOwnProperty(0|e)},existsInline:function(e){return this.keys.h.hasOwnProperty(0|e)},set:function(e,n){var t=this.keys.h[0|e],i=null!=t?t:0;if(i>=2)i-=2,null!=n?this.values[i]=n:(this.values[i]=null,this.nextFreeIndex>i&&(this.nextFreeIndex=i),this.keys.h[0|e]=1);else if(null==n)1!=i&&(this.keys.h[0|e]=1,null!=this.iterableKeys&&this.iterableKeys.push(e));else{var s=this.values.length;this.nextFreeIndex>=s&&this.resizeValues(2*this.values.length),this.values[this.nextFreeIndex]=n;n=this.nextFreeIndex+2;for(this.keys.h[0|e]=n,1!=i&&null!=this.iterableKeys&&this.iterableKeys.push(e);this.nextFreeIndex++,this.nextFreeIndex<s&&null!=this.values[this.nextFreeIndex];);}},remove:function(e){var n=this.keys.h[0|e],t=null!=n?n:0;if(0!=t){1!=t&&(t-=2,this.values[t]=null,this.nextFreeIndex>t&&(this.nextFreeIndex=t));this.keys.remove(0|e);null!=this.iterableKeys&&this.iterableKeys.splice(this.iterableKeys.indexOf(e),1)}},copy:function(){var e=new ceramic_IntMap;e.keys=this.keys.copy(),e.nextFreeIndex=this.nextFreeIndex,e.iterableKeys=null!=this.iterableKeys?this.iterableKeys.slice():null;var n=this.values,t=new Array(n.length);return R.blit(n,0,t,0,n.length),e.values=t,e},resizeValues:function(e){var n=this.values,t=new Array(e);this.values=t;for(var i=0,s=n.length;i<s;){var r=i++;this.values[r]=n[r]}},__class__:ceramic_IntMap};var ceramic_Key=function(e,n){this.keyCode=e,this.scanCode=n};t["ceramic.Key"]=ceramic_Key,ceramic_Key.__name__="ceramic.Key",ceramic_Key.prototype={get_keyCodeName:function(){return d.$name(this.keyCode)},get_scanCodeName:function(){return b.$name(this.scanCode)},toString:function(){return"Key("+this.keyCode+" "+d.$name(this.keyCode)+" / "+this.scanCode+" "+b.$name(this.scanCode)+")"},__class__:ceramic_Key,__properties__:{get_scanCodeName:"get_scanCodeName",get_keyCodeName:"get_keyCodeName"}};var d={$name:function(e){if(0!=(e&b.MASK))return b.$name(e&~b.MASK);switch(e){case 8:return b.$name(42);case 9:return b.$name(43);case 13:return b.$name(40);case 27:return b.$name(41);case 32:return b.$name(44);case 97:return b.$name(4);case 98:return b.$name(5);case 99:return b.$name(6);case 100:return b.$name(7);case 101:return b.$name(8);case 102:return b.$name(9);case 103:return b.$name(10);case 104:return b.$name(11);case 105:return b.$name(12);case 106:return b.$name(13);case 107:return b.$name(14);case 108:return b.$name(15);case 109:return b.$name(16);case 110:return b.$name(17);case 111:return b.$name(18);case 112:return b.$name(19);case 113:return b.$name(20);case 114:return b.$name(21);case 115:return b.$name(22);case 116:return b.$name(23);case 117:return b.$name(24);case 118:return b.$name(25);case 119:return b.$name(26);case 120:return b.$name(27);case 121:return b.$name(28);case 122:return b.$name(29);case 127:return b.$name(76);default:return String.fromCodePoint(e)}},toString:function(e){return"KeyCode("+e+" "+d.$name(e)+")"}},polyline_MiterUtils=function(){this.tmpY=0,this.tmpX=0,this.outY=0,this.outX=0,this.bY=0,this.bX=0,this.aY=0,this.aX=0,this.miterY=0,this.miterX=0,this.tangentY=0,this.tangentX=0};t["polyline.MiterUtils"]=polyline_MiterUtils,polyline_MiterUtils.__name__="polyline.MiterUtils",polyline_MiterUtils.prototype={computeMiter:function(e){return this.tangentX=this.aX+this.bX,this.tangentY=this.aY+this.bY,this.miterX=-this.tangentY,this.miterY=this.tangentX,this.tmpX=-this.aY,this.tmpY=this.aX,e/(this.miterX*this.tmpX+this.miterY*this.tmpY)},normal:function(e,n){this.outX=-n,this.outY=e},direction:function(){this.outX=this.aX-this.bX,this.outY=this.aY-this.bY;var e=this.outX*this.outX+this.outY*this.outY;e>0&&(e=1/Math.sqrt(e),this.outX*=e,this.outY*=e)},__class__:polyline_MiterUtils};var polyline_Stroke=function(){this._points=null,this._started=!1,this._lastFlip=-1,this._normalY=0,this._normalX=0,this._hasNormal=!1,this.capEndY=0,this.capEndX=0,this.miterY=0,this.miterX=0,this.tangentY=0,this.tangentX=0,this.lineBY=0,this.lineBX=0,this.lineAY=0,this.lineAX=0,this.tmpY=0,this.tmpX=0,this.canLoop=!1,this.cap=H.BUTT,this.join=z.MITER,this.thickness=1,this.miterLimit=10};t["polyline.Stroke"]=polyline_Stroke,polyline_Stroke.__name__="polyline.Stroke",polyline_Stroke.prototype={build:function(e,n,t){if(n.length>0&&n.splice(0,n.length),t.length>0&&t.splice(0,t.length),0!=e.length){var i=e.length;this._lastFlip=-1,this._started=!1,this._hasNormal=!1;var s=2,r=0,l=!1,a=0,h=0,c=0,o=0,u=-9999999999,_=-9999999999,d=0;for(this._points=e;s<i;){if(l||(a=e[s-2],h=e[s-1],c=e[s],o=e[s+1]),u=-9999999999,_=-9999999999,l=!1,d=this.mapThickness(c,o,s,e),s<i-2)if(u=e[s+2],_=e[s+3],c==u&&o==_)l=!0;else{var b=a-c,f=h-o,p=((u-c)*b+(_-o)*f)/(b*b+f*f),O=u-(c+p*b),g=_-(o+p*f);if(Math.sqrt(O*O+g*g)<d){for(var m=Math.atan2(h-o,a-c)-Math.atan2(_-o,u-c);m<0;)m+=6.28318530718;for(;m>6.28318530718;)m-=6.28318530718;(m<1.57079632679||m>4.71238898038)&&(u=-9999999999,_=-9999999999)}}if(!l){var w=a,v=h,y=c,U=o,x=.5*d,C=0,D=this.cap==H.SQUARE,T=this.join==z.BEVEL;polyline_Stroke.miterUtils.aX=y,polyline_Stroke.miterUtils.aY=U,polyline_Stroke.miterUtils.bX=w,polyline_Stroke.miterUtils.bY=v;var E=polyline_Stroke.miterUtils;E.outX=E.aX-E.bX,E.outY=E.aY-E.bY;var S=E.outX*E.outX+E.outY*E.outY;if(S>0&&(S=1/Math.sqrt(S),E.outX*=S,E.outY*=S),this.lineAX=polyline_Stroke.miterUtils.outX,this.lineAY=polyline_Stroke.miterUtils.outY,!this._hasNormal){var A=polyline_Stroke.miterUtils;A.outX=-this.lineAY,A.outY=this.lineAX,this._normalX=polyline_Stroke.miterUtils.outX,this._normalY=polyline_Stroke.miterUtils.outY,this._hasNormal=!0}if(!this._started){this._started=!0;var M=.5*this.mapThickness(this._points[0],this._points[1],0,this._points);D&&(this.capEndX=w+this.lineAX*-M,this.capEndY=v+this.lineAY*-M,w=this.capEndX,v=this.capEndY);var F=this._normalX,P=this._normalY;this.tmpX=w+F*-M,this.tmpY=v+P*-M,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=w+F*M,this.tmpY=v+P*M,n.push(this.tmpX),n.push(this.tmpY)}if(t.push(r),t.push(r+1),t.push(r+2),-9999999999==u){var R=polyline_Stroke.miterUtils;R.outX=-this.lineAY,R.outY=this.lineAX,this._normalX=polyline_Stroke.miterUtils.outX,this._normalY=polyline_Stroke.miterUtils.outY,this._hasNormal=!0,D&&(this.capEndX=y+this.lineAX*x,this.capEndY=U+this.lineAY*x,y=this.capEndX,U=this.capEndY);var I=this._normalX,k=this._normalY;this.tmpX=y+I*-x,this.tmpY=U+k*-x,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=y+I*x,this.tmpY=U+k*x,n.push(this.tmpX),n.push(this.tmpY),1==this._lastFlip?(t.push(r),t.push(r+2),t.push(r+3)):(t.push(r+2),t.push(r+1),t.push(r+3)),C+=4}else{polyline_Stroke.miterUtils.aX=u,polyline_Stroke.miterUtils.aY=_,polyline_Stroke.miterUtils.bX=y,polyline_Stroke.miterUtils.bY=U;var B=polyline_Stroke.miterUtils;B.outX=B.aX-B.bX,B.outY=B.aY-B.bY;var L=B.outX*B.outX+B.outY*B.outY;L>0&&(L=1/Math.sqrt(L),B.outX*=L,B.outY*=L),this.lineBX=polyline_Stroke.miterUtils.outX,this.lineBY=polyline_Stroke.miterUtils.outY,polyline_Stroke.miterUtils.tangentX=this.tangentX,polyline_Stroke.miterUtils.tangentY=this.tangentY,polyline_Stroke.miterUtils.miterX=this.miterX,polyline_Stroke.miterUtils.miterY=this.miterY,polyline_Stroke.miterUtils.aX=this.lineAX,polyline_Stroke.miterUtils.aY=this.lineAY,polyline_Stroke.miterUtils.bX=this.lineBX,polyline_Stroke.miterUtils.bY=this.lineBY;var N=polyline_Stroke.miterUtils;N.tangentX=N.aX+N.bX,N.tangentY=N.aY+N.bY,N.miterX=-N.tangentY,N.miterY=N.tangentX,N.tmpX=-N.aY,N.tmpY=N.aX;var W=x/(N.miterX*N.tmpX+N.miterY*N.tmpY);this.tangentX=polyline_Stroke.miterUtils.tangentX,this.tangentY=polyline_Stroke.miterUtils.tangentY,this.miterX=polyline_Stroke.miterUtils.miterX,this.miterY=polyline_Stroke.miterUtils.miterY;var K=this.tangentX*this._normalX+this.tangentY*this._normalY<0?-1:1,G=T;if(!G&&this.join==z.MITER)W/x>this.miterLimit&&(G=!0);if(G){this.tmpX=y+this._normalX*-x*K,this.tmpY=U+this._normalY*-x*K,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=y+this.miterX*W*K,this.tmpY=U+this.miterY*W*K,n.push(this.tmpX),n.push(this.tmpY),this._lastFlip!=-K?(t.push(r),t.push(r+2),t.push(r+3)):(t.push(r+2),t.push(r+1),t.push(r+3)),t.push(r+2),t.push(r+3),t.push(r+4);var Y=polyline_Stroke.miterUtils;Y.outX=-this.lineBY,Y.outY=this.lineBX,this.tmpX=polyline_Stroke.miterUtils.outX,this.tmpY=polyline_Stroke.miterUtils.outY,this._normalX=this.tmpX,this._normalY=this.tmpY,this.tmpX=y+this.tmpX*-x*K,this.tmpY=U+this.tmpY*-x*K,n.push(this.tmpX),n.push(this.tmpY),C+=3}else{var X=this.miterX,V=this.miterY;this.tmpX=y+X*-W,this.tmpY=U+V*-W,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=y+X*W,this.tmpY=U+V*W,n.push(this.tmpX),n.push(this.tmpY),1==this._lastFlip?(t.push(r),t.push(r+2),t.push(r+3)):(t.push(r+2),t.push(r+1),t.push(r+3)),K=-1,this._normalX=this.miterX,this._normalY=this.miterY,C+=2}this._lastFlip=K}r+=C}-9999999999==u&&(this._lastFlip=-1,this._started=!1,this._hasNormal=!1,l=!1),s+=2}if(this._points=null,this.canLoop&&this.cap==H.BUTT&&e[0]==e[e.length-2]&&e[1]==e[e.length-1]&&e.length>6){var j=.5*(n[n.length-2]+n[2]),$=.5*(n[n.length-1]+n[3]);n[n.length-2]=j,n[2]=j,n[n.length-1]=$,n[3]=$,j=.5*(n[n.length-4]+n[0]),$=.5*(n[n.length-3]+n[1]),n[n.length-4]=j,n[0]=j,n[n.length-3]=$,n[1]=$}}},mapThickness:function(e,n,t,i){return this.thickness},_seg:function(e,n,t,i,s,r,l,a,h,c){var o=0,u=this.cap==H.SQUARE,_=this.join==z.BEVEL;(polyline_Stroke.miterUtils.aX=r,polyline_Stroke.miterUtils.aY=l,polyline_Stroke.miterUtils.bX=i,polyline_Stroke.miterUtils.bY=s,(w=polyline_Stroke.miterUtils).outX=w.aX-w.bX,w.outY=w.aY-w.bY,(p=w.outX*w.outX+w.outY*w.outY)>0&&(p=1/Math.sqrt(p),w.outX*=p,w.outY*=p),this.lineAX=polyline_Stroke.miterUtils.outX,this.lineAY=polyline_Stroke.miterUtils.outY,this._hasNormal)||((w=polyline_Stroke.miterUtils).outX=-this.lineAY,w.outY=this.lineAX,this._normalX=polyline_Stroke.miterUtils.outX,this._normalY=polyline_Stroke.miterUtils.outY,this._hasNormal=!0);if(!this._started){this._started=!0;var d=.5*this.mapThickness(this._points[0],this._points[1],0,this._points);u&&(this.capEndX=i+this.lineAX*-d,this.capEndY=s+this.lineAY*-d,i=this.capEndX,s=this.capEndY);var b=this._normalX,f=this._normalY;this.tmpX=i+b*-d,this.tmpY=s+f*-d,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=i+b*d,this.tmpY=s+f*d,e.push(this.tmpX),e.push(this.tmpY)}if(n.push(t),n.push(t+1),n.push(t+2),-9999999999==a){(w=polyline_Stroke.miterUtils).outX=-this.lineAY,w.outY=this.lineAX,this._normalX=polyline_Stroke.miterUtils.outX,this._normalY=polyline_Stroke.miterUtils.outY,this._hasNormal=!0,u&&(this.capEndX=r+this.lineAX*c,this.capEndY=l+this.lineAY*c,r=this.capEndX,l=this.capEndY);b=this._normalX,f=this._normalY;this.tmpX=r+b*-c,this.tmpY=l+f*-c,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=r+b*c,this.tmpY=l+f*c,e.push(this.tmpX),e.push(this.tmpY),1==this._lastFlip?(n.push(t),n.push(t+2),n.push(t+3)):(n.push(t+2),n.push(t+1),n.push(t+3)),o+=4}else{var p;polyline_Stroke.miterUtils.aX=a,polyline_Stroke.miterUtils.aY=h,polyline_Stroke.miterUtils.bX=r,polyline_Stroke.miterUtils.bY=l,(w=polyline_Stroke.miterUtils).outX=w.aX-w.bX,w.outY=w.aY-w.bY,(p=w.outX*w.outX+w.outY*w.outY)>0&&(p=1/Math.sqrt(p),w.outX*=p,w.outY*=p),this.lineBX=polyline_Stroke.miterUtils.outX,this.lineBY=polyline_Stroke.miterUtils.outY,polyline_Stroke.miterUtils.tangentX=this.tangentX,polyline_Stroke.miterUtils.tangentY=this.tangentY,polyline_Stroke.miterUtils.miterX=this.miterX,polyline_Stroke.miterUtils.miterY=this.miterY,polyline_Stroke.miterUtils.aX=this.lineAX,polyline_Stroke.miterUtils.aY=this.lineAY,polyline_Stroke.miterUtils.bX=this.lineBX,polyline_Stroke.miterUtils.bY=this.lineBY,(w=polyline_Stroke.miterUtils).tangentX=w.aX+w.bX,w.tangentY=w.aY+w.bY,w.miterX=-w.tangentY,w.miterY=w.tangentX,w.tmpX=-w.aY,w.tmpY=w.aX;var O=c/(w.miterX*w.tmpX+w.miterY*w.tmpY);this.tangentX=polyline_Stroke.miterUtils.tangentX,this.tangentY=polyline_Stroke.miterUtils.tangentY,this.miterX=polyline_Stroke.miterUtils.miterX,this.miterY=polyline_Stroke.miterUtils.miterY;var g=this.tangentX*this._normalX+this.tangentY*this._normalY<0?-1:1,m=_;if(!m&&this.join==z.MITER)O/c>this.miterLimit&&(m=!0);if(m){var w;this.tmpX=r+this._normalX*-c*g,this.tmpY=l+this._normalY*-c*g,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=r+this.miterX*O*g,this.tmpY=l+this.miterY*O*g,e.push(this.tmpX),e.push(this.tmpY),this._lastFlip!=-g?(n.push(t),n.push(t+2),n.push(t+3)):(n.push(t+2),n.push(t+1),n.push(t+3)),n.push(t+2),n.push(t+3),n.push(t+4),(w=polyline_Stroke.miterUtils).outX=-this.lineBY,w.outY=this.lineBX,this.tmpX=polyline_Stroke.miterUtils.outX,this.tmpY=polyline_Stroke.miterUtils.outY,this._normalX=this.tmpX,this._normalY=this.tmpY,this.tmpX=r+this.tmpX*-c*g,this.tmpY=l+this.tmpY*-c*g,e.push(this.tmpX),e.push(this.tmpY),o+=3}else{b=this.miterX,f=this.miterY;this.tmpX=r+b*-O,this.tmpY=l+f*-O,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=r+b*O,this.tmpY=l+f*O,e.push(this.tmpX),e.push(this.tmpY),1==this._lastFlip?(n.push(t),n.push(t+2),n.push(t+3)):(n.push(t+2),n.push(t+1),n.push(t+3)),g=-1,this._normalX=this.miterX,this._normalY=this.miterY,o+=2}this._lastFlip=g}return o},extrusions:function(e,n,t,i,s,r){this.tmpX=n+i*-r,this.tmpY=t+s*-r,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=n+i*r,this.tmpY=t+s*r,e.push(this.tmpX),e.push(this.tmpY)},pointsAngle:function(e,n,t,i,s,r){for(var l=Math.atan2(r-n,s-e)-Math.atan2(i-n,t-e);l<0;)l+=6.28318530718;for(;l>6.28318530718;)l-=6.28318530718;return l},distanceToLine:function(e,n,t,i,s,r){var l=s-t,a=r-i,h=((e-t)*l+(n-i)*a)/(l*l+a*a),c=e-(t+h*l),o=n-(i+h*a);return Math.sqrt(c*c+o*o)},__class__:polyline_Stroke};var ceramic_Line=function(){this.autoComputeSize=!0,this.loop=!1,this.cap=H.BUTT,this.join=z.BEVEL,this.thickness=1,this.miterLimit=10,this.points=null,ceramic_Mesh.call(this)};t["ceramic.Line"]=ceramic_Line,ceramic_Line.__name__="ceramic.Line",ceramic_Line.__super__=ceramic_Mesh,ceramic_Line.prototype=$extend(ceramic_Mesh.prototype,{set_points:function(e){return this.points=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,e},set_miterLimit:function(e){return this.miterLimit==e||(this.miterLimit=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_thickness:function(e){return this.thickness==e||(this.thickness=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_join:function(e){return this.join==e||(this.join=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_cap:function(e){return this.cap==e||(this.cap=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_loop:function(e){return this.loop==e||(this.loop=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_autoComputeSize:function(e){return this.autoComputeSize==e||(this.autoComputeSize=e,e&&this.computeSize()),e},computeContent:function(){null!=this.points&&this.points.length>=4&&(ceramic_Line._stroke.miterLimit=this.miterLimit,ceramic_Line._stroke.thickness=this.thickness,ceramic_Line._stroke.join=this.join,ceramic_Line._stroke.cap=this.cap,ceramic_Line._stroke.canLoop=this.loop,null==this.vertices&&(this.vertices=[]),null==this.indices&&(this.indices=[]),ceramic_Line._stroke.build(this.points,this.vertices,this.indices)),this.autoComputeSize&&this.computeSize(),this.contentDirty=!1},computeSize:function(){if(null!=this.points&&this.points.length>=2){for(var e=0,n=0,t=0,i=this.points.length-1;t<i;){var s=this.points[t];s>e&&(e=s),++t;var r=this.points[t];r>n&&(n=r),++t}this.set_width(e),this.set_height(n)}else this.set_width(0),this.set_height(0)},__class__:ceramic_Line,__properties__:$extend(ceramic_Mesh.prototype.__properties__,{set_autoComputeSize:"set_autoComputeSize",set_loop:"set_loop",set_cap:"set_cap",set_join:"set_join",set_thickness:"set_thickness",set_miterLimit:"set_miterLimit",set_points:"set_points"})});var ceramic_Logger=function(){this.indentPrefix="",ceramic_Entity.call(this),ceramic_Logger.didInitOnce||(ceramic_Logger.didInitOnce=!0)};t["ceramic.Logger"]=ceramic_Logger,ceramic_Logger.__name__="ceramic.Logger",ceramic_Logger.__super__=ceramic_Entity,ceramic_Logger.prototype=$extend(ceramic_Entity.prototype,{emitInfo:function(e,n){var t=0;if(null!=this.__cbOnInfo&&(t+=this.__cbOnInfo.length),null!=this.__cbOnceInfo&&(t+=this.__cbOnceInfo.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnInfo)for(var l=0,a=this.__cbOnInfo.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnInfo[h],++r):--t}if(null!=this.__cbOnceInfo){var c=null,o=null;for(l=0,a=this.__cbOnceInfo.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceInfo[h],this.__cbOnceInfo[h]=null;var u=this.__cbOnceOwnerUnbindInfo[h];this.__cbOnceOwnerUnbindInfo[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindInfo[h]),o.push(this.__cbOnceInfo[h])}this.__cbOnceOwnerUnbindInfo=c,this.__cbOnceInfo=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onInfo:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event info because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offInfo(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindInfo&&(this.__cbOnOwnerUnbindInfo=[]),this.__cbOnOwnerUnbindInfo.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindInfo&&(this.__cbOnOwnerUnbindInfo=[]),this.__cbOnOwnerUnbindInfo.push(null);null==this.__cbOnInfo&&(this.__cbOnInfo=[]),this.__cbOnInfo.push(n)},onceInfo:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event info because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offInfo(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindInfo&&(this.__cbOnceOwnerUnbindInfo=[]),this.__cbOnceOwnerUnbindInfo.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindInfo&&(this.__cbOnceOwnerUnbindInfo=[]),this.__cbOnceOwnerUnbindInfo.push(null);null==this.__cbOnceInfo&&(this.__cbOnceInfo=[]),this.__cbOnceInfo.push(n)},offInfo:function(e){if(null!=e){var n;null!=this.__cbOnInfo&&-1!=(n=this.__cbOnInfo.indexOf(e))&&(this.__cbOnInfo.splice(n,1),null!=(r=this.__cbOnOwnerUnbindInfo[n])&&r(),this.__cbOnOwnerUnbindInfo.splice(n,1)),null!=this.__cbOnceInfo&&-1!=(n=this.__cbOnceInfo.indexOf(e))&&(this.__cbOnceInfo.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindInfo[n])&&r(),this.__cbOnceOwnerUnbindInfo.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInfo){for(var t=0,i=this.__cbOnOwnerUnbindInfo.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindInfo[s])&&r()}this.__cbOnOwnerUnbindInfo=null}if(null!=this.__cbOnceOwnerUnbindInfo){for(t=0,i=this.__cbOnceOwnerUnbindInfo.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindInfo[s])&&r()}this.__cbOnceOwnerUnbindInfo=null}this.__cbOnInfo=null,this.__cbOnceInfo=null}},listensInfo:function(){return null!=this.__cbOnInfo&&this.__cbOnInfo.length>0||null!=this.__cbOnceInfo&&this.__cbOnceInfo.length>0},emitDebug:function(e,n){var t=0;if(null!=this.__cbOnDebug&&(t+=this.__cbOnDebug.length),null!=this.__cbOnceDebug&&(t+=this.__cbOnceDebug.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnDebug)for(var l=0,a=this.__cbOnDebug.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnDebug[h],++r):--t}if(null!=this.__cbOnceDebug){var c=null,o=null;for(l=0,a=this.__cbOnceDebug.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceDebug[h],this.__cbOnceDebug[h]=null;var u=this.__cbOnceOwnerUnbindDebug[h];this.__cbOnceOwnerUnbindDebug[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindDebug[h]),o.push(this.__cbOnceDebug[h])}this.__cbOnceOwnerUnbindDebug=c,this.__cbOnceDebug=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onDebug:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event debug because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDebug(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDebug&&(this.__cbOnOwnerUnbindDebug=[]),this.__cbOnOwnerUnbindDebug.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDebug&&(this.__cbOnOwnerUnbindDebug=[]),this.__cbOnOwnerUnbindDebug.push(null);null==this.__cbOnDebug&&(this.__cbOnDebug=[]),this.__cbOnDebug.push(n)},onceDebug:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event debug because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDebug(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDebug&&(this.__cbOnceOwnerUnbindDebug=[]),this.__cbOnceOwnerUnbindDebug.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDebug&&(this.__cbOnceOwnerUnbindDebug=[]),this.__cbOnceOwnerUnbindDebug.push(null);null==this.__cbOnceDebug&&(this.__cbOnceDebug=[]),this.__cbOnceDebug.push(n)},offDebug:function(e){if(null!=e){var n;null!=this.__cbOnDebug&&-1!=(n=this.__cbOnDebug.indexOf(e))&&(this.__cbOnDebug.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDebug[n])&&r(),this.__cbOnOwnerUnbindDebug.splice(n,1)),null!=this.__cbOnceDebug&&-1!=(n=this.__cbOnceDebug.indexOf(e))&&(this.__cbOnceDebug.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDebug[n])&&r(),this.__cbOnceOwnerUnbindDebug.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDebug){for(var t=0,i=this.__cbOnOwnerUnbindDebug.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindDebug[s])&&r()}this.__cbOnOwnerUnbindDebug=null}if(null!=this.__cbOnceOwnerUnbindDebug){for(t=0,i=this.__cbOnceOwnerUnbindDebug.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindDebug[s])&&r()}this.__cbOnceOwnerUnbindDebug=null}this.__cbOnDebug=null,this.__cbOnceDebug=null}},listensDebug:function(){return null!=this.__cbOnDebug&&this.__cbOnDebug.length>0||null!=this.__cbOnceDebug&&this.__cbOnceDebug.length>0},emitSuccess:function(e,n){var t=0;if(null!=this.__cbOnSuccess&&(t+=this.__cbOnSuccess.length),null!=this.__cbOnceSuccess&&(t+=this.__cbOnceSuccess.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnSuccess)for(var l=0,a=this.__cbOnSuccess.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnSuccess[h],++r):--t}if(null!=this.__cbOnceSuccess){var c=null,o=null;for(l=0,a=this.__cbOnceSuccess.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceSuccess[h],this.__cbOnceSuccess[h]=null;var u=this.__cbOnceOwnerUnbindSuccess[h];this.__cbOnceOwnerUnbindSuccess[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindSuccess[h]),o.push(this.__cbOnceSuccess[h])}this.__cbOnceOwnerUnbindSuccess=c,this.__cbOnceSuccess=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onSuccess:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event success because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSuccess(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindSuccess&&(this.__cbOnOwnerUnbindSuccess=[]),this.__cbOnOwnerUnbindSuccess.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindSuccess&&(this.__cbOnOwnerUnbindSuccess=[]),this.__cbOnOwnerUnbindSuccess.push(null);null==this.__cbOnSuccess&&(this.__cbOnSuccess=[]),this.__cbOnSuccess.push(n)},onceSuccess:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event success because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSuccess(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindSuccess&&(this.__cbOnceOwnerUnbindSuccess=[]),this.__cbOnceOwnerUnbindSuccess.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindSuccess&&(this.__cbOnceOwnerUnbindSuccess=[]),this.__cbOnceOwnerUnbindSuccess.push(null);null==this.__cbOnceSuccess&&(this.__cbOnceSuccess=[]),this.__cbOnceSuccess.push(n)},offSuccess:function(e){if(null!=e){var n;null!=this.__cbOnSuccess&&-1!=(n=this.__cbOnSuccess.indexOf(e))&&(this.__cbOnSuccess.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSuccess[n])&&r(),this.__cbOnOwnerUnbindSuccess.splice(n,1)),null!=this.__cbOnceSuccess&&-1!=(n=this.__cbOnceSuccess.indexOf(e))&&(this.__cbOnceSuccess.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSuccess[n])&&r(),this.__cbOnceOwnerUnbindSuccess.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSuccess){for(var t=0,i=this.__cbOnOwnerUnbindSuccess.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindSuccess[s])&&r()}this.__cbOnOwnerUnbindSuccess=null}if(null!=this.__cbOnceOwnerUnbindSuccess){for(t=0,i=this.__cbOnceOwnerUnbindSuccess.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindSuccess[s])&&r()}this.__cbOnceOwnerUnbindSuccess=null}this.__cbOnSuccess=null,this.__cbOnceSuccess=null}},listensSuccess:function(){return null!=this.__cbOnSuccess&&this.__cbOnSuccess.length>0||null!=this.__cbOnceSuccess&&this.__cbOnceSuccess.length>0},emitWarning:function(e,n){var t=0;if(null!=this.__cbOnWarning&&(t+=this.__cbOnWarning.length),null!=this.__cbOnceWarning&&(t+=this.__cbOnceWarning.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnWarning)for(var l=0,a=this.__cbOnWarning.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnWarning[h],++r):--t}if(null!=this.__cbOnceWarning){var c=null,o=null;for(l=0,a=this.__cbOnceWarning.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceWarning[h],this.__cbOnceWarning[h]=null;var u=this.__cbOnceOwnerUnbindWarning[h];this.__cbOnceOwnerUnbindWarning[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindWarning[h]),o.push(this.__cbOnceWarning[h])}this.__cbOnceOwnerUnbindWarning=c,this.__cbOnceWarning=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onWarning:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event warning because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWarning(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindWarning&&(this.__cbOnOwnerUnbindWarning=[]),this.__cbOnOwnerUnbindWarning.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindWarning&&(this.__cbOnOwnerUnbindWarning=[]),this.__cbOnOwnerUnbindWarning.push(null);null==this.__cbOnWarning&&(this.__cbOnWarning=[]),this.__cbOnWarning.push(n)},onceWarning:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event warning because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWarning(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindWarning&&(this.__cbOnceOwnerUnbindWarning=[]),this.__cbOnceOwnerUnbindWarning.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindWarning&&(this.__cbOnceOwnerUnbindWarning=[]),this.__cbOnceOwnerUnbindWarning.push(null);null==this.__cbOnceWarning&&(this.__cbOnceWarning=[]),this.__cbOnceWarning.push(n)},offWarning:function(e){if(null!=e){var n;null!=this.__cbOnWarning&&-1!=(n=this.__cbOnWarning.indexOf(e))&&(this.__cbOnWarning.splice(n,1),null!=(r=this.__cbOnOwnerUnbindWarning[n])&&r(),this.__cbOnOwnerUnbindWarning.splice(n,1)),null!=this.__cbOnceWarning&&-1!=(n=this.__cbOnceWarning.indexOf(e))&&(this.__cbOnceWarning.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindWarning[n])&&r(),this.__cbOnceOwnerUnbindWarning.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWarning){for(var t=0,i=this.__cbOnOwnerUnbindWarning.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindWarning[s])&&r()}this.__cbOnOwnerUnbindWarning=null}if(null!=this.__cbOnceOwnerUnbindWarning){for(t=0,i=this.__cbOnceOwnerUnbindWarning.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindWarning[s])&&r()}this.__cbOnceOwnerUnbindWarning=null}this.__cbOnWarning=null,this.__cbOnceWarning=null}},listensWarning:function(){return null!=this.__cbOnWarning&&this.__cbOnWarning.length>0||null!=this.__cbOnceWarning&&this.__cbOnceWarning.length>0},emitError:function(e,n){var t=0;if(null!=this.__cbOnError&&(t+=this.__cbOnError.length),null!=this.__cbOnceError&&(t+=this.__cbOnceError.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnError)for(var l=0,a=this.__cbOnError.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnError[h],++r):--t}if(null!=this.__cbOnceError){var c=null,o=null;for(l=0,a=this.__cbOnceError.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceError[h],this.__cbOnceError[h]=null;var u=this.__cbOnceOwnerUnbindError[h];this.__cbOnceOwnerUnbindError[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindError[h]),o.push(this.__cbOnceError[h])}this.__cbOnceOwnerUnbindError=c,this.__cbOnceError=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onError:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event error because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offError(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindError&&(this.__cbOnOwnerUnbindError=[]),this.__cbOnOwnerUnbindError.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindError&&(this.__cbOnOwnerUnbindError=[]),this.__cbOnOwnerUnbindError.push(null);null==this.__cbOnError&&(this.__cbOnError=[]),this.__cbOnError.push(n)},onceError:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event error because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offError(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindError&&(this.__cbOnceOwnerUnbindError=[]),this.__cbOnceOwnerUnbindError.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindError&&(this.__cbOnceOwnerUnbindError=[]),this.__cbOnceOwnerUnbindError.push(null);null==this.__cbOnceError&&(this.__cbOnceError=[]),this.__cbOnceError.push(n)},offError:function(e){if(null!=e){var n;null!=this.__cbOnError&&-1!=(n=this.__cbOnError.indexOf(e))&&(this.__cbOnError.splice(n,1),null!=(r=this.__cbOnOwnerUnbindError[n])&&r(),this.__cbOnOwnerUnbindError.splice(n,1)),null!=this.__cbOnceError&&-1!=(n=this.__cbOnceError.indexOf(e))&&(this.__cbOnceError.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindError[n])&&r(),this.__cbOnceOwnerUnbindError.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindError){for(var t=0,i=this.__cbOnOwnerUnbindError.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindError[s])&&r()}this.__cbOnOwnerUnbindError=null}if(null!=this.__cbOnceOwnerUnbindError){for(t=0,i=this.__cbOnceOwnerUnbindError.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindError[s])&&r()}this.__cbOnceOwnerUnbindError=null}this.__cbOnError=null,this.__cbOnceError=null}},listensError:function(){return null!=this.__cbOnError&&this.__cbOnError.length>0||null!=this.__cbOnceError&&this.__cbOnceError.length>0},debug:function(e,n){this.emitDebug(e,n),haxe_Log.trace(this.prefixLines("[debug] ",e),n)},info:function(e,n){this.emitInfo(e,n),haxe_Log.trace(this.prefixLines("[info] ",e),n)},success:function(e,n){this.emitSuccess(e,n),haxe_Log.trace(this.prefixLines("[success] ",e),n)},warning:function(e,n){this.emitWarning(e,n),ceramic_Logger._hasElectronRunner?haxe_Log.trace(this.prefixLines("[warning] ",e),n):console.warn(e)},error:function(e,n){this.emitError(e,n),ceramic_Logger._hasElectronRunner?haxe_Log.trace(this.prefixLines("[error] ",e),n):console.error(e)},pushIndent:function(){this.indentPrefix+="    "},popIndent:function(){this.indentPrefix=this.indentPrefix.substring(0,this.indentPrefix.length-4)},prefixLines:function(e,n){for(var t=[],i=0,s=Std.string(n).split("\n");i<s.length;){var r=s[i];++i,t.push(e+this.indentPrefix+r)}return t.join("\n")},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offInfo(),this.offDebug(),this.offSuccess(),this.offWarning(),this.offError()},__class__:ceramic_Logger});var ceramic_MeshExtensions=function(){};t["ceramic.MeshExtensions"]=ceramic_MeshExtensions,ceramic_MeshExtensions.__name__="ceramic.MeshExtensions",ceramic_MeshExtensions.createQuad=function(e,n,t,i){null==i&&(i=-1),i<2&&(i=2+e.customFloatAttributesSize);var s=e.uvs;(s[7]=1,s[0]=0,s[1]=0,s[2]=1,s[3]=0,s[4]=1,s[5]=1,s[6]=0,s.length>8)&&(8!=s.length&&(s.length>8?s.splice(8,s.length-8):s[7]=null));var r=e.indices;(r[5]=3,r[0]=0,r[1]=1,r[2]=2,r[3]=0,r[4]=2,r.length>6)&&(6!=r.length&&(r.length>6?r.splice(6,r.length-6):r[5]=null));var l=e.vertices;l[4*i]=0;var a=0;l[a]=0,l[++a]=0,++a;for(var h=2,c=i;h<c;){h++;l[a]=0,++a}l[a]=n,l[++a]=0,++a;for(h=2,c=i;h<c;){h++;l[a]=0,++a}l[a]=n,l[++a]=t,++a;for(h=2,c=i;h<c;){h++;l[a]=0,++a}l[a]=0,l[++a]=t,++a;for(h=2,c=i;h<c;){h++;l[a]=0,++a}l.length>a&&(l.length!=a&&(l.length>a?l.splice(a,l.length-a):l[a-1]=null));e.set_width(n),e.set_height(t)},ceramic_MeshExtensions.setDarkColor=function(e,n){for(var t=e.vertices,i=6*Math.floor(t.length/6),s=0,r=(n>>16&255)/255,l=(n>>8&255)/255,a=(255&n)/255;s<i;)t[s+=2]=r,t[++s]=l,t[++s]=a,t[++s]=1,++s},ceramic_MeshExtensions.setDarkAlphaColor=function(e,n){for(var t=e.vertices,i=6*Math.floor(t.length/6),s=0,r=(n>>16&255)/255,l=(n>>8&255)/255,a=(255&n)/255,h=(n>>24&255)/255;s<i;)t[s+=2]=r,t[++s]=l,t[++s]=a,t[++s]=h,++s},ceramic_MeshExtensions.createArc=function(e,n,t,i,s,r){var l,a,h=Math.ceil(s*t/360),c=e.vertices,o=e.indices;0!=c.length&&(c.length>0?c.splice(0,c.length):c[-1]=null);0!=o.length&&(o.length>0?o.splice(0,o.length):o[-1]=null);var u,_,d=1.5*Math.PI,b=.017453292519943295*t/h;switch(r._hx_index){case 0:u=-i;break;case 1:u=0;break;case 2:u=.5*-i}switch(r._hx_index){case 0:_=0;break;case 1:_=i;break;case 2:_=.5*i}e.set_width(2*n),e.set_height(2*n);for(var f=0,p=h+1;f<p;){var O=f++,g=Math.cos(d+b*O),m=Math.sin(d+b*O);if(l=(n+u)*g,a=(n+u)*m,c.push(n+l),c.push(n+a),l=(n+_)*g,a=(n+_)*m,c.push(n+l),c.push(n+a),O>0){var w=2*(O-1);o.push(w),o.push(w+1),o.push(w+2),o.push(w+1),o.push(w+2),o.push(w+3)}}};var ceramic_Path=function(e){switch(e){case".":case"..":return this.dir=e,void(this.file="")}var n=e.lastIndexOf("/"),t=e.lastIndexOf("\\");n<t?(this.dir=HxOverrides.substr(e,0,t),e=HxOverrides.substr(e,t+1,null),this.backslash=!0):t<n?(this.dir=HxOverrides.substr(e,0,n),e=HxOverrides.substr(e,n+1,null)):this.dir=null;var i=e.lastIndexOf(".");-1!=i?(this.ext=HxOverrides.substr(e,i+1,null),this.file=HxOverrides.substr(e,0,i)):(this.ext=null,this.file=e)};t["ceramic.Path"]=ceramic_Path,ceramic_Path.__name__="ceramic.Path",ceramic_Path.withoutExtension=function(e){var n=new ceramic_Path(e);return n.ext=null,n.toString()},ceramic_Path.withoutDirectory=function(e){var n=new ceramic_Path(e);return n.dir=null,n.toString()},ceramic_Path.directory=function(e){var n=new ceramic_Path(e);return null==n.dir?"":n.dir},ceramic_Path.extension=function(e){var n=new ceramic_Path(e);return null==n.ext?"":n.ext},ceramic_Path.withExtension=function(e,n){var t=new ceramic_Path(e);return t.ext=n,t.toString()},ceramic_Path.join=function(e){for(var n=[],t=0,i=e;t<i.length;){var s=i[t];++t,null!=s&&""!=s&&n.push(s)}if(0==(e=n).length)return"";var r=e[0];for(n=1,t=e.length;n<t;){var l=n++;r=ceramic_Path.addTrailingSlash(r),r+=e[l]}return ceramic_Path.normalize(r)},ceramic_Path.normalize=function(e){var n="/";if((e=e.split("\\").join(n))==n)return n;for(var t=[],i=0,s=e.split(n);i<s.length;){var r=s[i];++i,".."==r&&t.length>0&&".."!=t[t.length-1]?t.pop():"."!=r&&t.push(r)}for(var l=t.join(n),a=-1;-1!=(a=l.indexOf("//"));)l=l.substring(0,a)+l.substring(a+1);var h="",c=!1,o=!1;for(i=0,s=l.length;i<s;){var u=i++,_=l.charCodeAt(u);switch(_){case 47:if(c){var d=_;c=!1,o&&(h+="/",o=!1),h+=String.fromCodePoint(d)}else o=!0;break;case 58:h+=":",c=!0;break;default:var b=_;c=!1,o&&(h+="/",o=!1),h+=String.fromCodePoint(b)}}return h},ceramic_Path.addTrailingSlash=function(e){if(0==e.length)return"/";var n=e.lastIndexOf("/"),t=e.lastIndexOf("\\");return n<t?t!=e.length-1?e+"\\":e:n!=e.length-1?e+"/":e},ceramic_Path.removeTrailingSlashes=function(e){e:for(;;){var n=HxOverrides.cca(e,e.length-1);if(null==n)break;switch(n){case 47:case 92:e=HxOverrides.substr(e,0,-1);break;default:break e}}return e},ceramic_Path.isAbsolute=function(e){return!!StringTools.startsWith(e,"/")||(":"==e.charAt(1)||!!StringTools.startsWith(e,"\\\\"))},ceramic_Path.prototype={toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:ceramic_Path};var ceramic_PersistentData=function(e){this.id=e;var n=ceramic_App.app.backend.io.readString("persistent_"+e);if(null!=n)try{var t=new haxe_Unserializer(n);this.internalData=t.unserialize()}catch(n){ceramic_App.app.logger.warning("Failed to read persistent data with id "+e,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/PersistentData.hx",lineNumber:22,className:"ceramic.PersistentData",methodName:"new"})}null==this.internalData&&(this.internalData={})};t["ceramic.PersistentData"]=ceramic_PersistentData,ceramic_PersistentData.__name__="ceramic.PersistentData",ceramic_PersistentData.prototype={get:function(e){return this.internalData[e]},set:function(e,n){this.internalData[e]=n},remove:function(e){Reflect.deleteField(this.internalData,e)},exists:function(e){return Object.prototype.hasOwnProperty.call(this.internalData,e)},keys:function(){return Reflect.fields(this.internalData)},save:function(){var e=new haxe_Serializer;e.serialize(this.internalData);var n=e.toString();ceramic_App.app.backend.io.saveString("persistent_"+this.id,n)},__class__:ceramic_PersistentData};var ceramic_PlatformSpecific=function(){};t["ceramic.PlatformSpecific"]=ceramic_PlatformSpecific,ceramic_PlatformSpecific.__name__="ceramic.PlatformSpecific",ceramic_PlatformSpecific.postAppInit=function(){},ceramic_PlatformSpecific.readStringFromAsset=function(e){return null},ceramic_PlatformSpecific.readBytesFromAsset=function(e){return null},ceramic_PlatformSpecific.getAssetsPath=function(){return null},ceramic_PlatformSpecific.getRtti=function(e){return haxe_rtti_Rtti.getRtti(e)},ceramic_PlatformSpecific.nodeRequire=function(e){return null},ceramic_PlatformSpecific.quit=function(){clay_Clay.app.shutdown()};var ceramic_PremultiplyAlpha=function(){};t["ceramic.PremultiplyAlpha"]=ceramic_PremultiplyAlpha,ceramic_PremultiplyAlpha.__name__="ceramic.PremultiplyAlpha",ceramic_PremultiplyAlpha.premultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],s=e[t+1],r=e[t+2],l=e[t+3]/255;e[t]=i*l|0,e[t+1]=s*l|0,e[t+2]=r*l|0,t+=4}},ceramic_PremultiplyAlpha.reversePremultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],s=e[t+1],r=e[t+2],l=e[t+3]/255;l>0&&(e[t]=i/l|0,e[t+1]=s/l|0,e[t+2]=r/l|0),t+=4}};var ceramic_Texture=function(e,n){null==n&&(n=-1),this.filter=g.LINEAR,this.isRenderTexture=!1,this.index=ceramic_Texture._nextIndex++,ceramic_Entity.call(this),-1==n&&(n=ceramic_App.app.screen.get_texturesDensity()),this.backendItem=e,this.set_density(n)};t["ceramic.Texture"]=ceramic_Texture,ceramic_Texture.__name__="ceramic.Texture",ceramic_Texture.fromPixels=function(e,n,t,i){null==i&&(i=1);var s=ceramic_App.app.backend.textures.createTexture(Math.round(e*i),Math.round(n*i),t);return new ceramic_Texture(s,i)},ceramic_Texture.__super__=ceramic_Entity,ceramic_Texture.prototype=$extend(ceramic_Entity.prototype,{get_textureId:function(){return this.backendItem.textureId},get_nativeWidth:function(){return this.backendItem.width},get_nativeHeight:function(){return this.backendItem.height},get_nativeWidthActual:function(){return this.backendItem.widthActual},get_nativeHeightActual:function(){return this.backendItem.heightActual},set_density:function(e){return this.density==e||(this.density=e,this.width=this.backendItem.width/e,this.height=this.backendItem.height/e),e},set_filter:function(e){if(this.filter==e)return e;this.filter=e;ceramic_App.app.backend.textures;var n=this.backendItem;switch(e._hx_index){case 0:n.set_filterMin(9729),n.set_filterMag(9729);break;case 1:n.set_filterMin(9728),n.set_filterMag(9728)}return e},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy(),ceramic_App.app.backend.textures.destroyTexture(this.backendItem),this.backendItem=null)},fetchPixels:function(e){return ceramic_App.app.backend.textures.fetchTexturePixels(this.backendItem,e)},submitPixels:function(e){ceramic_App.app.backend.textures.submitTexturePixels(this.backendItem,e)},_toPng:function(e,n){ceramic_App.app.backend.textures.textureToPng(this.backendItem,e,n)},toString:function(){if(null!=this.id){var e=this.id;return StringTools.startsWith(e,"texture:")&&(e=HxOverrides.substr(e,8,null)),"Texture("+e+" "+this.width+" "+this.height+" "+this.density+" #"+this.index+")"}return"Texture("+this.width+" "+this.height+" "+this.density+" #"+this.index+")"},__class__:ceramic_Texture,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_filter:"set_filter",set_density:"set_density",get_nativeHeightActual:"get_nativeHeightActual",get_nativeWidthActual:"get_nativeWidthActual",get_nativeHeight:"get_nativeHeight",get_nativeWidth:"get_nativeWidth",get_textureId:"get_textureId"})});var ceramic_RenderTexture=function(e,n,t){null==t&&(t=-1),this.priority=0,this.dependingTextures=null,this.renderDirty=!1,this.clearOnRender=!0,this.autoRender=!0,-1==t&&(t=ceramic_App.app.screen.get_texturesDensity());var i=ceramic_App.app.backend.textures,s=Math.round(e*t),r=Math.round(n*t),l="render:"+i.nextRenderIndex++,a=new clay_graphics_RenderTexture;a.id=l,a.width=s,a.height=r,a.stencil=!0,a.init(),i.loadedTexturesRetainCount.h[l]=1;var h=a;ceramic_Texture.call(this,h,t),this.isRenderTexture=!0,ceramic_App.app.renderTextures.push(this)};t["ceramic.RenderTexture"]=ceramic_RenderTexture,ceramic_RenderTexture.__name__="ceramic.RenderTexture",ceramic_RenderTexture.__super__=ceramic_Texture,ceramic_RenderTexture.prototype=$extend(ceramic_Texture.prototype,{destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Texture.prototype.destroy.call(this),HxOverrides.remove(ceramic_App.app.renderTextures,this))},stamp:function(e,n){this._stamp(e,n)},_stamp:function(e,n){var t=this,i=e.parent,s=e.renderTarget,r=e.visible;null!=i&&i.remove(e),e.set_renderTarget(this),e.set_visible(!0),ceramic_App.app.oncePreUpdate(this,(function(l){t.renderDirty=!0,ceramic_App.app.onceFinishDraw(t,(function(){e.set_visible(r),e.set_renderTarget(s),null!=i&&(i.add(e),i=null),e=null,s=null,n(),n=null}))}))},clear:function(e,n,t,i,s,r,l){(null==r&&(r=-1),null==s&&(s=-1),null==i&&(i=-1),null==t&&(t=-1),null==n&&(n=0),null==e&&(e=16777215),null==ceramic_RenderTexture._clearQuad)&&(ceramic_RenderTexture._clearQuad=new ceramic_Quad,ceramic_RenderTexture._clearQuad.set_active(!1),ceramic_RenderTexture._clearQuad.set_blending(4),(a=ceramic_RenderTexture._clearQuad).set_anchorX(0),a.set_anchorY(0));if(ceramic_RenderTexture._clearQuad.color=e,ceramic_RenderTexture._clearQuad.set_alpha(n),ceramic_RenderTexture._clearQuad.set_depth(-1),-1!=t&&-1!=i&&-1!=s&&-1!=r){(a=ceramic_RenderTexture._clearQuad).set_width(s),a.set_height(r),(a=ceramic_RenderTexture._clearQuad).set_x(t),a.set_y(i)}else{var a=ceramic_RenderTexture._clearQuad,h=this.height;a.set_width(this.width),a.set_height(h),(a=ceramic_RenderTexture._clearQuad).set_x(0),a.set_y(0)}this.stamp(ceramic_RenderTexture._clearQuad,l)},dependsOnTexture:function(e){if(null!=this.dependingTextures){var n=this.dependingTextures.h[0|e.index];return(null!=n?n:0)>0}return!1},dependsOnTextureCount:function(e){if(null!=this.dependingTextures){var n=this.dependingTextures.h[0|e.index];return null!=n?n:0}return 0},incrementDependingTextureCount:function(e){if(null==this.dependingTextures){var n=new haxe_ds_IntMap;this.dependingTextures=n}var t=(null!=(t=this.dependingTextures.h[0|e.index])?t:0)+1;this.dependingTextures.h[0|e.index]=t},resetDependingTextureCounts:function(){null!=this.dependingTextures&&(this.dependingTextures.h={})},toString:function(){if(null!=this.id){var e=this.id;return StringTools.startsWith(e,"texture:")&&(e=HxOverrides.substr(e,8,null)),"RenderTexture("+e+" "+this.width+" "+this.height+" "+this.density+" #"+this.index+"/"+this.priority+")"}return"RenderTexture("+this.width+" "+this.height+" "+this.density+" #"+this.index+"/"+this.priority+")"},__class__:ceramic_RenderTexture});var ceramic_Renderer=function(){this.activeShaderCanBatchMultipleTextures=!1,this.maxUsableTexturesInBatch=-1,this.usedTextures=0,this.usedTextureIndexes=[],this.z=0,this.stateDirty=!0,this.mesh=null,this.quad=null,this.defaultWhiteTexture=null,this.defaultTexturedShader=null,this.texHeightActual=0,this.texWidthActual=0,this.texHeight=0,this.texWidth=0,this.activeTextureSlot=0,this.lastClip=null,this.lastComputedBlending=1,this.lastRenderTarget=null,this.lastShader=null,this.lastTextureId=null,this.lastTexture=null,this.stencilClip=!1,this.customFloatAttributesSize=0,this.activeShader=null,this.drawCalls=0,ceramic_Entity.call(this)};t["ceramic.Renderer"]=ceramic_Renderer,ceramic_Renderer.__name__="ceramic.Renderer",ceramic_Renderer.__super__=ceramic_Entity,ceramic_Renderer.prototype=$extend(ceramic_Entity.prototype,{render:function(e,n){var t=ceramic_App.app.backend.draw;for(this.backendTextures=ceramic_App.app.backend.textures,this.backendShaders=ceramic_App.app.backend.shaders,this.defaultTexturedShader=ceramic_App.app.defaultTexturedShader.backendItem,this.defaultWhiteTexture=ceramic_App.app.defaultWhiteTexture,this.maxUsableTexturesInBatch=0|Math.min(this.backendTextures.maxTexturesByBatch(),this.backendShaders.maxIfStatementsByFragmentShader());this.usedTextureIndexes.length<this.maxUsableTexturesInBatch;)this.usedTextureIndexes.push(0);this.drawCalls=0,backend_Draw._activeTextureSlot=0,backend_Draw._buffersIndex=-1,t.prepareNextBuffers(),this.quad=null,this.mesh=null,this.lastTexture=null,this.lastTextureId=null,this.lastShader=null,this.lastRenderTarget=null,this.lastComputedBlending=1,this.lastClip=null,this.usedTextures=0,this.texWidth=0,this.texHeight=0,this.texWidthActual=0,this.texHeightActual=0,this.stencilClip=!1,this.z=0,this.stateDirty=!0;ceramic_App.app.defaultTexturedShader.backendItem;for(var i=ceramic_App.app.renderTextures,s=0,r=i.length;s<r;){(S=i[s++]).autoRender&&(S.renderDirty=!0)}if(clay_opengl_web_GL.gl.enableVertexAttribArray(0),clay_opengl_web_GL.gl.enableVertexAttribArray(1),clay_opengl_web_GL.gl.enableVertexAttribArray(2),this.usedTextures=this.maxUsableTexturesInBatch,this.unbindUsedTextures(t),backend_Draw._activeTextureSlot=0,0!=clay_opengl_GLGraphics._activeTextureSlot){for(clay_opengl_GLGraphics._activeTextureSlot=0;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984)}this.activeTextureSlot=0;var l=null;if(null==(E=!0)&&(E=!1),backend_Draw._currentRenderTarget!=l||E)if(backend_Draw._currentRenderTarget=l,null!=l){null!=(A=(S=l.backendItem).renderTarget)?(clay_opengl_GLGraphics.bindFramebuffer(A.framebuffer),clay_opengl_GLGraphics.bindRenderbuffer(A.renderbuffer)):(clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null));var a=0,h=0,c=((F=l.width)+a)/(k=F-a),o=(h+(P=l.height))/(B=h-P),u=((I=-1e3)+(R=1e3))/(L=I-R);(w=backend_Draw._projectionMatrix)[0]=2/k,w[4]=0,w[8]=0,w[12]=-c,w[1]=0,w[5]=2/B,w[9]=0,w[13]=-o,w[2]=0,w[6]=0,w[10]=-2/L,w[14]=-u,w[3]=0,w[7]=0,w[11]=0,w[15]=1,(_=backend_Draw._renderTargetTransform).a=1,_.b=0,_.c=0,_.d=1,_.tx=0,_.ty=0,_.changedDirty=!0;var _=backend_Draw._renderTargetTransform,d=l.density,b=l.density;_.a*=d,_.b*=b,_.c*=d,_.d*=b,_.tx*=d,_.ty*=b,_.changedDirty=!0;var f=l.density,p=l.width,O=l.height;if(null==(M=-1)&&(M=1),null!=(v=backend_Draw._renderTargetTransform)){if((_=backend_Draw._modelViewTransform).a=v.a,_.b=v.b,_.c=v.c,_.d=v.d,_.tx=v.tx,_.ty=v.ty,_.changedDirty=!0,0==(N=(_=backend_Draw._modelViewTransform).a*_.d-_.b*_.c))_.a=_.b=_.c=_.d=0,_.tx=-_.tx,_.ty=-_.ty;else{N=1/N;var g=_.d*N;_.d=_.a*N,_.a=g,_.b*=-N,_.c*=-N;var m=-_.a*_.tx-_.c*_.ty;_.ty=-_.b*_.tx-_.d*_.ty,_.tx=m}_.changedDirty=!0}else{(_=backend_Draw._modelViewTransform).a=1,_.b=0,_.c=0,_.d=1,_.tx=0,_.ty=0,_.changedDirty=!0}c=backend_Draw._modelViewTransform.tx,o=backend_Draw._modelViewTransform.ty;if((_=backend_Draw._modelViewTransform).tx+=-c,_.ty+=-o,_.changedDirty=!0,(_=backend_Draw._modelViewTransform).a*=f,_.b*=f,_.c*=f,_.d*=f,_.tx*=f,_.ty*=f,_.changedDirty=!0,(_=backend_Draw._modelViewTransform).tx+=c,_.ty+=o,_.changedDirty=!0,-1==M)(_=backend_Draw._modelViewTransform).tx+=.5*-p,_.ty+=.5*-O,_.changedDirty=!0,(_=backend_Draw._modelViewTransform).a*=1,_.b*=-1,_.c*=1,_.d*=-1,_.tx*=1,_.ty*=-1,_.changedDirty=!0,(_=backend_Draw._modelViewTransform).tx+=.5*p,_.ty+=.5*O,_.changedDirty=!0;if(0==(N=(_=backend_Draw._modelViewTransform).a*_.d-_.b*_.c))_.a=_.b=_.c=_.d=0,_.tx=-_.tx,_.ty=-_.ty;else{N=1/N;g=_.d*N;_.d=_.a*N,_.a=g,_.b*=-N,_.c*=-N;m=-_.a*_.tx-_.c*_.ty;_.ty=-_.b*_.tx-_.d*_.ty,_.tx=m}_.changedDirty=!0;var w=backend_Draw._modelViewMatrix,v=backend_Draw._modelViewTransform;w[0]=v.a,w[4]=v.c,w[8]=0,w[12]=v.tx,w[1]=v.b,w[5]=v.d,w[9]=0,w[13]=v.ty,w[2]=0,w[6]=0,w[10]=1,w[14]=0,w[3]=0,w[7]=0,w[11]=0,w[15]=1,clay_opengl_web_GL.gl.viewport(0,0,l.width*l.density|0,l.height*l.density|0),l.clearOnRender&&clay_opengl_GLGraphics.clear((backend_Draw._blackTransparentColor>>16&255)/255,(backend_Draw._blackTransparentColor>>8&255)/255,(255&backend_Draw._blackTransparentColor)/255,(backend_Draw._blackTransparentColor>>24&255)/255)}else{null!=(l=null)?(clay_opengl_GLGraphics.bindFramebuffer(l.framebuffer),clay_opengl_GLGraphics.bindRenderbuffer(l.renderbuffer)):(clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null));a=0,h=0,c=((F=clay_Clay.app.screenWidth)+a)/(k=F-a),o=(h+(P=clay_Clay.app.screenHeight))/(B=h-P),u=((I=-1e3)+(R=1e3))/(L=I-R);(w=backend_Draw._projectionMatrix)[0]=2/k,w[4]=0,w[8]=0,w[12]=-c,w[1]=0,w[5]=2/B,w[9]=0,w[13]=-o,w[2]=0,w[6]=0,w[10]=-2/L,w[14]=-u,w[3]=0,w[7]=0,w[11]=0,w[15]=1;f=clay_Clay.app.screenDensity,p=clay_Clay.app.screenWidth,O=clay_Clay.app.screenHeight;if(null!=(v=ceramic_App.app.screen.matrix)){if((_=backend_Draw._modelViewTransform).a=v.a,_.b=v.b,_.c=v.c,_.d=v.d,_.tx=v.tx,_.ty=v.ty,_.changedDirty=!0,0==(N=(_=backend_Draw._modelViewTransform).a*_.d-_.b*_.c))_.a=_.b=_.c=_.d=0,_.tx=-_.tx,_.ty=-_.ty;else{N=1/N;g=_.d*N;_.d=_.a*N,_.a=g,_.b*=-N,_.c*=-N;m=-_.a*_.tx-_.c*_.ty;_.ty=-_.b*_.tx-_.d*_.ty,_.tx=m}_.changedDirty=!0}else{(_=backend_Draw._modelViewTransform).a=1,_.b=0,_.c=0,_.d=1,_.tx=0,_.ty=0,_.changedDirty=!0}c=backend_Draw._modelViewTransform.tx,o=backend_Draw._modelViewTransform.ty;if((_=backend_Draw._modelViewTransform).tx+=-c,_.ty+=-o,_.changedDirty=!0,(_=backend_Draw._modelViewTransform).a*=f,_.b*=f,_.c*=f,_.d*=f,_.tx*=f,_.ty*=f,_.changedDirty=!0,(_=backend_Draw._modelViewTransform).tx+=c,_.ty+=o,_.changedDirty=!0,0==(N=(_=backend_Draw._modelViewTransform).a*_.d-_.b*_.c))_.a=_.b=_.c=_.d=0,_.tx=-_.tx,_.ty=-_.ty;else{N=1/N;g=_.d*N;_.d=_.a*N,_.a=g,_.b*=-N,_.c*=-N;m=-_.a*_.tx-_.c*_.ty;_.ty=-_.b*_.tx-_.d*_.ty,_.tx=m}_.changedDirty=!0;w=backend_Draw._modelViewMatrix,v=backend_Draw._modelViewTransform;w[0]=v.a,w[4]=v.c,w[8]=0,w[12]=v.tx,w[1]=v.b,w[5]=v.d,w[9]=0,w[13]=v.ty,w[2]=0,w[6]=0,w[10]=1,w[14]=0,w[3]=0,w[7]=0,w[11]=0,w[15]=1,clay_opengl_web_GL.gl.viewport(0,0,clay_Clay.app.screenWidth*clay_Clay.app.screenDensity|0,clay_Clay.app.screenHeight*clay_Clay.app.screenDensity|0)}var y=ceramic_App.app.settings.get_background();if(clay_opengl_web_GL.gl.clearColor((y>>16&255)/255,(y>>8&255)/255,(255&y)/255,1),clay_Clay.app.config.render.depth>0?(clay_opengl_web_GL.gl.clear(16640),clay_opengl_web_GL.gl.clearDepth(1)):clay_opengl_web_GL.gl.clear(16384),clay_opengl_web_GL.gl.enable(3042),this.activeShader=null,this.lastShader=null,this.useShader(t,null),clay_opengl_web_GL.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,clay_opengl_web_GL.gl.stencilFunc(519,1,255),clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.colorMask(!0,!0,!0,!0),clay_opengl_web_GL.gl.disable(2960),null!=n){for(s=0,r=n.length;s<r;){var U=n[s++],x=U.asQuad,C=U.asMesh;if(U.computedVisible&&(null==U.computedRenderTarget||U.computedRenderTarget.renderDirty)){var D;if(U.computedClip){for(var T=U;null!=T&&null==T.clip;)T=T.parent;D=null!=T?T.clip:null}else D=null;D!=this.lastClip&&(this.flush(t),this.unbindUsedTextures(t),this.stateDirty=!0,null!=this.lastClip&&(this.lastRenderTarget=this.lastClip.computedRenderTarget,this.useRenderTarget(t,this.lastRenderTarget),clay_opengl_web_GL.gl.stencilFunc(519,1,255),clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.colorMask(!0,!0,!0,!0),clay_opengl_web_GL.gl.disable(2960)),this.lastClip=D,null!=this.lastClip&&(this.lastRenderTarget=this.lastClip.computedRenderTarget,this.useRenderTarget(t,this.lastRenderTarget),backend_Draw._drawingInStencilBuffer=!0,clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.clearStencil(255),clay_opengl_web_GL.gl.clear(1024),clay_opengl_web_GL.gl.enable(2960),clay_opengl_web_GL.gl.stencilOp(7680,7680,7681),clay_opengl_web_GL.gl.stencilFunc(519,1,255),clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.colorMask(!1,!1,!1,!1),null!=this.lastClip.asQuad?(x=this.lastClip.asQuad,this.stencilClip=!0,this.drawQuad(t,x),this.stencilClip=!1,x=U.asQuad):null!=this.lastClip.asMesh&&(C=this.lastClip.asMesh,this.stencilClip=!0,this.drawMesh(t,C),this.stencilClip=!1,C=U.asMesh),this.flush(t),this.unbindUsedTextures(t),this.stateDirty=!0,backend_Draw._drawingInStencilBuffer=!1,clay_opengl_web_GL.gl.stencilFunc(514,1,255),clay_opengl_web_GL.gl.stencilMask(0),clay_opengl_web_GL.gl.colorMask(!0,!0,!0,!0),clay_opengl_web_GL.gl.enable(2960))),null==x||x.transparent?null!=C&&this.drawMesh(t,C):this.drawQuad(t,x)}}this.flush(t),this.unbindUsedTextures(t),this.stateDirty=!0}if(backend_Draw._activeTextureSlot=0,0!=clay_opengl_GLGraphics._activeTextureSlot){for(clay_opengl_GLGraphics._activeTextureSlot=0;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984)}this.activeTextureSlot=0;var E;l=null;if(null==(E=!0)&&(E=!1),backend_Draw._currentRenderTarget!=l||E)if(backend_Draw._currentRenderTarget=l,null!=l){var S,A;null!=(A=(S=l.backendItem).renderTarget)?(clay_opengl_GLGraphics.bindFramebuffer(A.framebuffer),clay_opengl_GLGraphics.bindRenderbuffer(A.renderbuffer)):(clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null));a=0,h=0,c=((F=l.width)+a)/(k=F-a),o=(h+(P=l.height))/(B=h-P),u=((I=-1e3)+(R=1e3))/(L=I-R);(w=backend_Draw._projectionMatrix)[0]=2/k,w[4]=0,w[8]=0,w[12]=-c,w[1]=0,w[5]=2/B,w[9]=0,w[13]=-o,w[2]=0,w[6]=0,w[10]=-2/L,w[14]=-u,w[3]=0,w[7]=0,w[11]=0,w[15]=1,(_=backend_Draw._renderTargetTransform).a=1,_.b=0,_.c=0,_.d=1,_.tx=0,_.ty=0,_.changedDirty=!0;_=backend_Draw._renderTargetTransform,d=l.density,b=l.density;_.a*=d,_.b*=b,_.c*=d,_.d*=b,_.tx*=d,_.ty*=b,_.changedDirty=!0;var M;f=l.density,p=l.width,O=l.height;if(null==(M=-1)&&(M=1),null!=(v=backend_Draw._renderTargetTransform)){if((_=backend_Draw._modelViewTransform).a=v.a,_.b=v.b,_.c=v.c,_.d=v.d,_.tx=v.tx,_.ty=v.ty,_.changedDirty=!0,0==(N=(_=backend_Draw._modelViewTransform).a*_.d-_.b*_.c))_.a=_.b=_.c=_.d=0,_.tx=-_.tx,_.ty=-_.ty;else{N=1/N;g=_.d*N;_.d=_.a*N,_.a=g,_.b*=-N,_.c*=-N;m=-_.a*_.tx-_.c*_.ty;_.ty=-_.b*_.tx-_.d*_.ty,_.tx=m}_.changedDirty=!0}else{(_=backend_Draw._modelViewTransform).a=1,_.b=0,_.c=0,_.d=1,_.tx=0,_.ty=0,_.changedDirty=!0}c=backend_Draw._modelViewTransform.tx,o=backend_Draw._modelViewTransform.ty;if((_=backend_Draw._modelViewTransform).tx+=-c,_.ty+=-o,_.changedDirty=!0,(_=backend_Draw._modelViewTransform).a*=f,_.b*=f,_.c*=f,_.d*=f,_.tx*=f,_.ty*=f,_.changedDirty=!0,(_=backend_Draw._modelViewTransform).tx+=c,_.ty+=o,_.changedDirty=!0,-1==M)(_=backend_Draw._modelViewTransform).tx+=.5*-p,_.ty+=.5*-O,_.changedDirty=!0,(_=backend_Draw._modelViewTransform).a*=1,_.b*=-1,_.c*=1,_.d*=-1,_.tx*=1,_.ty*=-1,_.changedDirty=!0,(_=backend_Draw._modelViewTransform).tx+=.5*p,_.ty+=.5*O,_.changedDirty=!0;if(0==(N=(_=backend_Draw._modelViewTransform).a*_.d-_.b*_.c))_.a=_.b=_.c=_.d=0,_.tx=-_.tx,_.ty=-_.ty;else{N=1/N;g=_.d*N;_.d=_.a*N,_.a=g,_.b*=-N,_.c*=-N;m=-_.a*_.tx-_.c*_.ty;_.ty=-_.b*_.tx-_.d*_.ty,_.tx=m}_.changedDirty=!0;w=backend_Draw._modelViewMatrix,v=backend_Draw._modelViewTransform;w[0]=v.a,w[4]=v.c,w[8]=0,w[12]=v.tx,w[1]=v.b,w[5]=v.d,w[9]=0,w[13]=v.ty,w[2]=0,w[6]=0,w[10]=1,w[14]=0,w[3]=0,w[7]=0,w[11]=0,w[15]=1,clay_opengl_web_GL.gl.viewport(0,0,l.width*l.density|0,l.height*l.density|0),l.clearOnRender&&clay_opengl_GLGraphics.clear((backend_Draw._blackTransparentColor>>16&255)/255,(backend_Draw._blackTransparentColor>>8&255)/255,(255&backend_Draw._blackTransparentColor)/255,(backend_Draw._blackTransparentColor>>24&255)/255)}else{null!=(l=null)?(clay_opengl_GLGraphics.bindFramebuffer(l.framebuffer),clay_opengl_GLGraphics.bindRenderbuffer(l.renderbuffer)):(clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null));var F,P,R,I,k,B,L;a=0,h=0,c=((F=clay_Clay.app.screenWidth)+a)/(k=F-a),o=(h+(P=clay_Clay.app.screenHeight))/(B=h-P),u=((I=-1e3)+(R=1e3))/(L=I-R);(w=backend_Draw._projectionMatrix)[0]=2/k,w[4]=0,w[8]=0,w[12]=-c,w[1]=0,w[5]=2/B,w[9]=0,w[13]=-o,w[2]=0,w[6]=0,w[10]=-2/L,w[14]=-u,w[3]=0,w[7]=0,w[11]=0,w[15]=1;f=clay_Clay.app.screenDensity,p=clay_Clay.app.screenWidth,O=clay_Clay.app.screenHeight;if(null!=(v=ceramic_App.app.screen.matrix)){if((_=backend_Draw._modelViewTransform).a=v.a,_.b=v.b,_.c=v.c,_.d=v.d,_.tx=v.tx,_.ty=v.ty,_.changedDirty=!0,0==(N=(_=backend_Draw._modelViewTransform).a*_.d-_.b*_.c))_.a=_.b=_.c=_.d=0,_.tx=-_.tx,_.ty=-_.ty;else{N=1/N;g=_.d*N;_.d=_.a*N,_.a=g,_.b*=-N,_.c*=-N;m=-_.a*_.tx-_.c*_.ty;_.ty=-_.b*_.tx-_.d*_.ty,_.tx=m}_.changedDirty=!0}else{(_=backend_Draw._modelViewTransform).a=1,_.b=0,_.c=0,_.d=1,_.tx=0,_.ty=0,_.changedDirty=!0}var N;c=backend_Draw._modelViewTransform.tx,o=backend_Draw._modelViewTransform.ty;if((_=backend_Draw._modelViewTransform).tx+=-c,_.ty+=-o,_.changedDirty=!0,(_=backend_Draw._modelViewTransform).a*=f,_.b*=f,_.c*=f,_.d*=f,_.tx*=f,_.ty*=f,_.changedDirty=!0,(_=backend_Draw._modelViewTransform).tx+=c,_.ty+=o,_.changedDirty=!0,0==(N=(_=backend_Draw._modelViewTransform).a*_.d-_.b*_.c))_.a=_.b=_.c=_.d=0,_.tx=-_.tx,_.ty=-_.ty;else{N=1/N;g=_.d*N;_.d=_.a*N,_.a=g,_.b*=-N,_.c*=-N;m=-_.a*_.tx-_.c*_.ty;_.ty=-_.b*_.tx-_.d*_.ty,_.tx=m}_.changedDirty=!0;w=backend_Draw._modelViewMatrix,v=backend_Draw._modelViewTransform;w[0]=v.a,w[4]=v.c,w[8]=0,w[12]=v.tx,w[1]=v.b,w[5]=v.d,w[9]=0,w[13]=v.ty,w[2]=0,w[6]=0,w[10]=1,w[14]=0,w[3]=0,w[7]=0,w[11]=0,w[15]=1,clay_opengl_web_GL.gl.viewport(0,0,clay_Clay.app.screenWidth*clay_Clay.app.screenDensity|0,clay_Clay.app.screenHeight*clay_Clay.app.screenDensity|0)}clay_opengl_web_GL.gl.enable(3042),this.activeShader=null,this.lastShader=null,this.useShader(t,null),clay_opengl_web_GL.gl.blendFuncSeparate(1,771,1,771)},drawQuad:function(e,n){var t=this;if(this.stencilClip)this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),clay_opengl_web_GL.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1;else{var i=null;if(!this.stateDirty){var s=this.computeQuadBlending(n);this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||s!=this.lastComputedBlending||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty||n.texture!=this.lastTexture&&(null!=n.texture&&null!=this.lastTexture?n.texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n.texture)?i=n.texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n.texture)?i=null!=n.texture?n.texture:this.defaultWhiteTexture:this.stateDirty=!0)}this.stateDirty?(t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n.texture,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget)),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeQuadBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1):null!=i&&this.useTextureInSameBatch(e,i)}(backend_Draw._numPos+4>backend_Draw._maxVerts||backend_Draw._numIndices+6>16384)&&(t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n.texture,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget)),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeQuadBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1);var r,l,a,h,c=n.get_width(),o=n.get_height(),u=n.matA,_=n.matB,d=n.matC,b=n.matD,f=n.matTX,p=n.matTY,O=this.z,g=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1;null!=n.texture&&n.texture.isRenderTexture;if(0==this.customFloatAttributesSize)if(-1!=g){var m=backend_Draw._numPos;backend_Draw._posList[backend_Draw._posIndex]=f,backend_Draw._posList[backend_Draw._posIndex+1]=p,backend_Draw._posList[backend_Draw._posIndex+2]=O,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++,backend_Draw._posList[backend_Draw._posIndex]=f+u*c,backend_Draw._posList[backend_Draw._posIndex+1]=p+_*c,backend_Draw._posList[backend_Draw._posIndex+2]=O,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++;var w=f+u*c+d*o,v=p+_*c+b*o;backend_Draw._posList[backend_Draw._posIndex]=w,backend_Draw._posList[backend_Draw._posIndex+1]=v,backend_Draw._posList[backend_Draw._posIndex+2]=O,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++,backend_Draw._posList[backend_Draw._posIndex]=f+d*o,backend_Draw._posList[backend_Draw._posIndex+1]=p+b*o,backend_Draw._posList[backend_Draw._posIndex+2]=O,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++,backend_Draw._indiceList[backend_Draw._numIndices]=m,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+1,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+3,backend_Draw._numIndices++}else{m=backend_Draw._numPos;backend_Draw._posList[backend_Draw._posIndex]=f,backend_Draw._posList[backend_Draw._posIndex+1]=p,backend_Draw._posList[backend_Draw._posIndex+2]=O,backend_Draw._posIndex+=3,backend_Draw._numPos++,backend_Draw._posList[backend_Draw._posIndex]=f+u*c,backend_Draw._posList[backend_Draw._posIndex+1]=p+_*c,backend_Draw._posList[backend_Draw._posIndex+2]=O,backend_Draw._posIndex+=3,backend_Draw._numPos++;w=f+u*c+d*o,v=p+_*c+b*o;backend_Draw._posList[backend_Draw._posIndex]=w,backend_Draw._posList[backend_Draw._posIndex+1]=v,backend_Draw._posList[backend_Draw._posIndex+2]=O,backend_Draw._posIndex+=3,backend_Draw._numPos++,backend_Draw._posList[backend_Draw._posIndex]=f+d*o,backend_Draw._posList[backend_Draw._posIndex+1]=p+b*o,backend_Draw._posList[backend_Draw._posIndex+2]=O,backend_Draw._posIndex+=3,backend_Draw._numPos++,backend_Draw._indiceList[backend_Draw._numIndices]=m,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+1,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+3,backend_Draw._numIndices++}else if(-1!=g){m=backend_Draw._numPos;backend_Draw._posList[backend_Draw._posIndex]=f,backend_Draw._posList[backend_Draw._posIndex+1]=p,backend_Draw._posList[backend_Draw._posIndex+2]=O,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++;for(var y=0,U=t.customFloatAttributesSize;y<U;){var x=y++;backend_Draw._posList[backend_Draw._posIndex+x]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._posList[backend_Draw._posIndex]=f+u*c,backend_Draw._posList[backend_Draw._posIndex+1]=p+_*c,backend_Draw._posList[backend_Draw._posIndex+2]=O,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++;for(y=0,U=t.customFloatAttributesSize;y<U;){x=y++;backend_Draw._posList[backend_Draw._posIndex+x]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize;w=f+u*c+d*o,v=p+_*c+b*o;backend_Draw._posList[backend_Draw._posIndex]=w,backend_Draw._posList[backend_Draw._posIndex+1]=v,backend_Draw._posList[backend_Draw._posIndex+2]=O,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++;for(y=0,U=t.customFloatAttributesSize;y<U;){x=y++;backend_Draw._posList[backend_Draw._posIndex+x]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._posList[backend_Draw._posIndex]=f+d*o,backend_Draw._posList[backend_Draw._posIndex+1]=p+b*o,backend_Draw._posList[backend_Draw._posIndex+2]=O,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++;for(y=0,U=t.customFloatAttributesSize;y<U;){x=y++;backend_Draw._posList[backend_Draw._posIndex+x]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._indiceList[backend_Draw._numIndices]=m,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+1,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+3,backend_Draw._numIndices++}else{m=backend_Draw._numPos;backend_Draw._posList[backend_Draw._posIndex]=f,backend_Draw._posList[backend_Draw._posIndex+1]=p,backend_Draw._posList[backend_Draw._posIndex+2]=O,backend_Draw._posIndex+=3,backend_Draw._numPos++;for(y=0,U=t.customFloatAttributesSize;y<U;){x=y++;backend_Draw._posList[backend_Draw._posIndex+x]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._posList[backend_Draw._posIndex]=f+u*c,backend_Draw._posList[backend_Draw._posIndex+1]=p+_*c,backend_Draw._posList[backend_Draw._posIndex+2]=O,backend_Draw._posIndex+=3,backend_Draw._numPos++;for(y=0,U=t.customFloatAttributesSize;y<U;){x=y++;backend_Draw._posList[backend_Draw._posIndex+x]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize;w=f+u*c+d*o,v=p+_*c+b*o;backend_Draw._posList[backend_Draw._posIndex]=w,backend_Draw._posList[backend_Draw._posIndex+1]=v,backend_Draw._posList[backend_Draw._posIndex+2]=O,backend_Draw._posIndex+=3,backend_Draw._numPos++;for(y=0,U=t.customFloatAttributesSize;y<U;){x=y++;backend_Draw._posList[backend_Draw._posIndex+x]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._posList[backend_Draw._posIndex]=f+d*o,backend_Draw._posList[backend_Draw._posIndex+1]=p+b*o,backend_Draw._posList[backend_Draw._posIndex+2]=O,backend_Draw._posIndex+=3,backend_Draw._numPos++;for(y=0,U=t.customFloatAttributesSize;y<U;){x=y++;backend_Draw._posList[backend_Draw._posIndex+x]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._indiceList[backend_Draw._numIndices]=m,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+1,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+3,backend_Draw._numIndices++}this.stencilClip?(h=1,r=1,l=0,a=0):3==this.lastComputedBlending?(h=n.computedAlpha,r=(n.color>>16&255)/255,l=(n.color>>8&255)/255,a=(255&n.color)/255,2==n.blending&&2!=this.lastComputedBlending&&(h=0)):(h=n.computedAlpha,r=(n.color>>16&255)/255*h,l=(n.color>>8&255)/255*h,a=(255&n.color)/255*h,2==n.blending&&2!=this.lastComputedBlending&&(h=0));for(var C=0;C<4;)backend_Draw._colorList[backend_Draw._colorIndex]=r,backend_Draw._colorList[backend_Draw._colorIndex+1]=l,backend_Draw._colorList[backend_Draw._colorIndex+2]=a,backend_Draw._colorList[backend_Draw._colorIndex+3]=h,backend_Draw._colorIndex+=4,backend_Draw._numColors++,++C;var D=0,T=0,E=0,S=0;if(null!=n.texture){var A=this.texWidthActual,M=this.texHeightActual,F=n.texture.density;D=n.frameX*F/A,T=n.frameY*F/M,E=n.frameWidth*F/A,S=n.frameHeight*F/M,backend_Draw._uvList[backend_Draw._uvIndex]=D,backend_Draw._uvList[backend_Draw._uvIndex+1]=T,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=D+E,backend_Draw._uvList[backend_Draw._uvIndex+1]=T,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=D+E,backend_Draw._uvList[backend_Draw._uvIndex+1]=T+S,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=D,backend_Draw._uvList[backend_Draw._uvIndex+1]=T+S,backend_Draw._uvIndex+=2,backend_Draw._numUVs++}else backend_Draw._uvList[backend_Draw._uvIndex]=0,backend_Draw._uvList[backend_Draw._uvIndex+1]=0,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=0,backend_Draw._uvList[backend_Draw._uvIndex+1]=0,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=0,backend_Draw._uvList[backend_Draw._uvIndex+1]=0,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=0,backend_Draw._uvList[backend_Draw._uvIndex+1]=0,backend_Draw._uvIndex+=2,backend_Draw._numUVs++;this.z=O+.001},drawMesh:function(e,n){var t=this;if(this.stencilClip)this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),clay_opengl_web_GL.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=this.quad.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1;else{var i=null;if(!this.stateDirty){var s=this.computeMeshBlending(n);this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||s!=this.lastComputedBlending||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty||n.texture!=this.lastTexture&&(null!=n.texture&&null!=this.lastTexture?n.texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n.texture)?i=n.texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n.texture)?i=null!=n.texture?n.texture:this.defaultWhiteTexture:this.stateDirty=!0)}this.stateDirty?(t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n.texture,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget)),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeMeshBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1):null!=i&&this.useTextureInSameBatch(e,i)}var r=n.matA,l=n.matB,a=n.matC,h=n.matD,c=n.matTX,o=n.matTY,u=this.z,_=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,d=n.colors,b=this.stencilClip||0==n.colorMapping,f=!this.stencilClip&&1==n.colorMapping,p=n.uvs,O=n.vertices,g=n.indices,m=g.length,w=this.customFloatAttributesSize,v=n.customFloatAttributesSize,y=0,U=null!=n.texture&&n.texture.isRenderTexture,x=m;(backend_Draw._numPos+m>backend_Draw._maxVerts||backend_Draw._numIndices+m>16384)&&(t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n.texture,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget)),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeMeshBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1,_=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,(m>backend_Draw._maxVerts-backend_Draw._numPos||m>16384-backend_Draw._numIndices)&&(x=3*((x=0|Math.min(backend_Draw._maxVerts-backend_Draw._numPos,16384-backend_Draw._numIndices))/3|0)));var C=n.texture,D=0,T=0;for(null!=C&&(D=this.texWidth/this.texWidthActual,T=this.texHeight/this.texHeightActual);;){var E=0,S=0,A=0,M=0;if(b)if(t.stencilClip)E=1,S=1,A=0,M=0;else if(3==t.lastComputedBlending){var F=d[0];E=n.computedAlpha*((F>>24&255)/255),S=(F>>16&255)/255,A=(F>>8&255)/255,M=(255&F)/255,2==n.blending&&2!=t.lastComputedBlending&&(E=0)}else{var P=d[0];S=(P>>16&255)/255*(E=n.computedAlpha*((P>>24&255)/255)),A=(P>>8&255)/255*E,M=(255&P)/255*E,2==n.blending&&2!=t.lastComputedBlending&&(E=0)}for(var R=y,I=backend_Draw._numPos;R<x;){var k=g[R],B=2*k,L=k*(2+v),N=O[L++],W=O[L++];if(backend_Draw._indiceList[backend_Draw._numIndices]=I,backend_Draw._numIndices++,++I,-1!=_?(backend_Draw._posList[backend_Draw._posIndex]=c+r*N+a*W,backend_Draw._posList[backend_Draw._posIndex+1]=o+l*N+h*W,backend_Draw._posList[backend_Draw._posIndex+2]=u,backend_Draw._posList[backend_Draw._posIndex+3]=_,backend_Draw._posIndex+=4,backend_Draw._numPos++):(backend_Draw._posList[backend_Draw._posIndex]=c+r*N+a*W,backend_Draw._posList[backend_Draw._posIndex+1]=o+l*N+h*W,backend_Draw._posList[backend_Draw._posIndex+2]=u,backend_Draw._posIndex+=3,backend_Draw._numPos++),!b){var K=f?d[R]:d[k];U||3==t.lastComputedBlending?(E=n.computedAlpha*((K>>24&255)/255),S=(K>>16&255)/255,A=(K>>8&255)/255,M=(255&K)/255,2==n.blending&&2!=t.lastComputedBlending&&(E=0)):(S=(K>>16&255)/255*(E=n.computedAlpha*((K>>24&255)/255)),A=(K>>8&255)/255*E,M=(255&K)/255*E,2==n.blending&&2!=t.lastComputedBlending&&(E=0))}if(backend_Draw._colorList[backend_Draw._colorIndex]=S,backend_Draw._colorList[backend_Draw._colorIndex+1]=A,backend_Draw._colorList[backend_Draw._colorIndex+2]=M,backend_Draw._colorList[backend_Draw._colorIndex+3]=E,backend_Draw._colorIndex+=4,backend_Draw._numColors++,null!=C){var G=p[B]*D,Y=p[B+1]*T;backend_Draw._uvList[backend_Draw._uvIndex]=G,backend_Draw._uvList[backend_Draw._uvIndex+1]=Y,backend_Draw._uvIndex+=2,backend_Draw._numUVs++}else backend_Draw._uvList[backend_Draw._uvIndex]=0,backend_Draw._uvList[backend_Draw._uvIndex+1]=0,backend_Draw._uvIndex+=2,backend_Draw._numUVs++;if(0!=w){for(var X=0,V=w;X<V;){var H=X++;backend_Draw._posList[backend_Draw._posIndex+H]=H<v?O[L++]:0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize}++R}if(x==m)break;t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n.texture,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget)),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeMeshBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1,_=t.activeShaderCanBatchMultipleTextures?t.activeTextureSlot:-1,(x=3*((x=(y=x)+(0|Math.min(backend_Draw._maxVerts-backend_Draw._numPos,16384-backend_Draw._numIndices)))/3|0))>m&&(x=m)}this.z=u+.001},flush:function(e){if(backend_Draw._numPos<=0)return!1;var n=backend_Draw._batchMultiTexture,t=new Float32Array(backend_Draw._posList.buffer,0,4*backend_Draw._posIndex/4|0),i=new Float32Array(backend_Draw._uvList.buffer,0,4*backend_Draw._uvIndex/4|0),s=new Float32Array(backend_Draw._colorList.buffer,0,4*backend_Draw._colorIndex/4|0),r=new Uint16Array(backend_Draw._indiceList.buffer,0,2*backend_Draw._numIndices/2|0),l=clay_opengl_web_GL.gl.createBuffer(),a=clay_opengl_web_GL.gl.createBuffer(),h=clay_opengl_web_GL.gl.createBuffer(),c=clay_opengl_web_GL.gl.createBuffer();clay_opengl_web_GL.gl.enableVertexAttribArray(0),clay_opengl_web_GL.gl.enableVertexAttribArray(1),clay_opengl_web_GL.gl.enableVertexAttribArray(2),clay_opengl_web_GL.gl.bindBuffer(34962,l),clay_opengl_web_GL.gl.vertexAttribPointer(0,3,5126,!1,4*backend_Draw._posSize,0),clay_opengl_web_GL.gl.bufferData(34962,t,35040),clay_opengl_web_GL.gl.bindBuffer(34962,h),clay_opengl_web_GL.gl.vertexAttribPointer(1,2,5126,!1,0,0),clay_opengl_web_GL.gl.bufferData(34962,i,35040),clay_opengl_web_GL.gl.bindBuffer(34962,a),clay_opengl_web_GL.gl.vertexAttribPointer(2,4,5126,!1,0,0),clay_opengl_web_GL.gl.bufferData(34962,s,35040);var o=3,u=3,_=0;if(n){var d=clay_opengl_web_GL.gl.createBuffer();backend_Draw._customGLBuffers[_++]=d,clay_opengl_web_GL.gl.enableVertexAttribArray(u),clay_opengl_web_GL.gl.bindBuffer(34962,d),clay_opengl_web_GL.gl.vertexAttribPointer(u,1,5126,!1,4*backend_Draw._posSize,4*o),clay_opengl_web_GL.gl.bufferData(34962,t,35040),++u,++o}if(null!=backend_Draw._activeShader&&null!=backend_Draw._activeShader.customAttributes){var b=backend_Draw._activeShader.customAttributes,f=_,p=f+b.length;_+=b.length;for(var O=f,g=p;O<g;){var m=b[(w=O++)-f];d=clay_opengl_web_GL.gl.createBuffer();backend_Draw._customGLBuffers[w]=d,clay_opengl_web_GL.gl.enableVertexAttribArray(u),clay_opengl_web_GL.gl.bindBuffer(34962,d),clay_opengl_web_GL.gl.vertexAttribPointer(u,m.size,5126,!1,4*backend_Draw._posSize,4*o),clay_opengl_web_GL.gl.bufferData(34962,t,35040),++u,o+=m.size}}if(clay_opengl_web_GL.gl.bindBuffer(34963,c),clay_opengl_web_GL.gl.bufferData(34963,r,35040),clay_opengl_web_GL.gl.drawElements(4,backend_Draw._numIndices,5123,0),clay_opengl_web_GL.gl.deleteBuffer(l),clay_opengl_web_GL.gl.deleteBuffer(a),clay_opengl_web_GL.gl.deleteBuffer(h),_>0)for(u=3,O=0,g=_;O<g;){var w=O++;d=backend_Draw._customGLBuffers[w];clay_opengl_web_GL.gl.deleteBuffer(d),clay_opengl_web_GL.gl.disableVertexAttribArray(u),++u}return clay_opengl_web_GL.gl.bindBuffer(34963,null),clay_opengl_web_GL.gl.deleteBuffer(c),t=null,i=null,s=null,r=null,backend_Draw._numIndices=0,backend_Draw._numPos=0,backend_Draw._numUVs=0,backend_Draw._numColors=0,backend_Draw._posIndex=0,backend_Draw._uvIndex=0,backend_Draw._colorIndex=0,e.prepareNextBuffers(),this.drawCalls++,!0},computeQuadBlending:function(e){var n=e.blending;return 0!=n&&2!=n||(n=null!=e.computedRenderTarget?5:1),n},computeMeshBlending:function(e){var n=e.blending;return 0!=n&&2!=n||(n=null!=e.computedRenderTarget?5:1),n},isSameShader:function(e,n){return(null!=e?e.backendItem:this.defaultTexturedShader)==(null!=n?n.backendItem:this.defaultTexturedShader)},useShader:function(e,n){null==n&&(n=this.defaultTexturedShader),this.activeShader=n,backend_Draw._activeShader=n,n.uniforms.setMatrix4("projectionMatrix",backend_Draw._projectionMatrix),n.uniforms.setMatrix4("modelViewMatrix",backend_Draw._modelViewMatrix);var t=ceramic_App.app.backend.shaders,i=0;if(null!=(l=backend_Draw._activeShader.customAttributes))for(var s=0,r=l.length;s<r;){i+=l[s++].size}backend_Draw._floatAttributesSize=i,backend_Draw._batchMultiTexture=t.canBatchWithMultipleTextures(backend_Draw._activeShader),backend_Draw._vertexSize=3+backend_Draw._floatAttributesSize+(backend_Draw._batchMultiTexture?1:0),backend_Draw._posSize=backend_Draw._vertexSize,backend_Draw._vertexSize<4&&(backend_Draw._vertexSize=4),backend_Draw._maxVerts=0|Math.floor(65536/backend_Draw._vertexSize),n.activate(),0==backend_Draw._numPos&&(backend_Draw._numIndices=0,backend_Draw._numPos=0,backend_Draw._numUVs=0,backend_Draw._numColors=0,backend_Draw._posIndex=0,backend_Draw._uvIndex=0,backend_Draw._colorIndex=0),this.activeShaderCanBatchMultipleTextures=this.backendShaders.canBatchWithMultipleTextures(n);var l;this.backendShaders,i=0;if(null!=(l=n.customAttributes))for(s=0,r=l.length;s<r;){i+=l[s++].size}this.customFloatAttributesSize=i},useBlending:function(e,n){switch(n){case 0:throw haxe_Exception.thrown("Cannot apply AUTO blending. Needs to be computed to an actual blending function.");case 1:clay_opengl_web_GL.gl.blendFuncSeparate(1,771,1,771);break;case 2:clay_opengl_web_GL.gl.blendFuncSeparate(1,1,1,1);break;case 3:clay_opengl_web_GL.gl.blendFuncSeparate(770,771,1,771);break;case 4:clay_opengl_web_GL.gl.blendFuncSeparate(1,770,1,770);break;case 5:clay_opengl_web_GL.gl.blendFuncSeparate(1,771,773,1);break;case 6:clay_opengl_web_GL.gl.blendFuncSeparate(770,771,773,1)}},useRenderTarget:function(e,n){if(null!=n){if(backend_Draw._currentRenderTarget!=n)if(backend_Draw._currentRenderTarget=n,null!=n){null!=(O=n.backendItem.renderTarget)?(clay_opengl_GLGraphics.bindFramebuffer(O.framebuffer),clay_opengl_GLGraphics.bindRenderbuffer(O.renderbuffer)):(clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null));var t=0,i=0,s=((m=n.width)+t)/(U=m-t),r=(i+(w=n.height))/(x=i-w),l=((y=-1e3)+(v=1e3))/(C=y-v);(f=backend_Draw._projectionMatrix)[0]=2/U,f[4]=0,f[8]=0,f[12]=-s,f[1]=0,f[5]=2/x,f[9]=0,f[13]=-r,f[2]=0,f[6]=0,f[10]=-2/C,f[14]=-l,f[3]=0,f[7]=0,f[11]=0,f[15]=1,(a=backend_Draw._renderTargetTransform).a=1,a.b=0,a.c=0,a.d=1,a.tx=0,a.ty=0,a.changedDirty=!0;var a=backend_Draw._renderTargetTransform,h=n.density,c=n.density;a.a*=h,a.b*=c,a.c*=h,a.d*=c,a.tx*=h,a.ty*=c,a.changedDirty=!0;var o=n.density,u=n.width,_=n.height;if(null==(g=-1)&&(g=1),null!=(p=backend_Draw._renderTargetTransform)){if((a=backend_Draw._modelViewTransform).a=p.a,a.b=p.b,a.c=p.c,a.d=p.d,a.tx=p.tx,a.ty=p.ty,a.changedDirty=!0,0==(D=(a=backend_Draw._modelViewTransform).a*a.d-a.b*a.c))a.a=a.b=a.c=a.d=0,a.tx=-a.tx,a.ty=-a.ty;else{D=1/D;var d=a.d*D;a.d=a.a*D,a.a=d,a.b*=-D,a.c*=-D;var b=-a.a*a.tx-a.c*a.ty;a.ty=-a.b*a.tx-a.d*a.ty,a.tx=b}a.changedDirty=!0}else{(a=backend_Draw._modelViewTransform).a=1,a.b=0,a.c=0,a.d=1,a.tx=0,a.ty=0,a.changedDirty=!0}s=backend_Draw._modelViewTransform.tx,r=backend_Draw._modelViewTransform.ty;if((a=backend_Draw._modelViewTransform).tx+=-s,a.ty+=-r,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).a*=o,a.b*=o,a.c*=o,a.d*=o,a.tx*=o,a.ty*=o,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).tx+=s,a.ty+=r,a.changedDirty=!0,-1==g)(a=backend_Draw._modelViewTransform).tx+=.5*-u,a.ty+=.5*-_,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).a*=1,a.b*=-1,a.c*=1,a.d*=-1,a.tx*=1,a.ty*=-1,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).tx+=.5*u,a.ty+=.5*_,a.changedDirty=!0;if(0==(D=(a=backend_Draw._modelViewTransform).a*a.d-a.b*a.c))a.a=a.b=a.c=a.d=0,a.tx=-a.tx,a.ty=-a.ty;else{D=1/D;d=a.d*D;a.d=a.a*D,a.a=d,a.b*=-D,a.c*=-D;b=-a.a*a.tx-a.c*a.ty;a.ty=-a.b*a.tx-a.d*a.ty,a.tx=b}a.changedDirty=!0;var f=backend_Draw._modelViewMatrix,p=backend_Draw._modelViewTransform;f[0]=p.a,f[4]=p.c,f[8]=0,f[12]=p.tx,f[1]=p.b,f[5]=p.d,f[9]=0,f[13]=p.ty,f[2]=0,f[6]=0,f[10]=1,f[14]=0,f[3]=0,f[7]=0,f[11]=0,f[15]=1,clay_opengl_web_GL.gl.viewport(0,0,n.width*n.density|0,n.height*n.density|0),n.clearOnRender&&clay_opengl_GLGraphics.clear((backend_Draw._blackTransparentColor>>16&255)/255,(backend_Draw._blackTransparentColor>>8&255)/255,(255&backend_Draw._blackTransparentColor)/255,(backend_Draw._blackTransparentColor>>24&255)/255)}else{null!=(n=null)?(clay_opengl_GLGraphics.bindFramebuffer(n.framebuffer),clay_opengl_GLGraphics.bindRenderbuffer(n.renderbuffer)):(clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null));t=0,i=0,s=((m=clay_Clay.app.screenWidth)+t)/(U=m-t),r=(i+(w=clay_Clay.app.screenHeight))/(x=i-w),l=((y=-1e3)+(v=1e3))/(C=y-v);(f=backend_Draw._projectionMatrix)[0]=2/U,f[4]=0,f[8]=0,f[12]=-s,f[1]=0,f[5]=2/x,f[9]=0,f[13]=-r,f[2]=0,f[6]=0,f[10]=-2/C,f[14]=-l,f[3]=0,f[7]=0,f[11]=0,f[15]=1;o=clay_Clay.app.screenDensity,u=clay_Clay.app.screenWidth,_=clay_Clay.app.screenHeight;if(null!=(p=ceramic_App.app.screen.matrix)){if((a=backend_Draw._modelViewTransform).a=p.a,a.b=p.b,a.c=p.c,a.d=p.d,a.tx=p.tx,a.ty=p.ty,a.changedDirty=!0,0==(D=(a=backend_Draw._modelViewTransform).a*a.d-a.b*a.c))a.a=a.b=a.c=a.d=0,a.tx=-a.tx,a.ty=-a.ty;else{D=1/D;d=a.d*D;a.d=a.a*D,a.a=d,a.b*=-D,a.c*=-D;b=-a.a*a.tx-a.c*a.ty;a.ty=-a.b*a.tx-a.d*a.ty,a.tx=b}a.changedDirty=!0}else{(a=backend_Draw._modelViewTransform).a=1,a.b=0,a.c=0,a.d=1,a.tx=0,a.ty=0,a.changedDirty=!0}s=backend_Draw._modelViewTransform.tx,r=backend_Draw._modelViewTransform.ty;if((a=backend_Draw._modelViewTransform).tx+=-s,a.ty+=-r,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).a*=o,a.b*=o,a.c*=o,a.d*=o,a.tx*=o,a.ty*=o,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).tx+=s,a.ty+=r,a.changedDirty=!0,0==(D=(a=backend_Draw._modelViewTransform).a*a.d-a.b*a.c))a.a=a.b=a.c=a.d=0,a.tx=-a.tx,a.ty=-a.ty;else{D=1/D;d=a.d*D;a.d=a.a*D,a.a=d,a.b*=-D,a.c*=-D;b=-a.a*a.tx-a.c*a.ty;a.ty=-a.b*a.tx-a.d*a.ty,a.tx=b}a.changedDirty=!0;f=backend_Draw._modelViewMatrix,p=backend_Draw._modelViewTransform;f[0]=p.a,f[4]=p.c,f[8]=0,f[12]=p.tx,f[1]=p.b,f[5]=p.d,f[9]=0,f[13]=p.ty,f[2]=0,f[6]=0,f[10]=1,f[14]=0,f[3]=0,f[7]=0,f[11]=0,f[15]=1,clay_opengl_web_GL.gl.viewport(0,0,clay_Clay.app.screenWidth*clay_Clay.app.screenDensity|0,clay_Clay.app.screenHeight*clay_Clay.app.screenDensity|0)}}else{n=null;if(backend_Draw._currentRenderTarget!=n)if(backend_Draw._currentRenderTarget=n,null!=n){var O;null!=(O=n.backendItem.renderTarget)?(clay_opengl_GLGraphics.bindFramebuffer(O.framebuffer),clay_opengl_GLGraphics.bindRenderbuffer(O.renderbuffer)):(clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null));t=0,i=0,s=((m=n.width)+t)/(U=m-t),r=(i+(w=n.height))/(x=i-w),l=((y=-1e3)+(v=1e3))/(C=y-v);(f=backend_Draw._projectionMatrix)[0]=2/U,f[4]=0,f[8]=0,f[12]=-s,f[1]=0,f[5]=2/x,f[9]=0,f[13]=-r,f[2]=0,f[6]=0,f[10]=-2/C,f[14]=-l,f[3]=0,f[7]=0,f[11]=0,f[15]=1,(a=backend_Draw._renderTargetTransform).a=1,a.b=0,a.c=0,a.d=1,a.tx=0,a.ty=0,a.changedDirty=!0;a=backend_Draw._renderTargetTransform,h=n.density,c=n.density;a.a*=h,a.b*=c,a.c*=h,a.d*=c,a.tx*=h,a.ty*=c,a.changedDirty=!0;var g;o=n.density,u=n.width,_=n.height;if(null==(g=-1)&&(g=1),null!=(p=backend_Draw._renderTargetTransform)){if((a=backend_Draw._modelViewTransform).a=p.a,a.b=p.b,a.c=p.c,a.d=p.d,a.tx=p.tx,a.ty=p.ty,a.changedDirty=!0,0==(D=(a=backend_Draw._modelViewTransform).a*a.d-a.b*a.c))a.a=a.b=a.c=a.d=0,a.tx=-a.tx,a.ty=-a.ty;else{D=1/D;d=a.d*D;a.d=a.a*D,a.a=d,a.b*=-D,a.c*=-D;b=-a.a*a.tx-a.c*a.ty;a.ty=-a.b*a.tx-a.d*a.ty,a.tx=b}a.changedDirty=!0}else{(a=backend_Draw._modelViewTransform).a=1,a.b=0,a.c=0,a.d=1,a.tx=0,a.ty=0,a.changedDirty=!0}s=backend_Draw._modelViewTransform.tx,r=backend_Draw._modelViewTransform.ty;if((a=backend_Draw._modelViewTransform).tx+=-s,a.ty+=-r,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).a*=o,a.b*=o,a.c*=o,a.d*=o,a.tx*=o,a.ty*=o,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).tx+=s,a.ty+=r,a.changedDirty=!0,-1==g)(a=backend_Draw._modelViewTransform).tx+=.5*-u,a.ty+=.5*-_,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).a*=1,a.b*=-1,a.c*=1,a.d*=-1,a.tx*=1,a.ty*=-1,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).tx+=.5*u,a.ty+=.5*_,a.changedDirty=!0;if(0==(D=(a=backend_Draw._modelViewTransform).a*a.d-a.b*a.c))a.a=a.b=a.c=a.d=0,a.tx=-a.tx,a.ty=-a.ty;else{D=1/D;d=a.d*D;a.d=a.a*D,a.a=d,a.b*=-D,a.c*=-D;b=-a.a*a.tx-a.c*a.ty;a.ty=-a.b*a.tx-a.d*a.ty,a.tx=b}a.changedDirty=!0;f=backend_Draw._modelViewMatrix,p=backend_Draw._modelViewTransform;f[0]=p.a,f[4]=p.c,f[8]=0,f[12]=p.tx,f[1]=p.b,f[5]=p.d,f[9]=0,f[13]=p.ty,f[2]=0,f[6]=0,f[10]=1,f[14]=0,f[3]=0,f[7]=0,f[11]=0,f[15]=1,clay_opengl_web_GL.gl.viewport(0,0,n.width*n.density|0,n.height*n.density|0),n.clearOnRender&&clay_opengl_GLGraphics.clear((backend_Draw._blackTransparentColor>>16&255)/255,(backend_Draw._blackTransparentColor>>8&255)/255,(255&backend_Draw._blackTransparentColor)/255,(backend_Draw._blackTransparentColor>>24&255)/255)}else{null!=(n=null)?(clay_opengl_GLGraphics.bindFramebuffer(n.framebuffer),clay_opengl_GLGraphics.bindRenderbuffer(n.renderbuffer)):(clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null));var m,w,v,y,U,x,C;t=0,i=0,s=((m=clay_Clay.app.screenWidth)+t)/(U=m-t),r=(i+(w=clay_Clay.app.screenHeight))/(x=i-w),l=((y=-1e3)+(v=1e3))/(C=y-v);(f=backend_Draw._projectionMatrix)[0]=2/U,f[4]=0,f[8]=0,f[12]=-s,f[1]=0,f[5]=2/x,f[9]=0,f[13]=-r,f[2]=0,f[6]=0,f[10]=-2/C,f[14]=-l,f[3]=0,f[7]=0,f[11]=0,f[15]=1;o=clay_Clay.app.screenDensity,u=clay_Clay.app.screenWidth,_=clay_Clay.app.screenHeight;if(null!=(p=ceramic_App.app.screen.matrix)){if((a=backend_Draw._modelViewTransform).a=p.a,a.b=p.b,a.c=p.c,a.d=p.d,a.tx=p.tx,a.ty=p.ty,a.changedDirty=!0,0==(D=(a=backend_Draw._modelViewTransform).a*a.d-a.b*a.c))a.a=a.b=a.c=a.d=0,a.tx=-a.tx,a.ty=-a.ty;else{D=1/D;d=a.d*D;a.d=a.a*D,a.a=d,a.b*=-D,a.c*=-D;b=-a.a*a.tx-a.c*a.ty;a.ty=-a.b*a.tx-a.d*a.ty,a.tx=b}a.changedDirty=!0}else{(a=backend_Draw._modelViewTransform).a=1,a.b=0,a.c=0,a.d=1,a.tx=0,a.ty=0,a.changedDirty=!0}var D;s=backend_Draw._modelViewTransform.tx,r=backend_Draw._modelViewTransform.ty;if((a=backend_Draw._modelViewTransform).tx+=-s,a.ty+=-r,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).a*=o,a.b*=o,a.c*=o,a.d*=o,a.tx*=o,a.ty*=o,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).tx+=s,a.ty+=r,a.changedDirty=!0,0==(D=(a=backend_Draw._modelViewTransform).a*a.d-a.b*a.c))a.a=a.b=a.c=a.d=0,a.tx=-a.tx,a.ty=-a.ty;else{D=1/D;d=a.d*D;a.d=a.a*D,a.a=d,a.b*=-D,a.c*=-D;b=-a.a*a.tx-a.c*a.ty;a.ty=-a.b*a.tx-a.d*a.ty,a.tx=b}a.changedDirty=!0;f=backend_Draw._modelViewMatrix,p=backend_Draw._modelViewTransform;f[0]=p.a,f[4]=p.c,f[8]=0,f[12]=p.tx,f[1]=p.b,f[5]=p.d,f[9]=0,f[13]=p.ty,f[2]=0,f[6]=0,f[10]=1,f[14]=0,f[3]=0,f[7]=0,f[11]=0,f[15]=1,clay_opengl_web_GL.gl.viewport(0,0,clay_Clay.app.screenWidth*clay_Clay.app.screenDensity|0,clay_Clay.app.screenHeight*clay_Clay.app.screenDensity|0)}}},useFirstTextureInBatch:function(e,n){null==n&&(n=this.defaultWhiteTexture),this.usedTextures=1;var t=n.backendItem.index;if(this.usedTextureIndexes[0]=t,backend_Draw._activeTextureSlot=0,0!=clay_opengl_GLGraphics._activeTextureSlot){for(clay_opengl_GLGraphics._activeTextureSlot=0;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984)}this.activeTextureSlot=0,this.useTexture(e,n,!1)},useTexture:function(e,n,t){if(null!=n){if(this.lastTexture=n,this.lastTextureId=n.backendItem.textureId,this.texWidth=n.backendItem.width,this.texHeight=n.backendItem.height,this.texWidthActual=n.backendItem.widthActual,this.texHeightActual=n.backendItem.heightActual,!t){var i=n.backendItem.textureId;clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=i&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=i,clay_opengl_web_GL.gl.bindTexture(3553,i))}}else{this.lastTexture=null,this.lastTextureId=null;i=ceramic_App.app.defaultWhiteTexture.backendItem.textureId;clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=i&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=i,clay_opengl_web_GL.gl.bindTexture(3553,i))}},canUseTextureInSameBatch:function(e,n){var t=!1;if(null==n&&(n=this.defaultWhiteTexture),this.usedTextures>0)if(this.activeShaderCanBatchMultipleTextures){for(var i=n.backendItem.index,s=0,r=this.usedTextures;s<r;){var l=s++;if(i==this.usedTextureIndexes[l]){t=!0;break}}!t&&this.usedTextures<this.maxUsableTexturesInBatch&&(t=!0)}else this.lastTexture==n&&(t=!0);return t},useTextureInSameBatch:function(e,n){var t=!1;if(null==n&&(n=this.defaultWhiteTexture),this.activeShaderCanBatchMultipleTextures){for(var i=n.backendItem.index,s=0,r=this.usedTextures;s<r;){var l=s++;if(i==this.usedTextureIndexes[l]){if(backend_Draw._activeTextureSlot=l,clay_opengl_GLGraphics._activeTextureSlot!=l){for(clay_opengl_GLGraphics._activeTextureSlot=l;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+l)}this.activeTextureSlot=l,this.useTexture(e,n,!0),t=!0;break}}if(!t&&this.usedTextures<this.maxUsableTexturesInBatch){l=this.usedTextures++;if(this.usedTextureIndexes[l]=i,backend_Draw._activeTextureSlot=l,clay_opengl_GLGraphics._activeTextureSlot!=l){for(clay_opengl_GLGraphics._activeTextureSlot=l;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+l)}this.activeTextureSlot=l,this.useTexture(e,n,!1)}}},unbindUsedTextures:function(e){for(;this.usedTextures>0;){this.usedTextures--;var n=this.usedTextures;if(backend_Draw._activeTextureSlot=n,clay_opengl_GLGraphics._activeTextureSlot!=n){for(clay_opengl_GLGraphics._activeTextureSlot=n;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+n)}var t=ceramic_App.app.defaultWhiteTexture.backendItem.textureId;clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=t&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=t,clay_opengl_web_GL.gl.bindTexture(3553,t))}if(backend_Draw._activeTextureSlot=0,0!=clay_opengl_GLGraphics._activeTextureSlot){for(clay_opengl_GLGraphics._activeTextureSlot=0;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984)}this.activeTextureSlot=0,this.useTexture(e,null,!1)},__class__:ceramic_Renderer});var ceramic_ReusableArray=function(e){this._poolIndex=-1,this.set_length(e)};t["ceramic.ReusableArray"]=ceramic_ReusableArray,ceramic_ReusableArray.__name__="ceramic.ReusableArray",ceramic_ReusableArray.prototype={set_length:function(e){if(null==this.vector){var n=new Array(e);return this.vector=n,this.length=e,e}if(e==this.length)return e;if(e>this.vector.length){for(var t=n=new Array(e),i=0,s=this.length;i<s;){t[r=i++]=this.vector[r],this.vector[r]=null}this.vector=t;for(i=this.length,s=e;i<s;){var r=i++;this.vector[r]=null}}else for(i=e,s=this.length;i<s;){r=i++;this.vector[r]=null}return this.length=e,e},get:function(e){return this.vector[e]},set:function(e,n){this.vector[e]=n},__class__:ceramic_ReusableArray,__properties__:{set_length:"set_length"}};var ceramic_Runner=function(){};t["ceramic.Runner"]=ceramic_Runner,ceramic_Runner.__name__="ceramic.Runner",ceramic_Runner.currentIsMainThread=function(){return!0},ceramic_Runner.init=function(){},ceramic_Runner.tick=function(){},ceramic_Runner.isEmulatingBackgroundWithMain=function(){return!0},ceramic_Runner.runInMain=function(e){ceramic_App.app._onceImmediate(e)},ceramic_Runner.runInBackground=function(e){ceramic_App.app._onceImmediate(e)};var ceramic_RuntimeAssets=function(e,n){this.path=null,this.cachedLists=null,this.cachedNames=new haxe_ds_StringMap,this.assetDirsByBaseName=null,this.assetsByBaseName=null,this.allAssetDirs=null,this.allAssets=null,this.allAssets=e,this.path=n,this.initData()};t["ceramic.RuntimeAssets"]=ceramic_RuntimeAssets,ceramic_RuntimeAssets.__name__="ceramic.RuntimeAssets",ceramic_RuntimeAssets.fromPath=function(e){return null},ceramic_RuntimeAssets.toAssetConstName=function(e){for(var n="",t=e.length,i=0,s=!1;i<t;){var r=e.charAt(i);if("/"==r)n+="__",s=!1;else if("."==r)n+="_",s=!1;else if(ceramic_RuntimeAssets.isAsciiChar(r)){var l=r.toUpperCase(),a=r==l;s&&a&&(n+="_",s=!1),n+=null==l?"null":""+l,s=!a}else n+="_",s=!1;++i}var h=n;return StringTools.endsWith(h,"_")&&(h=HxOverrides.substr(h,0,h.length-1)),h},ceramic_RuntimeAssets.isAsciiChar=function(e){var n=HxOverrides.cca(e,0);return n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122},ceramic_RuntimeAssets.prototype={reset:function(e,n){this.allAssets=e,this.path=n,this.allAssetDirs=null,this.assetsByBaseName=null,this.assetDirsByBaseName=null,this.cachedNames=new haxe_ds_StringMap,this.cachedLists=null,this.initData()},getNames:function(e,n,t){null==t&&(t=!1);var i=e+"|"+(null!=n?n.join(","):"")+(t?"|1":"|0"),s=this.cachedNames.h[i];if(null!=s)return s;var r,l=[];switch(null==n&&(n=[]),e){case"database":r=["csv"];break;case"font":r=["fnt"];break;case"fragments":r=["fragments"];break;case"image":r=["png","jpg","jpeg"];break;case"shader":r=["frag","vert"];break;case"sound":r=["ogg","wav"];break;case"text":r=["txt","json","fnt"];break;default:r=[]}if(0==(n=n.concat(r)).length)return l;for(var a=Object.create(null),h=t?this.allAssetDirs:this.allAssets,c=0;c<n.length;){var o=n[c];++c;for(var u=0;u<h.length;){var _=h[u];++u;var d=_.toLowerCase(),b=d.lastIndexOf("."),f=null,p=null,O=null;if(-1!=b&&(f=HxOverrides.substr(d,b+1,null))==o){var g=HxOverrides.substr(_,0,b).lastIndexOf("@");-1==g&&(g=b),p=HxOverrides.substr(_,0,Math.min(g,b)),null==(O=ceramic_RuntimeAssets.toAssetConstName(p))||Object.prototype.hasOwnProperty.call(a,O)||null==f||(a[O]=p)}}}for(var m=t?this.assetDirsByBaseName:this.assetsByBaseName,w=a,v=Object.keys(w),y=v.length,U=0;U<y;){a[O=v[U++]];var x=[],C=m.h[a[O]];for(c=0;c<C.length;){var D=C[c];++c;for(u=0;u<n.length;){o=n[u];if(++u,StringTools.endsWith(D,"."+o)){x.push(D);break}}}var T={name:a[O],constName:O,paths:x};l.push(T)}return this.cachedNames.h[i]=l,l},getLists:function(){if(null!=this.cachedLists)return this.cachedLists;for(var e={all:[],allDirs:[],allByName:new haxe_ds_StringMap,allDirsByName:new haxe_ds_StringMap},n=0,t=this.allAssets;n<t.length;){var i=t[n];++n,e.all.push(i)}for(n=0,t=this.allAssetDirs;n<t.length;){i=t[n];++n,e.allDirs.push(i)}h=this.assetsByBaseName.h;for(var s=(c=Object.keys(h)).length,r=0;r<s;){var l=c[r++],a=[].concat(this.assetsByBaseName.h[l]);e.allByName.h[l]=a}var h,c;for(h=this.assetDirsByBaseName.h,s=(c=Object.keys(h)).length,r=0;r<s;){l=c[r++],a=[].concat(this.assetDirsByBaseName.h[l]);e.allDirsByName.h[l]=a}return this.cachedLists=e,e},getEncodableLists:function(){for(var e=this.getLists(),n={},t=(s=e.allByName.h,(r=Object.keys(s)).length),i=0;i<t;){n[a=r[i++]]=e.allByName.h[a]}var s,r,l={};for(s=e.allDirsByName.h,t=(r=Object.keys(s)).length,i=0;i<t;){var a;l[a=r[i++]]=e.allDirsByName.h[a]}return{all:e.all,allDirs:e.allDirs,allByName:n,allDirsByName:l}},initData:function(){for(var e=Object.create(null),n=0,t=this.allAssets;n<t.length;){var i=t[n];++n,e[i]=!0}var s=Object.create(null);this.allAssetDirs=[];for(n=0,t=this.allAssets;n<t.length;){i=t[n];++n;var r=i.lastIndexOf("/");if(-1!=r)for(var l=HxOverrides.substr(i,0,r);!Object.prototype.hasOwnProperty.call(s,l)&&(this.allAssetDirs.push(l),s[l]=!0,-1!=(r=l.lastIndexOf("/")));)l=HxOverrides.substr(l,0,r)}if(null==this.assetsByBaseName){this.assetsByBaseName=new haxe_ds_StringMap;for(n=0,t=this.allAssets;n<t.length;){var a=t[n];++n;var h=a.lastIndexOf(".");-1==(o=HxOverrides.substr(a,0,h).lastIndexOf("@"))&&(o=h);var c=HxOverrides.substr(a,0,Math.min(o,h));Object.prototype.hasOwnProperty.call(this.assetsByBaseName.h,c)||(this.assetsByBaseName.h[c]=[]),this.assetsByBaseName.h[c].push(a)}}if(null==this.assetDirsByBaseName){this.assetDirsByBaseName=new haxe_ds_StringMap;for(n=0,t=this.allAssetDirs;n<t.length;){a=t[n];++n;var o;h=a.lastIndexOf(".");-1==(o=HxOverrides.substr(a,0,h).lastIndexOf("@"))&&(o=h);c=HxOverrides.substr(a,0,Math.min(o,h));Object.prototype.hasOwnProperty.call(this.assetDirsByBaseName.h,c)||(this.assetDirsByBaseName.h[c]=[]),this.assetDirsByBaseName.h[c].push(a)}}},__class__:ceramic_RuntimeAssets};var b={$name:function(e){var n=null;return e>=0&&e<b.scanCodeNames.length&&(n=b.scanCodeNames[e]),null!=n?n:""},toString:function(e){return"ScanCode("+e+" "+b.$name(e)+")"}},f={toString:function(e){switch(e){case 0:return"NONE";case 1:return"PRELOAD";case 2:return"LOAD";case 3:return"CREATE";case 4:return"FADE_IN";case 5:return"READY";case 6:return"FADE_OUT";case 7:return"DISABLED";default:return"_"}}},ceramic_System=function(){this.lateUpdateOrder=0,this.earlyUpdateOrder=0,this.autoUpdate=!0,this.name=null,ceramic_Entity.call(this),ceramic_App.app.systems.addSystem(this)};t["ceramic.System"]=ceramic_System,ceramic_System.__name__="ceramic.System",ceramic_System.__super__=ceramic_Entity,ceramic_System.prototype=$extend(ceramic_Entity.prototype,{emitBeginEarlyUpdate:function(e){var n=0;if(null!=this.__cbOnBeginEarlyUpdate&&(n+=this.__cbOnBeginEarlyUpdate.length),null!=this.__cbOnceBeginEarlyUpdate&&(n+=this.__cbOnceBeginEarlyUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnBeginEarlyUpdate)for(var r=0,l=this.__cbOnBeginEarlyUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnBeginEarlyUpdate[a],++s):--n}if(null!=this.__cbOnceBeginEarlyUpdate){var h=null,c=null;for(r=0,l=this.__cbOnceBeginEarlyUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceBeginEarlyUpdate[a],this.__cbOnceBeginEarlyUpdate[a]=null;var o=this.__cbOnceOwnerUnbindBeginEarlyUpdate[a];this.__cbOnceOwnerUnbindBeginEarlyUpdate[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindBeginEarlyUpdate[a]),c.push(this.__cbOnceBeginEarlyUpdate[a])}this.__cbOnceOwnerUnbindBeginEarlyUpdate=h,this.__cbOnceBeginEarlyUpdate=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onBeginEarlyUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginEarlyUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginEarlyUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBeginEarlyUpdate&&(this.__cbOnOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnOwnerUnbindBeginEarlyUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBeginEarlyUpdate&&(this.__cbOnOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnOwnerUnbindBeginEarlyUpdate.push(null);null==this.__cbOnBeginEarlyUpdate&&(this.__cbOnBeginEarlyUpdate=[]),this.__cbOnBeginEarlyUpdate.push(n)},onceBeginEarlyUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginEarlyUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginEarlyUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBeginEarlyUpdate&&(this.__cbOnceOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnceOwnerUnbindBeginEarlyUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBeginEarlyUpdate&&(this.__cbOnceOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnceOwnerUnbindBeginEarlyUpdate.push(null);null==this.__cbOnceBeginEarlyUpdate&&(this.__cbOnceBeginEarlyUpdate=[]),this.__cbOnceBeginEarlyUpdate.push(n)},offBeginEarlyUpdate:function(e){if(null!=e){var n;null!=this.__cbOnBeginEarlyUpdate&&-1!=(n=this.__cbOnBeginEarlyUpdate.indexOf(e))&&(this.__cbOnBeginEarlyUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBeginEarlyUpdate[n])&&r(),this.__cbOnOwnerUnbindBeginEarlyUpdate.splice(n,1)),null!=this.__cbOnceBeginEarlyUpdate&&-1!=(n=this.__cbOnceBeginEarlyUpdate.indexOf(e))&&(this.__cbOnceBeginEarlyUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBeginEarlyUpdate[n])&&r(),this.__cbOnceOwnerUnbindBeginEarlyUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginEarlyUpdate){for(var t=0,i=this.__cbOnOwnerUnbindBeginEarlyUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBeginEarlyUpdate[s])&&r()}this.__cbOnOwnerUnbindBeginEarlyUpdate=null}if(null!=this.__cbOnceOwnerUnbindBeginEarlyUpdate){for(t=0,i=this.__cbOnceOwnerUnbindBeginEarlyUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBeginEarlyUpdate[s])&&r()}this.__cbOnceOwnerUnbindBeginEarlyUpdate=null}this.__cbOnBeginEarlyUpdate=null,this.__cbOnceBeginEarlyUpdate=null}},listensBeginEarlyUpdate:function(){return null!=this.__cbOnBeginEarlyUpdate&&this.__cbOnBeginEarlyUpdate.length>0||null!=this.__cbOnceBeginEarlyUpdate&&this.__cbOnceBeginEarlyUpdate.length>0},emitEndEarlyUpdate:function(e){var n=0;if(null!=this.__cbOnEndEarlyUpdate&&(n+=this.__cbOnEndEarlyUpdate.length),null!=this.__cbOnceEndEarlyUpdate&&(n+=this.__cbOnceEndEarlyUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnEndEarlyUpdate)for(var r=0,l=this.__cbOnEndEarlyUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnEndEarlyUpdate[a],++s):--n}if(null!=this.__cbOnceEndEarlyUpdate){var h=null,c=null;for(r=0,l=this.__cbOnceEndEarlyUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceEndEarlyUpdate[a],this.__cbOnceEndEarlyUpdate[a]=null;var o=this.__cbOnceOwnerUnbindEndEarlyUpdate[a];this.__cbOnceOwnerUnbindEndEarlyUpdate[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindEndEarlyUpdate[a]),c.push(this.__cbOnceEndEarlyUpdate[a])}this.__cbOnceOwnerUnbindEndEarlyUpdate=h,this.__cbOnceEndEarlyUpdate=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onEndEarlyUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event endEarlyUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEndEarlyUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindEndEarlyUpdate&&(this.__cbOnOwnerUnbindEndEarlyUpdate=[]),this.__cbOnOwnerUnbindEndEarlyUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindEndEarlyUpdate&&(this.__cbOnOwnerUnbindEndEarlyUpdate=[]),this.__cbOnOwnerUnbindEndEarlyUpdate.push(null);null==this.__cbOnEndEarlyUpdate&&(this.__cbOnEndEarlyUpdate=[]),this.__cbOnEndEarlyUpdate.push(n)},onceEndEarlyUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event endEarlyUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEndEarlyUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindEndEarlyUpdate&&(this.__cbOnceOwnerUnbindEndEarlyUpdate=[]),this.__cbOnceOwnerUnbindEndEarlyUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindEndEarlyUpdate&&(this.__cbOnceOwnerUnbindEndEarlyUpdate=[]),this.__cbOnceOwnerUnbindEndEarlyUpdate.push(null);null==this.__cbOnceEndEarlyUpdate&&(this.__cbOnceEndEarlyUpdate=[]),this.__cbOnceEndEarlyUpdate.push(n)},offEndEarlyUpdate:function(e){if(null!=e){var n;null!=this.__cbOnEndEarlyUpdate&&-1!=(n=this.__cbOnEndEarlyUpdate.indexOf(e))&&(this.__cbOnEndEarlyUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindEndEarlyUpdate[n])&&r(),this.__cbOnOwnerUnbindEndEarlyUpdate.splice(n,1)),null!=this.__cbOnceEndEarlyUpdate&&-1!=(n=this.__cbOnceEndEarlyUpdate.indexOf(e))&&(this.__cbOnceEndEarlyUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindEndEarlyUpdate[n])&&r(),this.__cbOnceOwnerUnbindEndEarlyUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEndEarlyUpdate){for(var t=0,i=this.__cbOnOwnerUnbindEndEarlyUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindEndEarlyUpdate[s])&&r()}this.__cbOnOwnerUnbindEndEarlyUpdate=null}if(null!=this.__cbOnceOwnerUnbindEndEarlyUpdate){for(t=0,i=this.__cbOnceOwnerUnbindEndEarlyUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindEndEarlyUpdate[s])&&r()}this.__cbOnceOwnerUnbindEndEarlyUpdate=null}this.__cbOnEndEarlyUpdate=null,this.__cbOnceEndEarlyUpdate=null}},listensEndEarlyUpdate:function(){return null!=this.__cbOnEndEarlyUpdate&&this.__cbOnEndEarlyUpdate.length>0||null!=this.__cbOnceEndEarlyUpdate&&this.__cbOnceEndEarlyUpdate.length>0},emitBeginLateUpdate:function(e){var n=0;if(null!=this.__cbOnBeginLateUpdate&&(n+=this.__cbOnBeginLateUpdate.length),null!=this.__cbOnceBeginLateUpdate&&(n+=this.__cbOnceBeginLateUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnBeginLateUpdate)for(var r=0,l=this.__cbOnBeginLateUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnBeginLateUpdate[a],++s):--n}if(null!=this.__cbOnceBeginLateUpdate){var h=null,c=null;for(r=0,l=this.__cbOnceBeginLateUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceBeginLateUpdate[a],this.__cbOnceBeginLateUpdate[a]=null;var o=this.__cbOnceOwnerUnbindBeginLateUpdate[a];this.__cbOnceOwnerUnbindBeginLateUpdate[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindBeginLateUpdate[a]),c.push(this.__cbOnceBeginLateUpdate[a])}this.__cbOnceOwnerUnbindBeginLateUpdate=h,this.__cbOnceBeginLateUpdate=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onBeginLateUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginLateUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginLateUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBeginLateUpdate&&(this.__cbOnOwnerUnbindBeginLateUpdate=[]),this.__cbOnOwnerUnbindBeginLateUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBeginLateUpdate&&(this.__cbOnOwnerUnbindBeginLateUpdate=[]),this.__cbOnOwnerUnbindBeginLateUpdate.push(null);null==this.__cbOnBeginLateUpdate&&(this.__cbOnBeginLateUpdate=[]),this.__cbOnBeginLateUpdate.push(n)},onceBeginLateUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginLateUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginLateUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBeginLateUpdate&&(this.__cbOnceOwnerUnbindBeginLateUpdate=[]),this.__cbOnceOwnerUnbindBeginLateUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBeginLateUpdate&&(this.__cbOnceOwnerUnbindBeginLateUpdate=[]),this.__cbOnceOwnerUnbindBeginLateUpdate.push(null);null==this.__cbOnceBeginLateUpdate&&(this.__cbOnceBeginLateUpdate=[]),this.__cbOnceBeginLateUpdate.push(n)},offBeginLateUpdate:function(e){if(null!=e){var n;null!=this.__cbOnBeginLateUpdate&&-1!=(n=this.__cbOnBeginLateUpdate.indexOf(e))&&(this.__cbOnBeginLateUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBeginLateUpdate[n])&&r(),this.__cbOnOwnerUnbindBeginLateUpdate.splice(n,1)),null!=this.__cbOnceBeginLateUpdate&&-1!=(n=this.__cbOnceBeginLateUpdate.indexOf(e))&&(this.__cbOnceBeginLateUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBeginLateUpdate[n])&&r(),this.__cbOnceOwnerUnbindBeginLateUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginLateUpdate){for(var t=0,i=this.__cbOnOwnerUnbindBeginLateUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBeginLateUpdate[s])&&r()}this.__cbOnOwnerUnbindBeginLateUpdate=null}if(null!=this.__cbOnceOwnerUnbindBeginLateUpdate){for(t=0,i=this.__cbOnceOwnerUnbindBeginLateUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBeginLateUpdate[s])&&r()}this.__cbOnceOwnerUnbindBeginLateUpdate=null}this.__cbOnBeginLateUpdate=null,this.__cbOnceBeginLateUpdate=null}},listensBeginLateUpdate:function(){return null!=this.__cbOnBeginLateUpdate&&this.__cbOnBeginLateUpdate.length>0||null!=this.__cbOnceBeginLateUpdate&&this.__cbOnceBeginLateUpdate.length>0},emitEndLateUpdate:function(e){var n=0;if(null!=this.__cbOnEndLateUpdate&&(n+=this.__cbOnEndLateUpdate.length),null!=this.__cbOnceEndLateUpdate&&(n+=this.__cbOnceEndLateUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnEndLateUpdate)for(var r=0,l=this.__cbOnEndLateUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnEndLateUpdate[a],++s):--n}if(null!=this.__cbOnceEndLateUpdate){var h=null,c=null;for(r=0,l=this.__cbOnceEndLateUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceEndLateUpdate[a],this.__cbOnceEndLateUpdate[a]=null;var o=this.__cbOnceOwnerUnbindEndLateUpdate[a];this.__cbOnceOwnerUnbindEndLateUpdate[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindEndLateUpdate[a]),c.push(this.__cbOnceEndLateUpdate[a])}this.__cbOnceOwnerUnbindEndLateUpdate=h,this.__cbOnceEndLateUpdate=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onEndLateUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event endLateUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEndLateUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindEndLateUpdate&&(this.__cbOnOwnerUnbindEndLateUpdate=[]),this.__cbOnOwnerUnbindEndLateUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindEndLateUpdate&&(this.__cbOnOwnerUnbindEndLateUpdate=[]),this.__cbOnOwnerUnbindEndLateUpdate.push(null);null==this.__cbOnEndLateUpdate&&(this.__cbOnEndLateUpdate=[]),this.__cbOnEndLateUpdate.push(n)},onceEndLateUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event endLateUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEndLateUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindEndLateUpdate&&(this.__cbOnceOwnerUnbindEndLateUpdate=[]),this.__cbOnceOwnerUnbindEndLateUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindEndLateUpdate&&(this.__cbOnceOwnerUnbindEndLateUpdate=[]),this.__cbOnceOwnerUnbindEndLateUpdate.push(null);null==this.__cbOnceEndLateUpdate&&(this.__cbOnceEndLateUpdate=[]),this.__cbOnceEndLateUpdate.push(n)},offEndLateUpdate:function(e){if(null!=e){var n;null!=this.__cbOnEndLateUpdate&&-1!=(n=this.__cbOnEndLateUpdate.indexOf(e))&&(this.__cbOnEndLateUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindEndLateUpdate[n])&&r(),this.__cbOnOwnerUnbindEndLateUpdate.splice(n,1)),null!=this.__cbOnceEndLateUpdate&&-1!=(n=this.__cbOnceEndLateUpdate.indexOf(e))&&(this.__cbOnceEndLateUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindEndLateUpdate[n])&&r(),this.__cbOnceOwnerUnbindEndLateUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEndLateUpdate){for(var t=0,i=this.__cbOnOwnerUnbindEndLateUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindEndLateUpdate[s])&&r()}this.__cbOnOwnerUnbindEndLateUpdate=null}if(null!=this.__cbOnceOwnerUnbindEndLateUpdate){for(t=0,i=this.__cbOnceOwnerUnbindEndLateUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindEndLateUpdate[s])&&r()}this.__cbOnceOwnerUnbindEndLateUpdate=null}this.__cbOnEndLateUpdate=null,this.__cbOnceEndLateUpdate=null}},listensEndLateUpdate:function(){return null!=this.__cbOnEndLateUpdate&&this.__cbOnEndLateUpdate.length>0||null!=this.__cbOnceEndLateUpdate&&this.__cbOnceEndLateUpdate.length>0},set_earlyUpdateOrder:function(e){return this.earlyUpdateOrder!=e&&(this.earlyUpdateOrder=e,ceramic_App.app.systems.earlyUpdateOrderDirty=!0),e},set_lateUpdateOrder:function(e){return this.lateUpdateOrder!=e&&(this.lateUpdateOrder=e,ceramic_App.app.systems.lateUpdateOrderDirty=!0),e},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),ceramic_App.app.systems.removeSystem(this))},earlyUpdate:function(e){},lateUpdate:function(e){},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offBeginEarlyUpdate(),this.offEndEarlyUpdate(),this.offBeginLateUpdate(),this.offEndLateUpdate()},__class__:ceramic_System,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_lateUpdateOrder:"set_lateUpdateOrder",set_earlyUpdateOrder:"set_earlyUpdateOrder"})});var ceramic_SceneSystem=function(){this.rootScenes=new haxe_ds_StringMap,this.main=null,this.fadeOutWhenNextMainCanFadeIn=!0,this.bindMainToScreenSize=!0,this.keepAssetsForNextMain=!1,this._updatingScenes=[],this.all=[],ceramic_System.call(this),this.set_lateUpdateOrder(5e3)};t["ceramic.SceneSystem"]=ceramic_SceneSystem,ceramic_SceneSystem.__name__="ceramic.SceneSystem",ceramic_SceneSystem.__properties__={set_shared:"set_shared",get_shared:"get_shared"},ceramic_SceneSystem.get_shared=function(){return ceramic_SceneSystem.lazyShared&&(ceramic_SceneSystem.lazyShared=!1,ceramic_SceneSystem.shared=new ceramic_SceneSystem),ceramic_SceneSystem.shared},ceramic_SceneSystem.set_shared=function(e){return ceramic_SceneSystem.shared=e},ceramic_SceneSystem.__super__=ceramic_System,ceramic_SceneSystem.prototype=$extend(ceramic_System.prototype,{set_main:function(e){return this.main!=e&&(this.main=e,this.set("main",e,!0,this.keepAssetsForNextMain)),e},set:function(e,n,t,i){null==i&&(i=!1),null==t&&(t=!0);var s=this,r=this.rootScenes.h[e];if(n!=r)if(null==n){var l=this.rootScenes;if(Object.prototype.hasOwnProperty.call(l.h,e)&&delete l.h[e],"main"==e&&this.set_main(null),r._lifecycleState>=0)switch(r.get_status()){case 0:case 1:case 2:case 3:case 4:r.scheduleOnceReady(r,$bind(r,r.destroy));break;case 5:r.fadeOut($bind(r,r.destroy));break;case 6:case 7:r.destroy()}}else{if(n._lifecycleState<0)throw haxe_Exception.thrown("Cannot assign a destroyed scene as root scene!");var a=null;if(this.rootScenes.h[e]=n,"main"==e&&this.set_main(n),n.onDestroy(this,(function(n){if(n==s.rootScenes.h[e]){var t=s.rootScenes;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e],"main"==e&&s.set_main(null)}})),null!=r){i&&(a=r._assets);var fadeOutDone=function(){i&&(r._assets=null),r.destroy(),r=null};if(this.fadeOutWhenNextMainCanFadeIn){var h=null;switch(n.get_status()){case 0:case 1:case 2:case 3:h=function(e,t){switch(e){case 0:case 1:case 2:case 3:break;case 4:case 5:case 6:case 7:switch(n.offStatusChange(h),r.get_status()){case 0:case 1:case 2:case 3:case 4:case 6:case 7:fadeOutDone();break;case 5:r.fadeOut(fadeOutDone)}}},n.onStatusChange(r,h);break;case 4:case 5:case 6:case 7:switch(r.get_status()){case 0:case 1:case 2:case 3:case 4:case 6:case 7:fadeOutDone();break;case 5:r.fadeOut(fadeOutDone)}}}else switch(r.get_status()){case 0:case 1:case 2:case 3:case 4:case 6:case 7:fadeOutDone();break;case 5:r.fadeOut(fadeOutDone)}}n._assets=a,t&&n.bindToScreenSize(),n._boot()}},get:function(e){return this.rootScenes.h[e]},setCurrentScene:function(e,n){null==n&&(n=!1),this.keepAssetsForNextMain=n,this.set_main(e)},lateUpdate:function(e){for(var n=this.all.length,t=0,i=n;t<i;){var s=t++;this._updatingScenes[s]=this.all[s]}for(t=0,i=n;t<i;){s=t++;var r=this._updatingScenes[s];if(1!=(1&r.flags)&&(0==r.get_status()&&null!=r.parent&&r._boot(),!r.paused&&r.autoUpdate))switch(r.get_status()){case 0:case 1:case 2:case 3:case 7:break;case 4:case 5:case 6:r.update(e)}}for(t=0,i=n;t<i;){s=t++;this._updatingScenes[s]=null}},__class__:ceramic_SceneSystem,__properties__:$extend(ceramic_System.prototype.__properties__,{set_main:"set_main"})});var ceramic_Screen=function(){this.hitVisuals=[],this.matchedOverListeners=new haxe_ds_IntMap,this.matchedDownListeners=new haxe_ds_IntMap,this.maxTouchIndex=-1,this.prevMouseY=0,this.prevMouseX=0,this.prevTouchPositions=new haxe_ds_IntMap,this.pressedTouches=new haxe_ds_IntMap,this.pressedMouseButtons=new haxe_ds_IntMap,this._numPointerDown=0,this.resizing=!1,this.reverseMatrix=new ceramic_Transform,this.matrix=new ceramic_Transform,this.unobservedTexturesDensity=1,this.texturesDensityAutoruns=null,this.unobservedFocusedVisual=null,this.focusedVisualAutoruns=null,this.touches=new ceramic_IntMap(8,.5,!1),this.mouseWheelDeltaY=0,this.mouseWheelDeltaX=0,this.mouseDeltaY=0,this.mouseDeltaX=0,this.mouseY=0,this.mouseX=0,this.pointerDeltaY=0,this.pointerDeltaX=0,this.pointerY=0,this.pointerX=0,this.offsetY=0,this.offsetX=0,this.actualHeight=0,this.actualWidth=0,this.height=0,this.width=0,this.density=1,this.observedDirty=!1,ceramic_Entity.call(this)};t["ceramic.Screen"]=ceramic_Screen,ceramic_Screen.__name__="ceramic.Screen",ceramic_Screen.__interfaces__=[tracker_Observable],ceramic_Screen.__super__=ceramic_Entity,ceramic_Screen.prototype=$extend(ceramic_Entity.prototype,{emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var l=0,a=this.__cbOnObservedDirty.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnObservedDirty[h],++r):--t}if(null!=this.__cbOnceObservedDirty){var c=null,o=null;for(l=0,a=this.__cbOnceObservedDirty.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceObservedDirty[h],this.__cbOnceObservedDirty[h]=null;var u=this.__cbOnceOwnerUnbindObservedDirty[h];this.__cbOnceOwnerUnbindObservedDirty[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindObservedDirty[h]),o.push(this.__cbOnceObservedDirty[h])}this.__cbOnceOwnerUnbindObservedDirty=c,this.__cbOnceObservedDirty=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(n)},onceObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(n)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[s])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[s])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&this.__cbOnObservedDirty.length>0||null!=this.__cbOnceObservedDirty&&this.__cbOnceObservedDirty.length>0},get_nativeWidth:function(){return clay_Clay.app.screenWidth},get_nativeHeight:function(){return clay_Clay.app.screenHeight},get_nativeDensity:function(){return clay_Clay.app.screenDensity},get_focusedVisual:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.focusedVisualAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.focusedVisualAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedFocusedVisual},set_focusedVisual:function(e){var n=this.unobservedFocusedVisual;if(this.set_unobservedFocusedVisual(e),n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFocusedVisualChange(e,n);var t=this.focusedVisualAutoruns;if(null!=t){this.focusedVisualAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateFocusedVisual:function(){var e=this.unobservedFocusedVisual;this.emitFocusedVisualChange(e,e);var n=this.focusedVisualAutoruns;if(null!=n){this.focusedVisualAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitFocusedVisualChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedVisualChange&&(t+=this.__cbOnFocusedVisualChange.length),null!=this.__cbOnceFocusedVisualChange&&(t+=this.__cbOnceFocusedVisualChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnFocusedVisualChange)for(var l=0,a=this.__cbOnFocusedVisualChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnFocusedVisualChange[h],++r):--t}if(null!=this.__cbOnceFocusedVisualChange){var c=null,o=null;for(l=0,a=this.__cbOnceFocusedVisualChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceFocusedVisualChange[h],this.__cbOnceFocusedVisualChange[h]=null;var u=this.__cbOnceOwnerUnbindFocusedVisualChange[h];this.__cbOnceOwnerUnbindFocusedVisualChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindFocusedVisualChange[h]),o.push(this.__cbOnceFocusedVisualChange[h])}this.__cbOnceOwnerUnbindFocusedVisualChange=c,this.__cbOnceFocusedVisualChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onFocusedVisualChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event focusedVisualChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFocusedVisualChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFocusedVisualChange&&(this.__cbOnOwnerUnbindFocusedVisualChange=[]),this.__cbOnOwnerUnbindFocusedVisualChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFocusedVisualChange&&(this.__cbOnOwnerUnbindFocusedVisualChange=[]),this.__cbOnOwnerUnbindFocusedVisualChange.push(null);null==this.__cbOnFocusedVisualChange&&(this.__cbOnFocusedVisualChange=[]),this.__cbOnFocusedVisualChange.push(n)},onceFocusedVisualChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event focusedVisualChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFocusedVisualChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFocusedVisualChange&&(this.__cbOnceOwnerUnbindFocusedVisualChange=[]),this.__cbOnceOwnerUnbindFocusedVisualChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFocusedVisualChange&&(this.__cbOnceOwnerUnbindFocusedVisualChange=[]),this.__cbOnceOwnerUnbindFocusedVisualChange.push(null);null==this.__cbOnceFocusedVisualChange&&(this.__cbOnceFocusedVisualChange=[]),this.__cbOnceFocusedVisualChange.push(n)},offFocusedVisualChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedVisualChange&&-1!=(n=this.__cbOnFocusedVisualChange.indexOf(e))&&(this.__cbOnFocusedVisualChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFocusedVisualChange[n])&&r(),this.__cbOnOwnerUnbindFocusedVisualChange.splice(n,1)),null!=this.__cbOnceFocusedVisualChange&&-1!=(n=this.__cbOnceFocusedVisualChange.indexOf(e))&&(this.__cbOnceFocusedVisualChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFocusedVisualChange[n])&&r(),this.__cbOnceOwnerUnbindFocusedVisualChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedVisualChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedVisualChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFocusedVisualChange[s])&&r()}this.__cbOnOwnerUnbindFocusedVisualChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedVisualChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedVisualChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFocusedVisualChange[s])&&r()}this.__cbOnceOwnerUnbindFocusedVisualChange=null}this.__cbOnFocusedVisualChange=null,this.__cbOnceFocusedVisualChange=null}},listensFocusedVisualChange:function(){return null!=this.__cbOnFocusedVisualChange&&this.__cbOnFocusedVisualChange.length>0||null!=this.__cbOnceFocusedVisualChange&&this.__cbOnceFocusedVisualChange.length>0},set_unobservedFocusedVisual:function(e){if(this.unobservedFocusedVisual==e)return e;var n=this.unobservedFocusedVisual;return this.unobservedFocusedVisual=e,null!=n&&(this.emitBlur(n),n.emitBlur()),null!=e&&(this.emitFocus(e),e.emitFocus()),e},get_texturesDensity:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.texturesDensityAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.texturesDensityAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedTexturesDensity},set_texturesDensity:function(e){var n=this.unobservedTexturesDensity;if(this.unobservedTexturesDensity=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTexturesDensityChange(e,n);var t=this.texturesDensityAutoruns;if(null!=t){this.texturesDensityAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTexturesDensity:function(){var e=this.unobservedTexturesDensity;this.emitTexturesDensityChange(e,e);var n=this.texturesDensityAutoruns;if(null!=n){this.texturesDensityAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitTexturesDensityChange:function(e,n){var t=0;if(null!=this.__cbOnTexturesDensityChange&&(t+=this.__cbOnTexturesDensityChange.length),null!=this.__cbOnceTexturesDensityChange&&(t+=this.__cbOnceTexturesDensityChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnTexturesDensityChange)for(var l=0,a=this.__cbOnTexturesDensityChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnTexturesDensityChange[h],++r):--t}if(null!=this.__cbOnceTexturesDensityChange){var c=null,o=null;for(l=0,a=this.__cbOnceTexturesDensityChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceTexturesDensityChange[h],this.__cbOnceTexturesDensityChange[h]=null;var u=this.__cbOnceOwnerUnbindTexturesDensityChange[h];this.__cbOnceOwnerUnbindTexturesDensityChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindTexturesDensityChange[h]),o.push(this.__cbOnceTexturesDensityChange[h])}this.__cbOnceOwnerUnbindTexturesDensityChange=c,this.__cbOnceTexturesDensityChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onTexturesDensityChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event texturesDensityChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTexturesDensityChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTexturesDensityChange&&(this.__cbOnOwnerUnbindTexturesDensityChange=[]),this.__cbOnOwnerUnbindTexturesDensityChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTexturesDensityChange&&(this.__cbOnOwnerUnbindTexturesDensityChange=[]),this.__cbOnOwnerUnbindTexturesDensityChange.push(null);null==this.__cbOnTexturesDensityChange&&(this.__cbOnTexturesDensityChange=[]),this.__cbOnTexturesDensityChange.push(n)},onceTexturesDensityChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event texturesDensityChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTexturesDensityChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTexturesDensityChange&&(this.__cbOnceOwnerUnbindTexturesDensityChange=[]),this.__cbOnceOwnerUnbindTexturesDensityChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTexturesDensityChange&&(this.__cbOnceOwnerUnbindTexturesDensityChange=[]),this.__cbOnceOwnerUnbindTexturesDensityChange.push(null);null==this.__cbOnceTexturesDensityChange&&(this.__cbOnceTexturesDensityChange=[]),this.__cbOnceTexturesDensityChange.push(n)},offTexturesDensityChange:function(e){if(null!=e){var n;null!=this.__cbOnTexturesDensityChange&&-1!=(n=this.__cbOnTexturesDensityChange.indexOf(e))&&(this.__cbOnTexturesDensityChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTexturesDensityChange[n])&&r(),this.__cbOnOwnerUnbindTexturesDensityChange.splice(n,1)),null!=this.__cbOnceTexturesDensityChange&&-1!=(n=this.__cbOnceTexturesDensityChange.indexOf(e))&&(this.__cbOnceTexturesDensityChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTexturesDensityChange[n])&&r(),this.__cbOnceOwnerUnbindTexturesDensityChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTexturesDensityChange){for(var t=0,i=this.__cbOnOwnerUnbindTexturesDensityChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTexturesDensityChange[s])&&r()}this.__cbOnOwnerUnbindTexturesDensityChange=null}if(null!=this.__cbOnceOwnerUnbindTexturesDensityChange){for(t=0,i=this.__cbOnceOwnerUnbindTexturesDensityChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTexturesDensityChange[s])&&r()}this.__cbOnceOwnerUnbindTexturesDensityChange=null}this.__cbOnTexturesDensityChange=null,this.__cbOnceTexturesDensityChange=null}},listensTexturesDensityChange:function(){return null!=this.__cbOnTexturesDensityChange&&this.__cbOnTexturesDensityChange.length>0||null!=this.__cbOnceTexturesDensityChange&&this.__cbOnceTexturesDensityChange.length>0},get_isPointerDown:function(){return this._numPointerDown>0},emitResize:function(){var e=0;if(null!=this.__cbOnResize&&(e+=this.__cbOnResize.length),null!=this.__cbOnceResize&&(e+=this.__cbOnceResize.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnResize)for(var s=0,r=this.__cbOnResize.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnResize[l],++i):--e}if(null!=this.__cbOnceResize){var a=null,h=null;for(s=0,r=this.__cbOnceResize.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceResize[l],this.__cbOnceResize[l]=null;var c=this.__cbOnceOwnerUnbindResize[l];this.__cbOnceOwnerUnbindResize[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindResize[l]),h.push(this.__cbOnceResize[l])}this.__cbOnceOwnerUnbindResize=a,this.__cbOnceResize=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onResize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event resize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offResize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(null);null==this.__cbOnResize&&(this.__cbOnResize=[]),this.__cbOnResize.push(n)},onceResize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event resize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offResize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(null);null==this.__cbOnceResize&&(this.__cbOnceResize=[]),this.__cbOnceResize.push(n)},offResize:function(e){if(null!=e){var n;null!=this.__cbOnResize&&-1!=(n=this.__cbOnResize.indexOf(e))&&(this.__cbOnResize.splice(n,1),null!=(r=this.__cbOnOwnerUnbindResize[n])&&r(),this.__cbOnOwnerUnbindResize.splice(n,1)),null!=this.__cbOnceResize&&-1!=(n=this.__cbOnceResize.indexOf(e))&&(this.__cbOnceResize.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindResize[n])&&r(),this.__cbOnceOwnerUnbindResize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindResize){for(var t=0,i=this.__cbOnOwnerUnbindResize.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindResize[s])&&r()}this.__cbOnOwnerUnbindResize=null}if(null!=this.__cbOnceOwnerUnbindResize){for(t=0,i=this.__cbOnceOwnerUnbindResize.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindResize[s])&&r()}this.__cbOnceOwnerUnbindResize=null}this.__cbOnResize=null,this.__cbOnceResize=null}},listensResize:function(){return null!=this.__cbOnResize&&this.__cbOnResize.length>0||null!=this.__cbOnceResize&&this.__cbOnceResize.length>0},emitMouseDown:function(e,n,t){this.willEmitMouseDown(e,n,t);var i=0;if(null!=this.__cbOnMouseDown&&(i+=this.__cbOnMouseDown.length),null!=this.__cbOnceMouseDown&&(i+=this.__cbOnceMouseDown.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnMouseDown)for(var a=0,h=this.__cbOnMouseDown.length;a<h;){var c=a++;!0?(r.vector[l]=this.__cbOnMouseDown[c],++l):--i}if(null!=this.__cbOnceMouseDown){var o=null,u=null;for(a=0,h=this.__cbOnceMouseDown.length;a<h;){c=a++;if(!0){r.vector[l]=this.__cbOnceMouseDown[c],this.__cbOnceMouseDown[c]=null;var _=this.__cbOnceOwnerUnbindMouseDown[c];this.__cbOnceOwnerUnbindMouseDown[c]=null,null!=_&&_(),++l}else--i,null==o&&(o=[],u=[],[]),o.push(this.__cbOnceOwnerUnbindMouseDown[c]),u.push(this.__cbOnceMouseDown[c])}this.__cbOnceOwnerUnbindMouseDown=o,this.__cbOnceMouseDown=u}for(a=0,h=i;a<h;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}var d=this.matchFirstDownListener(n,t,-1,e);null!=d&&(d._numPointerDown++,(1==d._numPointerDown||d.multiTouch)&&(ceramic_App.app.screen.set_focusedVisual(d),d.emitPointerDown(new ceramic_TouchInfo(-1,e,n,t,!0))));var b=1e4+e;this.matchedDownListeners.h[b]=d},onMouseDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push(null);null==this.__cbOnMouseDown&&(this.__cbOnMouseDown=[]),this.__cbOnMouseDown.push(n)},onceMouseDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push(null);null==this.__cbOnceMouseDown&&(this.__cbOnceMouseDown=[]),this.__cbOnceMouseDown.push(n)},offMouseDown:function(e){if(null!=e){var n;null!=this.__cbOnMouseDown&&-1!=(n=this.__cbOnMouseDown.indexOf(e))&&(this.__cbOnMouseDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseDown[n])&&r(),this.__cbOnOwnerUnbindMouseDown.splice(n,1)),null!=this.__cbOnceMouseDown&&-1!=(n=this.__cbOnceMouseDown.indexOf(e))&&(this.__cbOnceMouseDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseDown[n])&&r(),this.__cbOnceOwnerUnbindMouseDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseDown){for(var t=0,i=this.__cbOnOwnerUnbindMouseDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMouseDown[s])&&r()}this.__cbOnOwnerUnbindMouseDown=null}if(null!=this.__cbOnceOwnerUnbindMouseDown){for(t=0,i=this.__cbOnceOwnerUnbindMouseDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMouseDown[s])&&r()}this.__cbOnceOwnerUnbindMouseDown=null}this.__cbOnMouseDown=null,this.__cbOnceMouseDown=null}},listensMouseDown:function(){return null!=this.__cbOnMouseDown&&this.__cbOnMouseDown.length>0||null!=this.__cbOnceMouseDown&&this.__cbOnceMouseDown.length>0},emitMouseUp:function(e,n,t){this.willEmitMouseUp(e,n,t);var i=0;if(null!=this.__cbOnMouseUp&&(i+=this.__cbOnMouseUp.length),null!=this.__cbOnceMouseUp&&(i+=this.__cbOnceMouseUp.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnMouseUp)for(var a=0,h=this.__cbOnMouseUp.length;a<h;){var c=a++;!0?(r.vector[l]=this.__cbOnMouseUp[c],++l):--i}if(null!=this.__cbOnceMouseUp){var o=null,u=null;for(a=0,h=this.__cbOnceMouseUp.length;a<h;){c=a++;if(!0){r.vector[l]=this.__cbOnceMouseUp[c],this.__cbOnceMouseUp[c]=null;var _=this.__cbOnceOwnerUnbindMouseUp[c];this.__cbOnceOwnerUnbindMouseUp[c]=null,null!=_&&_(),++l}else--i,null==o&&(o=[],u=[],[]),o.push(this.__cbOnceOwnerUnbindMouseUp[c]),u.push(this.__cbOnceMouseUp[c])}this.__cbOnceOwnerUnbindMouseUp=o,this.__cbOnceMouseUp=u}for(a=0,h=i;a<h;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}var d=1e4+e,b=this.matchedDownListeners.h[d];null!=b&&b._lifecycleState>=0&&b._numPointerDown>0&&(b._numPointerDown--,(0==b._numPointerDown||b.multiTouch)&&b.emitPointerUp(new ceramic_TouchInfo(-1,e,n,t,b.hits(n,t)))),this.matchedDownListeners.remove(d)},onMouseUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push(null);null==this.__cbOnMouseUp&&(this.__cbOnMouseUp=[]),this.__cbOnMouseUp.push(n)},onceMouseUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push(null);null==this.__cbOnceMouseUp&&(this.__cbOnceMouseUp=[]),this.__cbOnceMouseUp.push(n)},offMouseUp:function(e){if(null!=e){var n;null!=this.__cbOnMouseUp&&-1!=(n=this.__cbOnMouseUp.indexOf(e))&&(this.__cbOnMouseUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseUp[n])&&r(),this.__cbOnOwnerUnbindMouseUp.splice(n,1)),null!=this.__cbOnceMouseUp&&-1!=(n=this.__cbOnceMouseUp.indexOf(e))&&(this.__cbOnceMouseUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseUp[n])&&r(),this.__cbOnceOwnerUnbindMouseUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseUp){for(var t=0,i=this.__cbOnOwnerUnbindMouseUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMouseUp[s])&&r()}this.__cbOnOwnerUnbindMouseUp=null}if(null!=this.__cbOnceOwnerUnbindMouseUp){for(t=0,i=this.__cbOnceOwnerUnbindMouseUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMouseUp[s])&&r()}this.__cbOnceOwnerUnbindMouseUp=null}this.__cbOnMouseUp=null,this.__cbOnceMouseUp=null}},listensMouseUp:function(){return null!=this.__cbOnMouseUp&&this.__cbOnMouseUp.length>0||null!=this.__cbOnceMouseUp&&this.__cbOnceMouseUp.length>0},emitMouseWheel:function(e,n){this.willEmitMouseWheel(e,n);var t=0;if(null!=this.__cbOnMouseWheel&&(t+=this.__cbOnMouseWheel.length),null!=this.__cbOnceMouseWheel&&(t+=this.__cbOnceMouseWheel.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnMouseWheel)for(var l=0,a=this.__cbOnMouseWheel.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnMouseWheel[h],++r):--t}if(null!=this.__cbOnceMouseWheel){var c=null,o=null;for(l=0,a=this.__cbOnceMouseWheel.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceMouseWheel[h],this.__cbOnceMouseWheel[h]=null;var u=this.__cbOnceOwnerUnbindMouseWheel[h];this.__cbOnceOwnerUnbindMouseWheel[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindMouseWheel[h]),o.push(this.__cbOnceMouseWheel[h])}this.__cbOnceOwnerUnbindMouseWheel=c,this.__cbOnceMouseWheel=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onMouseWheel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseWheel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseWheel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push(null);null==this.__cbOnMouseWheel&&(this.__cbOnMouseWheel=[]),this.__cbOnMouseWheel.push(n)},onceMouseWheel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseWheel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseWheel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push(null);null==this.__cbOnceMouseWheel&&(this.__cbOnceMouseWheel=[]),this.__cbOnceMouseWheel.push(n)},offMouseWheel:function(e){if(null!=e){var n;null!=this.__cbOnMouseWheel&&-1!=(n=this.__cbOnMouseWheel.indexOf(e))&&(this.__cbOnMouseWheel.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseWheel[n])&&r(),this.__cbOnOwnerUnbindMouseWheel.splice(n,1)),null!=this.__cbOnceMouseWheel&&-1!=(n=this.__cbOnceMouseWheel.indexOf(e))&&(this.__cbOnceMouseWheel.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseWheel[n])&&r(),this.__cbOnceOwnerUnbindMouseWheel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseWheel){for(var t=0,i=this.__cbOnOwnerUnbindMouseWheel.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMouseWheel[s])&&r()}this.__cbOnOwnerUnbindMouseWheel=null}if(null!=this.__cbOnceOwnerUnbindMouseWheel){for(t=0,i=this.__cbOnceOwnerUnbindMouseWheel.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMouseWheel[s])&&r()}this.__cbOnceOwnerUnbindMouseWheel=null}this.__cbOnMouseWheel=null,this.__cbOnceMouseWheel=null}},listensMouseWheel:function(){return null!=this.__cbOnMouseWheel&&this.__cbOnMouseWheel.length>0||null!=this.__cbOnceMouseWheel&&this.__cbOnceMouseWheel.length>0},emitMouseMove:function(e,n){this.willEmitMouseMove(e,n);var t=0;if(null!=this.__cbOnMouseMove&&(t+=this.__cbOnMouseMove.length),null!=this.__cbOnceMouseMove&&(t+=this.__cbOnceMouseMove.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnMouseMove)for(var l=0,a=this.__cbOnMouseMove.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnMouseMove[h],++r):--t}if(null!=this.__cbOnceMouseMove){var c=null,o=null;for(l=0,a=this.__cbOnceMouseMove.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceMouseMove[h],this.__cbOnceMouseMove[h]=null;var u=this.__cbOnceOwnerUnbindMouseMove[h];this.__cbOnceOwnerUnbindMouseMove[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindMouseMove[h]),o.push(this.__cbOnceMouseMove[h])}this.__cbOnceOwnerUnbindMouseMove=c,this.__cbOnceMouseMove=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onMouseMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push(null);null==this.__cbOnMouseMove&&(this.__cbOnMouseMove=[]),this.__cbOnMouseMove.push(n)},onceMouseMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push(null);null==this.__cbOnceMouseMove&&(this.__cbOnceMouseMove=[]),this.__cbOnceMouseMove.push(n)},offMouseMove:function(e){if(null!=e){var n;null!=this.__cbOnMouseMove&&-1!=(n=this.__cbOnMouseMove.indexOf(e))&&(this.__cbOnMouseMove.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseMove[n])&&r(),this.__cbOnOwnerUnbindMouseMove.splice(n,1)),null!=this.__cbOnceMouseMove&&-1!=(n=this.__cbOnceMouseMove.indexOf(e))&&(this.__cbOnceMouseMove.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseMove[n])&&r(),this.__cbOnceOwnerUnbindMouseMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseMove){for(var t=0,i=this.__cbOnOwnerUnbindMouseMove.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMouseMove[s])&&r()}this.__cbOnOwnerUnbindMouseMove=null}if(null!=this.__cbOnceOwnerUnbindMouseMove){for(t=0,i=this.__cbOnceOwnerUnbindMouseMove.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMouseMove[s])&&r()}this.__cbOnceOwnerUnbindMouseMove=null}this.__cbOnMouseMove=null,this.__cbOnceMouseMove=null}},listensMouseMove:function(){return null!=this.__cbOnMouseMove&&this.__cbOnMouseMove.length>0||null!=this.__cbOnceMouseMove&&this.__cbOnceMouseMove.length>0},emitTouchDown:function(e,n,t){this.willEmitTouchDown(e,n,t);var i=0;if(null!=this.__cbOnTouchDown&&(i+=this.__cbOnTouchDown.length),null!=this.__cbOnceTouchDown&&(i+=this.__cbOnceTouchDown.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnTouchDown)for(var a=0,h=this.__cbOnTouchDown.length;a<h;){var c=a++;!0?(r.vector[l]=this.__cbOnTouchDown[c],++l):--i}if(null!=this.__cbOnceTouchDown){var o=null,u=null;for(a=0,h=this.__cbOnceTouchDown.length;a<h;){c=a++;if(!0){r.vector[l]=this.__cbOnceTouchDown[c],this.__cbOnceTouchDown[c]=null;var _=this.__cbOnceOwnerUnbindTouchDown[c];this.__cbOnceOwnerUnbindTouchDown[c]=null,null!=_&&_(),++l}else--i,null==o&&(o=[],u=[],[]),o.push(this.__cbOnceOwnerUnbindTouchDown[c]),u.push(this.__cbOnceTouchDown[c])}this.__cbOnceOwnerUnbindTouchDown=o,this.__cbOnceTouchDown=u}for(a=0,h=i;a<h;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}var d=this.matchFirstDownListener(n,t,e,-1);null!=d&&(d._numPointerDown++,(1==d._numPointerDown||d.multiTouch)&&(ceramic_App.app.screen.set_focusedVisual(d),d.emitPointerDown(new ceramic_TouchInfo(e,-1,n,t,!0))));var b=2e4+e;this.matchedDownListeners.h[b]=d},onTouchDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push(null);null==this.__cbOnTouchDown&&(this.__cbOnTouchDown=[]),this.__cbOnTouchDown.push(n)},onceTouchDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push(null);null==this.__cbOnceTouchDown&&(this.__cbOnceTouchDown=[]),this.__cbOnceTouchDown.push(n)},offTouchDown:function(e){if(null!=e){var n;null!=this.__cbOnTouchDown&&-1!=(n=this.__cbOnTouchDown.indexOf(e))&&(this.__cbOnTouchDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTouchDown[n])&&r(),this.__cbOnOwnerUnbindTouchDown.splice(n,1)),null!=this.__cbOnceTouchDown&&-1!=(n=this.__cbOnceTouchDown.indexOf(e))&&(this.__cbOnceTouchDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTouchDown[n])&&r(),this.__cbOnceOwnerUnbindTouchDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchDown){for(var t=0,i=this.__cbOnOwnerUnbindTouchDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTouchDown[s])&&r()}this.__cbOnOwnerUnbindTouchDown=null}if(null!=this.__cbOnceOwnerUnbindTouchDown){for(t=0,i=this.__cbOnceOwnerUnbindTouchDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTouchDown[s])&&r()}this.__cbOnceOwnerUnbindTouchDown=null}this.__cbOnTouchDown=null,this.__cbOnceTouchDown=null}},listensTouchDown:function(){return null!=this.__cbOnTouchDown&&this.__cbOnTouchDown.length>0||null!=this.__cbOnceTouchDown&&this.__cbOnceTouchDown.length>0},emitTouchUp:function(e,n,t){this.willEmitTouchUp(e,n,t);var i=0;if(null!=this.__cbOnTouchUp&&(i+=this.__cbOnTouchUp.length),null!=this.__cbOnceTouchUp&&(i+=this.__cbOnceTouchUp.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnTouchUp)for(var a=0,h=this.__cbOnTouchUp.length;a<h;){var c=a++;!0?(r.vector[l]=this.__cbOnTouchUp[c],++l):--i}if(null!=this.__cbOnceTouchUp){var o=null,u=null;for(a=0,h=this.__cbOnceTouchUp.length;a<h;){c=a++;if(!0){r.vector[l]=this.__cbOnceTouchUp[c],this.__cbOnceTouchUp[c]=null;var _=this.__cbOnceOwnerUnbindTouchUp[c];this.__cbOnceOwnerUnbindTouchUp[c]=null,null!=_&&_(),++l}else--i,null==o&&(o=[],u=[],[]),o.push(this.__cbOnceOwnerUnbindTouchUp[c]),u.push(this.__cbOnceTouchUp[c])}this.__cbOnceOwnerUnbindTouchUp=o,this.__cbOnceTouchUp=u}for(a=0,h=i;a<h;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}var d=2e4+e,b=this.matchedDownListeners.h[d];null!=b&&b._lifecycleState>=0&&b._numPointerDown>0&&(b._numPointerDown--,(0==b._numPointerDown||b.multiTouch)&&b.emitPointerUp(new ceramic_TouchInfo(e,-1,n,t,b.hits(n,t)))),this.matchedDownListeners.remove(d)},onTouchUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push(null);null==this.__cbOnTouchUp&&(this.__cbOnTouchUp=[]),this.__cbOnTouchUp.push(n)},onceTouchUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push(null);null==this.__cbOnceTouchUp&&(this.__cbOnceTouchUp=[]),this.__cbOnceTouchUp.push(n)},offTouchUp:function(e){if(null!=e){var n;null!=this.__cbOnTouchUp&&-1!=(n=this.__cbOnTouchUp.indexOf(e))&&(this.__cbOnTouchUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTouchUp[n])&&r(),this.__cbOnOwnerUnbindTouchUp.splice(n,1)),null!=this.__cbOnceTouchUp&&-1!=(n=this.__cbOnceTouchUp.indexOf(e))&&(this.__cbOnceTouchUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTouchUp[n])&&r(),this.__cbOnceOwnerUnbindTouchUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchUp){for(var t=0,i=this.__cbOnOwnerUnbindTouchUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTouchUp[s])&&r()}this.__cbOnOwnerUnbindTouchUp=null}if(null!=this.__cbOnceOwnerUnbindTouchUp){for(t=0,i=this.__cbOnceOwnerUnbindTouchUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTouchUp[s])&&r()}this.__cbOnceOwnerUnbindTouchUp=null}this.__cbOnTouchUp=null,this.__cbOnceTouchUp=null}},listensTouchUp:function(){return null!=this.__cbOnTouchUp&&this.__cbOnTouchUp.length>0||null!=this.__cbOnceTouchUp&&this.__cbOnceTouchUp.length>0},emitTouchMove:function(e,n,t){this.willEmitTouchMove(e,n,t);var i=0;if(null!=this.__cbOnTouchMove&&(i+=this.__cbOnTouchMove.length),null!=this.__cbOnceTouchMove&&(i+=this.__cbOnceTouchMove.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnTouchMove)for(var a=0,h=this.__cbOnTouchMove.length;a<h;){var c=a++;!0?(r.vector[l]=this.__cbOnTouchMove[c],++l):--i}if(null!=this.__cbOnceTouchMove){var o=null,u=null;for(a=0,h=this.__cbOnceTouchMove.length;a<h;){c=a++;if(!0){r.vector[l]=this.__cbOnceTouchMove[c],this.__cbOnceTouchMove[c]=null;var _=this.__cbOnceOwnerUnbindTouchMove[c];this.__cbOnceOwnerUnbindTouchMove[c]=null,null!=_&&_(),++l}else--i,null==o&&(o=[],u=[],[]),o.push(this.__cbOnceOwnerUnbindTouchMove[c]),u.push(this.__cbOnceTouchMove[c])}this.__cbOnceOwnerUnbindTouchMove=o,this.__cbOnceTouchMove=u}for(a=0,h=i;a<h;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onTouchMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push(null);null==this.__cbOnTouchMove&&(this.__cbOnTouchMove=[]),this.__cbOnTouchMove.push(n)},onceTouchMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push(null);null==this.__cbOnceTouchMove&&(this.__cbOnceTouchMove=[]),this.__cbOnceTouchMove.push(n)},offTouchMove:function(e){if(null!=e){var n;null!=this.__cbOnTouchMove&&-1!=(n=this.__cbOnTouchMove.indexOf(e))&&(this.__cbOnTouchMove.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTouchMove[n])&&r(),this.__cbOnOwnerUnbindTouchMove.splice(n,1)),null!=this.__cbOnceTouchMove&&-1!=(n=this.__cbOnceTouchMove.indexOf(e))&&(this.__cbOnceTouchMove.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTouchMove[n])&&r(),this.__cbOnceOwnerUnbindTouchMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchMove){for(var t=0,i=this.__cbOnOwnerUnbindTouchMove.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTouchMove[s])&&r()}this.__cbOnOwnerUnbindTouchMove=null}if(null!=this.__cbOnceOwnerUnbindTouchMove){for(t=0,i=this.__cbOnceOwnerUnbindTouchMove.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTouchMove[s])&&r()}this.__cbOnceOwnerUnbindTouchMove=null}this.__cbOnTouchMove=null,this.__cbOnceTouchMove=null}},listensTouchMove:function(){return null!=this.__cbOnTouchMove&&this.__cbOnTouchMove.length>0||null!=this.__cbOnceTouchMove&&this.__cbOnceTouchMove.length>0},emitPointerDown:function(e){var n=0;if(null!=this.__cbOnPointerDown&&(n+=this.__cbOnPointerDown.length),null!=this.__cbOncePointerDown&&(n+=this.__cbOncePointerDown.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnPointerDown)for(var r=0,l=this.__cbOnPointerDown.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnPointerDown[a],++s):--n}if(null!=this.__cbOncePointerDown){var h=null,c=null;for(r=0,l=this.__cbOncePointerDown.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOncePointerDown[a],this.__cbOncePointerDown[a]=null;var o=this.__cbOnceOwnerUnbindPointerDown[a];this.__cbOnceOwnerUnbindPointerDown[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindPointerDown[a]),c.push(this.__cbOncePointerDown[a])}this.__cbOnceOwnerUnbindPointerDown=h,this.__cbOncePointerDown=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onPointerDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push(null);null==this.__cbOnPointerDown&&(this.__cbOnPointerDown=[]),this.__cbOnPointerDown.push(n)},oncePointerDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push(null);null==this.__cbOncePointerDown&&(this.__cbOncePointerDown=[]),this.__cbOncePointerDown.push(n)},offPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnPointerDown&&-1!=(n=this.__cbOnPointerDown.indexOf(e))&&(this.__cbOnPointerDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerDown[n])&&r(),this.__cbOnOwnerUnbindPointerDown.splice(n,1)),null!=this.__cbOncePointerDown&&-1!=(n=this.__cbOncePointerDown.indexOf(e))&&(this.__cbOncePointerDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerDown[n])&&r(),this.__cbOnceOwnerUnbindPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindPointerDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPointerDown[s])&&r()}this.__cbOnOwnerUnbindPointerDown=null}if(null!=this.__cbOnceOwnerUnbindPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindPointerDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPointerDown[s])&&r()}this.__cbOnceOwnerUnbindPointerDown=null}this.__cbOnPointerDown=null,this.__cbOncePointerDown=null}},listensPointerDown:function(){return null!=this.__cbOnPointerDown&&this.__cbOnPointerDown.length>0||null!=this.__cbOncePointerDown&&this.__cbOncePointerDown.length>0},emitPointerUp:function(e){var n=0;if(null!=this.__cbOnPointerUp&&(n+=this.__cbOnPointerUp.length),null!=this.__cbOncePointerUp&&(n+=this.__cbOncePointerUp.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnPointerUp)for(var r=0,l=this.__cbOnPointerUp.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnPointerUp[a],++s):--n}if(null!=this.__cbOncePointerUp){var h=null,c=null;for(r=0,l=this.__cbOncePointerUp.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOncePointerUp[a],this.__cbOncePointerUp[a]=null;var o=this.__cbOnceOwnerUnbindPointerUp[a];this.__cbOnceOwnerUnbindPointerUp[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindPointerUp[a]),c.push(this.__cbOncePointerUp[a])}this.__cbOnceOwnerUnbindPointerUp=h,this.__cbOncePointerUp=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onPointerUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push(null);null==this.__cbOnPointerUp&&(this.__cbOnPointerUp=[]),this.__cbOnPointerUp.push(n)},oncePointerUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push(null);null==this.__cbOncePointerUp&&(this.__cbOncePointerUp=[]),this.__cbOncePointerUp.push(n)},offPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnPointerUp&&-1!=(n=this.__cbOnPointerUp.indexOf(e))&&(this.__cbOnPointerUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerUp[n])&&r(),this.__cbOnOwnerUnbindPointerUp.splice(n,1)),null!=this.__cbOncePointerUp&&-1!=(n=this.__cbOncePointerUp.indexOf(e))&&(this.__cbOncePointerUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerUp[n])&&r(),this.__cbOnceOwnerUnbindPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindPointerUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPointerUp[s])&&r()}this.__cbOnOwnerUnbindPointerUp=null}if(null!=this.__cbOnceOwnerUnbindPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindPointerUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPointerUp[s])&&r()}this.__cbOnceOwnerUnbindPointerUp=null}this.__cbOnPointerUp=null,this.__cbOncePointerUp=null}},listensPointerUp:function(){return null!=this.__cbOnPointerUp&&this.__cbOnPointerUp.length>0||null!=this.__cbOncePointerUp&&this.__cbOncePointerUp.length>0},emitPointerMove:function(e){var n=0;if(null!=this.__cbOnPointerMove&&(n+=this.__cbOnPointerMove.length),null!=this.__cbOncePointerMove&&(n+=this.__cbOncePointerMove.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnPointerMove)for(var r=0,l=this.__cbOnPointerMove.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnPointerMove[a],++s):--n}if(null!=this.__cbOncePointerMove){var h=null,c=null;for(r=0,l=this.__cbOncePointerMove.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOncePointerMove[a],this.__cbOncePointerMove[a]=null;var o=this.__cbOnceOwnerUnbindPointerMove[a];this.__cbOnceOwnerUnbindPointerMove[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindPointerMove[a]),c.push(this.__cbOncePointerMove[a])}this.__cbOnceOwnerUnbindPointerMove=h,this.__cbOncePointerMove=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onPointerMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerMove&&(this.__cbOnOwnerUnbindPointerMove=[]),this.__cbOnOwnerUnbindPointerMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerMove&&(this.__cbOnOwnerUnbindPointerMove=[]),this.__cbOnOwnerUnbindPointerMove.push(null);null==this.__cbOnPointerMove&&(this.__cbOnPointerMove=[]),this.__cbOnPointerMove.push(n)},oncePointerMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerMove&&(this.__cbOnceOwnerUnbindPointerMove=[]),this.__cbOnceOwnerUnbindPointerMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerMove&&(this.__cbOnceOwnerUnbindPointerMove=[]),this.__cbOnceOwnerUnbindPointerMove.push(null);null==this.__cbOncePointerMove&&(this.__cbOncePointerMove=[]),this.__cbOncePointerMove.push(n)},offPointerMove:function(e){if(null!=e){var n;null!=this.__cbOnPointerMove&&-1!=(n=this.__cbOnPointerMove.indexOf(e))&&(this.__cbOnPointerMove.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerMove[n])&&r(),this.__cbOnOwnerUnbindPointerMove.splice(n,1)),null!=this.__cbOncePointerMove&&-1!=(n=this.__cbOncePointerMove.indexOf(e))&&(this.__cbOncePointerMove.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerMove[n])&&r(),this.__cbOnceOwnerUnbindPointerMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerMove){for(var t=0,i=this.__cbOnOwnerUnbindPointerMove.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPointerMove[s])&&r()}this.__cbOnOwnerUnbindPointerMove=null}if(null!=this.__cbOnceOwnerUnbindPointerMove){for(t=0,i=this.__cbOnceOwnerUnbindPointerMove.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPointerMove[s])&&r()}this.__cbOnceOwnerUnbindPointerMove=null}this.__cbOnPointerMove=null,this.__cbOncePointerMove=null}},listensPointerMove:function(){return null!=this.__cbOnPointerMove&&this.__cbOnPointerMove.length>0||null!=this.__cbOncePointerMove&&this.__cbOncePointerMove.length>0},emitMultiTouchPointerDown:function(e){var n=0;if(null!=this.__cbOnMultiTouchPointerDown&&(n+=this.__cbOnMultiTouchPointerDown.length),null!=this.__cbOnceMultiTouchPointerDown&&(n+=this.__cbOnceMultiTouchPointerDown.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnMultiTouchPointerDown)for(var r=0,l=this.__cbOnMultiTouchPointerDown.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnMultiTouchPointerDown[a],++s):--n}if(null!=this.__cbOnceMultiTouchPointerDown){var h=null,c=null;for(r=0,l=this.__cbOnceMultiTouchPointerDown.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceMultiTouchPointerDown[a],this.__cbOnceMultiTouchPointerDown[a]=null;var o=this.__cbOnceOwnerUnbindMultiTouchPointerDown[a];this.__cbOnceOwnerUnbindMultiTouchPointerDown[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindMultiTouchPointerDown[a]),c.push(this.__cbOnceMultiTouchPointerDown[a])}this.__cbOnceOwnerUnbindMultiTouchPointerDown=h,this.__cbOnceMultiTouchPointerDown=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onMultiTouchPointerDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event multiTouchPointerDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMultiTouchPointerDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMultiTouchPointerDown&&(this.__cbOnOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnOwnerUnbindMultiTouchPointerDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMultiTouchPointerDown&&(this.__cbOnOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnOwnerUnbindMultiTouchPointerDown.push(null);null==this.__cbOnMultiTouchPointerDown&&(this.__cbOnMultiTouchPointerDown=[]),this.__cbOnMultiTouchPointerDown.push(n)},onceMultiTouchPointerDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event multiTouchPointerDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMultiTouchPointerDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMultiTouchPointerDown&&(this.__cbOnceOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnceOwnerUnbindMultiTouchPointerDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMultiTouchPointerDown&&(this.__cbOnceOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnceOwnerUnbindMultiTouchPointerDown.push(null);null==this.__cbOnceMultiTouchPointerDown&&(this.__cbOnceMultiTouchPointerDown=[]),this.__cbOnceMultiTouchPointerDown.push(n)},offMultiTouchPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnMultiTouchPointerDown&&-1!=(n=this.__cbOnMultiTouchPointerDown.indexOf(e))&&(this.__cbOnMultiTouchPointerDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMultiTouchPointerDown[n])&&r(),this.__cbOnOwnerUnbindMultiTouchPointerDown.splice(n,1)),null!=this.__cbOnceMultiTouchPointerDown&&-1!=(n=this.__cbOnceMultiTouchPointerDown.indexOf(e))&&(this.__cbOnceMultiTouchPointerDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMultiTouchPointerDown[n])&&r(),this.__cbOnceOwnerUnbindMultiTouchPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMultiTouchPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindMultiTouchPointerDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMultiTouchPointerDown[s])&&r()}this.__cbOnOwnerUnbindMultiTouchPointerDown=null}if(null!=this.__cbOnceOwnerUnbindMultiTouchPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindMultiTouchPointerDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMultiTouchPointerDown[s])&&r()}this.__cbOnceOwnerUnbindMultiTouchPointerDown=null}this.__cbOnMultiTouchPointerDown=null,this.__cbOnceMultiTouchPointerDown=null}},listensMultiTouchPointerDown:function(){return null!=this.__cbOnMultiTouchPointerDown&&this.__cbOnMultiTouchPointerDown.length>0||null!=this.__cbOnceMultiTouchPointerDown&&this.__cbOnceMultiTouchPointerDown.length>0},emitMultiTouchPointerUp:function(e){var n=0;if(null!=this.__cbOnMultiTouchPointerUp&&(n+=this.__cbOnMultiTouchPointerUp.length),null!=this.__cbOnceMultiTouchPointerUp&&(n+=this.__cbOnceMultiTouchPointerUp.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnMultiTouchPointerUp)for(var r=0,l=this.__cbOnMultiTouchPointerUp.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnMultiTouchPointerUp[a],++s):--n}if(null!=this.__cbOnceMultiTouchPointerUp){var h=null,c=null;for(r=0,l=this.__cbOnceMultiTouchPointerUp.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceMultiTouchPointerUp[a],this.__cbOnceMultiTouchPointerUp[a]=null;var o=this.__cbOnceOwnerUnbindMultiTouchPointerUp[a];this.__cbOnceOwnerUnbindMultiTouchPointerUp[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindMultiTouchPointerUp[a]),c.push(this.__cbOnceMultiTouchPointerUp[a])}this.__cbOnceOwnerUnbindMultiTouchPointerUp=h,this.__cbOnceMultiTouchPointerUp=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onMultiTouchPointerUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event multiTouchPointerUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMultiTouchPointerUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMultiTouchPointerUp&&(this.__cbOnOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnOwnerUnbindMultiTouchPointerUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMultiTouchPointerUp&&(this.__cbOnOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnOwnerUnbindMultiTouchPointerUp.push(null);null==this.__cbOnMultiTouchPointerUp&&(this.__cbOnMultiTouchPointerUp=[]),this.__cbOnMultiTouchPointerUp.push(n)},onceMultiTouchPointerUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event multiTouchPointerUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMultiTouchPointerUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMultiTouchPointerUp&&(this.__cbOnceOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnceOwnerUnbindMultiTouchPointerUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMultiTouchPointerUp&&(this.__cbOnceOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnceOwnerUnbindMultiTouchPointerUp.push(null);null==this.__cbOnceMultiTouchPointerUp&&(this.__cbOnceMultiTouchPointerUp=[]),this.__cbOnceMultiTouchPointerUp.push(n)},offMultiTouchPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnMultiTouchPointerUp&&-1!=(n=this.__cbOnMultiTouchPointerUp.indexOf(e))&&(this.__cbOnMultiTouchPointerUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMultiTouchPointerUp[n])&&r(),this.__cbOnOwnerUnbindMultiTouchPointerUp.splice(n,1)),null!=this.__cbOnceMultiTouchPointerUp&&-1!=(n=this.__cbOnceMultiTouchPointerUp.indexOf(e))&&(this.__cbOnceMultiTouchPointerUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMultiTouchPointerUp[n])&&r(),this.__cbOnceOwnerUnbindMultiTouchPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMultiTouchPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindMultiTouchPointerUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMultiTouchPointerUp[s])&&r()}this.__cbOnOwnerUnbindMultiTouchPointerUp=null}if(null!=this.__cbOnceOwnerUnbindMultiTouchPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindMultiTouchPointerUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMultiTouchPointerUp[s])&&r()}this.__cbOnceOwnerUnbindMultiTouchPointerUp=null}this.__cbOnMultiTouchPointerUp=null,this.__cbOnceMultiTouchPointerUp=null}},listensMultiTouchPointerUp:function(){return null!=this.__cbOnMultiTouchPointerUp&&this.__cbOnMultiTouchPointerUp.length>0||null!=this.__cbOnceMultiTouchPointerUp&&this.__cbOnceMultiTouchPointerUp.length>0},emitMultiTouchPointerMove:function(e){var n=0;if(null!=this.__cbOnMultiTouchPointerMove&&(n+=this.__cbOnMultiTouchPointerMove.length),null!=this.__cbOnceMultiTouchPointerMove&&(n+=this.__cbOnceMultiTouchPointerMove.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnMultiTouchPointerMove)for(var r=0,l=this.__cbOnMultiTouchPointerMove.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnMultiTouchPointerMove[a],++s):--n}if(null!=this.__cbOnceMultiTouchPointerMove){var h=null,c=null;for(r=0,l=this.__cbOnceMultiTouchPointerMove.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceMultiTouchPointerMove[a],this.__cbOnceMultiTouchPointerMove[a]=null;var o=this.__cbOnceOwnerUnbindMultiTouchPointerMove[a];this.__cbOnceOwnerUnbindMultiTouchPointerMove[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindMultiTouchPointerMove[a]),c.push(this.__cbOnceMultiTouchPointerMove[a])}this.__cbOnceOwnerUnbindMultiTouchPointerMove=h,this.__cbOnceMultiTouchPointerMove=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onMultiTouchPointerMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event multiTouchPointerMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMultiTouchPointerMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMultiTouchPointerMove&&(this.__cbOnOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnOwnerUnbindMultiTouchPointerMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMultiTouchPointerMove&&(this.__cbOnOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnOwnerUnbindMultiTouchPointerMove.push(null);null==this.__cbOnMultiTouchPointerMove&&(this.__cbOnMultiTouchPointerMove=[]),this.__cbOnMultiTouchPointerMove.push(n)},onceMultiTouchPointerMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event multiTouchPointerMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMultiTouchPointerMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMultiTouchPointerMove&&(this.__cbOnceOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnceOwnerUnbindMultiTouchPointerMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMultiTouchPointerMove&&(this.__cbOnceOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnceOwnerUnbindMultiTouchPointerMove.push(null);null==this.__cbOnceMultiTouchPointerMove&&(this.__cbOnceMultiTouchPointerMove=[]),this.__cbOnceMultiTouchPointerMove.push(n)},offMultiTouchPointerMove:function(e){if(null!=e){var n;null!=this.__cbOnMultiTouchPointerMove&&-1!=(n=this.__cbOnMultiTouchPointerMove.indexOf(e))&&(this.__cbOnMultiTouchPointerMove.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMultiTouchPointerMove[n])&&r(),this.__cbOnOwnerUnbindMultiTouchPointerMove.splice(n,1)),null!=this.__cbOnceMultiTouchPointerMove&&-1!=(n=this.__cbOnceMultiTouchPointerMove.indexOf(e))&&(this.__cbOnceMultiTouchPointerMove.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMultiTouchPointerMove[n])&&r(),this.__cbOnceOwnerUnbindMultiTouchPointerMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMultiTouchPointerMove){for(var t=0,i=this.__cbOnOwnerUnbindMultiTouchPointerMove.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMultiTouchPointerMove[s])&&r()}this.__cbOnOwnerUnbindMultiTouchPointerMove=null}if(null!=this.__cbOnceOwnerUnbindMultiTouchPointerMove){for(t=0,i=this.__cbOnceOwnerUnbindMultiTouchPointerMove.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMultiTouchPointerMove[s])&&r()}this.__cbOnceOwnerUnbindMultiTouchPointerMove=null}this.__cbOnMultiTouchPointerMove=null,this.__cbOnceMultiTouchPointerMove=null}},listensMultiTouchPointerMove:function(){return null!=this.__cbOnMultiTouchPointerMove&&this.__cbOnMultiTouchPointerMove.length>0||null!=this.__cbOnceMultiTouchPointerMove&&this.__cbOnceMultiTouchPointerMove.length>0},emitFocus:function(e){var n=0;if(null!=this.__cbOnFocus&&(n+=this.__cbOnFocus.length),null!=this.__cbOnceFocus&&(n+=this.__cbOnceFocus.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnFocus)for(var r=0,l=this.__cbOnFocus.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnFocus[a],++s):--n}if(null!=this.__cbOnceFocus){var h=null,c=null;for(r=0,l=this.__cbOnceFocus.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceFocus[a],this.__cbOnceFocus[a]=null;var o=this.__cbOnceOwnerUnbindFocus[a];this.__cbOnceOwnerUnbindFocus[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindFocus[a]),c.push(this.__cbOnceFocus[a])}this.__cbOnceOwnerUnbindFocus=h,this.__cbOnceFocus=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onFocus:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event focus because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFocus(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push(null);null==this.__cbOnFocus&&(this.__cbOnFocus=[]),this.__cbOnFocus.push(n)},onceFocus:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event focus because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFocus(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push(null);null==this.__cbOnceFocus&&(this.__cbOnceFocus=[]),this.__cbOnceFocus.push(n)},offFocus:function(e){if(null!=e){var n;null!=this.__cbOnFocus&&-1!=(n=this.__cbOnFocus.indexOf(e))&&(this.__cbOnFocus.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFocus[n])&&r(),this.__cbOnOwnerUnbindFocus.splice(n,1)),null!=this.__cbOnceFocus&&-1!=(n=this.__cbOnceFocus.indexOf(e))&&(this.__cbOnceFocus.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFocus[n])&&r(),this.__cbOnceOwnerUnbindFocus.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocus){for(var t=0,i=this.__cbOnOwnerUnbindFocus.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFocus[s])&&r()}this.__cbOnOwnerUnbindFocus=null}if(null!=this.__cbOnceOwnerUnbindFocus){for(t=0,i=this.__cbOnceOwnerUnbindFocus.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFocus[s])&&r()}this.__cbOnceOwnerUnbindFocus=null}this.__cbOnFocus=null,this.__cbOnceFocus=null}},listensFocus:function(){return null!=this.__cbOnFocus&&this.__cbOnFocus.length>0||null!=this.__cbOnceFocus&&this.__cbOnceFocus.length>0},emitBlur:function(e){var n=0;if(null!=this.__cbOnBlur&&(n+=this.__cbOnBlur.length),null!=this.__cbOnceBlur&&(n+=this.__cbOnceBlur.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnBlur)for(var r=0,l=this.__cbOnBlur.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnBlur[a],++s):--n}if(null!=this.__cbOnceBlur){var h=null,c=null;for(r=0,l=this.__cbOnceBlur.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceBlur[a],this.__cbOnceBlur[a]=null;var o=this.__cbOnceOwnerUnbindBlur[a];this.__cbOnceOwnerUnbindBlur[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindBlur[a]),c.push(this.__cbOnceBlur[a])}this.__cbOnceOwnerUnbindBlur=h,this.__cbOnceBlur=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onBlur:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event blur because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBlur(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push(null);null==this.__cbOnBlur&&(this.__cbOnBlur=[]),this.__cbOnBlur.push(n)},onceBlur:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event blur because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBlur(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push(null);null==this.__cbOnceBlur&&(this.__cbOnceBlur=[]),this.__cbOnceBlur.push(n)},offBlur:function(e){if(null!=e){var n;null!=this.__cbOnBlur&&-1!=(n=this.__cbOnBlur.indexOf(e))&&(this.__cbOnBlur.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBlur[n])&&r(),this.__cbOnOwnerUnbindBlur.splice(n,1)),null!=this.__cbOnceBlur&&-1!=(n=this.__cbOnceBlur.indexOf(e))&&(this.__cbOnceBlur.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBlur[n])&&r(),this.__cbOnceOwnerUnbindBlur.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBlur){for(var t=0,i=this.__cbOnOwnerUnbindBlur.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBlur[s])&&r()}this.__cbOnOwnerUnbindBlur=null}if(null!=this.__cbOnceOwnerUnbindBlur){for(t=0,i=this.__cbOnceOwnerUnbindBlur.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBlur[s])&&r()}this.__cbOnceOwnerUnbindBlur=null}this.__cbOnBlur=null,this.__cbOnceBlur=null}},listensBlur:function(){return null!=this.__cbOnBlur&&this.__cbOnBlur.length>0||null!=this.__cbOnceBlur&&this.__cbOnceBlur.length>0},backendReady:function(){var e=this;ceramic_App.app.backend.screen.onResize(this,$bind(this,this.resize)),this.resize(),ceramic_App.app.settings.onBackgroundChange(this,(function(e,n){ceramic_App.app.backend.screen.setBackground(e)})),ceramic_App.app.settings.onTitleChange(this,(function(e,n){ceramic_App.app.backend.screen.setWindowTitle(e)})),ceramic_App.app.settings.onFullscreenChange(this,(function(e,n){ceramic_App.app.backend.screen.setWindowFullscreen(e)})),ceramic_App.app.settings.onScalingChange(this,(function(n,t){e.resize()})),ceramic_App.app.settings.onTargetWidthChange(this,(function(n,t){e.resize()})),ceramic_App.app.settings.onTargetHeightChange(this,(function(n,t){e.resize()})),ceramic_App.app.settings.onTargetDensityChange(this,(function(n,t){e.updateTexturesDensity()})),this.matrix.onChange(this,(function(){(n=e.reverseMatrix).a=1,n.b=0,n.c=0,n.d=1,n.tx=0,n.ty=0,n.changedDirty=!0;var n=e.reverseMatrix,t=e.matrix,i=n.a*t.a+n.b*t.c;n.b=n.a*t.b+n.b*t.d,n.a=i;var s=n.c*t.a+n.d*t.c;n.d=n.c*t.b+n.d*t.d,n.c=s;var r=n.tx*t.a+n.ty*t.c+t.tx;n.ty=n.tx*t.b+n.ty*t.d+t.ty,n.tx=r,n.changedDirty=!0;var l=(n=e.reverseMatrix).a*n.d-n.b*n.c;if(0==l)n.a=n.b=n.c=n.d=0,n.tx=-n.tx,n.ty=-n.ty;else{l=1/l;i=n.d*l;n.d=n.a*l,n.a=i,n.b*=-l,n.c*=-l;r=-n.a*n.tx-n.c*n.ty;n.ty=-n.b*n.tx-n.d*n.ty,n.tx=r}n.changedDirty=!0,e.reverseMatrix.emitChange()})),ceramic_App.app.backend.screen.onMouseDown(this,(function(n,t,i){ceramic_App.app.beginUpdateCallbacks.push((function(){ceramic_App.app.flushImmediate();var s,r=t*clay_Clay.app.screenDensity,l=i*clay_Clay.app.screenDensity,a=r*(s=e.reverseMatrix).a+l*s.c+s.tx,h=r*(s=e.reverseMatrix).b+l*s.d+s.ty,c=new ceramic_TouchInfo(-1,n,a,h,a>=0&&a<=e.width&&h>=0&&h<=e.height);(-1!=c.buttonId&&(e.mouseX=c.x,e.mouseY=c.y),-1!=c.touchIndex)&&(null==(g=e.touches.get(c.touchIndex))?(g=new ceramic_Touch(c.touchIndex,c.x,c.y,0,0),e.touches.set(c.touchIndex,g)):(g.x=c.x,g.y=c.y));for(var o=e.pointerX,u=e.pointerY,_=0,d=0,b=0,f=e.touches,p=0,O=f.values.length;;){for(;p<O&&null==f.values[p];)++p;if(!(p<O))break;var g,m=p++;++_,d+=(g=f.values[m]).x,b+=g.y}_>0?(e.pointerX=d/_,e.pointerY=b/_):(e.pointerX=e.mouseX,e.pointerY=e.mouseY),e.pointerDeltaX+=e.pointerX-o,e.pointerDeltaY+=e.pointerY-u,e.emitMouseDown(n,a,h),e._numPointerDown++,e.emitMultiTouchPointerDown(c),1==e._numPointerDown&&e.emitPointerDown(c)}))})),ceramic_App.app.backend.screen.onMouseUp(this,(function(n,t,i){ceramic_App.app.beginUpdateCallbacks.push((function(){ceramic_App.app.flushImmediate();var s,r=t*clay_Clay.app.screenDensity,l=i*clay_Clay.app.screenDensity,a=r*(s=e.reverseMatrix).a+l*s.c+s.tx,h=r*(s=e.reverseMatrix).b+l*s.d+s.ty,c=new ceramic_TouchInfo(-1,n,a,h,a>=0&&a<=e.width&&h>=0&&h<=e.height);(-1!=c.buttonId&&(e.mouseX=c.x,e.mouseY=c.y),-1!=c.touchIndex)&&(null==(g=e.touches.get(c.touchIndex))?(g=new ceramic_Touch(c.touchIndex,c.x,c.y,0,0),e.touches.set(c.touchIndex,g)):(g.x=c.x,g.y=c.y));for(var o=e.pointerX,u=e.pointerY,_=0,d=0,b=0,f=e.touches,p=0,O=f.values.length;;){for(;p<O&&null==f.values[p];)++p;if(!(p<O))break;var g,m=p++;++_,d+=(g=f.values[m]).x,b+=g.y}_>0?(e.pointerX=d/_,e.pointerY=b/_):(e.pointerX=e.mouseX,e.pointerY=e.mouseY),e.pointerDeltaX+=e.pointerX-o,e.pointerDeltaY+=e.pointerY-u,-1!=c.touchIndex&&e.touches.set(c.touchIndex,null),e.emitMouseUp(n,a,h),e._numPointerDown--,e.emitMultiTouchPointerUp(c),0==e._numPointerDown&&e.emitPointerUp(c)}))})),ceramic_App.app.backend.screen.onMouseMove(this,(function(n,t){ceramic_App.app.beginUpdateCallbacks.push((function(){ceramic_App.app.flushImmediate();var i,s=n*clay_Clay.app.screenDensity,r=t*clay_Clay.app.screenDensity,l=s*(i=e.reverseMatrix).a+r*i.c+i.tx,a=s*(i=e.reverseMatrix).b+r*i.d+i.ty,h=new ceramic_TouchInfo(-1,0,l,a,l>=0&&l<=e.width&&a>=0&&a<=e.height);(-1!=h.buttonId&&(e.mouseX=h.x,e.mouseY=h.y),-1!=h.touchIndex)&&(null==(O=e.touches.get(h.touchIndex))?(O=new ceramic_Touch(h.touchIndex,h.x,h.y,0,0),e.touches.set(h.touchIndex,O)):(O.x=h.x,O.y=h.y));for(var c=e.pointerX,o=e.pointerY,u=0,_=0,d=0,b=e.touches,f=0,p=b.values.length;;){for(;f<p&&null==b.values[f];)++f;if(!(f<p))break;var O,g=f++;++u,_+=(O=b.values[g]).x,d+=O.y}u>0?(e.pointerX=_/u,e.pointerY=d/u):(e.pointerX=e.mouseX,e.pointerY=e.mouseY),e.pointerDeltaX+=e.pointerX-c,e.pointerDeltaY+=e.pointerY-o,e.emitMouseMove(l,a),e.emitMultiTouchPointerMove(h),e.emitPointerMove(h)}))})),ceramic_App.app.backend.screen.onMouseWheel(this,(function(n,t){ceramic_App.app.beginUpdateCallbacks.push((function(){e.emitMouseWheel(n,t)}))})),ceramic_App.app.backend.screen.onTouchDown(this,(function(n,t,i){ceramic_App.app.beginUpdateCallbacks.push((function(){ceramic_App.app.flushImmediate();var s,r=t*clay_Clay.app.screenDensity,l=i*clay_Clay.app.screenDensity,a=r*(s=e.reverseMatrix).a+l*s.c+s.tx,h=r*(s=e.reverseMatrix).b+l*s.d+s.ty,c=new ceramic_TouchInfo(n,-1,a,h,a>=0&&a<=e.width&&h>=0&&h<=e.height);(-1!=c.buttonId&&(e.mouseX=c.x,e.mouseY=c.y),-1!=c.touchIndex)&&(null==(g=e.touches.get(c.touchIndex))?(g=new ceramic_Touch(c.touchIndex,c.x,c.y,0,0),e.touches.set(c.touchIndex,g)):(g.x=c.x,g.y=c.y));for(var o=e.pointerX,u=e.pointerY,_=0,d=0,b=0,f=e.touches,p=0,O=f.values.length;;){for(;p<O&&null==f.values[p];)++p;if(!(p<O))break;var g,m=p++;++_,d+=(g=f.values[m]).x,b+=g.y}_>0?(e.pointerX=d/_,e.pointerY=b/_):(e.pointerX=e.mouseX,e.pointerY=e.mouseY),e.pointerDeltaX+=e.pointerX-o,e.pointerDeltaY+=e.pointerY-u,e.emitTouchDown(n,a,h),e._numPointerDown++,e.emitMultiTouchPointerDown(c),1==e._numPointerDown&&e.emitPointerDown(c)}))})),ceramic_App.app.backend.screen.onTouchUp(this,(function(n,t,i){ceramic_App.app.beginUpdateCallbacks.push((function(){ceramic_App.app.flushImmediate();var s,r=t*clay_Clay.app.screenDensity,l=i*clay_Clay.app.screenDensity,a=r*(s=e.reverseMatrix).a+l*s.c+s.tx,h=r*(s=e.reverseMatrix).b+l*s.d+s.ty,c=new ceramic_TouchInfo(n,-1,a,h,a>=0&&a<=e.width&&h>=0&&h<=e.height);(-1!=c.buttonId&&(e.mouseX=c.x,e.mouseY=c.y),-1!=c.touchIndex)&&(null==(g=e.touches.get(c.touchIndex))?(g=new ceramic_Touch(c.touchIndex,c.x,c.y,0,0),e.touches.set(c.touchIndex,g)):(g.x=c.x,g.y=c.y));for(var o=e.pointerX,u=e.pointerY,_=0,d=0,b=0,f=e.touches,p=0,O=f.values.length;;){for(;p<O&&null==f.values[p];)++p;if(!(p<O))break;var g,m=p++;++_,d+=(g=f.values[m]).x,b+=g.y}_>0?(e.pointerX=d/_,e.pointerY=b/_):(e.pointerX=e.mouseX,e.pointerY=e.mouseY),e.pointerDeltaX+=e.pointerX-o,e.pointerDeltaY+=e.pointerY-u,-1!=c.touchIndex&&e.touches.set(c.touchIndex,null),e.emitTouchUp(n,a,h),e._numPointerDown--,e.emitMultiTouchPointerUp(c),0==e._numPointerDown&&e.emitPointerUp(c)}))})),ceramic_App.app.backend.screen.onTouchMove(this,(function(n,t,i){ceramic_App.app.beginUpdateCallbacks.push((function(){ceramic_App.app.flushImmediate();var s,r=t*clay_Clay.app.screenDensity,l=i*clay_Clay.app.screenDensity,a=r*(s=e.reverseMatrix).a+l*s.c+s.tx,h=r*(s=e.reverseMatrix).b+l*s.d+s.ty,c=new ceramic_TouchInfo(n,-1,a,h,a>=0&&a<=e.width&&h>=0&&h<=e.height);(-1!=c.buttonId&&(e.mouseX=c.x,e.mouseY=c.y),-1!=c.touchIndex)&&(null==(g=e.touches.get(c.touchIndex))?(g=new ceramic_Touch(c.touchIndex,c.x,c.y,0,0),e.touches.set(c.touchIndex,g)):(g.x=c.x,g.y=c.y));for(var o=e.pointerX,u=e.pointerY,_=0,d=0,b=0,f=e.touches,p=0,O=f.values.length;;){for(;p<O&&null==f.values[p];)++p;if(!(p<O))break;var g,m=p++;++_,d+=(g=f.values[m]).x,b+=g.y}_>0?(e.pointerX=d/_,e.pointerY=b/_):(e.pointerX=e.mouseX,e.pointerY=e.mouseY),e.pointerDeltaX+=e.pointerX-o,e.pointerDeltaY+=e.pointerY-u,e.emitTouchMove(n,a,h),e.emitMultiTouchPointerMove(c),e._numPointerDown>0&&e.emitPointerMove(c)}))}))},updatePointerOverState:function(e){var n=this.mouseX,t=this.mouseY,i=1e4,s=this.matchedOverListeners.h[i];(h=this.matchFirstOverListener(n,t))!=s&&(null!=h?this.matchedOverListeners.h[i]=h:this.matchedOverListeners.remove(i)),null!=s&&s!=h&&s._lifecycleState>=0&&s._numPointerOver>0&&(s._numPointerOver--,(0==s._numPointerOver||s.multiTouch)&&s.emitPointerOut(new ceramic_TouchInfo(-1,-1,n,t,!1))),null!=h&&s!=h&&(h._numPointerOver++,(1==h._numPointerOver||h.multiTouch)&&h.emitPointerOver(new ceramic_TouchInfo(-1,-1,n,t,!0)));for(var r=this.touches,l=0,a=r.values.length;;){for(;l<a&&null==r.values[l];)++l;if(!(l<a))break;var h,c=l++,o=r.values[c];n=o.x,t=o.y,i=2e4+o.index,s=this.matchedOverListeners.h[i];(h=this.matchFirstOverListener(n,t))!=s&&(null!=h?this.matchedOverListeners.h[i]=h:this.matchedOverListeners.remove(i)),null!=s&&s!=h&&s._lifecycleState>=0&&s._numPointerOver>0&&(s._numPointerOver--,(0==s._numPointerOver||s.multiTouch)&&s.emitPointerOut(new ceramic_TouchInfo(-1,-1,n,t,!1))),null!=h&&s!=h&&(h._numPointerOver++,(1==h._numPointerOver||h.multiTouch)&&h.emitPointerOver(new ceramic_TouchInfo(-1,-1,n,t,!0)))}},resize:function(){if(!this.resizing){this.resizing=!0,this.updateScaling();var e=ceramic_App.app.settings.get_scaling(),n=ceramic_App.app.settings.get_targetWidth(),t=ceramic_App.app.settings.get_targetHeight();this.emitResize(),e==ceramic_App.app.settings.get_scaling()&&n==ceramic_App.app.settings.get_targetWidth()&&t==ceramic_App.app.settings.get_targetHeight()||this.updateScaling(),this.updateTransform(),this.updateTexturesDensity(),this.resizing=!1}},updateTexturesDensity:function(){if(ceramic_App.app.settings.get_targetDensity()>0)this.set_texturesDensity(ceramic_App.app.settings.get_targetDensity());else{var e=this.density;e=e<1?1:Math.round(e),this.set_texturesDensity(e)}},updateScaling:function(){var e,n=ceramic_App.app.settings.get_targetWidth()>0?ceramic_App.app.settings.get_targetWidth():clay_Clay.app.screenWidth,t=ceramic_App.app.settings.get_targetHeight()>0?ceramic_App.app.settings.get_targetHeight():clay_Clay.app.screenHeight;switch(ceramic_App.app.settings.get_scaling()._hx_index){case 0:e=Math.max(n/(clay_Clay.app.screenWidth*clay_Clay.app.screenDensity),t/(clay_Clay.app.screenHeight*clay_Clay.app.screenDensity));break;case 1:e=Math.min(n/(clay_Clay.app.screenWidth*clay_Clay.app.screenDensity),t/(clay_Clay.app.screenHeight*clay_Clay.app.screenDensity));break;case 2:n=clay_Clay.app.screenWidth,t=clay_Clay.app.screenHeight,e=Math.max(n/(clay_Clay.app.screenWidth*clay_Clay.app.screenDensity),t/(clay_Clay.app.screenHeight*clay_Clay.app.screenDensity));break;case 3:var i=clay_Clay.app.screenHeight/clay_Clay.app.screenWidth,s=t/n;i>s?t=n*i:i<s&&(n=t/i),n=Math.ceil(n),t=Math.ceil(t),e=Math.max(n/(clay_Clay.app.screenWidth*clay_Clay.app.screenDensity),t/(clay_Clay.app.screenHeight*clay_Clay.app.screenDensity))}switch(this.actualWidth=Math.ceil(clay_Clay.app.screenWidth*clay_Clay.app.screenDensity*e),this.actualHeight=Math.ceil(clay_Clay.app.screenHeight*clay_Clay.app.screenDensity*e),this.density=1/e,ceramic_App.app.settings.get_scaling()._hx_index){case 0:case 1:this.offsetX=.5*(this.actualWidth-n),this.offsetY=.5*(this.actualHeight-t);break;case 2:case 3:this.offsetX=0,this.offsetY=0}this.width=n,this.height=t},updateTransform:function(){var e=ceramic_App.app.settings.get_targetWidth()>0?ceramic_App.app.settings.get_targetWidth()*this.density:clay_Clay.app.screenWidth*clay_Clay.app.screenDensity,n=ceramic_App.app.settings.get_targetHeight()>0?ceramic_App.app.settings.get_targetHeight()*this.density:clay_Clay.app.screenHeight*clay_Clay.app.screenDensity;switch(ceramic_App.app.settings.get_scaling()._hx_index){case 2:e=clay_Clay.app.screenWidth*clay_Clay.app.screenDensity,n=clay_Clay.app.screenHeight*clay_Clay.app.screenDensity;break;case 3:var t=clay_Clay.app.screenHeight/clay_Clay.app.screenWidth,i=n/e;t>i?n=e*t:t<i&&(e=n/t)}(s=this.matrix).a=1,s.b=0,s.c=0,s.d=1,s.tx=0,s.ty=0,s.changedDirty=!0;var s=this.matrix,r=this.density,l=this.density;s.a*=r,s.b*=l,s.c*=r,s.d*=l,s.tx*=r,s.ty*=l,s.changedDirty=!0;var a=.5*(clay_Clay.app.screenWidth*clay_Clay.app.screenDensity-e),h=.5*(clay_Clay.app.screenHeight*clay_Clay.app.screenDensity-n);(s=this.matrix).tx+=a,s.ty+=h,s.changedDirty=!0},matchFirstDownListener:function(e,n,t,i){null==i&&(i=-1),null==t&&(t=-1),ceramic_App.app.computeHierarchy();for(var s=0;s<2;){var r=s++;ceramic_Screen.matchedHitVisual=null;for(var l=0==r,a=ceramic_App.app.visuals,h=a.length-1;h>=0;){var c=a[h];if(c._lifecycleState>=0&&c.computedTouchable){var o=null!=c.__cbOnPointerDown&&c.__cbOnPointerDown.length>0||null!=c.__cbOncePointerDown&&c.__cbOncePointerDown.length>0,u=!1,_=!1;if(o&&(u=c.hits(e,n))&&(_=c.interceptPointerDown(c,e,n,t,i)),u&&!_||l&&this.isHitVisual(c)&&c.hits(e,n)){var d=!1;if(o)for(var b=c.parent;null!=b&&!(d=b.interceptPointerDown(c,e,n,t,i));)b=b.parent;if(!d){if(o||!l||!this.isHitVisual(c))return ceramic_Screen.matchedHitVisual=null,c;ceramic_Screen.matchedHitVisual=c}}}--h}}return ceramic_Screen.matchedHitVisual=null,null},matchFirstOverListener:function(e,n){ceramic_App.app.computeHierarchy();for(var t=0;t<2;){var i=t++;ceramic_Screen.matchedHitVisual=null;for(var s=0==i,r=ceramic_App.app.visuals,l=r.length-1;l>=0;){var a=r[l];if(a._lifecycleState>=0&&a.computedTouchable){var h=null!=a.__cbOnPointerOver&&a.__cbOnPointerOver.length>0||null!=a.__cbOncePointerOver&&a.__cbOncePointerOver.length>0,c=!1,o=!1;if(h&&(c=a.hits(e,n))&&(o=a.interceptPointerOver(a,e,n)),c&&!o||s&&this.isHitVisual(a)&&a.hits(e,n)){var u=!1;if(h)for(var _=a.parent;null!=_&&!(u=_.interceptPointerOver(a,e,n));)_=_.parent;if(!u){if(h||!s||!this.isHitVisual(a))return ceramic_Screen.matchedHitVisual=null,a;ceramic_Screen.matchedHitVisual=a}}}--l}}return ceramic_Screen.matchedHitVisual=null,null},prepareMultiTouchPointerDown:function(e){(-1!=e.buttonId&&(this.mouseX=e.x,this.mouseY=e.y),-1!=e.touchIndex)&&(null==(c=this.touches.get(e.touchIndex))?(c=new ceramic_Touch(e.touchIndex,e.x,e.y,0,0),this.touches.set(e.touchIndex,c)):(c.x=e.x,c.y=e.y));for(var n=this.pointerX,t=this.pointerY,i=0,s=0,r=0,l=this.touches,a=0,h=l.values.length;;){for(;a<h&&null==l.values[a];)++a;if(!(a<h))break;var c,o=a++;++i,s+=(c=l.values[o]).x,r+=c.y}i>0?(this.pointerX=s/i,this.pointerY=r/i):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-n,this.pointerDeltaY+=this.pointerY-t},prepareMultiTouchPointerUp:function(e){(-1!=e.buttonId&&(this.mouseX=e.x,this.mouseY=e.y),-1!=e.touchIndex)&&(null==(c=this.touches.get(e.touchIndex))?(c=new ceramic_Touch(e.touchIndex,e.x,e.y,0,0),this.touches.set(e.touchIndex,c)):(c.x=e.x,c.y=e.y));for(var n=this.pointerX,t=this.pointerY,i=0,s=0,r=0,l=this.touches,a=0,h=l.values.length;;){for(;a<h&&null==l.values[a];)++a;if(!(a<h))break;var c,o=a++;++i,s+=(c=l.values[o]).x,r+=c.y}i>0?(this.pointerX=s/i,this.pointerY=r/i):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-n,this.pointerDeltaY+=this.pointerY-t,-1!=e.touchIndex&&this.touches.set(e.touchIndex,null)},prepareMultiTouchPointerMove:function(e){(-1!=e.buttonId&&(this.mouseX=e.x,this.mouseY=e.y),-1!=e.touchIndex)&&(null==(c=this.touches.get(e.touchIndex))?(c=new ceramic_Touch(e.touchIndex,e.x,e.y,0,0),this.touches.set(e.touchIndex,c)):(c.x=e.x,c.y=e.y));for(var n=this.pointerX,t=this.pointerY,i=0,s=0,r=0,l=this.touches,a=0,h=l.values.length;;){for(;a<h&&null==l.values[a];)++a;if(!(a<h))break;var c,o=a++;++i,s+=(c=l.values[o]).x,r+=c.y}i>0?(this.pointerX=s/i,this.pointerY=r/i):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-n,this.pointerDeltaY+=this.pointerY-t},updatePointer:function(){for(var e=this.pointerX,n=this.pointerY,t=0,i=0,s=0,r=this.touches,l=0,a=r.values.length;;){for(;l<a&&null==r.values[l];)++l;if(!(l<a))break;var h=l++,c=r.values[h];++t,i+=c.x,s+=c.y}t>0?(this.pointerX=i/t,this.pointerY=s/t):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-e,this.pointerDeltaY+=this.pointerY-n},didEmitMouseDown:function(e,n,t){var i=this.matchFirstDownListener(n,t,-1,e);null!=i&&(i._numPointerDown++,(1==i._numPointerDown||i.multiTouch)&&(ceramic_App.app.screen.set_focusedVisual(i),i.emitPointerDown(new ceramic_TouchInfo(-1,e,n,t,!0))));var s=1e4+e;this.matchedDownListeners.h[s]=i},didEmitMouseUp:function(e,n,t){var i=1e4+e,s=this.matchedDownListeners.h[i];null!=s&&s._lifecycleState>=0&&s._numPointerDown>0&&(s._numPointerDown--,(0==s._numPointerDown||s.multiTouch)&&s.emitPointerUp(new ceramic_TouchInfo(-1,e,n,t,s.hits(n,t)))),this.matchedDownListeners.remove(i)},updateMouseOver:function(e,n){var t=1e4,i=this.matchedOverListeners.h[t],s=this.matchFirstOverListener(e,n);s!=i&&(null!=s?this.matchedOverListeners.h[t]=s:this.matchedOverListeners.remove(t)),null!=i&&i!=s&&i._lifecycleState>=0&&i._numPointerOver>0&&(i._numPointerOver--,(0==i._numPointerOver||i.multiTouch)&&i.emitPointerOut(new ceramic_TouchInfo(-1,-1,e,n,!1))),null!=s&&i!=s&&(s._numPointerOver++,(1==s._numPointerOver||s.multiTouch)&&s.emitPointerOver(new ceramic_TouchInfo(-1,-1,e,n,!0)))},didEmitTouchDown:function(e,n,t){var i=this.matchFirstDownListener(n,t,e,-1);null!=i&&(i._numPointerDown++,(1==i._numPointerDown||i.multiTouch)&&(ceramic_App.app.screen.set_focusedVisual(i),i.emitPointerDown(new ceramic_TouchInfo(e,-1,n,t,!0))));var s=2e4+e;this.matchedDownListeners.h[s]=i},didEmitTouchUp:function(e,n,t){var i=2e4+e,s=this.matchedDownListeners.h[i];null!=s&&s._lifecycleState>=0&&s._numPointerDown>0&&(s._numPointerDown--,(0==s._numPointerDown||s.multiTouch)&&s.emitPointerUp(new ceramic_TouchInfo(e,-1,n,t,s.hits(n,t)))),this.matchedDownListeners.remove(i)},updateTouchOver:function(e,n,t){var i=2e4+e,s=this.matchedOverListeners.h[i],r=this.matchFirstOverListener(n,t);r!=s&&(null!=r?this.matchedOverListeners.h[i]=r:this.matchedOverListeners.remove(i)),null!=s&&s!=r&&s._lifecycleState>=0&&s._numPointerOver>0&&(s._numPointerOver--,(0==s._numPointerOver||s.multiTouch)&&s.emitPointerOut(new ceramic_TouchInfo(-1,-1,n,t,!1))),null!=r&&s!=r&&(r._numPointerOver++,(1==r._numPointerOver||r.multiTouch)&&r.emitPointerOver(new ceramic_TouchInfo(-1,-1,n,t,!0)))},addHitVisual:function(e){var n=this.isHitVisual(e);this.hitVisuals.push(e),n||(e.flags=8|e.flags)},removeHitVisual:function(e){var n=this.hitVisuals.indexOf(e);-1==n?ceramic_App.app.logger.warning("Hit visual not removed from hitVisuals because it was not added at the first place",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Screen.hx",lineNumber:1193,className:"ceramic.Screen",methodName:"removeHitVisual"}):(this.hitVisuals.splice(n,1),-1==this.hitVisuals.indexOf(e)&&(e.flags=-9&e.flags))},isHitVisual:function(e){return 8==(8&e.flags)},resetDeltas:function(){this.pointerDeltaX=0,this.pointerDeltaY=0,this.mouseDeltaX=0,this.mouseDeltaY=0,this.mouseWheelDeltaX=0,this.mouseWheelDeltaY=0;for(var e=0;e<=this.maxTouchIndex;){var n=this.touches.get(e);null!=n&&(n.deltaX=0,n.deltaY=0),++e}},willEmitMouseMove:function(e,n){this.mouseDeltaX+=e-this.prevMouseX,this.mouseDeltaY+=n-this.prevMouseY,this.prevMouseX=e,this.prevMouseY=n},willEmitMouseDown:function(e,n,t){var i=this;this.prevMouseX=n,this.prevMouseY=t;var s=null!=(r=this.pressedMouseButtons.h[0|e])?r:0;-1==s&&(s=0);var r=s+1;this.pressedMouseButtons.h[0|e]=r,0==s&&ceramic_App.app.beginUpdateCallbacks.push((function(){var n=i.pressedMouseButtons.h[0|e];1==(null!=n?n:0)&&(i.pressedMouseButtons.h[0|e]=2)}))},willEmitMouseUp:function(e,n,t){var i=this;this.pressedMouseButtons.h[0|e]=-1,ceramic_App.app.beginUpdateCallbacks.push((function(){var n=i.pressedMouseButtons.h[0|e];-1==(null!=n?n:0)&&(i.pressedMouseButtons.h[0|e]=0)}))},willEmitMouseWheel:function(e,n){this.mouseWheelDeltaX+=e,this.mouseWheelDeltaY+=n},mousePressed:function(e){var n=this.pressedMouseButtons.h[0|e];return(null!=n?n:0)>0},mouseJustPressed:function(e){var n=this.pressedMouseButtons.h[0|e];return 1==(null!=n?n:0)},mouseJustReleased:function(e){var n=this.pressedMouseButtons.h[0|e];return-1==(null!=n?n:0)},willEmitTouchMove:function(e,n,t){e>this.maxTouchIndex&&(this.maxTouchIndex=e);var i,s=2*e,r=s+1,l=null!=(i=this.prevTouchPositions.h[0|s])?i:0,a=null!=(i=this.prevTouchPositions.h[0|r])?i:0,h=this.touches.get(e);null!=h&&(h.deltaX+=n-l,h.deltaY+=t-a)},willEmitTouchDown:function(e,n,t){var i=this,s=2*e,r=s+1;this.prevTouchPositions.h[0|s]=n,this.prevTouchPositions.h[0|r]=t;var l=null!=(a=this.pressedTouches.h[0|e])?a:0;-1==l&&(l=0);var a=l+1;this.pressedTouches.h[0|e]=a,0==l&&ceramic_App.app.beginUpdateCallbacks.push((function(){var n=i.pressedTouches.h[0|e];1==(null!=n?n:0)&&(i.pressedTouches.h[0|e]=2)}))},willEmitTouchUp:function(e,n,t){var i=this,s=this.pressedTouches.h[0|e],r=null!=s?s:0;this.pressedTouches.h[0|e]=1==r?-2:-1,ceramic_App.app.beginUpdateCallbacks.push((function(){var n=i.pressedTouches.h[0|e],t=null!=n?n:0;-1!=t&&-2!=t||(i.pressedTouches.h[0|e]=0)}))},touchPressed:function(e){var n=this.pressedTouches.h[0|e];return(null!=n?n:0)>0},touchJustPressed:function(e){var n=this.pressedTouches.h[0|e],t=null!=n?n:0;return 1==t||-2==t},touchJustReleased:function(e){var n=this.pressedTouches.h[0|e],t=null!=n?n:0;return-1==t||-2==t},touchDeltaX:function(e){var n=this.touches.get(e);return null!=n?n.deltaX:0},touchDeltaY:function(e){var n=this.touches.get(e);return null!=n?n.deltaY:0},toTexture:function(e){ceramic_App.app.backend.screen.screenshotToTexture((function(n){if(null!=n){var t=new ceramic_Texture(n,clay_Clay.app.screenDensity);e(t)}else e(null)}))},toPixels:function(e){ceramic_App.app.backend.screen.screenshotToPixels(e)},_toPng:function(e,n){ceramic_App.app.onceFinishDraw(this,(function(){ceramic_App.app.backend.screen.screenshotToPng(e,n)}))},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offFocusedVisualChange(),this.offTexturesDensityChange(),this.offResize(),this.offMouseDown(),this.offMouseUp(),this.offMouseWheel(),this.offMouseMove(),this.offTouchDown(),this.offTouchUp(),this.offTouchMove(),this.offPointerDown(),this.offPointerUp(),this.offPointerMove(),this.offMultiTouchPointerDown(),this.offMultiTouchPointerUp(),this.offMultiTouchPointerMove(),this.offFocus(),this.offBlur()},__class__:ceramic_Screen,__properties__:$extend(ceramic_Entity.prototype.__properties__,{get_isPointerDown:"get_isPointerDown",set_texturesDensity:"set_texturesDensity",get_texturesDensity:"get_texturesDensity",set_unobservedFocusedVisual:"set_unobservedFocusedVisual",set_focusedVisual:"set_focusedVisual",get_focusedVisual:"get_focusedVisual",get_nativeDensity:"get_nativeDensity",get_nativeHeight:"get_nativeHeight",get_nativeWidth:"get_nativeWidth"})});var p=i["ceramic.ScreenScaling"]={__ename__:"ceramic.ScreenScaling",__constructs__:null,FIT:{_hx_name:"FIT",_hx_index:0,__enum__:"ceramic.ScreenScaling",toString:$estr},FILL:{_hx_name:"FILL",_hx_index:1,__enum__:"ceramic.ScreenScaling",toString:$estr},RESIZE:{_hx_name:"RESIZE",_hx_index:2,__enum__:"ceramic.ScreenScaling",toString:$estr},FIT_RESIZE:{_hx_name:"FIT_RESIZE",_hx_index:3,__enum__:"ceramic.ScreenScaling",toString:$estr}};p.__constructs__=[p.FIT,p.FILL,p.RESIZE,p.FIT_RESIZE];var ceramic_Settings=function(){this.defaultShader="shader:textured",this.defaultFont="font:RobotoMedium",this.backend={},this.assetsPath="assets",this.resizable=!1,this.antialiasing=0,this.appInfo=null,this.collections=null,this.orientation=0,this.unobservedOverrideDelta=-1,this.overrideDeltaAutoruns=null,this.unobservedMaxDelta=.1,this.maxDeltaAutoruns=null,this.unobservedTargetFps=-1,this.targetFpsAutoruns=null,this.unobservedFullscreen=!1,this.fullscreenAutoruns=null,this.unobservedTitle="App",this.titleAutoruns=null,this.unobservedScaling=p.FIT,this.scalingAutoruns=null,this.unobservedBackground=0,this.backgroundAutoruns=null,this.unobservedTargetDensity=0,this.targetDensityAutoruns=null,this.unobservedWindowHeight=0,this.windowHeightAutoruns=null,this.unobservedWindowWidth=0,this.windowWidthAutoruns=null,this.unobservedTargetHeight=0,this.targetHeightAutoruns=null,this.unobservedTargetWidth=0,this.targetWidthAutoruns=null,this.observedDirty=!1};t["ceramic.Settings"]=ceramic_Settings,ceramic_Settings.__name__="ceramic.Settings",ceramic_Settings.__interfaces__=[tracker_Observable],ceramic_Settings.prototype={emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var l=0,a=this.__cbOnObservedDirty.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnObservedDirty[h],++r):--t}if(null!=this.__cbOnceObservedDirty){var c=null,o=null;for(l=0,a=this.__cbOnceObservedDirty.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceObservedDirty[h],this.__cbOnceObservedDirty[h]=null;var u=this.__cbOnceOwnerUnbindObservedDirty[h];this.__cbOnceOwnerUnbindObservedDirty[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindObservedDirty[h]),o.push(this.__cbOnceObservedDirty[h])}this.__cbOnceOwnerUnbindObservedDirty=c,this.__cbOnceObservedDirty=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(n)},onceObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(n)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[s])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[s])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&this.__cbOnObservedDirty.length>0||null!=this.__cbOnceObservedDirty&&this.__cbOnceObservedDirty.length>0},get_targetWidth:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.targetWidthAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.targetWidthAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedTargetWidth},set_targetWidth:function(e){var n=this.unobservedTargetWidth;if(this.unobservedTargetWidth=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetWidthChange(e,n);var t=this.targetWidthAutoruns;if(null!=t){this.targetWidthAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTargetWidth:function(){var e=this.unobservedTargetWidth;this.emitTargetWidthChange(e,e);var n=this.targetWidthAutoruns;if(null!=n){this.targetWidthAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitTargetWidthChange:function(e,n){var t=0;if(null!=this.__cbOnTargetWidthChange&&(t+=this.__cbOnTargetWidthChange.length),null!=this.__cbOnceTargetWidthChange&&(t+=this.__cbOnceTargetWidthChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnTargetWidthChange)for(var l=0,a=this.__cbOnTargetWidthChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnTargetWidthChange[h],++r):--t}if(null!=this.__cbOnceTargetWidthChange){var c=null,o=null;for(l=0,a=this.__cbOnceTargetWidthChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceTargetWidthChange[h],this.__cbOnceTargetWidthChange[h]=null;var u=this.__cbOnceOwnerUnbindTargetWidthChange[h];this.__cbOnceOwnerUnbindTargetWidthChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindTargetWidthChange[h]),o.push(this.__cbOnceTargetWidthChange[h])}this.__cbOnceOwnerUnbindTargetWidthChange=c,this.__cbOnceTargetWidthChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onTargetWidthChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetWidthChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetWidthChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTargetWidthChange&&(this.__cbOnOwnerUnbindTargetWidthChange=[]),this.__cbOnOwnerUnbindTargetWidthChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTargetWidthChange&&(this.__cbOnOwnerUnbindTargetWidthChange=[]),this.__cbOnOwnerUnbindTargetWidthChange.push(null);null==this.__cbOnTargetWidthChange&&(this.__cbOnTargetWidthChange=[]),this.__cbOnTargetWidthChange.push(n)},onceTargetWidthChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetWidthChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetWidthChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTargetWidthChange&&(this.__cbOnceOwnerUnbindTargetWidthChange=[]),this.__cbOnceOwnerUnbindTargetWidthChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTargetWidthChange&&(this.__cbOnceOwnerUnbindTargetWidthChange=[]),this.__cbOnceOwnerUnbindTargetWidthChange.push(null);null==this.__cbOnceTargetWidthChange&&(this.__cbOnceTargetWidthChange=[]),this.__cbOnceTargetWidthChange.push(n)},offTargetWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetWidthChange&&-1!=(n=this.__cbOnTargetWidthChange.indexOf(e))&&(this.__cbOnTargetWidthChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTargetWidthChange[n])&&r(),this.__cbOnOwnerUnbindTargetWidthChange.splice(n,1)),null!=this.__cbOnceTargetWidthChange&&-1!=(n=this.__cbOnceTargetWidthChange.indexOf(e))&&(this.__cbOnceTargetWidthChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTargetWidthChange[n])&&r(),this.__cbOnceOwnerUnbindTargetWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetWidthChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTargetWidthChange[s])&&r()}this.__cbOnOwnerUnbindTargetWidthChange=null}if(null!=this.__cbOnceOwnerUnbindTargetWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetWidthChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTargetWidthChange[s])&&r()}this.__cbOnceOwnerUnbindTargetWidthChange=null}this.__cbOnTargetWidthChange=null,this.__cbOnceTargetWidthChange=null}},listensTargetWidthChange:function(){return null!=this.__cbOnTargetWidthChange&&this.__cbOnTargetWidthChange.length>0||null!=this.__cbOnceTargetWidthChange&&this.__cbOnceTargetWidthChange.length>0},get_targetHeight:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.targetHeightAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.targetHeightAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedTargetHeight},set_targetHeight:function(e){var n=this.unobservedTargetHeight;if(this.unobservedTargetHeight=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetHeightChange(e,n);var t=this.targetHeightAutoruns;if(null!=t){this.targetHeightAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTargetHeight:function(){var e=this.unobservedTargetHeight;this.emitTargetHeightChange(e,e);var n=this.targetHeightAutoruns;if(null!=n){this.targetHeightAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitTargetHeightChange:function(e,n){var t=0;if(null!=this.__cbOnTargetHeightChange&&(t+=this.__cbOnTargetHeightChange.length),null!=this.__cbOnceTargetHeightChange&&(t+=this.__cbOnceTargetHeightChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnTargetHeightChange)for(var l=0,a=this.__cbOnTargetHeightChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnTargetHeightChange[h],++r):--t}if(null!=this.__cbOnceTargetHeightChange){var c=null,o=null;for(l=0,a=this.__cbOnceTargetHeightChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceTargetHeightChange[h],this.__cbOnceTargetHeightChange[h]=null;var u=this.__cbOnceOwnerUnbindTargetHeightChange[h];this.__cbOnceOwnerUnbindTargetHeightChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindTargetHeightChange[h]),o.push(this.__cbOnceTargetHeightChange[h])}this.__cbOnceOwnerUnbindTargetHeightChange=c,this.__cbOnceTargetHeightChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onTargetHeightChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetHeightChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetHeightChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTargetHeightChange&&(this.__cbOnOwnerUnbindTargetHeightChange=[]),this.__cbOnOwnerUnbindTargetHeightChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTargetHeightChange&&(this.__cbOnOwnerUnbindTargetHeightChange=[]),this.__cbOnOwnerUnbindTargetHeightChange.push(null);null==this.__cbOnTargetHeightChange&&(this.__cbOnTargetHeightChange=[]),this.__cbOnTargetHeightChange.push(n)},onceTargetHeightChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetHeightChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetHeightChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTargetHeightChange&&(this.__cbOnceOwnerUnbindTargetHeightChange=[]),this.__cbOnceOwnerUnbindTargetHeightChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTargetHeightChange&&(this.__cbOnceOwnerUnbindTargetHeightChange=[]),this.__cbOnceOwnerUnbindTargetHeightChange.push(null);null==this.__cbOnceTargetHeightChange&&(this.__cbOnceTargetHeightChange=[]),this.__cbOnceTargetHeightChange.push(n)},offTargetHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetHeightChange&&-1!=(n=this.__cbOnTargetHeightChange.indexOf(e))&&(this.__cbOnTargetHeightChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTargetHeightChange[n])&&r(),this.__cbOnOwnerUnbindTargetHeightChange.splice(n,1)),null!=this.__cbOnceTargetHeightChange&&-1!=(n=this.__cbOnceTargetHeightChange.indexOf(e))&&(this.__cbOnceTargetHeightChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTargetHeightChange[n])&&r(),this.__cbOnceOwnerUnbindTargetHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetHeightChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTargetHeightChange[s])&&r()}this.__cbOnOwnerUnbindTargetHeightChange=null}if(null!=this.__cbOnceOwnerUnbindTargetHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetHeightChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTargetHeightChange[s])&&r()}this.__cbOnceOwnerUnbindTargetHeightChange=null}this.__cbOnTargetHeightChange=null,this.__cbOnceTargetHeightChange=null}},listensTargetHeightChange:function(){return null!=this.__cbOnTargetHeightChange&&this.__cbOnTargetHeightChange.length>0||null!=this.__cbOnceTargetHeightChange&&this.__cbOnceTargetHeightChange.length>0},targetSize:function(e,n){this.set_targetWidth(e),this.set_targetHeight(n)},get_windowWidth:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.windowWidthAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.windowWidthAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedWindowWidth},set_windowWidth:function(e){var n=this.unobservedWindowWidth;if(this.unobservedWindowWidth=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitWindowWidthChange(e,n);var t=this.windowWidthAutoruns;if(null!=t){this.windowWidthAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateWindowWidth:function(){var e=this.unobservedWindowWidth;this.emitWindowWidthChange(e,e);var n=this.windowWidthAutoruns;if(null!=n){this.windowWidthAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitWindowWidthChange:function(e,n){var t=0;if(null!=this.__cbOnWindowWidthChange&&(t+=this.__cbOnWindowWidthChange.length),null!=this.__cbOnceWindowWidthChange&&(t+=this.__cbOnceWindowWidthChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnWindowWidthChange)for(var l=0,a=this.__cbOnWindowWidthChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnWindowWidthChange[h],++r):--t}if(null!=this.__cbOnceWindowWidthChange){var c=null,o=null;for(l=0,a=this.__cbOnceWindowWidthChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceWindowWidthChange[h],this.__cbOnceWindowWidthChange[h]=null;var u=this.__cbOnceOwnerUnbindWindowWidthChange[h];this.__cbOnceOwnerUnbindWindowWidthChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindWindowWidthChange[h]),o.push(this.__cbOnceWindowWidthChange[h])}this.__cbOnceOwnerUnbindWindowWidthChange=c,this.__cbOnceWindowWidthChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onWindowWidthChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event windowWidthChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWindowWidthChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindWindowWidthChange&&(this.__cbOnOwnerUnbindWindowWidthChange=[]),this.__cbOnOwnerUnbindWindowWidthChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindWindowWidthChange&&(this.__cbOnOwnerUnbindWindowWidthChange=[]),this.__cbOnOwnerUnbindWindowWidthChange.push(null);null==this.__cbOnWindowWidthChange&&(this.__cbOnWindowWidthChange=[]),this.__cbOnWindowWidthChange.push(n)},onceWindowWidthChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event windowWidthChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWindowWidthChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindWindowWidthChange&&(this.__cbOnceOwnerUnbindWindowWidthChange=[]),this.__cbOnceOwnerUnbindWindowWidthChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindWindowWidthChange&&(this.__cbOnceOwnerUnbindWindowWidthChange=[]),this.__cbOnceOwnerUnbindWindowWidthChange.push(null);null==this.__cbOnceWindowWidthChange&&(this.__cbOnceWindowWidthChange=[]),this.__cbOnceWindowWidthChange.push(n)},offWindowWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowWidthChange&&-1!=(n=this.__cbOnWindowWidthChange.indexOf(e))&&(this.__cbOnWindowWidthChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindWindowWidthChange[n])&&r(),this.__cbOnOwnerUnbindWindowWidthChange.splice(n,1)),null!=this.__cbOnceWindowWidthChange&&-1!=(n=this.__cbOnceWindowWidthChange.indexOf(e))&&(this.__cbOnceWindowWidthChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindWindowWidthChange[n])&&r(),this.__cbOnceOwnerUnbindWindowWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowWidthChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindWindowWidthChange[s])&&r()}this.__cbOnOwnerUnbindWindowWidthChange=null}if(null!=this.__cbOnceOwnerUnbindWindowWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowWidthChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindWindowWidthChange[s])&&r()}this.__cbOnceOwnerUnbindWindowWidthChange=null}this.__cbOnWindowWidthChange=null,this.__cbOnceWindowWidthChange=null}},listensWindowWidthChange:function(){return null!=this.__cbOnWindowWidthChange&&this.__cbOnWindowWidthChange.length>0||null!=this.__cbOnceWindowWidthChange&&this.__cbOnceWindowWidthChange.length>0},get_windowHeight:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.windowHeightAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.windowHeightAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedWindowHeight},set_windowHeight:function(e){var n=this.unobservedWindowHeight;if(this.unobservedWindowHeight=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitWindowHeightChange(e,n);var t=this.windowHeightAutoruns;if(null!=t){this.windowHeightAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateWindowHeight:function(){var e=this.unobservedWindowHeight;this.emitWindowHeightChange(e,e);var n=this.windowHeightAutoruns;if(null!=n){this.windowHeightAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitWindowHeightChange:function(e,n){var t=0;if(null!=this.__cbOnWindowHeightChange&&(t+=this.__cbOnWindowHeightChange.length),null!=this.__cbOnceWindowHeightChange&&(t+=this.__cbOnceWindowHeightChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnWindowHeightChange)for(var l=0,a=this.__cbOnWindowHeightChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnWindowHeightChange[h],++r):--t}if(null!=this.__cbOnceWindowHeightChange){var c=null,o=null;for(l=0,a=this.__cbOnceWindowHeightChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceWindowHeightChange[h],this.__cbOnceWindowHeightChange[h]=null;var u=this.__cbOnceOwnerUnbindWindowHeightChange[h];this.__cbOnceOwnerUnbindWindowHeightChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindWindowHeightChange[h]),o.push(this.__cbOnceWindowHeightChange[h])}this.__cbOnceOwnerUnbindWindowHeightChange=c,this.__cbOnceWindowHeightChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onWindowHeightChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event windowHeightChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWindowHeightChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindWindowHeightChange&&(this.__cbOnOwnerUnbindWindowHeightChange=[]),this.__cbOnOwnerUnbindWindowHeightChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindWindowHeightChange&&(this.__cbOnOwnerUnbindWindowHeightChange=[]),this.__cbOnOwnerUnbindWindowHeightChange.push(null);null==this.__cbOnWindowHeightChange&&(this.__cbOnWindowHeightChange=[]),this.__cbOnWindowHeightChange.push(n)},onceWindowHeightChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event windowHeightChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWindowHeightChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindWindowHeightChange&&(this.__cbOnceOwnerUnbindWindowHeightChange=[]),this.__cbOnceOwnerUnbindWindowHeightChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindWindowHeightChange&&(this.__cbOnceOwnerUnbindWindowHeightChange=[]),this.__cbOnceOwnerUnbindWindowHeightChange.push(null);null==this.__cbOnceWindowHeightChange&&(this.__cbOnceWindowHeightChange=[]),this.__cbOnceWindowHeightChange.push(n)},offWindowHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowHeightChange&&-1!=(n=this.__cbOnWindowHeightChange.indexOf(e))&&(this.__cbOnWindowHeightChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindWindowHeightChange[n])&&r(),this.__cbOnOwnerUnbindWindowHeightChange.splice(n,1)),null!=this.__cbOnceWindowHeightChange&&-1!=(n=this.__cbOnceWindowHeightChange.indexOf(e))&&(this.__cbOnceWindowHeightChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindWindowHeightChange[n])&&r(),this.__cbOnceOwnerUnbindWindowHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowHeightChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindWindowHeightChange[s])&&r()}this.__cbOnOwnerUnbindWindowHeightChange=null}if(null!=this.__cbOnceOwnerUnbindWindowHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowHeightChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindWindowHeightChange[s])&&r()}this.__cbOnceOwnerUnbindWindowHeightChange=null}this.__cbOnWindowHeightChange=null,this.__cbOnceWindowHeightChange=null}},listensWindowHeightChange:function(){return null!=this.__cbOnWindowHeightChange&&this.__cbOnWindowHeightChange.length>0||null!=this.__cbOnceWindowHeightChange&&this.__cbOnceWindowHeightChange.length>0},get_targetDensity:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.targetDensityAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.targetDensityAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedTargetDensity},set_targetDensity:function(e){var n=this.unobservedTargetDensity;if(this.unobservedTargetDensity=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetDensityChange(e,n);var t=this.targetDensityAutoruns;if(null!=t){this.targetDensityAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTargetDensity:function(){var e=this.unobservedTargetDensity;this.emitTargetDensityChange(e,e);var n=this.targetDensityAutoruns;if(null!=n){this.targetDensityAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitTargetDensityChange:function(e,n){var t=0;if(null!=this.__cbOnTargetDensityChange&&(t+=this.__cbOnTargetDensityChange.length),null!=this.__cbOnceTargetDensityChange&&(t+=this.__cbOnceTargetDensityChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnTargetDensityChange)for(var l=0,a=this.__cbOnTargetDensityChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnTargetDensityChange[h],++r):--t}if(null!=this.__cbOnceTargetDensityChange){var c=null,o=null;for(l=0,a=this.__cbOnceTargetDensityChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceTargetDensityChange[h],this.__cbOnceTargetDensityChange[h]=null;var u=this.__cbOnceOwnerUnbindTargetDensityChange[h];this.__cbOnceOwnerUnbindTargetDensityChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindTargetDensityChange[h]),o.push(this.__cbOnceTargetDensityChange[h])}this.__cbOnceOwnerUnbindTargetDensityChange=c,this.__cbOnceTargetDensityChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onTargetDensityChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetDensityChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetDensityChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTargetDensityChange&&(this.__cbOnOwnerUnbindTargetDensityChange=[]),this.__cbOnOwnerUnbindTargetDensityChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTargetDensityChange&&(this.__cbOnOwnerUnbindTargetDensityChange=[]),this.__cbOnOwnerUnbindTargetDensityChange.push(null);null==this.__cbOnTargetDensityChange&&(this.__cbOnTargetDensityChange=[]),this.__cbOnTargetDensityChange.push(n)},onceTargetDensityChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetDensityChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetDensityChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTargetDensityChange&&(this.__cbOnceOwnerUnbindTargetDensityChange=[]),this.__cbOnceOwnerUnbindTargetDensityChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTargetDensityChange&&(this.__cbOnceOwnerUnbindTargetDensityChange=[]),this.__cbOnceOwnerUnbindTargetDensityChange.push(null);null==this.__cbOnceTargetDensityChange&&(this.__cbOnceTargetDensityChange=[]),this.__cbOnceTargetDensityChange.push(n)},offTargetDensityChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetDensityChange&&-1!=(n=this.__cbOnTargetDensityChange.indexOf(e))&&(this.__cbOnTargetDensityChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTargetDensityChange[n])&&r(),this.__cbOnOwnerUnbindTargetDensityChange.splice(n,1)),null!=this.__cbOnceTargetDensityChange&&-1!=(n=this.__cbOnceTargetDensityChange.indexOf(e))&&(this.__cbOnceTargetDensityChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTargetDensityChange[n])&&r(),this.__cbOnceOwnerUnbindTargetDensityChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetDensityChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetDensityChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTargetDensityChange[s])&&r()}this.__cbOnOwnerUnbindTargetDensityChange=null}if(null!=this.__cbOnceOwnerUnbindTargetDensityChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetDensityChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTargetDensityChange[s])&&r()}this.__cbOnceOwnerUnbindTargetDensityChange=null}this.__cbOnTargetDensityChange=null,this.__cbOnceTargetDensityChange=null}},listensTargetDensityChange:function(){return null!=this.__cbOnTargetDensityChange&&this.__cbOnTargetDensityChange.length>0||null!=this.__cbOnceTargetDensityChange&&this.__cbOnceTargetDensityChange.length>0},get_background:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.backgroundAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.backgroundAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedBackground},set_background:function(e){var n=this.unobservedBackground;if(this.unobservedBackground=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitBackgroundChange(e,n);var t=this.backgroundAutoruns;if(null!=t){this.backgroundAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateBackground:function(){var e=this.unobservedBackground;this.emitBackgroundChange(e,e);var n=this.backgroundAutoruns;if(null!=n){this.backgroundAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitBackgroundChange:function(e,n){var t=0;if(null!=this.__cbOnBackgroundChange&&(t+=this.__cbOnBackgroundChange.length),null!=this.__cbOnceBackgroundChange&&(t+=this.__cbOnceBackgroundChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnBackgroundChange)for(var l=0,a=this.__cbOnBackgroundChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnBackgroundChange[h],++r):--t}if(null!=this.__cbOnceBackgroundChange){var c=null,o=null;for(l=0,a=this.__cbOnceBackgroundChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceBackgroundChange[h],this.__cbOnceBackgroundChange[h]=null;var u=this.__cbOnceOwnerUnbindBackgroundChange[h];this.__cbOnceOwnerUnbindBackgroundChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindBackgroundChange[h]),o.push(this.__cbOnceBackgroundChange[h])}this.__cbOnceOwnerUnbindBackgroundChange=c,this.__cbOnceBackgroundChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onBackgroundChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event backgroundChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBackgroundChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBackgroundChange&&(this.__cbOnOwnerUnbindBackgroundChange=[]),this.__cbOnOwnerUnbindBackgroundChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBackgroundChange&&(this.__cbOnOwnerUnbindBackgroundChange=[]),this.__cbOnOwnerUnbindBackgroundChange.push(null);null==this.__cbOnBackgroundChange&&(this.__cbOnBackgroundChange=[]),this.__cbOnBackgroundChange.push(n)},onceBackgroundChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event backgroundChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBackgroundChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBackgroundChange&&(this.__cbOnceOwnerUnbindBackgroundChange=[]),this.__cbOnceOwnerUnbindBackgroundChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBackgroundChange&&(this.__cbOnceOwnerUnbindBackgroundChange=[]),this.__cbOnceOwnerUnbindBackgroundChange.push(null);null==this.__cbOnceBackgroundChange&&(this.__cbOnceBackgroundChange=[]),this.__cbOnceBackgroundChange.push(n)},offBackgroundChange:function(e){if(null!=e){var n;null!=this.__cbOnBackgroundChange&&-1!=(n=this.__cbOnBackgroundChange.indexOf(e))&&(this.__cbOnBackgroundChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBackgroundChange[n])&&r(),this.__cbOnOwnerUnbindBackgroundChange.splice(n,1)),null!=this.__cbOnceBackgroundChange&&-1!=(n=this.__cbOnceBackgroundChange.indexOf(e))&&(this.__cbOnceBackgroundChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBackgroundChange[n])&&r(),this.__cbOnceOwnerUnbindBackgroundChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBackgroundChange){for(var t=0,i=this.__cbOnOwnerUnbindBackgroundChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBackgroundChange[s])&&r()}this.__cbOnOwnerUnbindBackgroundChange=null}if(null!=this.__cbOnceOwnerUnbindBackgroundChange){for(t=0,i=this.__cbOnceOwnerUnbindBackgroundChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBackgroundChange[s])&&r()}this.__cbOnceOwnerUnbindBackgroundChange=null}this.__cbOnBackgroundChange=null,this.__cbOnceBackgroundChange=null}},listensBackgroundChange:function(){return null!=this.__cbOnBackgroundChange&&this.__cbOnBackgroundChange.length>0||null!=this.__cbOnceBackgroundChange&&this.__cbOnceBackgroundChange.length>0},get_scaling:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.scalingAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.scalingAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedScaling},set_scaling:function(e){var n=this.unobservedScaling;if(this.unobservedScaling=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitScalingChange(e,n);var t=this.scalingAutoruns;if(null!=t){this.scalingAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateScaling:function(){var e=this.unobservedScaling;this.emitScalingChange(e,e);var n=this.scalingAutoruns;if(null!=n){this.scalingAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitScalingChange:function(e,n){var t=0;if(null!=this.__cbOnScalingChange&&(t+=this.__cbOnScalingChange.length),null!=this.__cbOnceScalingChange&&(t+=this.__cbOnceScalingChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnScalingChange)for(var l=0,a=this.__cbOnScalingChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnScalingChange[h],++r):--t}if(null!=this.__cbOnceScalingChange){var c=null,o=null;for(l=0,a=this.__cbOnceScalingChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceScalingChange[h],this.__cbOnceScalingChange[h]=null;var u=this.__cbOnceOwnerUnbindScalingChange[h];this.__cbOnceOwnerUnbindScalingChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindScalingChange[h]),o.push(this.__cbOnceScalingChange[h])}this.__cbOnceOwnerUnbindScalingChange=c,this.__cbOnceScalingChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onScalingChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event scalingChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offScalingChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindScalingChange&&(this.__cbOnOwnerUnbindScalingChange=[]),this.__cbOnOwnerUnbindScalingChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindScalingChange&&(this.__cbOnOwnerUnbindScalingChange=[]),this.__cbOnOwnerUnbindScalingChange.push(null);null==this.__cbOnScalingChange&&(this.__cbOnScalingChange=[]),this.__cbOnScalingChange.push(n)},onceScalingChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event scalingChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offScalingChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindScalingChange&&(this.__cbOnceOwnerUnbindScalingChange=[]),this.__cbOnceOwnerUnbindScalingChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindScalingChange&&(this.__cbOnceOwnerUnbindScalingChange=[]),this.__cbOnceOwnerUnbindScalingChange.push(null);null==this.__cbOnceScalingChange&&(this.__cbOnceScalingChange=[]),this.__cbOnceScalingChange.push(n)},offScalingChange:function(e){if(null!=e){var n;null!=this.__cbOnScalingChange&&-1!=(n=this.__cbOnScalingChange.indexOf(e))&&(this.__cbOnScalingChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindScalingChange[n])&&r(),this.__cbOnOwnerUnbindScalingChange.splice(n,1)),null!=this.__cbOnceScalingChange&&-1!=(n=this.__cbOnceScalingChange.indexOf(e))&&(this.__cbOnceScalingChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindScalingChange[n])&&r(),this.__cbOnceOwnerUnbindScalingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScalingChange){for(var t=0,i=this.__cbOnOwnerUnbindScalingChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindScalingChange[s])&&r()}this.__cbOnOwnerUnbindScalingChange=null}if(null!=this.__cbOnceOwnerUnbindScalingChange){for(t=0,i=this.__cbOnceOwnerUnbindScalingChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindScalingChange[s])&&r()}this.__cbOnceOwnerUnbindScalingChange=null}this.__cbOnScalingChange=null,this.__cbOnceScalingChange=null}},listensScalingChange:function(){return null!=this.__cbOnScalingChange&&this.__cbOnScalingChange.length>0||null!=this.__cbOnceScalingChange&&this.__cbOnceScalingChange.length>0},get_title:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.titleAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.titleAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedTitle},set_title:function(e){var n=this.unobservedTitle;if(this.unobservedTitle=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTitleChange(e,n);var t=this.titleAutoruns;if(null!=t){this.titleAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTitle:function(){var e=this.unobservedTitle;this.emitTitleChange(e,e);var n=this.titleAutoruns;if(null!=n){this.titleAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitTitleChange:function(e,n){var t=0;if(null!=this.__cbOnTitleChange&&(t+=this.__cbOnTitleChange.length),null!=this.__cbOnceTitleChange&&(t+=this.__cbOnceTitleChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnTitleChange)for(var l=0,a=this.__cbOnTitleChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnTitleChange[h],++r):--t}if(null!=this.__cbOnceTitleChange){var c=null,o=null;for(l=0,a=this.__cbOnceTitleChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceTitleChange[h],this.__cbOnceTitleChange[h]=null;var u=this.__cbOnceOwnerUnbindTitleChange[h];this.__cbOnceOwnerUnbindTitleChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindTitleChange[h]),o.push(this.__cbOnceTitleChange[h])}this.__cbOnceOwnerUnbindTitleChange=c,this.__cbOnceTitleChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onTitleChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event titleChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTitleChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(null);null==this.__cbOnTitleChange&&(this.__cbOnTitleChange=[]),this.__cbOnTitleChange.push(n)},onceTitleChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event titleChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTitleChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(null);null==this.__cbOnceTitleChange&&(this.__cbOnceTitleChange=[]),this.__cbOnceTitleChange.push(n)},offTitleChange:function(e){if(null!=e){var n;null!=this.__cbOnTitleChange&&-1!=(n=this.__cbOnTitleChange.indexOf(e))&&(this.__cbOnTitleChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTitleChange[n])&&r(),this.__cbOnOwnerUnbindTitleChange.splice(n,1)),null!=this.__cbOnceTitleChange&&-1!=(n=this.__cbOnceTitleChange.indexOf(e))&&(this.__cbOnceTitleChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTitleChange[n])&&r(),this.__cbOnceOwnerUnbindTitleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTitleChange){for(var t=0,i=this.__cbOnOwnerUnbindTitleChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTitleChange[s])&&r()}this.__cbOnOwnerUnbindTitleChange=null}if(null!=this.__cbOnceOwnerUnbindTitleChange){for(t=0,i=this.__cbOnceOwnerUnbindTitleChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTitleChange[s])&&r()}this.__cbOnceOwnerUnbindTitleChange=null}this.__cbOnTitleChange=null,this.__cbOnceTitleChange=null}},listensTitleChange:function(){return null!=this.__cbOnTitleChange&&this.__cbOnTitleChange.length>0||null!=this.__cbOnceTitleChange&&this.__cbOnceTitleChange.length>0},get_fullscreen:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.fullscreenAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.fullscreenAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedFullscreen},set_fullscreen:function(e){var n=this.unobservedFullscreen;if(this.unobservedFullscreen=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFullscreenChange(e,n);var t=this.fullscreenAutoruns;if(null!=t){this.fullscreenAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateFullscreen:function(){var e=this.unobservedFullscreen;this.emitFullscreenChange(e,e);var n=this.fullscreenAutoruns;if(null!=n){this.fullscreenAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitFullscreenChange:function(e,n){var t=0;if(null!=this.__cbOnFullscreenChange&&(t+=this.__cbOnFullscreenChange.length),null!=this.__cbOnceFullscreenChange&&(t+=this.__cbOnceFullscreenChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnFullscreenChange)for(var l=0,a=this.__cbOnFullscreenChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnFullscreenChange[h],++r):--t}if(null!=this.__cbOnceFullscreenChange){var c=null,o=null;for(l=0,a=this.__cbOnceFullscreenChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceFullscreenChange[h],this.__cbOnceFullscreenChange[h]=null;var u=this.__cbOnceOwnerUnbindFullscreenChange[h];this.__cbOnceOwnerUnbindFullscreenChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindFullscreenChange[h]),o.push(this.__cbOnceFullscreenChange[h])}this.__cbOnceOwnerUnbindFullscreenChange=c,this.__cbOnceFullscreenChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onFullscreenChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event fullscreenChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFullscreenChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFullscreenChange&&(this.__cbOnOwnerUnbindFullscreenChange=[]),this.__cbOnOwnerUnbindFullscreenChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFullscreenChange&&(this.__cbOnOwnerUnbindFullscreenChange=[]),this.__cbOnOwnerUnbindFullscreenChange.push(null);null==this.__cbOnFullscreenChange&&(this.__cbOnFullscreenChange=[]),this.__cbOnFullscreenChange.push(n)},onceFullscreenChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event fullscreenChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFullscreenChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFullscreenChange&&(this.__cbOnceOwnerUnbindFullscreenChange=[]),this.__cbOnceOwnerUnbindFullscreenChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFullscreenChange&&(this.__cbOnceOwnerUnbindFullscreenChange=[]),this.__cbOnceOwnerUnbindFullscreenChange.push(null);null==this.__cbOnceFullscreenChange&&(this.__cbOnceFullscreenChange=[]),this.__cbOnceFullscreenChange.push(n)},offFullscreenChange:function(e){if(null!=e){var n;null!=this.__cbOnFullscreenChange&&-1!=(n=this.__cbOnFullscreenChange.indexOf(e))&&(this.__cbOnFullscreenChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFullscreenChange[n])&&r(),this.__cbOnOwnerUnbindFullscreenChange.splice(n,1)),null!=this.__cbOnceFullscreenChange&&-1!=(n=this.__cbOnceFullscreenChange.indexOf(e))&&(this.__cbOnceFullscreenChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFullscreenChange[n])&&r(),this.__cbOnceOwnerUnbindFullscreenChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFullscreenChange){for(var t=0,i=this.__cbOnOwnerUnbindFullscreenChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFullscreenChange[s])&&r()}this.__cbOnOwnerUnbindFullscreenChange=null}if(null!=this.__cbOnceOwnerUnbindFullscreenChange){for(t=0,i=this.__cbOnceOwnerUnbindFullscreenChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFullscreenChange[s])&&r()}this.__cbOnceOwnerUnbindFullscreenChange=null}this.__cbOnFullscreenChange=null,this.__cbOnceFullscreenChange=null}},listensFullscreenChange:function(){return null!=this.__cbOnFullscreenChange&&this.__cbOnFullscreenChange.length>0||null!=this.__cbOnceFullscreenChange&&this.__cbOnceFullscreenChange.length>0},get_targetFps:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.targetFpsAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.targetFpsAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedTargetFps},set_targetFps:function(e){var n=this.unobservedTargetFps;if(this.unobservedTargetFps=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetFpsChange(e,n);var t=this.targetFpsAutoruns;if(null!=t){this.targetFpsAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTargetFps:function(){var e=this.unobservedTargetFps;this.emitTargetFpsChange(e,e);var n=this.targetFpsAutoruns;if(null!=n){this.targetFpsAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitTargetFpsChange:function(e,n){var t=0;if(null!=this.__cbOnTargetFpsChange&&(t+=this.__cbOnTargetFpsChange.length),null!=this.__cbOnceTargetFpsChange&&(t+=this.__cbOnceTargetFpsChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnTargetFpsChange)for(var l=0,a=this.__cbOnTargetFpsChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnTargetFpsChange[h],++r):--t}if(null!=this.__cbOnceTargetFpsChange){var c=null,o=null;for(l=0,a=this.__cbOnceTargetFpsChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceTargetFpsChange[h],this.__cbOnceTargetFpsChange[h]=null;var u=this.__cbOnceOwnerUnbindTargetFpsChange[h];this.__cbOnceOwnerUnbindTargetFpsChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindTargetFpsChange[h]),o.push(this.__cbOnceTargetFpsChange[h])}this.__cbOnceOwnerUnbindTargetFpsChange=c,this.__cbOnceTargetFpsChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onTargetFpsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetFpsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetFpsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTargetFpsChange&&(this.__cbOnOwnerUnbindTargetFpsChange=[]),this.__cbOnOwnerUnbindTargetFpsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTargetFpsChange&&(this.__cbOnOwnerUnbindTargetFpsChange=[]),this.__cbOnOwnerUnbindTargetFpsChange.push(null);null==this.__cbOnTargetFpsChange&&(this.__cbOnTargetFpsChange=[]),this.__cbOnTargetFpsChange.push(n)},onceTargetFpsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetFpsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetFpsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTargetFpsChange&&(this.__cbOnceOwnerUnbindTargetFpsChange=[]),this.__cbOnceOwnerUnbindTargetFpsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTargetFpsChange&&(this.__cbOnceOwnerUnbindTargetFpsChange=[]),this.__cbOnceOwnerUnbindTargetFpsChange.push(null);null==this.__cbOnceTargetFpsChange&&(this.__cbOnceTargetFpsChange=[]),this.__cbOnceTargetFpsChange.push(n)},offTargetFpsChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetFpsChange&&-1!=(n=this.__cbOnTargetFpsChange.indexOf(e))&&(this.__cbOnTargetFpsChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTargetFpsChange[n])&&r(),this.__cbOnOwnerUnbindTargetFpsChange.splice(n,1)),null!=this.__cbOnceTargetFpsChange&&-1!=(n=this.__cbOnceTargetFpsChange.indexOf(e))&&(this.__cbOnceTargetFpsChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTargetFpsChange[n])&&r(),this.__cbOnceOwnerUnbindTargetFpsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetFpsChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetFpsChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTargetFpsChange[s])&&r()}this.__cbOnOwnerUnbindTargetFpsChange=null}if(null!=this.__cbOnceOwnerUnbindTargetFpsChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetFpsChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTargetFpsChange[s])&&r()}this.__cbOnceOwnerUnbindTargetFpsChange=null}this.__cbOnTargetFpsChange=null,this.__cbOnceTargetFpsChange=null}},listensTargetFpsChange:function(){return null!=this.__cbOnTargetFpsChange&&this.__cbOnTargetFpsChange.length>0||null!=this.__cbOnceTargetFpsChange&&this.__cbOnceTargetFpsChange.length>0},get_maxDelta:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.maxDeltaAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.maxDeltaAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedMaxDelta},set_maxDelta:function(e){var n=this.unobservedMaxDelta;if(this.unobservedMaxDelta=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMaxDeltaChange(e,n);var t=this.maxDeltaAutoruns;if(null!=t){this.maxDeltaAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateMaxDelta:function(){var e=this.unobservedMaxDelta;this.emitMaxDeltaChange(e,e);var n=this.maxDeltaAutoruns;if(null!=n){this.maxDeltaAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitMaxDeltaChange:function(e,n){var t=0;if(null!=this.__cbOnMaxDeltaChange&&(t+=this.__cbOnMaxDeltaChange.length),null!=this.__cbOnceMaxDeltaChange&&(t+=this.__cbOnceMaxDeltaChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnMaxDeltaChange)for(var l=0,a=this.__cbOnMaxDeltaChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnMaxDeltaChange[h],++r):--t}if(null!=this.__cbOnceMaxDeltaChange){var c=null,o=null;for(l=0,a=this.__cbOnceMaxDeltaChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceMaxDeltaChange[h],this.__cbOnceMaxDeltaChange[h]=null;var u=this.__cbOnceOwnerUnbindMaxDeltaChange[h];this.__cbOnceOwnerUnbindMaxDeltaChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindMaxDeltaChange[h]),o.push(this.__cbOnceMaxDeltaChange[h])}this.__cbOnceOwnerUnbindMaxDeltaChange=c,this.__cbOnceMaxDeltaChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onMaxDeltaChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event maxDeltaChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMaxDeltaChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMaxDeltaChange&&(this.__cbOnOwnerUnbindMaxDeltaChange=[]),this.__cbOnOwnerUnbindMaxDeltaChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMaxDeltaChange&&(this.__cbOnOwnerUnbindMaxDeltaChange=[]),this.__cbOnOwnerUnbindMaxDeltaChange.push(null);null==this.__cbOnMaxDeltaChange&&(this.__cbOnMaxDeltaChange=[]),this.__cbOnMaxDeltaChange.push(n)},onceMaxDeltaChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event maxDeltaChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMaxDeltaChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMaxDeltaChange&&(this.__cbOnceOwnerUnbindMaxDeltaChange=[]),this.__cbOnceOwnerUnbindMaxDeltaChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMaxDeltaChange&&(this.__cbOnceOwnerUnbindMaxDeltaChange=[]),this.__cbOnceOwnerUnbindMaxDeltaChange.push(null);null==this.__cbOnceMaxDeltaChange&&(this.__cbOnceMaxDeltaChange=[]),this.__cbOnceMaxDeltaChange.push(n)},offMaxDeltaChange:function(e){if(null!=e){var n;null!=this.__cbOnMaxDeltaChange&&-1!=(n=this.__cbOnMaxDeltaChange.indexOf(e))&&(this.__cbOnMaxDeltaChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMaxDeltaChange[n])&&r(),this.__cbOnOwnerUnbindMaxDeltaChange.splice(n,1)),null!=this.__cbOnceMaxDeltaChange&&-1!=(n=this.__cbOnceMaxDeltaChange.indexOf(e))&&(this.__cbOnceMaxDeltaChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMaxDeltaChange[n])&&r(),this.__cbOnceOwnerUnbindMaxDeltaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMaxDeltaChange){for(var t=0,i=this.__cbOnOwnerUnbindMaxDeltaChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMaxDeltaChange[s])&&r()}this.__cbOnOwnerUnbindMaxDeltaChange=null}if(null!=this.__cbOnceOwnerUnbindMaxDeltaChange){for(t=0,i=this.__cbOnceOwnerUnbindMaxDeltaChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMaxDeltaChange[s])&&r()}this.__cbOnceOwnerUnbindMaxDeltaChange=null}this.__cbOnMaxDeltaChange=null,this.__cbOnceMaxDeltaChange=null}},listensMaxDeltaChange:function(){return null!=this.__cbOnMaxDeltaChange&&this.__cbOnMaxDeltaChange.length>0||null!=this.__cbOnceMaxDeltaChange&&this.__cbOnceMaxDeltaChange.length>0},get_overrideDelta:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.overrideDeltaAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.overrideDeltaAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedOverrideDelta},set_overrideDelta:function(e){var n=this.unobservedOverrideDelta;if(this.unobservedOverrideDelta=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitOverrideDeltaChange(e,n);var t=this.overrideDeltaAutoruns;if(null!=t){this.overrideDeltaAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateOverrideDelta:function(){var e=this.unobservedOverrideDelta;this.emitOverrideDeltaChange(e,e);var n=this.overrideDeltaAutoruns;if(null!=n){this.overrideDeltaAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitOverrideDeltaChange:function(e,n){var t=0;if(null!=this.__cbOnOverrideDeltaChange&&(t+=this.__cbOnOverrideDeltaChange.length),null!=this.__cbOnceOverrideDeltaChange&&(t+=this.__cbOnceOverrideDeltaChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnOverrideDeltaChange)for(var l=0,a=this.__cbOnOverrideDeltaChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnOverrideDeltaChange[h],++r):--t}if(null!=this.__cbOnceOverrideDeltaChange){var c=null,o=null;for(l=0,a=this.__cbOnceOverrideDeltaChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceOverrideDeltaChange[h],this.__cbOnceOverrideDeltaChange[h]=null;var u=this.__cbOnceOwnerUnbindOverrideDeltaChange[h];this.__cbOnceOwnerUnbindOverrideDeltaChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindOverrideDeltaChange[h]),o.push(this.__cbOnceOverrideDeltaChange[h])}this.__cbOnceOwnerUnbindOverrideDeltaChange=c,this.__cbOnceOverrideDeltaChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onOverrideDeltaChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event overrideDeltaChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offOverrideDeltaChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindOverrideDeltaChange&&(this.__cbOnOwnerUnbindOverrideDeltaChange=[]),this.__cbOnOwnerUnbindOverrideDeltaChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindOverrideDeltaChange&&(this.__cbOnOwnerUnbindOverrideDeltaChange=[]),this.__cbOnOwnerUnbindOverrideDeltaChange.push(null);null==this.__cbOnOverrideDeltaChange&&(this.__cbOnOverrideDeltaChange=[]),this.__cbOnOverrideDeltaChange.push(n)},onceOverrideDeltaChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event overrideDeltaChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offOverrideDeltaChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindOverrideDeltaChange&&(this.__cbOnceOwnerUnbindOverrideDeltaChange=[]),this.__cbOnceOwnerUnbindOverrideDeltaChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindOverrideDeltaChange&&(this.__cbOnceOwnerUnbindOverrideDeltaChange=[]),this.__cbOnceOwnerUnbindOverrideDeltaChange.push(null);null==this.__cbOnceOverrideDeltaChange&&(this.__cbOnceOverrideDeltaChange=[]),this.__cbOnceOverrideDeltaChange.push(n)},offOverrideDeltaChange:function(e){if(null!=e){var n;null!=this.__cbOnOverrideDeltaChange&&-1!=(n=this.__cbOnOverrideDeltaChange.indexOf(e))&&(this.__cbOnOverrideDeltaChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindOverrideDeltaChange[n])&&r(),this.__cbOnOwnerUnbindOverrideDeltaChange.splice(n,1)),null!=this.__cbOnceOverrideDeltaChange&&-1!=(n=this.__cbOnceOverrideDeltaChange.indexOf(e))&&(this.__cbOnceOverrideDeltaChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindOverrideDeltaChange[n])&&r(),this.__cbOnceOwnerUnbindOverrideDeltaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverrideDeltaChange){for(var t=0,i=this.__cbOnOwnerUnbindOverrideDeltaChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindOverrideDeltaChange[s])&&r()}this.__cbOnOwnerUnbindOverrideDeltaChange=null}if(null!=this.__cbOnceOwnerUnbindOverrideDeltaChange){for(t=0,i=this.__cbOnceOwnerUnbindOverrideDeltaChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindOverrideDeltaChange[s])&&r()}this.__cbOnceOwnerUnbindOverrideDeltaChange=null}this.__cbOnOverrideDeltaChange=null,this.__cbOnceOverrideDeltaChange=null}},listensOverrideDeltaChange:function(){return null!=this.__cbOnOverrideDeltaChange&&this.__cbOnOverrideDeltaChange.length>0||null!=this.__cbOnceOverrideDeltaChange&&this.__cbOnceOverrideDeltaChange.length>0},unbindEvents:function(){this.offObservedDirty(),this.offTargetWidthChange(),this.offTargetHeightChange(),this.offWindowWidthChange(),this.offWindowHeightChange(),this.offTargetDensityChange(),this.offBackgroundChange(),this.offScalingChange(),this.offTitleChange(),this.offFullscreenChange(),this.offTargetFpsChange(),this.offMaxDeltaChange(),this.offOverrideDeltaChange()},__class__:ceramic_Settings,__properties__:{set_overrideDelta:"set_overrideDelta",get_overrideDelta:"get_overrideDelta",set_maxDelta:"set_maxDelta",get_maxDelta:"get_maxDelta",set_targetFps:"set_targetFps",get_targetFps:"get_targetFps",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_title:"set_title",get_title:"get_title",set_scaling:"set_scaling",get_scaling:"get_scaling",set_background:"set_background",get_background:"get_background",set_targetDensity:"set_targetDensity",get_targetDensity:"get_targetDensity",set_windowHeight:"set_windowHeight",get_windowHeight:"get_windowHeight",set_windowWidth:"set_windowWidth",get_windowWidth:"get_windowWidth",set_targetHeight:"set_targetHeight",get_targetHeight:"get_targetHeight",set_targetWidth:"set_targetWidth",get_targetWidth:"get_targetWidth"}};var ceramic_Shader=function(e,n){ceramic_Entity.call(this),this.backendItem=e;var t=[new ceramic_ShaderAttribute(3,"vertexPosition"),new ceramic_ShaderAttribute(2,"vertexTCoord"),new ceramic_ShaderAttribute(4,"vertexColor")];if(null!=n)for(var i=0,s=n.length;i<s;){var r=n[i++];t.push(r)}this.attributes=t,this.customAttributes=n;ceramic_App.app.backend.shaders;var l=0,a=e.customAttributes;if(null!=a)for(i=0,s=a.length;i<s;){l+=a[i++].size}this.customFloatAttributesSize=l};t["ceramic.Shader"]=ceramic_Shader,ceramic_Shader.__name__="ceramic.Shader",ceramic_Shader.fromSource=function(e,n){for(var t=ceramic_App.app.backend.shaders,i=e,s=n,r=!1,l=0,a=s.split("\n");l<a.length;){var h=a[l];if(++l,"//ceramic:multitexture"==StringTools.replace(StringTools.trim(h)," ","").toLowerCase()){r=!0;break}}var c=["tex0"];if(r){var o=ceramic_App.app.backend.textures.maxTexturesByBatch(),u=t.maxIfStatementsByFragmentShader(),_=0|Math.min(o,u);if(_>1)for(var d=1;d<=_;)c.push("tex"+d),++d;s=backend_Shaders.processMultiTextureFragTemplate(s,o,u),i=backend_Shaders.processMultiTextureVertTemplate(i,o,u)}var b=new backend_ShaderImpl;b.attributes=r?backend_Shaders.SHADER_ATTRIBUTES_MULTITEXTURE:backend_Shaders.SHADER_ATTRIBUTES,b.textures=c,b.vertSource=i,b.fragSource=s,b.isBatchingMultiTexture=r,b.customAttributes=null,b.init();return null==b?null:new ceramic_Shader(b)},ceramic_Shader.__super__=ceramic_Entity,ceramic_Shader.prototype=$extend(ceramic_Entity.prototype,{destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy();ceramic_App.app.backend.shaders;this.backendItem.destroy(),this.backendItem=null,this.attributes=null}},clone:function(){ceramic_App.app.backend.shaders;var e=this.backendItem.clone();return new ceramic_Shader(e,this.customAttributes)},setInt:function(e,n){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setInt(e,n)},setFloat:function(e,n){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setFloat(e,n)},setColor:function(e,n){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setColor(e,(n>>16&255)/255,(n>>8&255)/255,(255&n)/255,1)},setAlphaColor:function(e,n){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setColor(e,(n>>16&255)/255,(n>>8&255)/255,(255&n)/255,(n>>24&255)/255)},setVec2:function(e,n,t){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setVector2(e,n,t)},setVec3:function(e,n,t,i){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setVector3(e,n,t,i)},setVec4:function(e,n,t,i,s){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setVector4(e,n,t,i,s)},setFloatArray:function(e,n){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setFloatArray(e,new Float32Array(n))},setTexture:function(e,n,t){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setTexture(e,n,t.backendItem)},setMat4FromTransform:function(e,n){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setMatrix4(e,new Float32Array([n.a,n.b,0,0,n.c,n.d,0,0,0,0,1,0,n.tx,n.ty,0,1]))},toString:function(){if(null!=this.id){var e=this.id;return StringTools.startsWith(e,"shader:")&&(e=HxOverrides.substr(e,7,null)),null!=this.asset&&null!=this.asset.options.vertId||null!=this.asset.options.fragId?"Shader("+e+" "+(null!=this.asset.options.vertId?this.asset.options.vertId:"default")+" "+(null!=this.asset.options.fragId?this.asset.options.fragId:"default")+")":"Shader("+e+")"}return"Shader()"},__class__:ceramic_Shader});var ceramic_ShaderAsset=function(e,n){this.shader=null,ceramic_Asset.call(this,"shader",e,n)};t["ceramic.ShaderAsset"]=ceramic_ShaderAsset,ceramic_ShaderAsset.__name__="ceramic.ShaderAsset",ceramic_ShaderAsset.__super__=ceramic_Asset,ceramic_ShaderAsset.prototype=$extend(ceramic_Asset.prototype,{load:function(){var e=this;if(this.set_status(a.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load shader asset if path is undefined.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:24,className:"ceramic.ShaderAsset",methodName:"load"}),this.set_status(a.BROKEN),void this.emitComplete(!1);var n=null;if(null!=this.options.customAttributes){n=[];for(var t=this.options.customAttributes,i=0,s=t.length;i<s;){var r=t[i++];n.push(new ceramic_ShaderAttribute(r.size,r.name))}}var l={};if(null!=this.owner&&(l.immediate=this.owner.immediate,l.loadMethod=this.owner.loadMethod),null!=this.path&&(StringTools.endsWith(this.path.toLowerCase(),".frag")||StringTools.endsWith(this.path.toLowerCase(),".vert"))){var h=ceramic_Assets.allByName.h[this.name];if(null==this.options.fragId)for(i=0,s=h.length;i<s;){var c=h[i++];if(StringTools.endsWith(c.toLowerCase(),".frag")){this.options.fragId=c;break}}if(null==this.options.vertId)for(i=0,s=h.length;i<s;){c=h[i++];if(StringTools.endsWith(c.toLowerCase(),".vert")){this.options.vertId=c;break}}ceramic_App.app.logger.info("Load shader"+(null!=this.options.vertId?" "+Std.string(this.options.vertId):"")+(null!=this.options.fragId?" "+Std.string(this.options.fragId):""),{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:72,className:"ceramic.ShaderAsset",methodName:"load"})}else ceramic_App.app.logger.info("Load shader "+this.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:75,className:"ceramic.ShaderAsset",methodName:"load"});if(null==this.options.vertId&&(this.options.vertId="textured.vert"),null==this.options.fragId)return this.set_status(a.BROKEN),ceramic_App.app.logger.error("Missing fragId option to load shader at path: "+this.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:84,className:"ceramic.ShaderAsset",methodName:"load"}),void this.emitComplete(!1);ceramic_App.app.backend.texts.load(ceramic_Assets.realAssetPath(this.options.vertId,this.runtimeAssets),l,(function(t){ceramic_App.app.backend.texts.load(ceramic_Assets.realAssetPath(e.options.fragId,e.runtimeAssets),l,(function(i){if(null==t)return e.set_status(a.BROKEN),ceramic_App.app.logger.error("Failed to load "+Std.string(e.options.vertId)+" for shader at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:94,className:"ceramic.ShaderAsset",methodName:"load"}),void e.emitComplete(!1);if(null==i)return e.set_status(a.BROKEN),ceramic_App.app.logger.error("Failed to load "+Std.string(e.options.fragId)+" for shader at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:101,className:"ceramic.ShaderAsset",methodName:"load"}),void e.emitComplete(!1);for(var s=ceramic_App.app.backend.shaders,r=t,l=i,h=!1,c=0,o=l.split("\n");c<o.length;){var u=o[c];if(++c,"//ceramic:multitexture"==StringTools.replace(StringTools.trim(u)," ","").toLowerCase()){h=!0;break}}var _=["tex0"];if(h){var d=ceramic_App.app.backend.textures.maxTexturesByBatch(),b=s.maxIfStatementsByFragmentShader(),f=0|Math.min(d,b);if(f>1)for(var p=1;p<=f;)_.push("tex"+p),++p;l=backend_Shaders.processMultiTextureFragTemplate(l,d,b),r=backend_Shaders.processMultiTextureVertTemplate(r,d,b)}var O=new backend_ShaderImpl;O.attributes=h?backend_Shaders.SHADER_ATTRIBUTES_MULTITEXTURE:backend_Shaders.SHADER_ATTRIBUTES,O.textures=_,O.vertSource=r,O.fragSource=l,O.isBatchingMultiTexture=h,O.customAttributes=n,O.init();var g=O;if(null==g)return e.set_status(a.BROKEN),ceramic_App.app.logger.error("Failed to create shader from data at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:109,className:"ceramic.ShaderAsset",methodName:"load"}),void e.emitComplete(!1);e.shader=new ceramic_Shader(g,n),e.shader.asset=e,e.shader.id="shader:"+e.path,e.set_status(a.READY),e.emitComplete(!0)}))}))},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),null!=this.shader&&(this.shader.destroy(),this.shader=null))},toString:function(){var e="ShaderAsset";if(null!=this.options.vertId||null!=this.options.fragId){var n=null!=this.options.vertId?this.options.vertId:"default",t=null!=this.options.fragId?this.options.fragId:"default";return e+"("+this.name+" "+n+" "+t+")"}return null!=this.path&&""!=StringTools.trim(this.path)?e+"("+this.name+" "+this.path+")":e+"("+this.name+")"},__class__:ceramic_ShaderAsset});var ceramic_ShaderAttribute=function(e,n){this.size=e,this.name=n};t["ceramic.ShaderAttribute"]=ceramic_ShaderAttribute,ceramic_ShaderAttribute.__name__="ceramic.ShaderAttribute",ceramic_ShaderAttribute.prototype={toString:function(){return""+Std.string({size:this.size,name:this.name})},__class__:ceramic_ShaderAttribute};var ceramic_Shortcuts=function(){};t["ceramic.Shortcuts"]=ceramic_Shortcuts,ceramic_Shortcuts.__name__="ceramic.Shortcuts",ceramic_Shortcuts.__properties__={get_systems:"get_systems",get_log:"get_log",get_settings:"get_settings",get_input:"get_input",get_audio:"get_audio",get_screen:"get_screen",get_app:"get_app"},ceramic_Shortcuts.get_app=function(){return ceramic_App.app},ceramic_Shortcuts.get_screen=function(){return ceramic_App.app.screen},ceramic_Shortcuts.get_audio=function(){return ceramic_App.app.audio},ceramic_Shortcuts.get_input=function(){return ceramic_App.app.input},ceramic_Shortcuts.get_settings=function(){return ceramic_App.app.settings},ceramic_Shortcuts.get_log=function(){return ceramic_App.app.logger},ceramic_Shortcuts.get_systems=function(){return ceramic_App.app.systems};var ceramic_SortVisuals=function(){};t["ceramic.SortVisuals"]=ceramic_SortVisuals,ceramic_SortVisuals.__name__="ceramic.SortVisuals",ceramic_SortVisuals.cmp=function(e,n){var t=0;if(e.computedVisible||e.computedTouchable)if(n.computedVisible||n.computedTouchable)if(e.computedRenderTarget!=n.computedRenderTarget)t=null==e.computedRenderTarget?1:null==n.computedRenderTarget||e.computedRenderTarget.priority>n.computedRenderTarget.priority?-1:e.computedRenderTarget.priority<n.computedRenderTarget.priority?1:e.computedRenderTarget.index<n.computedRenderTarget.index?-1:1;else if(e.computedDepth>n.computedDepth)t=1;else if(e.computedDepth<n.computedDepth)t=-1;else{var i=e.asQuad,s=n.asQuad,r=e.asMesh,l=n.asMesh;if((null!=i||null!=r)&&(null!=s||null!=l)){var a=null!=r?r.texture:i.texture,h=null!=l?l.texture:s.texture;null!=a&&null==h?t=1:null==a&&null!=h?t=-1:null!=a&&null!=h?a.index<h.index?t=1:a.index>h.index?t=-1:e.blending>n.blending?t=1:e.blending<n.blending&&(t=-1):e.blending>n.blending?t=1:e.blending<n.blending&&(t=-1)}}else t=1;else t=-1;return t},ceramic_SortVisuals.sort=function(e){ceramic_SortVisuals.rec(e,0,e.length)},ceramic_SortVisuals.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(t<=n)return;for(var s=n+1,r=t;s<r;)for(var l=s++;l>n;){var a=e[l],h=e[l-1],c=0;if(a.computedVisible||a.computedTouchable)if(h.computedVisible||h.computedTouchable)if(a.computedRenderTarget!=h.computedRenderTarget)c=null==a.computedRenderTarget?1:null==h.computedRenderTarget||a.computedRenderTarget.priority>h.computedRenderTarget.priority?-1:a.computedRenderTarget.priority<h.computedRenderTarget.priority?1:a.computedRenderTarget.index<h.computedRenderTarget.index?-1:1;else if(a.computedDepth>h.computedDepth)c=1;else if(a.computedDepth<h.computedDepth)c=-1;else{var o=a.asQuad,u=h.asQuad,_=a.asMesh,d=h.asMesh;if((null!=o||null!=_)&&(null!=u||null!=d)){var b=null!=_?_.texture:o.texture,f=null!=d?d.texture:u.texture;null!=b&&null==f?c=1:null==b&&null!=f?c=-1:null!=b&&null!=f?b.index<f.index?c=1:b.index>f.index?c=-1:a.blending>h.blending?c=1:a.blending<h.blending&&(c=-1):a.blending>h.blending?c=1:a.blending<h.blending&&(c=-1)}}else c=1;else c=-1;if(!(c<0))break;var p=l-1,O=e[p];e[p]=e[l],e[l]=O,--l}}else ceramic_SortVisuals.rec(e,n,i),ceramic_SortVisuals.rec(e,i,t),ceramic_SortVisuals.doMerge(e,n,i,t,i-n,t-i)},ceramic_SortVisuals.doMerge=function(e,n,t,i,s,r){var l,a,h,c;if(0!=s&&0!=r)if(s+r!=2){if(s>r){l=n+(h=s>>1);for(var o=i-(u=t);o>0;){U=e[d=u+(_=o>>1)],x=e[l],C=0;if(U.computedVisible||U.computedTouchable)if(x.computedVisible||x.computedTouchable)if(U.computedRenderTarget!=x.computedRenderTarget)C=null==U.computedRenderTarget?1:null==x.computedRenderTarget||U.computedRenderTarget.priority>x.computedRenderTarget.priority?-1:U.computedRenderTarget.priority<x.computedRenderTarget.priority?1:U.computedRenderTarget.index<x.computedRenderTarget.index?-1:1;else if(U.computedDepth>x.computedDepth)C=1;else if(U.computedDepth<x.computedDepth)C=-1;else{D=U.asQuad,T=x.asQuad,E=U.asMesh,S=x.asMesh,A=null!=T||null!=S;if((null!=D||null!=E)&&A){M=null!=E?E.texture:D.texture,F=null!=S?S.texture:T.texture;null!=M&&null==F?C=1:null==M&&null!=F?C=-1:null!=M&&null!=F?M.index<F.index?C=1:M.index>F.index?C=-1:U.blending>x.blending?C=1:U.blending<x.blending&&(C=-1):U.blending>x.blending?C=1:U.blending<x.blending&&(C=-1)}}else C=1;else C=-1;C<0?(u=d+1,o=o-_-1):o=_}c=(a=u)-t}else{a=t+(c=r>>1);var u,_,d;for(o=t-(u=n);o>0;){d=u+(_=o>>1);U=e[a],x=e[d],C=0;if(U.computedVisible||U.computedTouchable)if(x.computedVisible||x.computedTouchable)if(U.computedRenderTarget!=x.computedRenderTarget)C=null==U.computedRenderTarget?1:null==x.computedRenderTarget||U.computedRenderTarget.priority>x.computedRenderTarget.priority?-1:U.computedRenderTarget.priority<x.computedRenderTarget.priority?1:U.computedRenderTarget.index<x.computedRenderTarget.index?-1:1;else if(U.computedDepth>x.computedDepth)C=1;else if(U.computedDepth<x.computedDepth)C=-1;else{D=U.asQuad,T=x.asQuad,E=U.asMesh,S=x.asMesh,A=null!=T||null!=S;if((null!=D||null!=E)&&A){M=null!=E?E.texture:D.texture,F=null!=S?S.texture:T.texture;null!=M&&null==F?C=1:null==M&&null!=F?C=-1:null!=M&&null!=F?M.index<F.index?C=1:M.index>F.index?C=-1:U.blending>x.blending?C=1:U.blending<x.blending&&(C=-1):U.blending>x.blending?C=1:U.blending<x.blending&&(C=-1)}}else C=1;else C=-1;C<0?o=_:(u=d+1,o=o-_-1)}h=(l=u)-n}var b;if(l!=t&&t!=a){for(var f=a-l,p=t-l;0!=p;){var O=f%p;f=p,p=O}for(b=f;0!=b--;){for(var g=e[l+b],m=t-l,w=l+b,v=l+b+m;v!=l+b;)e[w]=e[v],w=v,a-v>m?v+=m:v=l+(m-(a-v));e[w]=g}}var y=l+c;ceramic_SortVisuals.doMerge(e,n,l,y,h,c),ceramic_SortVisuals.doMerge(e,y,a,i,s-h,r-c)}else{var U=e[t],x=e[n],C=0;if(U.computedVisible||U.computedTouchable)if(x.computedVisible||x.computedTouchable)if(U.computedRenderTarget!=x.computedRenderTarget)C=null==U.computedRenderTarget?1:null==x.computedRenderTarget||U.computedRenderTarget.priority>x.computedRenderTarget.priority?-1:U.computedRenderTarget.priority<x.computedRenderTarget.priority?1:U.computedRenderTarget.index<x.computedRenderTarget.index?-1:1;else if(U.computedDepth>x.computedDepth)C=1;else if(U.computedDepth<x.computedDepth)C=-1;else{var D=U.asQuad,T=x.asQuad,E=U.asMesh,S=x.asMesh,A=null!=T||null!=S;if((null!=D||null!=E)&&A){var M=null!=E?E.texture:D.texture,F=null!=S?S.texture:T.texture;null!=M&&null==F?C=1:null==M&&null!=F?C=-1:null!=M&&null!=F?M.index<F.index?C=1:M.index>F.index?C=-1:U.blending>x.blending?C=1:U.blending<x.blending&&(C=-1):U.blending>x.blending?C=1:U.blending<x.blending&&(C=-1)}}else C=1;else C=-1;if(C<0){var P=e[t];e[t]=e[n],e[n]=P}}},ceramic_SortVisuals.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var s=i-n,r=t-n;0!=r;){var l=s%r;s=r,r=l}for(r=s;0!=r--;){for(var a=e[n+r],h=t-n,c=n+r,o=n+r+h;o!=n+r;)e[c]=e[o],c=o,i-o>h?o+=h:o=n+(h-(i-o));e[c]=a}}},ceramic_SortVisuals.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},ceramic_SortVisuals.upper=function(e,n,t,i){for(var s,r,l=t-n;l>0;){r=n+(s=l>>1);var a=e[i],h=e[r],c=0;if(a.computedVisible||a.computedTouchable)if(h.computedVisible||h.computedTouchable)if(a.computedRenderTarget!=h.computedRenderTarget)c=null==a.computedRenderTarget?1:null==h.computedRenderTarget||a.computedRenderTarget.priority>h.computedRenderTarget.priority?-1:a.computedRenderTarget.priority<h.computedRenderTarget.priority?1:a.computedRenderTarget.index<h.computedRenderTarget.index?-1:1;else if(a.computedDepth>h.computedDepth)c=1;else if(a.computedDepth<h.computedDepth)c=-1;else{var o=a.asQuad,u=h.asQuad,_=a.asMesh,d=h.asMesh;if((null!=o||null!=_)&&(null!=u||null!=d)){var b=null!=_?_.texture:o.texture,f=null!=d?d.texture:u.texture;null!=b&&null==f?c=1:null==b&&null!=f?c=-1:null!=b&&null!=f?b.index<f.index?c=1:b.index>f.index?c=-1:a.blending>h.blending?c=1:a.blending<h.blending&&(c=-1):a.blending>h.blending?c=1:a.blending<h.blending&&(c=-1)}}else c=1;else c=-1;c<0?l=s:(n=r+1,l=l-s-1)}return n},ceramic_SortVisuals.lower=function(e,n,t,i){for(var s,r,l=t-n;l>0;){var a=e[r=n+(s=l>>1)],h=e[i],c=0;if(a.computedVisible||a.computedTouchable)if(h.computedVisible||h.computedTouchable)if(a.computedRenderTarget!=h.computedRenderTarget)c=null==a.computedRenderTarget?1:null==h.computedRenderTarget||a.computedRenderTarget.priority>h.computedRenderTarget.priority?-1:a.computedRenderTarget.priority<h.computedRenderTarget.priority?1:a.computedRenderTarget.index<h.computedRenderTarget.index?-1:1;else if(a.computedDepth>h.computedDepth)c=1;else if(a.computedDepth<h.computedDepth)c=-1;else{var o=a.asQuad,u=h.asQuad,_=a.asMesh,d=h.asMesh;if((null!=o||null!=_)&&(null!=u||null!=d)){var b=null!=_?_.texture:o.texture,f=null!=d?d.texture:u.texture;null!=b&&null==f?c=1:null==b&&null!=f?c=-1:null!=b&&null!=f?b.index<f.index?c=1:b.index>f.index?c=-1:a.blending>h.blending?c=1:a.blending<h.blending&&(c=-1):a.blending>h.blending?c=1:a.blending<h.blending&&(c=-1)}}else c=1;else c=-1;c<0?(n=r+1,l=l-s-1):l=s}return n},ceramic_SortVisuals.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},ceramic_SortVisuals.compare=function(e,n,t){var i=e[n],s=e[t],r=0;if(i.computedVisible||i.computedTouchable)if(s.computedVisible||s.computedTouchable)if(i.computedRenderTarget!=s.computedRenderTarget)r=null==i.computedRenderTarget?1:null==s.computedRenderTarget||i.computedRenderTarget.priority>s.computedRenderTarget.priority?-1:i.computedRenderTarget.priority<s.computedRenderTarget.priority?1:i.computedRenderTarget.index<s.computedRenderTarget.index?-1:1;else if(i.computedDepth>s.computedDepth)r=1;else if(i.computedDepth<s.computedDepth)r=-1;else{var l=i.asQuad,a=s.asQuad,h=i.asMesh,c=s.asMesh;if((null!=l||null!=h)&&(null!=a||null!=c)){var o=null!=h?h.texture:l.texture,u=null!=c?c.texture:a.texture;null!=o&&null==u?r=1:null==o&&null!=u?r=-1:null!=o&&null!=u?o.index<u.index?r=1:o.index>u.index?r=-1:i.blending>s.blending?r=1:i.blending<s.blending&&(r=-1):i.blending>s.blending?r=1:i.blending<s.blending&&(r=-1)}}else r=1;else r=-1;return r};var ceramic_SortVisualsByDepth=function(){};t["ceramic.SortVisualsByDepth"]=ceramic_SortVisualsByDepth,ceramic_SortVisualsByDepth.__name__="ceramic.SortVisualsByDepth",ceramic_SortVisualsByDepth.cmp=function(e,n){var t=0;return e.depth>n.depth?t=1:e.depth<n.depth&&(t=-1),t},ceramic_SortVisualsByDepth.sort=function(e){ceramic_SortVisualsByDepth.rec(e,0,e.length)},ceramic_SortVisualsByDepth.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(t<=n)return;for(var s=n+1,r=t;s<r;)for(var l=s++;l>n;){var a=e[l],h=e[l-1],c=0;if(a.depth>h.depth?c=1:a.depth<h.depth&&(c=-1),!(c<0))break;var o=l-1,u=e[o];e[o]=e[l],e[l]=u,--l}}else ceramic_SortVisualsByDepth.rec(e,n,i),ceramic_SortVisualsByDepth.rec(e,i,t),ceramic_SortVisualsByDepth.doMerge(e,n,i,t,i-n,t-i)},ceramic_SortVisualsByDepth.doMerge=function(e,n,t,i,s,r){var l,a,h,c;if(0!=s&&0!=r)if(s+r!=2){if(s>r){l=n+(h=s>>1);for(var o=i-(u=t);o>0;){U=e[d=u+(_=o>>1)],x=e[l],C=0;U.depth>x.depth?C=1:U.depth<x.depth&&(C=-1),C<0?(u=d+1,o=o-_-1):o=_}c=(a=u)-t}else{a=t+(c=r>>1);var u,_,d;for(o=t-(u=n);o>0;){d=u+(_=o>>1);U=e[a],x=e[d],C=0;U.depth>x.depth?C=1:U.depth<x.depth&&(C=-1),C<0?o=_:(u=d+1,o=o-_-1)}h=(l=u)-n}var b;if(l!=t&&t!=a){for(var f=a-l,p=t-l;0!=p;){var O=f%p;f=p,p=O}for(b=f;0!=b--;){for(var g=e[l+b],m=t-l,w=l+b,v=l+b+m;v!=l+b;)e[w]=e[v],w=v,a-v>m?v+=m:v=l+(m-(a-v));e[w]=g}}var y=l+c;ceramic_SortVisualsByDepth.doMerge(e,n,l,y,h,c),ceramic_SortVisualsByDepth.doMerge(e,y,a,i,s-h,r-c)}else{var U=e[t],x=e[n],C=0;if(U.depth>x.depth?C=1:U.depth<x.depth&&(C=-1),C<0){var D=e[t];e[t]=e[n],e[n]=D}}},ceramic_SortVisualsByDepth.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var s=i-n,r=t-n;0!=r;){var l=s%r;s=r,r=l}for(r=s;0!=r--;){for(var a=e[n+r],h=t-n,c=n+r,o=n+r+h;o!=n+r;)e[c]=e[o],c=o,i-o>h?o+=h:o=n+(h-(i-o));e[c]=a}}},ceramic_SortVisualsByDepth.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},ceramic_SortVisualsByDepth.upper=function(e,n,t,i){for(var s,r,l=t-n;l>0;){r=n+(s=l>>1);var a=e[i],h=e[r],c=0;a.depth>h.depth?c=1:a.depth<h.depth&&(c=-1),c<0?l=s:(n=r+1,l=l-s-1)}return n},ceramic_SortVisualsByDepth.lower=function(e,n,t,i){for(var s,r,l=t-n;l>0;){var a=e[r=n+(s=l>>1)],h=e[i],c=0;a.depth>h.depth?c=1:a.depth<h.depth&&(c=-1),c<0?(n=r+1,l=l-s-1):l=s}return n},ceramic_SortVisualsByDepth.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},ceramic_SortVisualsByDepth.compare=function(e,n,t){var i=e[n],s=e[t],r=0;return i.depth>s.depth?r=1:i.depth<s.depth&&(r=-1),r};var ceramic_Sound=function(e){this.pitch=1,this.pan=0,this.volume=.5,this.group=0,ceramic_Entity.call(this),this.backendItem=e};t["ceramic.Sound"]=ceramic_Sound,ceramic_Sound.__name__="ceramic.Sound",ceramic_Sound.__super__=ceramic_Entity,ceramic_Sound.prototype=$extend(ceramic_Entity.prototype,{set_group:function(e){if(this.group==e)return e;this.group=e;var n=ceramic_App.app.audio;return n.mixers.exists(e)||n.mixers.set(e,new ceramic_AudioMixer(e)),e},destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy();for(var e=ceramic_App.app.backend.audio,n=this.backendItem,t=null,i=e.loadedAudioResources.h,s=i,r=Object.keys(i),l=r.length,a=0;a<l;){var h=r[a++],c=h;s[h]==n&&(t=c)}if(null==t)ceramic_App.app.logger.error("Failed to destroy audio resource: "+Std.string(n)+" because id could not be resolved",{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Audio.hx",lineNumber:177,className:"backend.Audio",methodName:"destroy"});else if(e.loadedAudioRetainCount.h[t]>1)e.loadedAudioRetainCount.h[t]-=1;else{var o=e.loadedAudioResources;Object.prototype.hasOwnProperty.call(o.h,t)&&delete o.h[t];o=e.loadedAudioRetainCount;Object.prototype.hasOwnProperty.call(o.h,t)&&delete o.h[t],n.destroy()}this.backendItem=null}},get_duration:function(){ceramic_App.app.backend.audio;return this.backendItem.getDuration()},play:function(e,n,t,i,s){null==n&&(n=!1),null==e&&(e=0);var r=ceramic_App.app.audio.mixers,l=r.keys.h[0|this.group],a=null!=l?l:0,h=a>=2?r.values[a-2]:ceramic_IntMap.RET_NULL;return h.mute?-1:(null==t&&(t=this.volume),null==i&&(i=this.pan),null==s&&(s=this.pitch),t*=2*h.volume,i+=h.pan,s+=h.pitch-1,ceramic_App.app.backend.audio.play(this.backendItem,t,i,s,e,n))},__class__:ceramic_Sound,__properties__:$extend(ceramic_Entity.prototype.__properties__,{get_duration:"get_duration",set_group:"set_group"})});var ceramic_SoundAsset=function(e,n){this.unobservedSound=null,this.soundAutoruns=null,this.stream=!1,ceramic_Asset.call(this,"sound",e,n)};t["ceramic.SoundAsset"]=ceramic_SoundAsset,ceramic_SoundAsset.__name__="ceramic.SoundAsset",ceramic_SoundAsset.__super__=ceramic_Asset,ceramic_SoundAsset.prototype=$extend(ceramic_Asset.prototype,{emitReplaceSound:function(e,n){var t=0;if(null!=this.__cbOnReplaceSound&&(t+=this.__cbOnReplaceSound.length),null!=this.__cbOnceReplaceSound&&(t+=this.__cbOnceReplaceSound.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnReplaceSound)for(var l=0,a=this.__cbOnReplaceSound.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnReplaceSound[h],++r):--t}if(null!=this.__cbOnceReplaceSound){var c=null,o=null;for(l=0,a=this.__cbOnceReplaceSound.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceReplaceSound[h],this.__cbOnceReplaceSound[h]=null;var u=this.__cbOnceOwnerUnbindReplaceSound[h];this.__cbOnceOwnerUnbindReplaceSound[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindReplaceSound[h]),o.push(this.__cbOnceReplaceSound[h])}this.__cbOnceOwnerUnbindReplaceSound=c,this.__cbOnceReplaceSound=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onReplaceSound:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceSound because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceSound(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReplaceSound&&(this.__cbOnOwnerUnbindReplaceSound=[]),this.__cbOnOwnerUnbindReplaceSound.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReplaceSound&&(this.__cbOnOwnerUnbindReplaceSound=[]),this.__cbOnOwnerUnbindReplaceSound.push(null);null==this.__cbOnReplaceSound&&(this.__cbOnReplaceSound=[]),this.__cbOnReplaceSound.push(n)},onceReplaceSound:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceSound because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceSound(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReplaceSound&&(this.__cbOnceOwnerUnbindReplaceSound=[]),this.__cbOnceOwnerUnbindReplaceSound.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReplaceSound&&(this.__cbOnceOwnerUnbindReplaceSound=[]),this.__cbOnceOwnerUnbindReplaceSound.push(null);null==this.__cbOnceReplaceSound&&(this.__cbOnceReplaceSound=[]),this.__cbOnceReplaceSound.push(n)},offReplaceSound:function(e){if(null!=e){var n;null!=this.__cbOnReplaceSound&&-1!=(n=this.__cbOnReplaceSound.indexOf(e))&&(this.__cbOnReplaceSound.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReplaceSound[n])&&r(),this.__cbOnOwnerUnbindReplaceSound.splice(n,1)),null!=this.__cbOnceReplaceSound&&-1!=(n=this.__cbOnceReplaceSound.indexOf(e))&&(this.__cbOnceReplaceSound.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReplaceSound[n])&&r(),this.__cbOnceOwnerUnbindReplaceSound.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceSound){for(var t=0,i=this.__cbOnOwnerUnbindReplaceSound.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindReplaceSound[s])&&r()}this.__cbOnOwnerUnbindReplaceSound=null}if(null!=this.__cbOnceOwnerUnbindReplaceSound){for(t=0,i=this.__cbOnceOwnerUnbindReplaceSound.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindReplaceSound[s])&&r()}this.__cbOnceOwnerUnbindReplaceSound=null}this.__cbOnReplaceSound=null,this.__cbOnceReplaceSound=null}},listensReplaceSound:function(){return null!=this.__cbOnReplaceSound&&this.__cbOnReplaceSound.length>0||null!=this.__cbOnceReplaceSound&&this.__cbOnceReplaceSound.length>0},get_sound:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.soundAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.soundAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedSound},set_sound:function(e){var n=this.unobservedSound;if(this.unobservedSound=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSoundChange(e,n);var t=this.soundAutoruns;if(null!=t){this.soundAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateSound:function(){var e=this.unobservedSound;this.emitSoundChange(e,e);var n=this.soundAutoruns;if(null!=n){this.soundAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitSoundChange:function(e,n){var t=0;if(null!=this.__cbOnSoundChange&&(t+=this.__cbOnSoundChange.length),null!=this.__cbOnceSoundChange&&(t+=this.__cbOnceSoundChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnSoundChange)for(var l=0,a=this.__cbOnSoundChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnSoundChange[h],++r):--t}if(null!=this.__cbOnceSoundChange){var c=null,o=null;for(l=0,a=this.__cbOnceSoundChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceSoundChange[h],this.__cbOnceSoundChange[h]=null;var u=this.__cbOnceOwnerUnbindSoundChange[h];this.__cbOnceOwnerUnbindSoundChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindSoundChange[h]),o.push(this.__cbOnceSoundChange[h])}this.__cbOnceOwnerUnbindSoundChange=c,this.__cbOnceSoundChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onSoundChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event soundChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSoundChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindSoundChange&&(this.__cbOnOwnerUnbindSoundChange=[]),this.__cbOnOwnerUnbindSoundChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindSoundChange&&(this.__cbOnOwnerUnbindSoundChange=[]),this.__cbOnOwnerUnbindSoundChange.push(null);null==this.__cbOnSoundChange&&(this.__cbOnSoundChange=[]),this.__cbOnSoundChange.push(n)},onceSoundChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event soundChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSoundChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindSoundChange&&(this.__cbOnceOwnerUnbindSoundChange=[]),this.__cbOnceOwnerUnbindSoundChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindSoundChange&&(this.__cbOnceOwnerUnbindSoundChange=[]),this.__cbOnceOwnerUnbindSoundChange.push(null);null==this.__cbOnceSoundChange&&(this.__cbOnceSoundChange=[]),this.__cbOnceSoundChange.push(n)},offSoundChange:function(e){if(null!=e){var n;null!=this.__cbOnSoundChange&&-1!=(n=this.__cbOnSoundChange.indexOf(e))&&(this.__cbOnSoundChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSoundChange[n])&&r(),this.__cbOnOwnerUnbindSoundChange.splice(n,1)),null!=this.__cbOnceSoundChange&&-1!=(n=this.__cbOnceSoundChange.indexOf(e))&&(this.__cbOnceSoundChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSoundChange[n])&&r(),this.__cbOnceOwnerUnbindSoundChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSoundChange){for(var t=0,i=this.__cbOnOwnerUnbindSoundChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindSoundChange[s])&&r()}this.__cbOnOwnerUnbindSoundChange=null}if(null!=this.__cbOnceOwnerUnbindSoundChange){for(t=0,i=this.__cbOnceOwnerUnbindSoundChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindSoundChange[s])&&r()}this.__cbOnceOwnerUnbindSoundChange=null}this.__cbOnSoundChange=null,this.__cbOnceSoundChange=null}},listensSoundChange:function(){return null!=this.__cbOnSoundChange&&this.__cbOnSoundChange.length>0||null!=this.__cbOnceSoundChange&&this.__cbOnceSoundChange.length>0},load:function(){var e=this;if(this.set_status(a.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load sound asset if path is undefined.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:27,className:"ceramic.SoundAsset",methodName:"load"}),this.set_status(a.BROKEN),void this.emitComplete(!1);var n={};if(null!=this.owner&&(n.immediate=this.owner.immediate,n.loadMethod=this.owner.loadMethod),null!=this.options)for(var t=0,i=Reflect.fields(this.options);t<i.length;){var s=i[t];++t,n[s]=Reflect.field(this.options,s)}var r=this.path,l=ceramic_Assets.realAssetPath(r,this.runtimeAssets),h=ceramic_Assets.getReloadCount(l);h>0&&(l+="?hot="+h,r+="?hot="+h),ceramic_App.app.logger.info("Load sound "+r,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:53,className:"ceramic.SoundAsset",methodName:"load"});var handleBackendResponse=function(n){if(null!=n){var t=e.get_sound(),i=new ceramic_Sound(n);i.asset=e,e.set_sound(i),null!=t&&(e.emitReplaceSound(e.get_sound(),t),t.asset=null,t.destroy()),e.set_status(a.READY),e.emitComplete(!0)}else e.set_status(a.BROKEN),ceramic_App.app.logger.error("Failed to load audio at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:79,className:"ceramic.SoundAsset",methodName:"load"}),e.emitComplete(!1)},c=ceramic_Path.extension(l);null!=c&&(c=c.toLowerCase()),ceramic_App.app.backend.audio.load(l,n,(function(n){null!=n||"wav"==c?handleBackendResponse(n):(ceramic_App.app.logger.warning("Failed to load "+r+". Try "+ceramic_Path.withoutExtension(r)+".wav...",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:95,className:"ceramic.SoundAsset",methodName:"load"}),l=ceramic_Path.withoutExtension(l)+".wav",ceramic_App.app.backend.audio.load(l,{stream:e.options.stream},handleBackendResponse))}))},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload sound (file has changed)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:119,className:"ceramic.SoundAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),null!=this.get_sound()&&(this.get_sound().destroy(),this.set_sound(null)))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offReplaceSound(),this.offSoundChange()},__class__:ceramic_SoundAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_sound:"set_sound",get_sound:"get_sound"})});var ceramic_Systems=function(){this._udpatingSystems=[],this.lateUpdateOrdered=[],this.earlyUpdateOrdered=[],this.lateUpdateOrderDirty=!1,this.earlyUpdateOrderDirty=!1,ceramic_Entity.call(this)};t["ceramic.Systems"]=ceramic_Systems,ceramic_Systems.__name__="ceramic.Systems",ceramic_Systems.sortSystemsByEarlyUpdateOrder=function(e,n){return e.earlyUpdateOrder>n.earlyUpdateOrder?1:e.earlyUpdateOrder<n.earlyUpdateOrder?-1:0},ceramic_Systems.sortSystemsByLateUpdateOrder=function(e,n){return e.lateUpdateOrder>n.lateUpdateOrder?1:e.lateUpdateOrder<n.lateUpdateOrder?-1:0},ceramic_Systems.__super__=ceramic_Entity,ceramic_Systems.prototype=$extend(ceramic_Entity.prototype,{addSystem:function(e){this.earlyUpdateOrdered.push(e),this.earlyUpdateOrderDirty=!0,this.lateUpdateOrdered.push(e),this.lateUpdateOrderDirty=!0},removeSystem:function(e){HxOverrides.remove(this.earlyUpdateOrdered,e),this.earlyUpdateOrderDirty=!0,HxOverrides.remove(this.lateUpdateOrdered,e),this.lateUpdateOrderDirty=!0},earlyUpdate:function(e){this.earlyUpdateOrderDirty&&(haxe_ds_ArraySort.sort(this.earlyUpdateOrdered,ceramic_Systems.sortSystemsByEarlyUpdateOrder),this.earlyUpdateOrderDirty=!1);for(var n=this.earlyUpdateOrdered.length,t=0,i=n;t<i;){var s=t++;this._udpatingSystems[s]=this.earlyUpdateOrdered[s]}for(t=0,i=n;t<i;){s=t++;var r=this._udpatingSystems[s];r.emitBeginEarlyUpdate(e),r.earlyUpdate(e),r.emitEndEarlyUpdate(e),ceramic_App.app.flushImmediate()}for(t=0,i=n;t<i;){s=t++;this._udpatingSystems[s]=null}},lateUpdate:function(e){this.lateUpdateOrderDirty&&(haxe_ds_ArraySort.sort(this.lateUpdateOrdered,ceramic_Systems.sortSystemsByLateUpdateOrder),this.lateUpdateOrderDirty=!1);for(var n=this.lateUpdateOrdered.length,t=0,i=n;t<i;){var s=t++;this._udpatingSystems[s]=this.lateUpdateOrdered[s]}for(t=0,i=n;t<i;){s=t++;var r=this._udpatingSystems[s];r.emitBeginLateUpdate(e),r.lateUpdate(e),r.emitEndLateUpdate(e),ceramic_App.app.flushImmediate()}for(t=0,i=n;t<i;){s=t++;this._udpatingSystems[s]=null}},get:function(e){for(var n=0,t=this.earlyUpdateOrdered.length;n<t;){var i=n++,s=this.earlyUpdateOrdered[i];if(s.name==e)return s}return null},__class__:ceramic_Systems});var ceramic_Text=function(){this.maxLineDiff=-1,this.fitWidth=-1,this.align=O.LEFT,this.preRenderedSize=-1,this.clipTextHeight=-1,this.clipTextWidth=-1,this.clipTextY=-1,this.clipTextX=-1,this.letterSpacing=0,this.lineHeight=1,this.pointSize=20,this.content="",this.color=16777215,this.numLines=1,this.glyphQuads=[],ceramic_Visual.call(this),this.set_font(ceramic_App.app.defaultFont)};t["ceramic.Text"]=ceramic_Text,ceramic_Text.__name__="ceramic.Text",ceramic_Text.__super__=ceramic_Visual,ceramic_Text.prototype=$extend(ceramic_Visual.prototype,{emitGlyphQuadsChange:function(){var e=0;if(null!=this.__cbOnGlyphQuadsChange&&(e+=this.__cbOnGlyphQuadsChange.length),null!=this.__cbOnceGlyphQuadsChange&&(e+=this.__cbOnceGlyphQuadsChange.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnGlyphQuadsChange)for(var s=0,r=this.__cbOnGlyphQuadsChange.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnGlyphQuadsChange[l],++i):--e}if(null!=this.__cbOnceGlyphQuadsChange){var a=null,h=null;for(s=0,r=this.__cbOnceGlyphQuadsChange.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceGlyphQuadsChange[l],this.__cbOnceGlyphQuadsChange[l]=null;var c=this.__cbOnceOwnerUnbindGlyphQuadsChange[l];this.__cbOnceOwnerUnbindGlyphQuadsChange[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindGlyphQuadsChange[l]),h.push(this.__cbOnceGlyphQuadsChange[l])}this.__cbOnceOwnerUnbindGlyphQuadsChange=a,this.__cbOnceGlyphQuadsChange=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onGlyphQuadsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event glyphQuadsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGlyphQuadsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGlyphQuadsChange&&(this.__cbOnOwnerUnbindGlyphQuadsChange=[]),this.__cbOnOwnerUnbindGlyphQuadsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGlyphQuadsChange&&(this.__cbOnOwnerUnbindGlyphQuadsChange=[]),this.__cbOnOwnerUnbindGlyphQuadsChange.push(null);null==this.__cbOnGlyphQuadsChange&&(this.__cbOnGlyphQuadsChange=[]),this.__cbOnGlyphQuadsChange.push(n)},onceGlyphQuadsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event glyphQuadsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGlyphQuadsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGlyphQuadsChange&&(this.__cbOnceOwnerUnbindGlyphQuadsChange=[]),this.__cbOnceOwnerUnbindGlyphQuadsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGlyphQuadsChange&&(this.__cbOnceOwnerUnbindGlyphQuadsChange=[]),this.__cbOnceOwnerUnbindGlyphQuadsChange.push(null);null==this.__cbOnceGlyphQuadsChange&&(this.__cbOnceGlyphQuadsChange=[]),this.__cbOnceGlyphQuadsChange.push(n)},offGlyphQuadsChange:function(e){if(null!=e){var n;null!=this.__cbOnGlyphQuadsChange&&-1!=(n=this.__cbOnGlyphQuadsChange.indexOf(e))&&(this.__cbOnGlyphQuadsChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGlyphQuadsChange[n])&&r(),this.__cbOnOwnerUnbindGlyphQuadsChange.splice(n,1)),null!=this.__cbOnceGlyphQuadsChange&&-1!=(n=this.__cbOnceGlyphQuadsChange.indexOf(e))&&(this.__cbOnceGlyphQuadsChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGlyphQuadsChange[n])&&r(),this.__cbOnceOwnerUnbindGlyphQuadsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGlyphQuadsChange){for(var t=0,i=this.__cbOnOwnerUnbindGlyphQuadsChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGlyphQuadsChange[s])&&r()}this.__cbOnOwnerUnbindGlyphQuadsChange=null}if(null!=this.__cbOnceOwnerUnbindGlyphQuadsChange){for(t=0,i=this.__cbOnceOwnerUnbindGlyphQuadsChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGlyphQuadsChange[s])&&r()}this.__cbOnceOwnerUnbindGlyphQuadsChange=null}this.__cbOnGlyphQuadsChange=null,this.__cbOnceGlyphQuadsChange=null}},listensGlyphQuadsChange:function(){return null!=this.__cbOnGlyphQuadsChange&&this.__cbOnGlyphQuadsChange.length>0||null!=this.__cbOnceGlyphQuadsChange&&this.__cbOnceGlyphQuadsChange.length>0},get_numLines:function(){return this.contentDirty&&this.computeContent(),this.numLines},set_color:function(e){if(this.color==e)return e;if(this.color=e,null!=this.glyphQuads)for(var n=0,t=this.glyphQuads.length;n<t;){var i=n++;this.glyphQuads[i].color=e}return e},set_content:function(e){return this.content==e||(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.content=e),e},set_pointSize:function(e){return this.pointSize==e||(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.pointSize=e),e},set_lineHeight:function(e){return this.lineHeight==e||(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.lineHeight=e),e},set_letterSpacing:function(e){return this.letterSpacing==e||(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.letterSpacing=e),e},set_font:function(e){return null==e&&(e=ceramic_App.app.defaultFont),this.font==e||(null!=this.font&&(this.font.offDestroy($bind(this,this.fontDestroyed)),null!=this.font.asset&&this.font.asset.release()),this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.font=e,null!=this.font&&(this.font.onDestroy(this,$bind(this,this.fontDestroyed)),null!=this.font.asset&&this.font.asset.retain())),e},set_clipTextX:function(e){return this.clipTextX==e||(this.clipTextX=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_clipTextY:function(e){return this.clipTextY==e||(this.clipTextY=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_clipTextWidth:function(e){return this.clipTextWidth==e||(this.clipTextWidth=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_clipTextHeight:function(e){return this.clipTextHeight==e||(this.clipTextHeight=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},clipText:function(e,n,t,i){this.set_clipTextX(e),this.set_clipTextY(n),this.set_clipTextWidth(t),this.set_clipTextHeight(i)},set_preRenderedSize:function(e){return this.preRenderedSize==e||(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.preRenderedSize<=0&&e>0&&ceramic_App.app.screen.onTexturesDensityChange(this,$bind(this,this.handleTexturesDensityChange)),this.preRenderedSize>0&&e<=0&&ceramic_App.app.screen.offTexturesDensityChange($bind(this,this.handleTexturesDensityChange)),this.preRenderedSize=e),e},handleTexturesDensityChange:function(e,n){this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0},set_align:function(e){return this.align==e||(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.align=e),e},set_fitWidth:function(e){return this.fitWidth==e||(this.fitWidth=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_maxLineDiff:function(e){return this.maxLineDiff==e||(this.maxLineDiff=e,-1!=this.fitWidth&&(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0)),e},set_depth:function(e){if(this.depth==e)return e;if(null!=this.glyphQuads)for(var n=0,t=this.glyphQuads.length;n<t;){var i=n++;this.glyphQuads[i].set_depth(e)}return ceramic_Visual.prototype.set_depth.call(this,e)},get_width:function(){return this.contentDirty&&this.computeContent(),ceramic_Visual.prototype.get_width.call(this)},scaleWidth:function(e){if(this._height!=e&&(this.set_scaleX(e/this._width),this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}},get_height:function(){return this.contentDirty&&this.computeContent(),ceramic_Visual.prototype.get_height.call(this)},scaleHeight:function(e){if(this._height!=e&&(this.set_scaleY(e/this._height),this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}},set_blending:function(e){if(this.blending==e)return e;if(this.blending=e,null!=this.glyphQuads)for(var n=0,t=this.glyphQuads.length;n<t;){var i=n++;this.glyphQuads[i].set_blending(e)}return e},destroy:function(){if(!(this._lifecycleState<=-2)&&(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Visual.prototype.destroy.call(this),null!=this.glyphQuads)){for(var e=0,n=this.glyphQuads.length;e<n;){var t=e++;this.glyphQuads[t].destroy()}this.glyphQuads=null}},computeContent:function(){var e=this;if(null==this.font)return this.set_width(0),this.set_height(0),void(this.contentDirty=!1);if(this.numLines=this.computeGlyphQuads(this.fitWidth,this.maxLineDiff),this.contentDirty=!1,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}var h,c=this.preRenderedSize*ceramic_App.app.screen.get_texturesDensity()|0;if(c>0){var o=this.font;h=null!=o.fontData.distanceField&&"msdf"==o.fontData.distanceField.fieldType}else h=!1;h&&this.font.needsToPreRenderAtSize(c)&&this.font.preRenderAtSize(c,(function(){e.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0})),this.emitGlyphQuadsChange()},computeGlyphQuads:function(e,n,t){null==t&&(t=-1);var i=0,s=0,r=0,l=this.pointSize/this.font.fontData.pointSize,a=null,h=-1,c=null,o=-1,u=0,_=null,d=[],b=[[]],f=0,p=!1,O=!1,g=!1,m=0,w=0,v=!1,y=0,U=0,x=0,C=0,D=0,T=!1;-1!=this.clipTextX&&-1!=this.clipTextY&&-1!=this.clipTextWidth&&-1!=this.clipTextHeight&&(T=!0);var E,S=this.preRenderedSize*ceramic_App.app.screen.get_texturesDensity()|0;if(S>0){var A=this.font;E=null!=A.fontData.distanceField&&"msdf"==A.fontData.distanceField.fieldType}else E=!1;var M=E&&!this.font.needsToPreRenderAtSize(S),F=this.content;(""==F||F.length>0&&"\n"==F.charAt(F.length-1))&&(v=!0,F+=" ");for(var P=F.length;u<P&&f<2*P;){if(c=a,o=h,a=F.charAt(u),h=HxOverrides.cca(a,0),(O=" "==a)&&++m,(p="\n"==a)||O||u==P-1)if(!g&&e>=0&&r>1&&r>e-1&&m>0)for(g=!0,--m;u>0;){if(--u,a=F.charAt(u),h=HxOverrides.cca(a,0),u>0?(c=F.charAt(u-1),o=HxOverrides.cca(c,0)):(c=null,o=-1),_=this.font.fontData.chars.h[h],null!=c){var R=this.font.fontData.kernings.h[o];i-=(null!=R&&R.h.hasOwnProperty(h)?R.h[h]:0)*l}if(null!=_&&(i-=_.xAdvance*l+this.letterSpacing),!(b[b.length-1].length>0))break;if(--f,b[b.length-1].pop()," "==a){a="\n",_=this.font.fontData.chars.h[10],h=HxOverrides.cca(a,0),--m,p=!0,O=!1;break}}else g=!1;if(p)m=0,c=null,o=-1,w=++u,s+=this.lineHeight*this.font.fontData.lineHeight*l,d.push(i+(null!=_?(_.xOffset+_.width-_.xAdvance)*l-this.letterSpacing:0)),b.push([]),i=0,r=0;else if(null!=(_=this.font.fontData.chars.h[h])){if(null!=c){var I=this.font.fontData.kernings.h[o];i+=(null!=I&&I.h.hasOwnProperty(h)?I.h[h]:0)*l}if(y=i+_.xOffset*l,U=s+_.yOffset*l,x=_.width*l,C=_.height*l,D=0,T&&(y>=this.clipTextX+this.clipTextWidth||y+x<this.clipTextX||U>=this.clipTextY+this.clipTextHeight||U+C<this.clipTextY?D=2:(this.clipTextX>y&&this.clipTextX<=y+x||this.clipTextY>U&&this.clipTextY<=U+C||this.clipTextX+this.clipTextWidth>y&&this.clipTextX+this.clipTextWidth<=y+x||this.clipTextY+this.clipTextHeight>U&&this.clipTextY+this.clipTextHeight<=U+C)&&(D=1)),null==(pe=f<this.glyphQuads.length?this.glyphQuads[f]:null)){if(1!=(pe=new ceramic_GlyphQuad).inheritAlpha&&(pe.inheritAlpha=!0,pe.visibilityDirty=!0,null!=pe.children))for(var k=0,B=pe.children.length;k<B;){var L=k++,N=pe.children[L];if(N.visibilityDirty=!0,null!=N.children)for(var W=0,K=N.children.length;W<K;){var G=W++;N.children[G].set_visibilityDirty(!0)}}this.glyphQuads.push(pe),this.add(pe)}++f,pe.char=a,pe.code=h,pe.index=u,pe.set_visible(2!=D),pe.transparent=!1,pe.posInLine=u-w,pe.line=b.length-1;var Y=M?this.font.preRenderedPages.h[S].h[_.page]:this.font.pages.h[_.page];if(pe.texture!=Y)if(null!=pe.texture&&(pe.texture.offDestroy($bind(pe,pe.textureDestroyed)),null!=pe.texture.asset&&pe.texture.asset.release()),pe.texture=Y,null==Y)pe.frameX=-1,pe.frameY=-1,-1!=pe.frameWidth&&(pe.frameWidth=-1),-1!=pe.frameHeight&&(pe.frameHeight=-1);else if(null!=pe.tile){pe.frameX=pe.tile.frameX,pe.frameY=pe.tile.frameY;var X=pe.tile.frameWidth;pe.frameWidth!=X&&(pe.frameWidth=X,-1!=X&&pe.set_width(X));var V=pe.tile.frameHeight;pe.frameHeight!=V&&(pe.frameHeight=V,-1!=V&&pe.set_height(V))}else{pe.frameX=0,pe.frameY=0;var H=Y.width;pe.frameWidth!=H&&(pe.frameWidth=H,-1!=H&&pe.set_width(H));var z=Y.height;pe.frameHeight!=z&&(pe.frameHeight=z,-1!=z&&pe.set_height(z)),Y.onDestroy(pe,$bind(pe,pe.textureDestroyed)),null!=Y.asset&&Y.asset.retain()}if(pe.set_shader(M||null==this.font.pageShaders?null:this.font.pageShaders.h[_.page]),pe.color=this.color,pe.set_depth(this.depth),pe.set_blending(this.blending),pe.glyphX=i,pe.glyphY=s,pe.glyphAdvance=_.xAdvance*l+this.letterSpacing,pe.glyph=_,1==D){var j,$,Q,q,Z=Math.max(this.clipTextX,y),J=Math.max(this.clipTextY,U),ee=Math.min(this.clipTextX+this.clipTextWidth,y+x)-Z,ne=Math.min(this.clipTextY+this.clipTextHeight,U+C)-J;if(M){var te=this.font.pages.h[_.page];j=_.x*pe.texture.width/te.width,$=_.y*pe.texture.height/te.height,Q=_.width*pe.texture.width/te.width,q=_.height*pe.texture.height/te.height}else j=_.x/pe.texture.density,$=_.y/pe.texture.density,Q=_.width/pe.texture.density,q=_.height/pe.texture.density;var ie=(Z-y)*Q/x;j+=ie,Q-=ie+(y+x-Z-ee)*Q/x;var se=(J-U)*q/C;$+=se,q-=se+(U+C-J-ne)*q/C,pe.frameX=j,pe.frameY=$,pe.frameWidth!=Q&&(pe.frameWidth=Q,-1!=Q&&pe.set_width(Q)),pe.frameHeight!=q&&(pe.frameHeight=q,-1!=q&&pe.set_height(q)),pe.set_x(Z),pe.set_y(J),pe.set_width(ee),pe.set_height(ne)}else{if(M){var re=this.font.pages.h[_.page],le=_.width*pe.texture.width/re.width,ae=_.height*pe.texture.height/re.height;pe.frameX=_.x*pe.texture.width/re.width,pe.frameY=_.y*pe.texture.height/re.height,pe.frameWidth!=le&&(pe.frameWidth=le,-1!=le&&pe.set_width(le)),pe.frameHeight!=ae&&(pe.frameHeight=ae,-1!=ae&&pe.set_height(ae))}else{var he=_.width/pe.texture.density,ce=_.height/pe.texture.density;pe.frameX=_.x/pe.texture.density,pe.frameY=_.y/pe.texture.density,pe.frameWidth!=he&&(pe.frameWidth=he,-1!=he&&pe.set_width(he)),pe.frameHeight!=ce&&(pe.frameHeight=ce,-1!=ce&&pe.set_height(ce))}pe.set_x(y),pe.set_y(U),pe.set_width(x),pe.set_height(C)}pe.set_anchorX(0),pe.set_anchorY(0),b[b.length-1].push(pe),r=i+Math.max((_.xOffset+_.width)*l,_.xAdvance*l),i+=_.xAdvance*l+this.letterSpacing,++u}else++u}if(i>0&&d.push(i),v&&f>0){var oe=this.glyphQuads[f-1],ue=d[d.length-1];ue-=oe.glyphAdvance,d[d.length-1]=ue,oe.glyphAdvance=0,oe.set_visible(!1)}for(;f<this.glyphQuads.length;){(pe=this.glyphQuads.pop()).destroy()}var _e=0;for(k=0,B=d.length;k<B;){var de=d[u=k++];_e=Math.max(de,_e)}switch(this.set_width(Math.round(1e3*_e)/1e3),this.set_height(Math.round(1e3*((d.length-1)*this.lineHeight*this.font.fontData.lineHeight*l+this.font.fontData.lineHeight*l))/1e3),this.align._hx_index){case 1:for(k=0,B=d.length;k<B;){var be=_e-d[u=k++];for(W=0,K=(fe=b[u]).length;W<K;){(pe=fe[me=W++]).set_x(pe.x+be)}}break;case 2:for(k=0,B=d.length;k<B;){var fe;for(be=.5*(_e-d[u=k++]),W=0,K=(fe=b[u]).length;W<K;){var pe;(pe=fe[me=W++]).set_x(pe.x+be)}}}if((-1==t||t==d.length)&&e>0&&-1!=n&&e>this.pointSize){var Oe=0,ge=this.fitWidth*n;for(k=0,B=d.length;k<B;)for(u=k++,W=0,K=d.length;W<K;){var me=W++,we=d[u]-d[me];if(we<0&&(we=-we),we>Oe&&(Oe=we),Oe>ge)break}if(Oe>ge)this.computeGlyphQuads(e-this.pointSize,n,d.length)>d.length&&this.computeGlyphQuads(e,-1,d.length)}return d.length},lineForYPosition:function(e){this.contentDirty&&this.computeContent();var n=this.lineHeight*this.font.fontData.lineHeight*this.pointSize/this.font.fontData.pointSize,t=0;if(n<=0)return 0;var i=this.glyphQuads;i.length>0&&(t=i[i.length-1].line);var s=Math.floor(e/n);return s<0&&(s=0),s>t&&(s=t),s},posInLineForX:function(e,n){this.contentDirty&&this.computeContent();var t=this.glyphQuads,i=0;if(0==t.length||0==n)return i;for(var s=0,r=t.length;s<r;){var l=t[s++];if(l.line==e){if(l.glyphX>=n)return i;if(l.glyphX+l.glyphAdvance>=n){var a=l.glyphX+l.glyphAdvance-n;if(n-l.glyphX<=a)return i}++i}else if(l.line>e)break}return i},indexForPosInLine:function(e,n){this.contentDirty&&this.computeContent();var t=this.glyphQuads;if(0==t.length)return 0;for(var i=0,s=t.length;i<s;){var r=t[i++];if(r.line==e&&r.posInLine>=n)return r.index+n-r.posInLine;if(r.line>e)return r.index-r.posInLine-(r.line-e)}return this.content.length},xPositionAtIndex:function(e){this.contentDirty&&this.computeContent();var n=this.glyphQuads;if(0==n.length)return 0;for(var t=0,i=n.length;t<i;){var s=t++,r=n[s];if(r.index>=e){if(0==r.glyphX&&r.index>e){if(s>=1){var l=n[s-1];return l.glyphX+l.glyphAdvance}return 0}return r.glyphX}}var a=n[n.length-1];return a.glyphX+a.glyphAdvance},lineForIndex:function(e){this.contentDirty&&this.computeContent();var n=this.glyphQuads;if(0==n.length)return 0;for(var t=0,i=n.length;t<i;){var s=n[t++];if(s.index>=e){if(s.posInLine>e-s.index){for(var r=s.index-s.posInLine,l=s.line;r>e;)--r,--l;return l}return s.line}}return n[n.length-1].line},posInLineForIndex:function(e){this.contentDirty&&this.computeContent();var n=this.glyphQuads;if(0==n.length)return 0;for(var t=!1,i=-1,s=0,r=n.length;s<r;){var l=s++,a=n[l];if(a.index>=e){var h=a.posInLine+e-a.index;if(h<0)for(var c=l-1;c>=0;){var o=n[c];if(t||(t=!0,i=this.lineForIndex(e)),o.line==i)return h=o.posInLine+e-o.index;if(o.line<i)return 0;--c}return h>=0?h:0}}return 0},fontDestroyed:function(e){this.set_font(ceramic_App.app.defaultFont)},toString:function(){return null!=this.id?"Text("+this.id+" "+this.content+")":"Text("+this.content+")"},unbindEvents:function(){ceramic_Visual.prototype.unbindEvents.call(this),this.offGlyphQuadsChange()},__class__:ceramic_Text,__properties__:$extend(ceramic_Visual.prototype.__properties__,{set_maxLineDiff:"set_maxLineDiff",set_fitWidth:"set_fitWidth",set_align:"set_align",set_preRenderedSize:"set_preRenderedSize",set_clipTextHeight:"set_clipTextHeight",set_clipTextWidth:"set_clipTextWidth",set_clipTextY:"set_clipTextY",set_clipTextX:"set_clipTextX",set_font:"set_font",set_letterSpacing:"set_letterSpacing",set_lineHeight:"set_lineHeight",set_pointSize:"set_pointSize",set_content:"set_content",set_color:"set_color",get_numLines:"get_numLines"})});var O=i["ceramic.TextAlign"]={__ename__:"ceramic.TextAlign",__constructs__:null,LEFT:{_hx_name:"LEFT",_hx_index:0,__enum__:"ceramic.TextAlign",toString:$estr},RIGHT:{_hx_name:"RIGHT",_hx_index:1,__enum__:"ceramic.TextAlign",toString:$estr},CENTER:{_hx_name:"CENTER",_hx_index:2,__enum__:"ceramic.TextAlign",toString:$estr}};O.__constructs__=[O.LEFT,O.RIGHT,O.CENTER];var ceramic_TextAsset=function(e,n){this.unobservedText=null,this.textAutoruns=null,ceramic_Asset.call(this,"text",e,n)};t["ceramic.TextAsset"]=ceramic_TextAsset,ceramic_TextAsset.__name__="ceramic.TextAsset",ceramic_TextAsset.__super__=ceramic_Asset,ceramic_TextAsset.prototype=$extend(ceramic_Asset.prototype,{get_text:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.textAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.textAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedText},set_text:function(e){var n=this.unobservedText;if(this.unobservedText=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextChange(e,n);var t=this.textAutoruns;if(null!=t){this.textAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!r.invalidated){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateText:function(){var e=this.unobservedText;this.emitTextChange(e,e);var n=this.textAutoruns;if(null!=n){this.textAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitTextChange:function(e,n){var t=0;if(null!=this.__cbOnTextChange&&(t+=this.__cbOnTextChange.length),null!=this.__cbOnceTextChange&&(t+=this.__cbOnceTextChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnTextChange)for(var l=0,a=this.__cbOnTextChange.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnTextChange[h],++r):--t}if(null!=this.__cbOnceTextChange){var c=null,o=null;for(l=0,a=this.__cbOnceTextChange.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceTextChange[h],this.__cbOnceTextChange[h]=null;var u=this.__cbOnceOwnerUnbindTextChange[h];this.__cbOnceOwnerUnbindTextChange[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindTextChange[h]),o.push(this.__cbOnceTextChange[h])}this.__cbOnceOwnerUnbindTextChange=c,this.__cbOnceTextChange=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onTextChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event textChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTextChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push(null);null==this.__cbOnTextChange&&(this.__cbOnTextChange=[]),this.__cbOnTextChange.push(n)},onceTextChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event textChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTextChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push(null);null==this.__cbOnceTextChange&&(this.__cbOnceTextChange=[]),this.__cbOnceTextChange.push(n)},offTextChange:function(e){if(null!=e){var n;null!=this.__cbOnTextChange&&-1!=(n=this.__cbOnTextChange.indexOf(e))&&(this.__cbOnTextChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTextChange[n])&&r(),this.__cbOnOwnerUnbindTextChange.splice(n,1)),null!=this.__cbOnceTextChange&&-1!=(n=this.__cbOnceTextChange.indexOf(e))&&(this.__cbOnceTextChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTextChange[n])&&r(),this.__cbOnceOwnerUnbindTextChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextChange){for(var t=0,i=this.__cbOnOwnerUnbindTextChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTextChange[s])&&r()}this.__cbOnOwnerUnbindTextChange=null}if(null!=this.__cbOnceOwnerUnbindTextChange){for(t=0,i=this.__cbOnceOwnerUnbindTextChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTextChange[s])&&r()}this.__cbOnceOwnerUnbindTextChange=null}this.__cbOnTextChange=null,this.__cbOnceTextChange=null}},listensTextChange:function(){return null!=this.__cbOnTextChange&&this.__cbOnTextChange.length>0||null!=this.__cbOnceTextChange&&this.__cbOnceTextChange.length>0},load:function(){var e=this;if(this.set_status(a.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load text asset if path is undefined.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:20,className:"ceramic.TextAsset",methodName:"load"}),this.set_status(a.BROKEN),void this.emitComplete(!1);var n={};if(null!=this.owner&&(n.immediate=this.owner.immediate,n.loadMethod=this.owner.loadMethod),null!=this.options)for(var t=0,i=Reflect.fields(this.options);t<i.length;){var s=i[t];++t,n[s]=Reflect.field(this.options,s)}var r=this.path,l=ceramic_Assets.realAssetPath(r,this.runtimeAssets),h=ceramic_Assets.getReloadCount(l);h>0&&(l+="?hot="+h,r+="?hot="+h),ceramic_App.app.logger.info("Load text "+r,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:46,className:"ceramic.TextAsset",methodName:"load"}),ceramic_App.app.backend.texts.load(l,n,(function(n){null!=n?(e.set_text(n),e.set_status(a.READY),e.emitComplete(!0)):(e.set_status(a.BROKEN),ceramic_App.app.logger.error("Failed to load text at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:56,className:"ceramic.TextAsset",methodName:"load"}),e.emitComplete(!1))}))},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload text (file has changed)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:79,className:"ceramic.TextAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),this.set_text(null))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offTextChange()},__class__:ceramic_TextAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_text:"set_text",get_text:"get_text"})});var ceramic_TextInput=function(){this.delegate=null,this.selectionEnd=-1,this.selectionStart=-1,this.text="",this.multiline=!1,this.allowMovingCursor=!1,this.invertedSelection=!1,this.rmetaPressed=!1,this.lmetaPressed=!1,this.rctrlPressed=!1,this.lctrlPressed=!1,this.rshiftPressed=!1,this.lshiftPressed=!1,this.explicitPosLine=0,this.explicitPosInLine=0,this.inputActive=!1};t["ceramic.TextInput"]=ceramic_TextInput,ceramic_TextInput.__name__="ceramic.TextInput",ceramic_TextInput.__interfaces__=[tracker_Events],ceramic_TextInput.prototype={emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnUpdate)for(var r=0,l=this.__cbOnUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnUpdate[a],++s):--n}if(null!=this.__cbOnceUpdate){var h=null,c=null;for(r=0,l=this.__cbOnceUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceUpdate[a],this.__cbOnceUpdate[a]=null;var o=this.__cbOnceOwnerUnbindUpdate[a];this.__cbOnceOwnerUnbindUpdate[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindUpdate[a]),c.push(this.__cbOnceUpdate[a])}this.__cbOnceOwnerUnbindUpdate=h,this.__cbOnceUpdate=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(n)},onceUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(n)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdate[n])&&r(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdate[n])&&r(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindUpdate[s])&&r()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindUpdate[s])&&r()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&this.__cbOnUpdate.length>0||null!=this.__cbOnceUpdate&&this.__cbOnceUpdate.length>0},emitEnter:function(){var e=0;if(null!=this.__cbOnEnter&&(e+=this.__cbOnEnter.length),null!=this.__cbOnceEnter&&(e+=this.__cbOnceEnter.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnEnter)for(var s=0,r=this.__cbOnEnter.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnEnter[l],++i):--e}if(null!=this.__cbOnceEnter){var a=null,h=null;for(s=0,r=this.__cbOnceEnter.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceEnter[l],this.__cbOnceEnter[l]=null;var c=this.__cbOnceOwnerUnbindEnter[l];this.__cbOnceOwnerUnbindEnter[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindEnter[l]),h.push(this.__cbOnceEnter[l])}this.__cbOnceOwnerUnbindEnter=a,this.__cbOnceEnter=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onEnter:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event enter because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEnter(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindEnter&&(this.__cbOnOwnerUnbindEnter=[]),this.__cbOnOwnerUnbindEnter.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindEnter&&(this.__cbOnOwnerUnbindEnter=[]),this.__cbOnOwnerUnbindEnter.push(null);null==this.__cbOnEnter&&(this.__cbOnEnter=[]),this.__cbOnEnter.push(n)},onceEnter:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event enter because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEnter(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindEnter&&(this.__cbOnceOwnerUnbindEnter=[]),this.__cbOnceOwnerUnbindEnter.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindEnter&&(this.__cbOnceOwnerUnbindEnter=[]),this.__cbOnceOwnerUnbindEnter.push(null);null==this.__cbOnceEnter&&(this.__cbOnceEnter=[]),this.__cbOnceEnter.push(n)},offEnter:function(e){if(null!=e){var n;null!=this.__cbOnEnter&&-1!=(n=this.__cbOnEnter.indexOf(e))&&(this.__cbOnEnter.splice(n,1),null!=(r=this.__cbOnOwnerUnbindEnter[n])&&r(),this.__cbOnOwnerUnbindEnter.splice(n,1)),null!=this.__cbOnceEnter&&-1!=(n=this.__cbOnceEnter.indexOf(e))&&(this.__cbOnceEnter.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindEnter[n])&&r(),this.__cbOnceOwnerUnbindEnter.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEnter){for(var t=0,i=this.__cbOnOwnerUnbindEnter.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindEnter[s])&&r()}this.__cbOnOwnerUnbindEnter=null}if(null!=this.__cbOnceOwnerUnbindEnter){for(t=0,i=this.__cbOnceOwnerUnbindEnter.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindEnter[s])&&r()}this.__cbOnceOwnerUnbindEnter=null}this.__cbOnEnter=null,this.__cbOnceEnter=null}},listensEnter:function(){return null!=this.__cbOnEnter&&this.__cbOnEnter.length>0||null!=this.__cbOnceEnter&&this.__cbOnceEnter.length>0},emitEscape:function(){var e=0;if(null!=this.__cbOnEscape&&(e+=this.__cbOnEscape.length),null!=this.__cbOnceEscape&&(e+=this.__cbOnceEscape.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnEscape)for(var s=0,r=this.__cbOnEscape.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnEscape[l],++i):--e}if(null!=this.__cbOnceEscape){var a=null,h=null;for(s=0,r=this.__cbOnceEscape.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceEscape[l],this.__cbOnceEscape[l]=null;var c=this.__cbOnceOwnerUnbindEscape[l];this.__cbOnceOwnerUnbindEscape[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindEscape[l]),h.push(this.__cbOnceEscape[l])}this.__cbOnceOwnerUnbindEscape=a,this.__cbOnceEscape=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onEscape:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event escape because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEscape(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindEscape&&(this.__cbOnOwnerUnbindEscape=[]),this.__cbOnOwnerUnbindEscape.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindEscape&&(this.__cbOnOwnerUnbindEscape=[]),this.__cbOnOwnerUnbindEscape.push(null);null==this.__cbOnEscape&&(this.__cbOnEscape=[]),this.__cbOnEscape.push(n)},onceEscape:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event escape because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEscape(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindEscape&&(this.__cbOnceOwnerUnbindEscape=[]),this.__cbOnceOwnerUnbindEscape.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindEscape&&(this.__cbOnceOwnerUnbindEscape=[]),this.__cbOnceOwnerUnbindEscape.push(null);null==this.__cbOnceEscape&&(this.__cbOnceEscape=[]),this.__cbOnceEscape.push(n)},offEscape:function(e){if(null!=e){var n;null!=this.__cbOnEscape&&-1!=(n=this.__cbOnEscape.indexOf(e))&&(this.__cbOnEscape.splice(n,1),null!=(r=this.__cbOnOwnerUnbindEscape[n])&&r(),this.__cbOnOwnerUnbindEscape.splice(n,1)),null!=this.__cbOnceEscape&&-1!=(n=this.__cbOnceEscape.indexOf(e))&&(this.__cbOnceEscape.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindEscape[n])&&r(),this.__cbOnceOwnerUnbindEscape.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEscape){for(var t=0,i=this.__cbOnOwnerUnbindEscape.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindEscape[s])&&r()}this.__cbOnOwnerUnbindEscape=null}if(null!=this.__cbOnceOwnerUnbindEscape){for(t=0,i=this.__cbOnceOwnerUnbindEscape.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindEscape[s])&&r()}this.__cbOnceOwnerUnbindEscape=null}this.__cbOnEscape=null,this.__cbOnceEscape=null}},listensEscape:function(){return null!=this.__cbOnEscape&&this.__cbOnEscape.length>0||null!=this.__cbOnceEscape&&this.__cbOnceEscape.length>0},emitSelection:function(e,n){var t=0;if(null!=this.__cbOnSelection&&(t+=this.__cbOnSelection.length),null!=this.__cbOnceSelection&&(t+=this.__cbOnceSelection.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnSelection)for(var l=0,a=this.__cbOnSelection.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnSelection[h],++r):--t}if(null!=this.__cbOnceSelection){var c=null,o=null;for(l=0,a=this.__cbOnceSelection.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceSelection[h],this.__cbOnceSelection[h]=null;var u=this.__cbOnceOwnerUnbindSelection[h];this.__cbOnceOwnerUnbindSelection[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindSelection[h]),o.push(this.__cbOnceSelection[h])}this.__cbOnceOwnerUnbindSelection=c,this.__cbOnceSelection=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onSelection:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event selection because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSelection(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindSelection&&(this.__cbOnOwnerUnbindSelection=[]),this.__cbOnOwnerUnbindSelection.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindSelection&&(this.__cbOnOwnerUnbindSelection=[]),this.__cbOnOwnerUnbindSelection.push(null);null==this.__cbOnSelection&&(this.__cbOnSelection=[]),this.__cbOnSelection.push(n)},onceSelection:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event selection because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSelection(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindSelection&&(this.__cbOnceOwnerUnbindSelection=[]),this.__cbOnceOwnerUnbindSelection.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindSelection&&(this.__cbOnceOwnerUnbindSelection=[]),this.__cbOnceOwnerUnbindSelection.push(null);null==this.__cbOnceSelection&&(this.__cbOnceSelection=[]),this.__cbOnceSelection.push(n)},offSelection:function(e){if(null!=e){var n;null!=this.__cbOnSelection&&-1!=(n=this.__cbOnSelection.indexOf(e))&&(this.__cbOnSelection.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSelection[n])&&r(),this.__cbOnOwnerUnbindSelection.splice(n,1)),null!=this.__cbOnceSelection&&-1!=(n=this.__cbOnceSelection.indexOf(e))&&(this.__cbOnceSelection.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSelection[n])&&r(),this.__cbOnceOwnerUnbindSelection.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelection){for(var t=0,i=this.__cbOnOwnerUnbindSelection.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindSelection[s])&&r()}this.__cbOnOwnerUnbindSelection=null}if(null!=this.__cbOnceOwnerUnbindSelection){for(t=0,i=this.__cbOnceOwnerUnbindSelection.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindSelection[s])&&r()}this.__cbOnceOwnerUnbindSelection=null}this.__cbOnSelection=null,this.__cbOnceSelection=null}},listensSelection:function(){return null!=this.__cbOnSelection&&this.__cbOnSelection.length>0||null!=this.__cbOnceSelection&&this.__cbOnceSelection.length>0},emitStop:function(){var e=0;if(null!=this.__cbOnStop&&(e+=this.__cbOnStop.length),null!=this.__cbOnceStop&&(e+=this.__cbOnceStop.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnStop)for(var s=0,r=this.__cbOnStop.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnStop[l],++i):--e}if(null!=this.__cbOnceStop){var a=null,h=null;for(s=0,r=this.__cbOnceStop.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceStop[l],this.__cbOnceStop[l]=null;var c=this.__cbOnceOwnerUnbindStop[l];this.__cbOnceOwnerUnbindStop[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindStop[l]),h.push(this.__cbOnceStop[l])}this.__cbOnceOwnerUnbindStop=a,this.__cbOnceStop=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onStop:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event stop because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStop(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindStop&&(this.__cbOnOwnerUnbindStop=[]),this.__cbOnOwnerUnbindStop.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindStop&&(this.__cbOnOwnerUnbindStop=[]),this.__cbOnOwnerUnbindStop.push(null);null==this.__cbOnStop&&(this.__cbOnStop=[]),this.__cbOnStop.push(n)},onceStop:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event stop because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStop(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindStop&&(this.__cbOnceOwnerUnbindStop=[]),this.__cbOnceOwnerUnbindStop.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindStop&&(this.__cbOnceOwnerUnbindStop=[]),this.__cbOnceOwnerUnbindStop.push(null);null==this.__cbOnceStop&&(this.__cbOnceStop=[]),this.__cbOnceStop.push(n)},offStop:function(e){if(null!=e){var n;null!=this.__cbOnStop&&-1!=(n=this.__cbOnStop.indexOf(e))&&(this.__cbOnStop.splice(n,1),null!=(r=this.__cbOnOwnerUnbindStop[n])&&r(),this.__cbOnOwnerUnbindStop.splice(n,1)),null!=this.__cbOnceStop&&-1!=(n=this.__cbOnceStop.indexOf(e))&&(this.__cbOnceStop.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindStop[n])&&r(),this.__cbOnceOwnerUnbindStop.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStop){for(var t=0,i=this.__cbOnOwnerUnbindStop.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindStop[s])&&r()}this.__cbOnOwnerUnbindStop=null}if(null!=this.__cbOnceOwnerUnbindStop){for(t=0,i=this.__cbOnceOwnerUnbindStop.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindStop[s])&&r()}this.__cbOnceOwnerUnbindStop=null}this.__cbOnStop=null,this.__cbOnceStop=null}},listensStop:function(){return null!=this.__cbOnStop&&this.__cbOnStop.length>0||null!=this.__cbOnceStop&&this.__cbOnceStop.length>0},start:function(e,n,t,i,s,r,l,a,h,c){null==h&&(h=!1),null==a&&(a=-1),null==l&&(l=-1),null==r&&(r=!1),this.inputActive&&this.stop(),this.inputActive=!0,this.set_text(e),this.multiline=r,this.allowMovingCursor=h,this.delegate=c,this.explicitPosInLine=0,this.explicitPosLine=0,this.invertedSelection=!1,l<0&&(l=e.length),a<l&&(a=l),this.selectionStart=l,this.selectionEnd=a,ceramic_App.app.backend.textInput.start(e,n,t,i,s),this.emitUpdate(e),this.emitSelection(l,a)},stop:function(){this.inputActive&&(this.inputActive=!1,this.selectionStart=-1,this.selectionEnd=-1,this.invertedSelection=!1,this.delegate=null,ceramic_App.app.backend.textInput.stop(),this.emitStop())},updateSelection:function(e,n,t){this.selectionStart==e&&this.selectionEnd==n||(this.selectionStart=e,this.selectionEnd=n,null!=t&&(this.invertedSelection=t),this.emitSelection(e,n))},appendText:function(e){if(!this.lctrlPressed&&!this.rctrlPressed){var n="";this.selectionStart>0&&(n+=this.text.substring(0,this.selectionStart)),n+=e,n+=this.text.substring(this.selectionEnd),this.selectionStart+=e.length,this.selectionEnd=this.selectionStart,this.invertedSelection=!1,this.set_text(n),this.emitUpdate(this.text),this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)}},space:function(){this.appendText(" ")},backspace:function(){var e=this.selectionEnd>this.selectionStart,n="";this.selectionStart>1&&(n+=this.text.substring(0,e?this.selectionStart:this.selectionStart-1)),n+=this.text.substring(this.selectionEnd),this.selectionStart>0&&!e&&this.selectionStart--,this.selectionEnd=this.selectionStart,this.set_text(n),this.emitUpdate(this.text),this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)},moveLeft:function(){this.allowMovingCursor&&(this.lshiftPressed||this.rshiftPressed?this.invertedSelection?(this.selectionStart>0&&(this.selectionStart--,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)):this.selectionEnd>this.selectionStart?(this.selectionEnd--,this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionEnd),this.explicitPosLine=this.lineForPos(this.selectionEnd)):(this.selectionStart>0&&(this.invertedSelection=!0,this.selectionStart--,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)):(this.invertedSelection=!1,this.selectionEnd>this.selectionStart?(this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)):this.selectionStart>0&&(this.selectionStart--,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)))},moveRight:function(){if(this.allowMovingCursor)if(this.lshiftPressed||this.rshiftPressed){var e=this.text.length;this.selectionStart==this.selectionEnd?(this.invertedSelection=!1,this.selectionEnd<e&&(this.selectionEnd++,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionEnd),this.explicitPosLine=this.lineForPos(this.selectionEnd)):this.invertedSelection?(this.selectionStart++,this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)):(this.selectionEnd<e&&(this.selectionEnd++,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionEnd),this.explicitPosLine=this.lineForPos(this.selectionEnd))}else this.invertedSelection=!1,this.selectionEnd>this.selectionStart?(this.selectionStart=this.selectionEnd,this.emitSelection(this.selectionStart,this.selectionEnd)):this.selectionStart<this.text.length&&(this.selectionStart++,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)},moveUp:function(){if(this.allowMovingCursor)if(this.lshiftPressed||this.rshiftPressed){var e=this.lineForPos(this.selectionStart),n=this.lineForPos(this.selectionEnd);if(!this.invertedSelection&&n>e){var t=this.explicitPosInLine,i=n;null!=this.delegate&&(t=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,i-1));var s=this.globalPosForLine(i-1,t);this.selectionEnd=0|Math.max(this.selectionStart,s),this.emitSelection(this.selectionStart,this.selectionEnd)}else if(this.selectionStart>0){if(this.invertedSelection=!0,e>0){t=this.explicitPosInLine,i=e;null!=this.delegate&&(t=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,i-1)),this.selectionStart=this.globalPosForLine(i-1,t)}else this.selectionStart=0;this.emitSelection(this.selectionStart,this.selectionEnd)}}else{if(this.invertedSelection=!1,this.selectionStart>0)if((i=this.lineForPos(this.selectionStart))>0){t=this.explicitPosInLine;null!=this.delegate&&(t=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,i-1)),this.selectionStart=this.globalPosForLine(i-1,t),this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)}else this.selectionStart=0,this.selectionEnd=0,this.emitSelection(this.selectionStart,this.selectionEnd);else this.selectionStart=0,this.selectionEnd=0,this.emitSelection(this.selectionStart,this.selectionEnd)}},moveDown:function(){if(this.allowMovingCursor){var e=this.text.length;if(this.lshiftPressed||this.rshiftPressed){var n=this.lineForPos(this.selectionStart),t=this.lineForPos(this.selectionEnd);if(this.invertedSelection){if(this.invertedSelection)if(t>n){s=this.explicitPosInLine,r=n;null!=this.delegate&&(s=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,r+1));var i=this.globalPosForLine(r+1,s);this.selectionStart=0|Math.min(this.selectionEnd,i),this.emitSelection(this.selectionStart,this.selectionEnd)}else if(this.selectionEnd<e-1){this.invertedSelection=!1;r=n,l=this.numLines(),s=this.explicitPosInLine;r<l-1?(null!=this.delegate&&(s=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,r+1)),this.selectionEnd=this.globalPosForLine(r+1,s)):this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd)}else this.selectionEnd<e&&(this.invertedSelection=!1,this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd))}else if(this.selectionEnd<e-1){var s=this.explicitPosInLine;(r=t)<(l=this.numLines())-1?(null!=this.delegate&&(s=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,r+1)),this.selectionEnd=this.globalPosForLine(r+1,s)):this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd)}else this.selectionEnd<e&&(this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd))}else{var r,l;if(this.invertedSelection=!1,this.selectionEnd<e-1)if((r=this.lineForPos(this.selectionEnd))<(l=this.numLines())-1){s=this.explicitPosInLine;null!=this.delegate&&(s=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,r+1)),this.selectionStart=this.globalPosForLine(r+1,s),this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)}else this.selectionStart=e,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd);else this.selectionStart=e,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)}}},enter:function(){this.emitEnter(),this.inputActive&&this.multiline&&this.appendText("\n")},escape:function(){this.emitEscape(),this.stop()},lshiftDown:function(){this.lshiftPressed=!0},lshiftUp:function(){this.lshiftPressed=!1},rshiftDown:function(){this.rshiftPressed=!0},rshiftUp:function(){this.rshiftPressed=!1},lctrlDown:function(){this.lctrlPressed=!0},lctrlUp:function(){this.lctrlPressed=!1},rctrlDown:function(){this.rctrlPressed=!0},rctrlUp:function(){this.rctrlPressed=!1},lmetaDown:function(){this.lmetaPressed=!0},lmetaUp:function(){this.lmetaPressed=!1},rmetaDown:function(){this.rmetaPressed=!0},rmetaUp:function(){this.rmetaPressed=!1},posInCurrentLine:function(e){if(null!=this.delegate)return this.delegate.textInputPosInLineForIndex(e);for(var n=this.text,t=0;e>0;){if("\n"==n.charAt(e)&&t>0){--t;break}--e,++t}return t},lineForPos:function(e){if(null!=this.delegate)return this.delegate.textInputLineForIndex(e);for(var n=this.text,t=0,i=0;i<e;){"\n"==n.charAt(i)&&++t,++i}return t},numLines:function(){return null!=this.delegate?this.delegate.textInputNumberOfLines():this.text.split("\n").length},globalPosForLine:function(e,n){if(null!=this.delegate)return this.delegate.textInputIndexForPosInLine(e,n);for(var t=this.text,i=0,s=t.length,r=0;i<s;){var l=t.charAt(i);if(r==e){if(!(n>0))break;if("\n"==l)break;--n}else"\n"==l&&++r;++i}return i},set_text:function(e){if(this.text==e)return e;this.text=e;var n=e.length,t=this.selectionStart,i=this.selectionEnd;return i>n&&(i=n),t>i&&(t=i),this.updateSelection(t,i),e},unbindEvents:function(){this.offUpdate(),this.offEnter(),this.offEscape(),this.offSelection(),this.offStop()},__class__:ceramic_TextInput,__properties__:{set_text:"set_text"}};var ceramic_TextInputDelegate=function(){};t["ceramic.TextInputDelegate"]=ceramic_TextInputDelegate,ceramic_TextInputDelegate.__name__="ceramic.TextInputDelegate",ceramic_TextInputDelegate.__isInterface__=!0,ceramic_TextInputDelegate.prototype={__class__:ceramic_TextInputDelegate};var g=i["ceramic.TextureFilter"]={__ename__:"ceramic.TextureFilter",__constructs__:null,LINEAR:{_hx_name:"LINEAR",_hx_index:0,__enum__:"ceramic.TextureFilter",toString:$estr},NEAREST:{_hx_name:"NEAREST",_hx_index:1,__enum__:"ceramic.TextureFilter",toString:$estr}};g.__constructs__=[g.LINEAR,g.NEAREST];var ceramic_TextureTile=function(e,n,t,i,s){this.texture=e,this.frameX=n,this.frameY=t,this.frameWidth=i,this.frameHeight=s};t["ceramic.TextureTile"]=ceramic_TextureTile,ceramic_TextureTile.__name__="ceramic.TextureTile",ceramic_TextureTile.prototype={toString:function(){return""+Std.string({texture:this.texture,frameX:this.frameX,frameY:this.frameY,frameWidth:this.frameWidth,frameHeight:this.frameHeight})},__class__:ceramic_TextureTile};var ceramic_TextureTilePacker=function(e,n,t,i,s,r){null==r&&(r=1),null==s&&(s=16),null==i&&(i=16),null==t&&(t=-1),null==n&&(n=-1),this.maxPixelTextureHeight=0,this.maxPixelTextureWidth=0,this.numRows=0,this.numCols=0,this.nextPacker=null,ceramic_Entity.call(this),this.padWidth=i,this.padHeight=s,this.margin=r,this.maxPixelTextureWidth=n,this.maxPixelTextureHeight=t,-1==n&&(n=2048/ceramic_App.app.screen.get_texturesDensity()|0),-1==t&&(t=2048/ceramic_App.app.screen.get_texturesDensity()|0);var l=0|Math.min(n,2048/ceramic_App.app.screen.get_texturesDensity()),a=0|Math.min(t,2048/ceramic_App.app.screen.get_texturesDensity());this.texture=new ceramic_RenderTexture(l,a),e?(this.texture.autoRender=!0,this.texture.clearOnRender=!0):(this.texture.autoRender=!1,this.texture.clearOnRender=!1),this.areas=[];for(var h=this.texture.width,c=this.texture.height,o=r,u=r;u+s<c;){for(;o+i<h;)this.areas.push(null),o+=i+2*r,0==this.numRows&&this.numCols++;o=0,u+=s+2*r,this.numRows++}};t["ceramic.TextureTilePacker"]=ceramic_TextureTilePacker,ceramic_TextureTilePacker.__name__="ceramic.TextureTilePacker",ceramic_TextureTilePacker.__super__=ceramic_Entity,ceramic_TextureTilePacker.prototype=$extend(ceramic_Entity.prototype,{destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),null!=this.nextPacker&&(this.nextPacker.destroy(),this.nextPacker=null),this.texture.destroy(),this.texture=null,this.areas=null)},getTileAtPosition:function(e,n){return this.areas[n*this.numCols+e]},setTileAtPosition:function(e,n,t){this.areas[n*this.numCols+e]=t},allocTile:function(e,n){this.texture.width,this.texture.height;var t=this.padWidth+2*this.margin,i=this.padHeight+2*this.margin,s=t*this.numCols-2*this.margin,r=i*this.numRows-2*this.margin;if(e>s||n>r)return ceramic_App.app.logger.warning("Cannot alloc tile of "+e+" x "+n+" because this is bigger than "+s+" x "+r,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:123,className:"ceramic.TextureTilePacker",methodName:"allocTile"}),null;for(var l=this.padWidth,a=1;l<e;)++a,l+=this.padWidth+2*this.margin;for(var h=this.padHeight,c=1;h<n;)++c,h+=this.padHeight+2*this.margin;for(var o=0,u=this.numRows-c+1;o<u;)for(var _=o++,d=0,b=this.numCols-a+1;d<b;){for(var f=d++,p=!0,O=_,g=_+c;O<g;){for(var m=O++,w=f,v=f+a;w<v;){var y=w++;if(null!=this.areas[m*this.numCols+y]){p=!1;break}}if(!p)break}if(p){var U=new ceramic__$TextureTilePacker_PackedTextureTile(this.texture,f*t,_*i,e,n);U.col=f,U.row=_,U.usedCols=a,U.usedRows=c;for(var x=_,C=_+c;x<C;)for(var D=x++,T=f,E=f+a;T<E;){var S=T++;this.areas[D*this.numCols+S]=U}return U}}return null==this.nextPacker&&(this.nextPacker=new ceramic_TextureTilePacker(this.texture.autoRender,this.maxPixelTextureWidth,this.maxPixelTextureHeight,this.padWidth,this.padHeight,this.margin)),this.nextPacker.allocTile(e,n)},releaseTile:function(e){var n=this;if(ceramic_App.app.logger.info("release tile "+Std.string(e),{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:198,className:"ceramic.TextureTilePacker",methodName:"releaseTile"}),!(e instanceof ceramic__$TextureTilePacker_PackedTextureTile))throw haxe_Exception.thrown("Cannot release tile: "+Std.string(e)+".");for(var t=e,i=this;null!=i&&i.texture!=t.texture;)i=i.nextPacker;null!=i?ceramic_App.app.onceUpdate(this,(function(e){ceramic_App.app.onceUpdate(n,(function(e){for(var n=!1,s=t.row,r=t.row+t.usedRows;s<r;)for(var l=s++,a=t.col,h=t.col+t.usedCols;a<h;){var c=a++;i.areas[l*i.numCols+c]==t&&(n=!0,i.areas[l*i.numCols+c]=null)}t.texture=null,n||ceramic_App.app.logger.warning("Failed to release tile: "+Std.string(t)+" (did not find it)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:234,className:"ceramic.TextureTilePacker",methodName:"releaseTile"})}))})):ceramic_App.app.logger.warning("Failed to release tile: "+Std.string(t)+" (it doesn't belong to this packer)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:213,className:"ceramic.TextureTilePacker",methodName:"releaseTile"})},stamp:function(e,n,t){var i=new ceramic_Quad;i.set_anchorX(0),i.set_anchorY(0);var s=e.frameHeight+2*this.margin;i.set_width(e.frameWidth+2*this.margin),i.set_height(s);var r=e.frameY-this.margin;if(i.set_x(e.frameX-this.margin),i.set_y(r),i.set_blending(4),0!=i.inheritAlpha&&(i.inheritAlpha=!1,i.visibilityDirty=!0,null!=i.children))for(var l=0,a=i.children.length;l<a;){var h=l++,c=i.children[h];if(c.visibilityDirty=!0,null!=c.children)for(var o=0,u=c.children.length;o<u;){var _=o++;c.children[_].set_visibilityDirty(!0)}}i.set_alpha(0),i.color=16777215;var d=n.transform,b=n.parent;null!=b&&b.remove(n),i.add(n),n.set_transform(new ceramic_Transform);var f=n.transform;f.tx+=this.margin,f.ty+=this.margin,f.changedDirty=!0,e.texture.stamp(i,(function(){i.remove(n),null!=b&&b.add(n),i.destroy(),i=null,n.set_transform(d),n=null,t(),t=null}))},managesTexture:function(e){return this.texture==e||null!=this.nextPacker&&this.nextPacker.managesTexture(e)},__class__:ceramic_TextureTilePacker});var ceramic__$TextureTilePacker_PackedTextureTile=function(e,n,t,i,s){this.usedRows=1,this.usedCols=1,this.row=-1,this.col=-1,ceramic_TextureTile.call(this,e,n,t,i,s)};t["ceramic._TextureTilePacker.PackedTextureTile"]=ceramic__$TextureTilePacker_PackedTextureTile,ceramic__$TextureTilePacker_PackedTextureTile.__name__="ceramic._TextureTilePacker.PackedTextureTile",ceramic__$TextureTilePacker_PackedTextureTile.__super__=ceramic_TextureTile,ceramic__$TextureTilePacker_PackedTextureTile.prototype=$extend(ceramic_TextureTile.prototype,{__class__:ceramic__$TextureTilePacker_PackedTextureTile});var ceramic_Timeline=function(){this.initializerName=null,this.completeHandlerIndexes=null,this.completeHandlers=null,this.endPosition=-1,this.startPosition=-1,this.labelIndexes=null,this.labels=null,this.paused=!1,this.tracks=[],this.position=0,this.fps=30,this.autoUpdate=!0,this.loop=!0,this.autoFitSize=!0,this.size=0,ceramic_Entity.call(this),ceramic_App.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate&&ceramic_App.app.onPreUpdate(this,$bind(this,this.update))};t["ceramic.Timeline"]=ceramic_Timeline,ceramic_Timeline.__name__="ceramic.Timeline",ceramic_Timeline.__interfaces__=[ceramic_Component],ceramic_Timeline.__super__=ceramic_Entity,ceramic_Timeline.prototype=$extend(ceramic_Entity.prototype,{emitStartLabel:function(e,n){var t=0;if(null!=this.__cbOnStartLabel&&(t+=this.__cbOnStartLabel.length),null!=this.__cbOnceStartLabel&&(t+=this.__cbOnceStartLabel.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnStartLabel)for(var l=0,a=this.__cbOnStartLabel.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnStartLabel[h],++r):--t}if(null!=this.__cbOnceStartLabel){var c=null,o=null;for(l=0,a=this.__cbOnceStartLabel.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceStartLabel[h],this.__cbOnceStartLabel[h]=null;var u=this.__cbOnceOwnerUnbindStartLabel[h];this.__cbOnceOwnerUnbindStartLabel[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindStartLabel[h]),o.push(this.__cbOnceStartLabel[h])}this.__cbOnceOwnerUnbindStartLabel=c,this.__cbOnceStartLabel=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onStartLabel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event startLabel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStartLabel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindStartLabel&&(this.__cbOnOwnerUnbindStartLabel=[]),this.__cbOnOwnerUnbindStartLabel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindStartLabel&&(this.__cbOnOwnerUnbindStartLabel=[]),this.__cbOnOwnerUnbindStartLabel.push(null);null==this.__cbOnStartLabel&&(this.__cbOnStartLabel=[]),this.__cbOnStartLabel.push(n)},onceStartLabel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event startLabel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStartLabel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindStartLabel&&(this.__cbOnceOwnerUnbindStartLabel=[]),this.__cbOnceOwnerUnbindStartLabel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindStartLabel&&(this.__cbOnceOwnerUnbindStartLabel=[]),this.__cbOnceOwnerUnbindStartLabel.push(null);null==this.__cbOnceStartLabel&&(this.__cbOnceStartLabel=[]),this.__cbOnceStartLabel.push(n)},offStartLabel:function(e){if(null!=e){var n;null!=this.__cbOnStartLabel&&-1!=(n=this.__cbOnStartLabel.indexOf(e))&&(this.__cbOnStartLabel.splice(n,1),null!=(r=this.__cbOnOwnerUnbindStartLabel[n])&&r(),this.__cbOnOwnerUnbindStartLabel.splice(n,1)),null!=this.__cbOnceStartLabel&&-1!=(n=this.__cbOnceStartLabel.indexOf(e))&&(this.__cbOnceStartLabel.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindStartLabel[n])&&r(),this.__cbOnceOwnerUnbindStartLabel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStartLabel){for(var t=0,i=this.__cbOnOwnerUnbindStartLabel.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindStartLabel[s])&&r()}this.__cbOnOwnerUnbindStartLabel=null}if(null!=this.__cbOnceOwnerUnbindStartLabel){for(t=0,i=this.__cbOnceOwnerUnbindStartLabel.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindStartLabel[s])&&r()}this.__cbOnceOwnerUnbindStartLabel=null}this.__cbOnStartLabel=null,this.__cbOnceStartLabel=null}},listensStartLabel:function(){return null!=this.__cbOnStartLabel&&this.__cbOnStartLabel.length>0||null!=this.__cbOnceStartLabel&&this.__cbOnceStartLabel.length>0},emitEndLabel:function(e,n){var t=0;if(null!=this.__cbOnEndLabel&&(t+=this.__cbOnEndLabel.length),null!=this.__cbOnceEndLabel&&(t+=this.__cbOnceEndLabel.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnEndLabel)for(var l=0,a=this.__cbOnEndLabel.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnEndLabel[h],++r):--t}if(null!=this.__cbOnceEndLabel){var c=null,o=null;for(l=0,a=this.__cbOnceEndLabel.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceEndLabel[h],this.__cbOnceEndLabel[h]=null;var u=this.__cbOnceOwnerUnbindEndLabel[h];this.__cbOnceOwnerUnbindEndLabel[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindEndLabel[h]),o.push(this.__cbOnceEndLabel[h])}this.__cbOnceOwnerUnbindEndLabel=c,this.__cbOnceEndLabel=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}this.didEmitEndLabel(e,n)},onEndLabel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event endLabel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEndLabel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindEndLabel&&(this.__cbOnOwnerUnbindEndLabel=[]),this.__cbOnOwnerUnbindEndLabel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindEndLabel&&(this.__cbOnOwnerUnbindEndLabel=[]),this.__cbOnOwnerUnbindEndLabel.push(null);null==this.__cbOnEndLabel&&(this.__cbOnEndLabel=[]),this.__cbOnEndLabel.push(n)},onceEndLabel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event endLabel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEndLabel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindEndLabel&&(this.__cbOnceOwnerUnbindEndLabel=[]),this.__cbOnceOwnerUnbindEndLabel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindEndLabel&&(this.__cbOnceOwnerUnbindEndLabel=[]),this.__cbOnceOwnerUnbindEndLabel.push(null);null==this.__cbOnceEndLabel&&(this.__cbOnceEndLabel=[]),this.__cbOnceEndLabel.push(n)},offEndLabel:function(e){if(null!=e){var n;null!=this.__cbOnEndLabel&&-1!=(n=this.__cbOnEndLabel.indexOf(e))&&(this.__cbOnEndLabel.splice(n,1),null!=(r=this.__cbOnOwnerUnbindEndLabel[n])&&r(),this.__cbOnOwnerUnbindEndLabel.splice(n,1)),null!=this.__cbOnceEndLabel&&-1!=(n=this.__cbOnceEndLabel.indexOf(e))&&(this.__cbOnceEndLabel.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindEndLabel[n])&&r(),this.__cbOnceOwnerUnbindEndLabel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEndLabel){for(var t=0,i=this.__cbOnOwnerUnbindEndLabel.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindEndLabel[s])&&r()}this.__cbOnOwnerUnbindEndLabel=null}if(null!=this.__cbOnceOwnerUnbindEndLabel){for(t=0,i=this.__cbOnceOwnerUnbindEndLabel.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindEndLabel[s])&&r()}this.__cbOnceOwnerUnbindEndLabel=null}this.__cbOnEndLabel=null,this.__cbOnceEndLabel=null}},listensEndLabel:function(){return null!=this.__cbOnEndLabel&&this.__cbOnEndLabel.length>0||null!=this.__cbOnceEndLabel&&this.__cbOnceEndLabel.length>0},set_autoUpdate:function(e){return this.autoUpdate!=e&&(this.autoUpdate=e,ceramic_App.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate&&ceramic_App.app.onPreUpdate(this,$bind(this,this.update))),e},set_paused:function(e){return this.paused==e||(this.paused=e,ceramic_App.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate&&ceramic_App.app.onPreUpdate(this,$bind(this,this.update))),e},set_startPosition:function(e){return this.startPosition!=e&&(this.startPosition=e,this.apply()),e},set_endPosition:function(e){return this.endPosition!=e&&(this.endPosition=e,this.apply()),e},bindAsComponent:function(){},bindOrUnbindUpdateIfNeeded:function(){ceramic_App.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate&&ceramic_App.app.onPreUpdate(this,$bind(this,this.update))},update:function(e){var n=this.position+e*this.fps,t=this.position;if(n!=this.position&&(this.startPosition>=0&&n<this.startPosition&&(n=this.startPosition),this.endPosition>=this.startPosition&&this.startPosition>=0&&n>this.endPosition&&(n=this.loop?this.startPosition+(n-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),this.size>0?n>this.size&&(this.loop?n%=this.size:n=this.size):0==this.size&&(n=0),n<0&&(n=0),n!=this.position)){this.position=n;for(var i=0,s=this.tracks.length;i<s;){var r=i++,l=this.tracks[r];if(!l.locked){n=this.position;var a=!1,h=!1;if(null==h&&(h=!1),null==a&&(a=!1),(a||n!=l.position)&&(l.size>0?n>l.size&&(l.loop?n%=l.size:n=l.size):0==l.size&&(n=0),n<0&&(n=0),n!=l.position)){l.position=n;var c=null,o=l.keyframeBeforeIndex;if(-1!=o)if((c=l.keyframes[o]).index<=l.position)for(var u=l.keyframes[o+1];null!=u&&u.index<=l.position;)c=u,++o,u=l.keyframes[o+1];else c=null;if(null==c){o=-1;for(var _=l.keyframes.length;o+1<_;){var d=l.keyframes[o+1];if(d.index>l.position)break;c=d,++o}}l.keyframeBeforeIndex=o,l.before=c;var b=null,f=l.keyframeAfterIndex;if(-1!=f&&null!=(b=l.keyframes[f]))if(b.index>l.position){if(f>0)for(var p=l.keyframes[f-1];null!=p&&p.index>l.position;)b=p,p=--f>0?l.keyframes[f-1]:null}else b=null;if(null==b){var O=l.keyframes.length;for(f=O;f-1>=0;){var g=l.keyframes[f-1];if(g.index<=l.position)break;b=g,--f}f>=O&&(f=-1)}l.keyframeAfterIndex=f,l.after=b,l.apply(h)}}}}if(this.position!=t){var m=Math.floor(this.position);if(m!=Math.floor(t)){var w=this.labelAtIndex(m);if(null!=w){var v=this.indexOfLabelBeforeIndex(m);-1!=v&&this.emitEndLabel(v,this.labelAtIndex(v)),this.emitStartLabel(m,w)}}}},seek:function(e){var n=e,t=this.position;if(n!=this.position&&(this.startPosition>=0&&n<this.startPosition&&(n=this.startPosition),this.endPosition>=this.startPosition&&this.startPosition>=0&&n>this.endPosition&&(n=this.loop?this.startPosition+(n-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),this.size>0?n>this.size&&(this.loop?n%=this.size:n=this.size):0==this.size&&(n=0),n<0&&(n=0),n!=this.position)){this.position=n;for(var i=0,s=this.tracks.length;i<s;){var r=i++,l=this.tracks[r];if(!l.locked){e=this.position;var a=!1,h=!1;if(null==h&&(h=!1),null==a&&(a=!1),(a||e!=l.position)&&(l.size>0?e>l.size&&(l.loop?e%=l.size:e=l.size):0==l.size&&(e=0),e<0&&(e=0),e!=l.position)){l.position=e;var c=null,o=l.keyframeBeforeIndex;if(-1!=o)if((c=l.keyframes[o]).index<=l.position)for(var u=l.keyframes[o+1];null!=u&&u.index<=l.position;)c=u,++o,u=l.keyframes[o+1];else c=null;if(null==c){o=-1;for(var _=l.keyframes.length;o+1<_;){var d=l.keyframes[o+1];if(d.index>l.position)break;c=d,++o}}l.keyframeBeforeIndex=o,l.before=c;var b=null,f=l.keyframeAfterIndex;if(-1!=f&&null!=(b=l.keyframes[f]))if(b.index>l.position){if(f>0)for(var p=l.keyframes[f-1];null!=p&&p.index>l.position;)b=p,p=--f>0?l.keyframes[f-1]:null}else b=null;if(null==b){var O=l.keyframes.length;for(f=O;f-1>=0;){var g=l.keyframes[f-1];if(g.index<=l.position)break;b=g,--f}f>=O&&(f=-1)}l.keyframeAfterIndex=f,l.after=b,l.apply(h)}}}}if(this.position!=t){var m=Math.floor(this.position);if(m!=Math.floor(t)){var w=this.labelAtIndex(m);if(null!=w){var v=this.indexOfLabelBeforeIndex(m);-1!=v&&this.emitEndLabel(v,this.labelAtIndex(v)),this.emitStartLabel(m,w)}}}},animate:function(e,n){if(null!=this.completeHandlers&&this.completeHandlers.length>0){var t;if(0!=(t=this.completeHandlers).length)if(t.length>0)t.splice(0,t.length);else t[-1]=null;if(0!=(t=this.completeHandlerIndexes).length)if(t.length>0)t.splice(0,t.length);else t[-1]=null}var i=this.indexOfLabel(e);-1!=i?(this.seek(i),null==this.completeHandlers&&(this.completeHandlers=[],this.completeHandlerIndexes=[]),this.completeHandlers.push(n),this.completeHandlerIndexes.push(i)):ceramic_App.app.logger.warning("Failed to animate whith label: "+e+" (not found)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:200,className:"ceramic.Timeline",methodName:"animate"})},seekLabel:function(e){var n=this.indexOfLabel(e);return-1!=n?this.seek(n):ceramic_App.app.logger.warning("Failed to seek label: "+e+" (not found)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:218,className:"ceramic.Timeline",methodName:"seekLabel"}),n},resetStartAndEndPositions:function(){this.set_startPosition(-1),this.set_endPosition(-1)},loopLabel:function(e){if(null==this.labels)return ceramic_App.app.logger.warning("Cannot loop label "+e+" (there is no label at all)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:245,className:"ceramic.Timeline",methodName:"loopLabel"}),-1;var n=this.labels.indexOf(e);if(-1==n)return ceramic_App.app.logger.warning("Cannot loop label "+e+" (no such label)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:251,className:"ceramic.Timeline",methodName:"loopLabel"}),-1;var t=this.labelIndexes[n];return this.set_startPosition(t),this.set_endPosition(n<this.labelIndexes.length-1?this.labelIndexes[n+1]:this.size),this.seek(t),t},apply:function(e){null==e&&(e=!1);var n=this.position,t=!0,i=e;null==i&&(i=!1),null==t&&(t=!1);var s=this.position;if((t||n!=this.position)&&(this.startPosition>=0&&n<this.startPosition&&(n=this.startPosition),this.endPosition>=this.startPosition&&this.startPosition>=0&&n>this.endPosition&&(n=this.loop?this.startPosition+(n-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),this.size>0?n>this.size&&(this.loop?n%=this.size:n=this.size):0==this.size&&(n=0),n<0&&(n=0),n!=this.position)){this.position=n;for(var r=0,l=this.tracks.length;r<l;){var a=r++,h=this.tracks[a];if(!h.locked){n=this.position;var c=t;if(null==(e=i)&&(e=!1),null==c&&(c=!1),(c||n!=h.position)&&(h.size>0?n>h.size&&(h.loop?n%=h.size:n=h.size):0==h.size&&(n=0),n<0&&(n=0),n!=h.position)){h.position=n;var o=null,u=h.keyframeBeforeIndex;if(-1!=u)if((o=h.keyframes[u]).index<=h.position)for(var _=h.keyframes[u+1];null!=_&&_.index<=h.position;)o=_,++u,_=h.keyframes[u+1];else o=null;if(null==o){u=-1;for(var d=h.keyframes.length;u+1<d;){var b=h.keyframes[u+1];if(b.index>h.position)break;o=b,++u}}h.keyframeBeforeIndex=u,h.before=o;var f=null,p=h.keyframeAfterIndex;if(-1!=p&&null!=(f=h.keyframes[p]))if(f.index>h.position){if(p>0)for(var O=h.keyframes[p-1];null!=O&&O.index>h.position;)f=O,O=--p>0?h.keyframes[p-1]:null}else f=null;if(null==f){var g=h.keyframes.length;for(p=g;p-1>=0;){var m=h.keyframes[p-1];if(m.index<=h.position)break;f=m,--p}p>=g&&(p=-1)}h.keyframeAfterIndex=p,h.after=f,h.apply(e)}}}}if(this.position!=s){var w=Math.floor(this.position);if(w!=Math.floor(s)){var v=this.labelAtIndex(w);if(null!=v){var y=this.indexOfLabelBeforeIndex(w);-1!=y&&this.emitEndLabel(y,this.labelAtIndex(y)),this.emitStartLabel(w,v)}}}},inlineSeek:function(e,n,t){null==t&&(t=!1),null==n&&(n=!1);var i=this.position;if((n||e!=this.position)&&(this.startPosition>=0&&e<this.startPosition&&(e=this.startPosition),this.endPosition>=this.startPosition&&this.startPosition>=0&&e>this.endPosition&&(e=this.loop?this.startPosition+(e-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),this.size>0?e>this.size&&(this.loop?e%=this.size:e=this.size):0==this.size&&(e=0),e<0&&(e=0),e!=this.position)){this.position=e;for(var s=0,r=this.tracks.length;s<r;){var l=s++,a=this.tracks[l];if(!a.locked){e=this.position;var h=n,c=t;if(null==c&&(c=!1),null==h&&(h=!1),(h||e!=a.position)&&(a.size>0?e>a.size&&(a.loop?e%=a.size:e=a.size):0==a.size&&(e=0),e<0&&(e=0),e!=a.position)){a.position=e;var o=null,u=a.keyframeBeforeIndex;if(-1!=u)if((o=a.keyframes[u]).index<=a.position)for(var _=a.keyframes[u+1];null!=_&&_.index<=a.position;)o=_,++u,_=a.keyframes[u+1];else o=null;if(null==o){u=-1;for(var d=a.keyframes.length;u+1<d;){var b=a.keyframes[u+1];if(b.index>a.position)break;o=b,++u}}a.keyframeBeforeIndex=u,a.before=o;var f=null,p=a.keyframeAfterIndex;if(-1!=p&&null!=(f=a.keyframes[p]))if(f.index>a.position){if(p>0)for(var O=a.keyframes[p-1];null!=O&&O.index>a.position;)f=O,O=--p>0?a.keyframes[p-1]:null}else f=null;if(null==f){var g=a.keyframes.length;for(p=g;p-1>=0;){var m=a.keyframes[p-1];if(m.index<=a.position)break;f=m,--p}p>=g&&(p=-1)}a.keyframeAfterIndex=p,a.after=f,a.apply(c)}}}}if(this.position!=i){var w=Math.floor(this.position);if(w!=Math.floor(i)){var v=this.labelAtIndex(w);if(null!=v){var y=this.indexOfLabelBeforeIndex(w);-1!=y&&this.emitEndLabel(y,this.labelAtIndex(y)),this.emitStartLabel(w,v)}}}},clearCompleteHandlers:function(){if(null!=this.completeHandlers&&this.completeHandlers.length>0){var e;if(0!=(e=this.completeHandlers).length)if(e.length>0)e.splice(0,e.length);else e[-1]=null;if(0!=(e=this.completeHandlerIndexes).length)if(e.length>0)e.splice(0,e.length);else e[-1]=null}},didEmitEndLabel:function(e,n){if(null!=this.completeHandlers&&this.completeHandlers.length>0){for(var t=null,i=null,s=0,r=0,l=this.completeHandlerIndexes.length;r<l;){var a=r++;if(this.completeHandlerIndexes[a]==e){null==i&&(i=(t=ceramic_ArrayPool.pool(this.completeHandlers.length)).get());var h=this.completeHandlers[a];i.vector[s]=h,this.completeHandlers[a]=null,++s}}if(null!=this.completeHandlers&&this.completeHandlers.length>0){var c;if(0!=(c=this.completeHandlers).length)if(c.length>0)c.splice(0,c.length);else c[-1]=null;if(0!=(c=this.completeHandlerIndexes).length)if(c.length>0)c.splice(0,c.length);else c[-1]=null}for(r=0,l=s;r<l;){a=r++;(h=i.vector[a])()}null!=i&&t.release(i)}},add:function(e){null!=e.timeline&&e.timeline.remove(e),e.timeline!=this&&(this.tracks.push(e),e.timeline=this),this.autoFitSize&&this.fitSize()},get:function(e){for(var n=0,t=this.tracks.length;n<t;){var i=n++,s=this.tracks[i];if(s.id==e)return s}return null},remove:function(e){e.timeline==this&&(HxOverrides.remove(this.tracks,e),e.timeline=null),this.autoFitSize&&this.fitSize()},fitSize:function(){for(var e=0,n=0,t=this.tracks.length;n<t;){var i=n++,s=this.tracks[i];s.size>e&&(e=s.size)}this.size=e},indexOfLabelBeforeIndex:function(e){if(null==this.labelIndexes)return-1;for(var n=-1,t=0,i=this.labelIndexes.length;t<i;){var s=t++,r=this.labelIndexes[s];if(r==e)return n;if(r>e)break;n=r}return n},labelAtIndex:function(e){if(null==this.labelIndexes)return null;for(var n=0,t=this.labelIndexes.length;n<t;){var i=n++,s=this.labelIndexes[i];if(s==e)return this.labels[i];if(s>e)break}return null},indexOfLabel:function(e){if(null==this.labelIndexes)return-1;for(var n=0,t=this.labels.length;n<t;){var i=n++;if(e==this.labels[i])return this.labelIndexes[i]}return-1},setLabel:function(e,n){this.removeLabel(n),null==this.labelIndexes&&(this.labelIndexes=[],this.labels=[]),this.labelIndexes.push(e),this.labels.push(n),this.sortLabels()},removeLabelAtIndex:function(e){var n=!1;if(null!=this.labelIndexes){var t=this.labelIndexes.indexOf(e);-1!=t&&(this.labels.splice(t,1),this.labelIndexes.splice(t,1),n=!0)}return n},removeLabel:function(e){var n=!1;if(null!=this.labels){var t=this.labels.indexOf(e);-1!=t&&(this.labels.splice(t,1),this.labelIndexes.splice(t,1),n=!0)}return n},sortLabels:function(){this.labelIndexes.sort($bind(this,this.compareLabelIndexes)),this.labels.sort($bind(this,this.compareLabelNames))},compareLabelIndexes:function(e,n){return e>n?1:e<n?-1:0},compareLabelNames:function(e,n){var t=this.labels.indexOf(e),i=this.labelIndexes[t],s=this.labels.indexOf(n),r=this.labelIndexes[s];return i>r?1:i<r?-1:0},setEntity:function(e){this.entity=e instanceof ceramic_Entity?e:null},getEntity:function(){return this.entity},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offStartLabel(),this.offEndLabel()},__class__:ceramic_Timeline,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_endPosition:"set_endPosition",set_startPosition:"set_startPosition",set_paused:"set_paused",set_autoUpdate:"set_autoUpdate"})});var ceramic_TimelineKeyframe=function(e,n){this.easing=o.NONE,this.index=e,this.easing=n};t["ceramic.TimelineKeyframe"]=ceramic_TimelineKeyframe,ceramic_TimelineKeyframe.__name__="ceramic.TimelineKeyframe",ceramic_TimelineKeyframe.prototype={__class__:ceramic_TimelineKeyframe};var ceramic_TimelineBoolKeyframe=function(e,n,t){ceramic_TimelineKeyframe.call(this,n,t),this.value=e};t["ceramic.TimelineBoolKeyframe"]=ceramic_TimelineBoolKeyframe,ceramic_TimelineBoolKeyframe.__name__="ceramic.TimelineBoolKeyframe",ceramic_TimelineBoolKeyframe.__super__=ceramic_TimelineKeyframe,ceramic_TimelineBoolKeyframe.prototype=$extend(ceramic_TimelineKeyframe.prototype,{__class__:ceramic_TimelineBoolKeyframe});var ceramic_TimelineTrack=function(){this.keyframeAfterIndex=-1,this.keyframeBeforeIndex=-1,this.after=null,this.before=null,this.keyframes=[],this.position=0,this.timeline=null,this.locked=!1,this.loop=!1,this.autoFitSize=!0,this.size=0,ceramic_Entity.call(this)};t["ceramic.TimelineTrack"]=ceramic_TimelineTrack,ceramic_TimelineTrack.__name__="ceramic.TimelineTrack",ceramic_TimelineTrack.__super__=ceramic_Entity,ceramic_TimelineTrack.prototype=$extend(ceramic_Entity.prototype,{destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this.timeline&&this.timeline._lifecycleState>=0&&this.timeline.remove(this),this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this))},seek:function(e){var n=e;if(n!=this.position&&(this.size>0?n>this.size&&(this.loop?n%=this.size:n=this.size):0==this.size&&(n=0),n<0&&(n=0),n!=this.position)){this.position=n;var t=null;if(-1!=(r=this.keyframeBeforeIndex))if((t=this.keyframes[r]).index<=this.position)for(var i=this.keyframes[r+1];null!=i&&i.index<=this.position;)t=i,++r,i=this.keyframes[r+1];else t=null;if(null==t){r=-1;for(var s=this.keyframes.length;r+1<s;){if((a=this.keyframes[r+1]).index>this.position)break;t=a,++r}}this.keyframeBeforeIndex=r,this.before=t;var r;t=null;if(-1!=(r=this.keyframeAfterIndex)&&null!=(t=this.keyframes[r]))if(t.index>this.position){if(r>0)for(var l=this.keyframes[r-1];null!=l&&l.index>this.position;)t=l,l=--r>0?this.keyframes[r-1]:null}else t=null;if(null==t){for(r=s=this.keyframes.length;r-1>=0;){var a;if((a=this.keyframes[r-1]).index<=this.position)break;t=a,--r}r>=s&&(r=-1)}this.keyframeAfterIndex=r,this.after=t,this.apply(!1)}},inlineSeek:function(e,n,t){if(null==t&&(t=!1),null==n&&(n=!1),(n||e!=this.position)&&(this.size>0?e>this.size&&(this.loop?e%=this.size:e=this.size):0==this.size&&(e=0),e<0&&(e=0),e!=this.position)){this.position=e;var i=null;if(-1!=(l=this.keyframeBeforeIndex))if((i=this.keyframes[l]).index<=this.position)for(var s=this.keyframes[l+1];null!=s&&s.index<=this.position;)i=s,++l,s=this.keyframes[l+1];else i=null;if(null==i){l=-1;for(var r=this.keyframes.length;l+1<r;){if((h=this.keyframes[l+1]).index>this.position)break;i=h,++l}}this.keyframeBeforeIndex=l,this.before=i;var l;i=null;if(-1!=(l=this.keyframeAfterIndex)&&null!=(i=this.keyframes[l]))if(i.index>this.position){if(l>0)for(var a=this.keyframes[l-1];null!=a&&a.index>this.position;)i=a,a=--l>0?this.keyframes[l-1]:null}else i=null;if(null==i){for(l=r=this.keyframes.length;l-1>=0;){var h;if((h=this.keyframes[l-1]).index<=this.position)break;i=h,--l}l>=r&&(l=-1)}this.keyframeAfterIndex=l,this.after=i,this.apply(t)}},add:function(e){for(var n=this.keyframes,t=n.length,i=0,s=!1;i<t;){var r=n[i];if(r.index==e.index){ceramic_App.app.logger.warning("Replacing existing keyframe at index "+e.index,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TimelineTrack.hx",lineNumber:155,className:"ceramic.TimelineTrack",methodName:"add"}),n[i]=e,s=!0;break}if(r.index>e.index){n.splice(i,0,e),s=!0;break}++i}s||n.push(e),this.autoFitSize&&this.fitSize(),null!=this.timeline&&this.timeline.autoFitSize&&this.timeline.fitSize(),this.keyframeBeforeIndex=-1,this.keyframeAfterIndex=-1;var l=null;if(-1!=(h=this.keyframeBeforeIndex))if((l=this.keyframes[h]).index<=this.position)for(var a=this.keyframes[h+1];null!=a&&a.index<=this.position;)l=a,++h,a=this.keyframes[h+1];else l=null;if(null==l){h=-1;for(t=this.keyframes.length;h+1<t;){if((e=this.keyframes[h+1]).index>this.position)break;l=e,++h}}this.keyframeBeforeIndex=h,this.before=l;var h;l=null;if(-1!=(h=this.keyframeAfterIndex)&&null!=(l=this.keyframes[h]))if(l.index>this.position){if(h>0)for(var c=this.keyframes[h-1];null!=c&&c.index>this.position;)l=c,c=--h>0?this.keyframes[h-1]:null}else l=null;if(null==l){for(h=t=this.keyframes.length;h-1>=0;){if((e=this.keyframes[h-1]).index<=this.position)break;l=e,--h}h>=t&&(h=-1)}this.keyframeAfterIndex=h,this.after=l,this.apply(!0)},remove:function(e){if(-1!=(s=this.keyframes.indexOf(e))){this.keyframes.splice(s,1),this.autoFitSize&&this.fitSize(),null!=this.timeline&&this.timeline.autoFitSize&&this.timeline.fitSize(),this.keyframeBeforeIndex=-1,this.keyframeAfterIndex=-1;var n=null;if(-1!=(s=this.keyframeBeforeIndex))if((n=this.keyframes[s]).index<=this.position)for(var t=this.keyframes[s+1];null!=t&&t.index<=this.position;)n=t,++s,t=this.keyframes[s+1];else n=null;if(null==n){s=-1;for(var i=this.keyframes.length;s+1<i;){if((e=this.keyframes[s+1]).index>this.position)break;n=e,++s}}this.keyframeBeforeIndex=s,this.before=n;var s;n=null;if(-1!=(s=this.keyframeAfterIndex)&&null!=(n=this.keyframes[s]))if(n.index>this.position){if(s>0)for(var r=this.keyframes[s-1];null!=r&&r.index>this.position;)n=r,r=--s>0?this.keyframes[s-1]:null}else n=null;if(null==n){for(s=i=this.keyframes.length;s-1>=0;){if((e=this.keyframes[s-1]).index<=this.position)break;n=e,--s}s>=i&&(s=-1)}this.keyframeAfterIndex=s,this.after=n,this.apply(!0)}else ceramic_App.app.logger.warning("Failed to remove keyframe: keyframe not found in list",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TimelineTrack.hx",lineNumber:216,className:"ceramic.TimelineTrack",methodName:"remove"})},fitSize:function(){this.keyframes.length>0?this.size=this.keyframes[this.keyframes.length-1].index:this.size=0},apply:function(e){null==e&&(e=!1)},findKeyframeAtIndex:function(e){var n=this.findKeyframeBefore(e);return null!=n&&n.index==e?n:null},findKeyframeBefore:function(e){for(var n=null,t=-1,i=this.keyframes.length;t+1<i;){var s=this.keyframes[t+1];if(s.index>e)break;n=s,++t}return n},findKeyframeAfter:function(e){for(var n=null,t=-1,i=this.keyframes.length;t+1<i;){var s=this.keyframes[t+1];if(s.index>e)break;n=s,++t}return n},computeKeyframeBefore:function(){var e=null,n=this.keyframeBeforeIndex;if(-1!=n)if((e=this.keyframes[n]).index<=this.position)for(var t=this.keyframes[n+1];null!=t&&t.index<=this.position;)e=t,++n,t=this.keyframes[n+1];else e=null;if(null==e){n=-1;for(var i=this.keyframes.length;n+1<i;){var s=this.keyframes[n+1];if(s.index>this.position)break;e=s,++n}}this.keyframeBeforeIndex=n,this.before=e},computeKeyframeAfter:function(){var e=null,n=this.keyframeAfterIndex;if(-1!=n&&null!=(e=this.keyframes[n]))if(e.index>this.position){if(n>0)for(var t=this.keyframes[n-1];null!=t&&t.index>this.position;)e=t,t=--n>0?this.keyframes[n-1]:null}else e=null;if(null==e){var i=this.keyframes.length;for(n=i;n-1>=0;){var s=this.keyframes[n-1];if(s.index<=this.position)break;e=s,--n}n>=i&&(n=-1)}this.keyframeAfterIndex=n,this.after=e},__class__:ceramic_TimelineTrack});var ceramic_TimelineBoolTrack=function(){this.value=!1,ceramic_TimelineTrack.call(this)};t["ceramic.TimelineBoolTrack"]=ceramic_TimelineBoolTrack,ceramic_TimelineBoolTrack.__name__="ceramic.TimelineBoolTrack",ceramic_TimelineBoolTrack.__super__=ceramic_TimelineTrack,ceramic_TimelineBoolTrack.prototype=$extend(ceramic_TimelineTrack.prototype,{emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnChange)for(var r=0,l=this.__cbOnChange.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnChange[a],++s):--n}if(null!=this.__cbOnceChange){var h=null,c=null;for(r=0,l=this.__cbOnceChange.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceChange[a],this.__cbOnceChange[a]=null;var o=this.__cbOnceOwnerUnbindChange[a];this.__cbOnceOwnerUnbindChange[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindChange[a]),c.push(this.__cbOnceChange[a])}this.__cbOnceOwnerUnbindChange=h,this.__cbOnceChange=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(n)},onceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(n)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChange[n])&&r(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChange[n])&&r(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindChange[s])&&r()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindChange[s])&&r()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&this.__cbOnChange.length>0||null!=this.__cbOnceChange&&this.__cbOnceChange.length>0},apply:function(e){null==e&&(e=!1);var n=this.value;if(null!=this.before&&null!=this.after){var t=(this.position-this.before.index)/(this.after.index-this.before.index);t>1?t=1:t<0&&(t=0),this.value=t>=1?this.after.value:this.before.value}else null!=this.after?this.value=this.after.value:null!=this.before&&(this.value=this.before.value);(e||n!=this.value)&&this.emitChange(this)},unbindEvents:function(){ceramic_TimelineTrack.prototype.unbindEvents.call(this),this.offChange()},__class__:ceramic_TimelineBoolTrack});var ceramic_TimelineColorKeyframe=function(e,n,t){ceramic_TimelineKeyframe.call(this,n,t),this.value=e};t["ceramic.TimelineColorKeyframe"]=ceramic_TimelineColorKeyframe,ceramic_TimelineColorKeyframe.__name__="ceramic.TimelineColorKeyframe",ceramic_TimelineColorKeyframe.__super__=ceramic_TimelineKeyframe,ceramic_TimelineColorKeyframe.prototype=$extend(ceramic_TimelineKeyframe.prototype,{__class__:ceramic_TimelineColorKeyframe});var ceramic_TimelineColorTrack=function(){this.value=16777215,ceramic_TimelineTrack.call(this)};t["ceramic.TimelineColorTrack"]=ceramic_TimelineColorTrack,ceramic_TimelineColorTrack.__name__="ceramic.TimelineColorTrack",ceramic_TimelineColorTrack.__super__=ceramic_TimelineTrack,ceramic_TimelineColorTrack.prototype=$extend(ceramic_TimelineTrack.prototype,{emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnChange)for(var r=0,l=this.__cbOnChange.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnChange[a],++s):--n}if(null!=this.__cbOnceChange){var h=null,c=null;for(r=0,l=this.__cbOnceChange.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceChange[a],this.__cbOnceChange[a]=null;var o=this.__cbOnceOwnerUnbindChange[a];this.__cbOnceOwnerUnbindChange[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindChange[a]),c.push(this.__cbOnceChange[a])}this.__cbOnceOwnerUnbindChange=h,this.__cbOnceChange=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(n)},onceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(n)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChange[n])&&r(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChange[n])&&r(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindChange[s])&&r()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindChange[s])&&r()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&this.__cbOnChange.length>0||null!=this.__cbOnceChange&&this.__cbOnceChange.length>0},apply:function(e){null==e&&(e=!1);var n=this.value;if(null!=this.before&&null!=this.after){var t=(this.position-this.before.index)/(this.after.index-this.before.index);t>1?t=1:t<0&&(t=0);var i=this.before.value,s=this.after.value,r=ceramic_Tween.ease(this.after.easing,t);null==r&&(r=.5);var l=((s>>16&255)-(i>>16&255))*r+(i>>16&255)|0,a=((s>>8&255)-(i>>8&255))*r+(i>>8&255)|0,h=((255&s)-(255&i))*r+(255&i)|0,o=c._new();o&=65535,o|=(l>255?255:l<0?0:l)<<16,o&=16711935,o|=(a>255?255:a<0?0:a)<<8,o&=16776960,o|=h>255?255:h<0?0:h,this.value=o}else null!=this.after?this.value=this.after.value:null!=this.before&&(this.value=this.before.value);(e||n!=this.value)&&this.emitChange(this)},unbindEvents:function(){ceramic_TimelineTrack.prototype.unbindEvents.call(this),this.offChange()},__class__:ceramic_TimelineColorTrack});var ceramic_TimelineDegreesTrack=function(){this.value=0,ceramic_TimelineTrack.call(this)};t["ceramic.TimelineDegreesTrack"]=ceramic_TimelineDegreesTrack,ceramic_TimelineDegreesTrack.__name__="ceramic.TimelineDegreesTrack",ceramic_TimelineDegreesTrack.__super__=ceramic_TimelineTrack,ceramic_TimelineDegreesTrack.prototype=$extend(ceramic_TimelineTrack.prototype,{emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnChange)for(var r=0,l=this.__cbOnChange.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnChange[a],++s):--n}if(null!=this.__cbOnceChange){var h=null,c=null;for(r=0,l=this.__cbOnceChange.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceChange[a],this.__cbOnceChange[a]=null;var o=this.__cbOnceOwnerUnbindChange[a];this.__cbOnceOwnerUnbindChange[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindChange[a]),c.push(this.__cbOnceChange[a])}this.__cbOnceOwnerUnbindChange=h,this.__cbOnceChange=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(n)},onceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(n)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChange[n])&&r(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChange[n])&&r(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindChange[s])&&r()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindChange[s])&&r()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&this.__cbOnChange.length>0||null!=this.__cbOnceChange&&this.__cbOnceChange.length>0},apply:function(e){null==e&&(e=!1);var n=this.value,t=this.value;if(null!=this.before&&null!=this.after){var i=(this.position-this.before.index)/(this.after.index-this.before.index);i>1?i=1:i<0&&(i=0);for(var s=this.before.value;s<0;)s+=360;for(;s>=360;)s-=360;var r=s;for(s=this.after.value;s<0;)s+=360;for(;s>=360;)s-=360;var l=s,a=l-r;a>180?l-=360:a<-180&&(l+=360);for(s=t=r+(l-r)*ceramic_Tween.ease(this.after.easing,i);s<0;)s+=360;for(;s>=360;)s-=360;t=s}else if(null!=this.after){for(s=this.after.value;s<0;)s+=360;for(;s>=360;)s-=360;t=s}else if(null!=this.before){for(s=this.before.value;s<0;)s+=360;for(;s>=360;)s-=360;t=s}(e||n!=t)&&(this.value=t,this.emitChange(this))},unbindEvents:function(){ceramic_TimelineTrack.prototype.unbindEvents.call(this),this.offChange()},__class__:ceramic_TimelineDegreesTrack});var ceramic_TimelineFloatArrayKeyframe=function(e,n,t){ceramic_TimelineKeyframe.call(this,n,t),this.value=e};t["ceramic.TimelineFloatArrayKeyframe"]=ceramic_TimelineFloatArrayKeyframe,ceramic_TimelineFloatArrayKeyframe.__name__="ceramic.TimelineFloatArrayKeyframe",ceramic_TimelineFloatArrayKeyframe.__super__=ceramic_TimelineKeyframe,ceramic_TimelineFloatArrayKeyframe.prototype=$extend(ceramic_TimelineKeyframe.prototype,{__class__:ceramic_TimelineFloatArrayKeyframe});var ceramic_TimelineFloatArrayTrack=function(){this.value=[],ceramic_TimelineTrack.call(this)};t["ceramic.TimelineFloatArrayTrack"]=ceramic_TimelineFloatArrayTrack,ceramic_TimelineFloatArrayTrack.__name__="ceramic.TimelineFloatArrayTrack",ceramic_TimelineFloatArrayTrack.__super__=ceramic_TimelineTrack,ceramic_TimelineFloatArrayTrack.prototype=$extend(ceramic_TimelineTrack.prototype,{emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnChange)for(var r=0,l=this.__cbOnChange.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnChange[a],++s):--n}if(null!=this.__cbOnceChange){var h=null,c=null;for(r=0,l=this.__cbOnceChange.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceChange[a],this.__cbOnceChange[a]=null;var o=this.__cbOnceOwnerUnbindChange[a];this.__cbOnceOwnerUnbindChange[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindChange[a]),c.push(this.__cbOnceChange[a])}this.__cbOnceOwnerUnbindChange=h,this.__cbOnceChange=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(n)},onceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(n)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChange[n])&&r(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChange[n])&&r(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindChange[s])&&r()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindChange[s])&&r()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&this.__cbOnChange.length>0||null!=this.__cbOnceChange&&this.__cbOnceChange.length>0},apply:function(e){null==e&&(e=!1);var n=!1;if(null!=this.before&&null!=this.after){var t=(this.position-this.before.index)/(this.after.index-this.before.index);if(t>1?t=1:t<0&&(t=0),t>=1){var i=this.value,s=(p=this.after.value).length;if(i.length>s)if(i.length!=s)if(i.length>s)i.splice(s,i.length-s);else i[s-1]=null;for(var r=i.length,l=0,a=s;l<a;){var h=0;(O=l++)<r?h=i[O]:n=!0;var c=p[O];i[O]=c,c!=h&&(n=!0)}}else if(t<=0){i=this.value,s=(p=this.before.value).length;if(i.length>s)if(i.length!=s)if(i.length>s)i.splice(s,i.length-s);else i[s-1]=null;for(r=i.length,l=0,a=s;l<a;){h=0;(O=l++)<r?h=i[O]:n=!0;c=p[O];i[O]=c,c!=h&&(n=!0)}}else{i=this.value;var o=this.before.value,u=this.after.value,_=ceramic_Tween.ease(this.after.easing,t),d=u.length,b=o.length;s=d>b?b:d;if(i.length>s)if(i.length!=s)if(i.length>s)i.splice(s,i.length-s);else i[s-1]=null;for(r=i.length,l=0,a=s;l<a;){h=0;(O=l++)<r?h=i[O]:n=!0;var f=o[O];c=f+(u[O]-f)*_;i[O]=c,c!=h&&(n=!0)}}}else if(null!=this.after){i=this.value,s=(p=this.after.value).length;if(i.length>s)if(i.length!=s)if(i.length>s)i.splice(s,i.length-s);else i[s-1]=null;for(r=i.length,l=0,a=s;l<a;){h=0;(O=l++)<r?h=i[O]:n=!0;c=p[O];i[O]=c,c!=h&&(n=!0)}}else if(null!=this.before){var p;i=this.value,s=(p=this.before.value).length;if(i.length>s)if(i.length!=s)if(i.length>s)i.splice(s,i.length-s);else i[s-1]=null;for(r=i.length,l=0,a=s;l<a;){var O;h=0;(O=l++)<r?h=i[O]:n=!0;c=p[O];i[O]=c,c!=h&&(n=!0)}}(e||n)&&this.emitChange(this)},unbindEvents:function(){ceramic_TimelineTrack.prototype.unbindEvents.call(this),this.offChange()},__class__:ceramic_TimelineFloatArrayTrack});var ceramic_TimelineFloatKeyframe=function(e,n,t){ceramic_TimelineKeyframe.call(this,n,t),this.value=e};t["ceramic.TimelineFloatKeyframe"]=ceramic_TimelineFloatKeyframe,ceramic_TimelineFloatKeyframe.__name__="ceramic.TimelineFloatKeyframe",ceramic_TimelineFloatKeyframe.__super__=ceramic_TimelineKeyframe,ceramic_TimelineFloatKeyframe.prototype=$extend(ceramic_TimelineKeyframe.prototype,{__class__:ceramic_TimelineFloatKeyframe});var ceramic_TimelineFloatTrack=function(){this.value=0,ceramic_TimelineTrack.call(this)};t["ceramic.TimelineFloatTrack"]=ceramic_TimelineFloatTrack,ceramic_TimelineFloatTrack.__name__="ceramic.TimelineFloatTrack",ceramic_TimelineFloatTrack.__super__=ceramic_TimelineTrack,ceramic_TimelineFloatTrack.prototype=$extend(ceramic_TimelineTrack.prototype,{emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnChange)for(var r=0,l=this.__cbOnChange.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnChange[a],++s):--n}if(null!=this.__cbOnceChange){var h=null,c=null;for(r=0,l=this.__cbOnceChange.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceChange[a],this.__cbOnceChange[a]=null;var o=this.__cbOnceOwnerUnbindChange[a];this.__cbOnceOwnerUnbindChange[a]=null,null!=o&&o(),++s}else--n,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindChange[a]),c.push(this.__cbOnceChange[a])}this.__cbOnceOwnerUnbindChange=h,this.__cbOnceChange=c}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(n)},onceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(n)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChange[n])&&r(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChange[n])&&r(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindChange[s])&&r()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindChange[s])&&r()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&this.__cbOnChange.length>0||null!=this.__cbOnceChange&&this.__cbOnceChange.length>0},apply:function(e){null==e&&(e=!1);var n=this.value;if(null!=this.before&&null!=this.after){var t=(this.position-this.before.index)/(this.after.index-this.before.index);t>1?t=1:t<0&&(t=0),this.value=this.before.value+(this.after.value-this.before.value)*ceramic_Tween.ease(this.after.easing,t)}else null!=this.after?this.value=this.after.value:null!=this.before&&(this.value=this.before.value);(e||n!=this.value)&&this.emitChange(this)},unbindEvents:function(){ceramic_TimelineTrack.prototype.unbindEvents.call(this),this.offChange()},__class__:ceramic_TimelineFloatTrack});var ceramic_Timelines=function(){ceramic_Entity.call(this),this.onCreateTrack(this,$bind(this,this.handleCreateTrack)),this.onBindTrack(this,$bind(this,this.handleBindTrack)),this.onCreateKeyframe(this,$bind(this,this.handleCreateKeyframe))};t["ceramic.Timelines"]=ceramic_Timelines,ceramic_Timelines.__name__="ceramic.Timelines",ceramic_Timelines.__super__=ceramic_Entity,ceramic_Timelines.prototype=$extend(ceramic_Entity.prototype,{emitCreateTrack:function(e,n,t){var i=0;if(null!=this.__cbOnCreateTrack&&(i+=this.__cbOnCreateTrack.length),null!=this.__cbOnceCreateTrack&&(i+=this.__cbOnceCreateTrack.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnCreateTrack)for(var a=0,h=this.__cbOnCreateTrack.length;a<h;){var c=a++;!0?(r.vector[l]=this.__cbOnCreateTrack[c],++l):--i}if(null!=this.__cbOnceCreateTrack){var o=null,u=null;for(a=0,h=this.__cbOnceCreateTrack.length;a<h;){c=a++;if(!0){r.vector[l]=this.__cbOnceCreateTrack[c],this.__cbOnceCreateTrack[c]=null;var _=this.__cbOnceOwnerUnbindCreateTrack[c];this.__cbOnceOwnerUnbindCreateTrack[c]=null,null!=_&&_(),++l}else--i,null==o&&(o=[],u=[],[]),o.push(this.__cbOnceOwnerUnbindCreateTrack[c]),u.push(this.__cbOnceCreateTrack[c])}this.__cbOnceOwnerUnbindCreateTrack=o,this.__cbOnceCreateTrack=u}for(a=0,h=i;a<h;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onCreateTrack:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event createTrack because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCreateTrack(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindCreateTrack&&(this.__cbOnOwnerUnbindCreateTrack=[]),this.__cbOnOwnerUnbindCreateTrack.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindCreateTrack&&(this.__cbOnOwnerUnbindCreateTrack=[]),this.__cbOnOwnerUnbindCreateTrack.push(null);null==this.__cbOnCreateTrack&&(this.__cbOnCreateTrack=[]),this.__cbOnCreateTrack.push(n)},onceCreateTrack:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event createTrack because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCreateTrack(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindCreateTrack&&(this.__cbOnceOwnerUnbindCreateTrack=[]),this.__cbOnceOwnerUnbindCreateTrack.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindCreateTrack&&(this.__cbOnceOwnerUnbindCreateTrack=[]),this.__cbOnceOwnerUnbindCreateTrack.push(null);null==this.__cbOnceCreateTrack&&(this.__cbOnceCreateTrack=[]),this.__cbOnceCreateTrack.push(n)},offCreateTrack:function(e){if(null!=e){var n;null!=this.__cbOnCreateTrack&&-1!=(n=this.__cbOnCreateTrack.indexOf(e))&&(this.__cbOnCreateTrack.splice(n,1),null!=(r=this.__cbOnOwnerUnbindCreateTrack[n])&&r(),this.__cbOnOwnerUnbindCreateTrack.splice(n,1)),null!=this.__cbOnceCreateTrack&&-1!=(n=this.__cbOnceCreateTrack.indexOf(e))&&(this.__cbOnceCreateTrack.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindCreateTrack[n])&&r(),this.__cbOnceOwnerUnbindCreateTrack.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCreateTrack){for(var t=0,i=this.__cbOnOwnerUnbindCreateTrack.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindCreateTrack[s])&&r()}this.__cbOnOwnerUnbindCreateTrack=null}if(null!=this.__cbOnceOwnerUnbindCreateTrack){for(t=0,i=this.__cbOnceOwnerUnbindCreateTrack.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindCreateTrack[s])&&r()}this.__cbOnceOwnerUnbindCreateTrack=null}this.__cbOnCreateTrack=null,this.__cbOnceCreateTrack=null}},listensCreateTrack:function(){return null!=this.__cbOnCreateTrack&&this.__cbOnCreateTrack.length>0||null!=this.__cbOnceCreateTrack&&this.__cbOnceCreateTrack.length>0},emitBindTrack:function(e,n,t,i,s){var r=0;if(null!=this.__cbOnBindTrack&&(r+=this.__cbOnBindTrack.length),null!=this.__cbOnceBindTrack&&(r+=this.__cbOnceBindTrack.length),r>0){var l=ceramic_ArrayPool.pool(r),a=l.get(),h=0;if(null!=this.__cbOnBindTrack)for(var c=0,o=this.__cbOnBindTrack.length;c<o;){var u=c++;!0?(a.vector[h]=this.__cbOnBindTrack[u],++h):--r}if(null!=this.__cbOnceBindTrack){var _=null,d=null;for(c=0,o=this.__cbOnceBindTrack.length;c<o;){u=c++;if(!0){a.vector[h]=this.__cbOnceBindTrack[u],this.__cbOnceBindTrack[u]=null;var b=this.__cbOnceOwnerUnbindBindTrack[u];this.__cbOnceOwnerUnbindBindTrack[u]=null,null!=b&&b(),++h}else--r,null==_&&(_=[],d=[],[]),_.push(this.__cbOnceOwnerUnbindBindTrack[u]),d.push(this.__cbOnceBindTrack[u])}this.__cbOnceOwnerUnbindBindTrack=_,this.__cbOnceBindTrack=d}for(c=0,o=r;c<o;){h=c++;(0,a.vector[h])(e,n,t,i,s)}l.release(a),a=null}},onBindTrack:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event bindTrack because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBindTrack(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBindTrack&&(this.__cbOnOwnerUnbindBindTrack=[]),this.__cbOnOwnerUnbindBindTrack.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBindTrack&&(this.__cbOnOwnerUnbindBindTrack=[]),this.__cbOnOwnerUnbindBindTrack.push(null);null==this.__cbOnBindTrack&&(this.__cbOnBindTrack=[]),this.__cbOnBindTrack.push(n)},onceBindTrack:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event bindTrack because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBindTrack(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBindTrack&&(this.__cbOnceOwnerUnbindBindTrack=[]),this.__cbOnceOwnerUnbindBindTrack.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBindTrack&&(this.__cbOnceOwnerUnbindBindTrack=[]),this.__cbOnceOwnerUnbindBindTrack.push(null);null==this.__cbOnceBindTrack&&(this.__cbOnceBindTrack=[]),this.__cbOnceBindTrack.push(n)},offBindTrack:function(e){if(null!=e){var n;null!=this.__cbOnBindTrack&&-1!=(n=this.__cbOnBindTrack.indexOf(e))&&(this.__cbOnBindTrack.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBindTrack[n])&&r(),this.__cbOnOwnerUnbindBindTrack.splice(n,1)),null!=this.__cbOnceBindTrack&&-1!=(n=this.__cbOnceBindTrack.indexOf(e))&&(this.__cbOnceBindTrack.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBindTrack[n])&&r(),this.__cbOnceOwnerUnbindBindTrack.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBindTrack){for(var t=0,i=this.__cbOnOwnerUnbindBindTrack.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBindTrack[s])&&r()}this.__cbOnOwnerUnbindBindTrack=null}if(null!=this.__cbOnceOwnerUnbindBindTrack){for(t=0,i=this.__cbOnceOwnerUnbindBindTrack.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBindTrack[s])&&r()}this.__cbOnceOwnerUnbindBindTrack=null}this.__cbOnBindTrack=null,this.__cbOnceBindTrack=null}},listensBindTrack:function(){return null!=this.__cbOnBindTrack&&this.__cbOnBindTrack.length>0||null!=this.__cbOnceBindTrack&&this.__cbOnceBindTrack.length>0},emitCreateKeyframe:function(e,n,t,i,s,r,l){var a=0;if(null!=this.__cbOnCreateKeyframe&&(a+=this.__cbOnCreateKeyframe.length),null!=this.__cbOnceCreateKeyframe&&(a+=this.__cbOnceCreateKeyframe.length),a>0){var h=ceramic_ArrayPool.pool(a),c=h.get(),o=0;if(null!=this.__cbOnCreateKeyframe)for(var u=0,_=this.__cbOnCreateKeyframe.length;u<_;){var d=u++;!0?(c.vector[o]=this.__cbOnCreateKeyframe[d],++o):--a}if(null!=this.__cbOnceCreateKeyframe){var b=null,f=null;for(u=0,_=this.__cbOnceCreateKeyframe.length;u<_;){d=u++;if(!0){c.vector[o]=this.__cbOnceCreateKeyframe[d],this.__cbOnceCreateKeyframe[d]=null;var p=this.__cbOnceOwnerUnbindCreateKeyframe[d];this.__cbOnceOwnerUnbindCreateKeyframe[d]=null,null!=p&&p(),++o}else--a,null==b&&(b=[],f=[],[]),b.push(this.__cbOnceOwnerUnbindCreateKeyframe[d]),f.push(this.__cbOnceCreateKeyframe[d])}this.__cbOnceOwnerUnbindCreateKeyframe=b,this.__cbOnceCreateKeyframe=f}for(u=0,_=a;u<_;){o=u++;(0,c.vector[o])(e,n,t,i,s,r,l)}h.release(c),c=null}},onCreateKeyframe:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event createKeyframe because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCreateKeyframe(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindCreateKeyframe&&(this.__cbOnOwnerUnbindCreateKeyframe=[]),this.__cbOnOwnerUnbindCreateKeyframe.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindCreateKeyframe&&(this.__cbOnOwnerUnbindCreateKeyframe=[]),this.__cbOnOwnerUnbindCreateKeyframe.push(null);null==this.__cbOnCreateKeyframe&&(this.__cbOnCreateKeyframe=[]),this.__cbOnCreateKeyframe.push(n)},onceCreateKeyframe:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event createKeyframe because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCreateKeyframe(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindCreateKeyframe&&(this.__cbOnceOwnerUnbindCreateKeyframe=[]),this.__cbOnceOwnerUnbindCreateKeyframe.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindCreateKeyframe&&(this.__cbOnceOwnerUnbindCreateKeyframe=[]),this.__cbOnceOwnerUnbindCreateKeyframe.push(null);null==this.__cbOnceCreateKeyframe&&(this.__cbOnceCreateKeyframe=[]),this.__cbOnceCreateKeyframe.push(n)},offCreateKeyframe:function(e){if(null!=e){var n;null!=this.__cbOnCreateKeyframe&&-1!=(n=this.__cbOnCreateKeyframe.indexOf(e))&&(this.__cbOnCreateKeyframe.splice(n,1),null!=(r=this.__cbOnOwnerUnbindCreateKeyframe[n])&&r(),this.__cbOnOwnerUnbindCreateKeyframe.splice(n,1)),null!=this.__cbOnceCreateKeyframe&&-1!=(n=this.__cbOnceCreateKeyframe.indexOf(e))&&(this.__cbOnceCreateKeyframe.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindCreateKeyframe[n])&&r(),this.__cbOnceOwnerUnbindCreateKeyframe.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCreateKeyframe){for(var t=0,i=this.__cbOnOwnerUnbindCreateKeyframe.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindCreateKeyframe[s])&&r()}this.__cbOnOwnerUnbindCreateKeyframe=null}if(null!=this.__cbOnceOwnerUnbindCreateKeyframe){for(t=0,i=this.__cbOnceOwnerUnbindCreateKeyframe.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindCreateKeyframe[s])&&r()}this.__cbOnceOwnerUnbindCreateKeyframe=null}this.__cbOnCreateKeyframe=null,this.__cbOnceCreateKeyframe=null}},listensCreateKeyframe:function(){return null!=this.__cbOnCreateKeyframe&&this.__cbOnCreateKeyframe.length>0||null!=this.__cbOnceCreateKeyframe&&this.__cbOnceCreateKeyframe.length>0},handleCreateTrack:function(e,n,t){null==t.value&&(null!=n&&1==n.degrees?t.value=new ceramic_TimelineDegreesTrack:"Float"==e?t.value=new ceramic_TimelineFloatTrack:"ceramic.Color"==e?t.value=new ceramic_TimelineColorTrack:"Bool"==e?t.value=new ceramic_TimelineBoolTrack:"Array<Float>"==e&&(t.value=new ceramic_TimelineFloatArrayTrack))},handleBindTrack:function(e,n,t,i,s){if(t instanceof ceramic_TimelineFloatTrack)t.onChange(i,(function(e){Reflect.setProperty(i,s,e.value)}));else if(t instanceof ceramic_TimelineDegreesTrack){t.onChange(i,(function(e){Reflect.setProperty(i,s,e.value)}))}else if(t instanceof ceramic_TimelineColorTrack){t.onChange(i,(function(e){Reflect.setProperty(i,s,e.value)}))}else if(t instanceof ceramic_TimelineBoolTrack){t.onChange(i,(function(e){Reflect.setProperty(i,s,e.value)}))}else if(t instanceof ceramic_TimelineFloatArrayTrack){var r=null!=n&&1==n.copyArray;t.onChange(i,(function(e){var n=null;(r||null==(n=Reflect.getProperty(i,s)))&&(n=[]);var t=e.value,l=t.length;n.length!=l&&(n.length!=l&&(n.length>l?n.splice(l,n.length-l):n[l-1]=null));for(var a=0,h=l;a<h;){var c=a++,o=t[c];n[c]=o}Reflect.setProperty(i,s,n)}))}},handleCreateKeyframe:function(e,n,t,i,s,r,l){if(null==l.value)if("Float"==e)if(null!=r&&r instanceof ceramic_TimelineFloatKeyframe){var a=r;a.value=t,a.index=i,a.easing=s,l.value=a}else l.value=new ceramic_TimelineFloatKeyframe(t,i,s);else if("ceramic.Color"==e)if(null!=r&&r instanceof ceramic_TimelineColorKeyframe){var h=r;h.value=t,h.index=i,h.easing=s,l.value=h}else l.value=new ceramic_TimelineColorKeyframe(t,i,s);else if("Bool"==e)if(null!=r&&r instanceof ceramic_TimelineBoolKeyframe){var c=r;c.value=t,c.index=i,c.easing=s,l.value=c}else l.value=new ceramic_TimelineBoolKeyframe(t,i,s);else if("Array<Float>"==e)if(null!=r&&r instanceof ceramic_TimelineFloatArrayKeyframe){var o=r,u=t;o.value=[].concat(u),o.index=i,o.easing=s,l.value=o}else l.value=new ceramic_TimelineFloatArrayKeyframe(t,i,s)},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offCreateTrack(),this.offBindTrack(),this.offCreateKeyframe()},__class__:ceramic_Timelines});var ceramic_Timer=function(){};t["ceramic.Timer"]=ceramic_Timer,ceramic_Timer.__name__="ceramic.Timer",ceramic_Timer.__properties__={get_timestamp:"get_timestamp"},ceramic_Timer.get_timestamp=function(){return ceramic_Timer.startTimestamp+ceramic_Timer.now},ceramic_Timer.update=function(e,n){ceramic_Timer.now+=e,ceramic_Timer.timestamp=ceramic_Timer.startTimestamp+ceramic_Timer.now+n,ceramic_Timer.next<=ceramic_Timer.now&&ceramic_App.app.beginUpdateCallbacks.push(ceramic_Timer.flush)},ceramic_Timer.flush=function(){ceramic_Timer.next=999999999;var e=ceramic_Timer.callbacks;ceramic_Timer.callbacks=[];for(var n=0,t=e.length;n<t;){var i=e[n++];if(!i.cleared)if(null==i.owner||i.owner._lifecycleState>=0)if(i.time<=ceramic_Timer.now)if(i.interval>=0){for(;i.time<=ceramic_Timer.now&&!i.cleared&&(i.callback(),0!=i.interval);)i.time+=i.interval;i.cleared||(ceramic_Timer.callbacks.push(i),ceramic_Timer.next=Math.min(i.time,ceramic_Timer.next))}else i.callback();else ceramic_Timer.callbacks.push(i),ceramic_Timer.next=Math.min(i.time,ceramic_Timer.next);else i.cleared=!0}},ceramic_Timer.delay=function(e,n,t){return ceramic_Timer.schedule(e,n,t,-1)},ceramic_Timer.interval=function(e,n,t){return ceramic_Timer.schedule(e,n,t,n)},ceramic_Timer.schedule=function(e,n,t,i){var s=ceramic_Timer.now+n;ceramic_Timer.next=Math.min(s,ceramic_Timer.next);var r=new ceramic_TimerCallback;return r.owner=e,r.callback=t,r.time=s,r.interval=i,ceramic_Timer.callbacks.push(r),$bind(r,r.clear)};var ceramic_TimerCallback=function(){this.cleared=!1,this.interval=-1,this.time=0,this.callback=null,this.owner=null};t["ceramic.TimerCallback"]=ceramic_TimerCallback,ceramic_TimerCallback.__name__="ceramic.TimerCallback",ceramic_TimerCallback.prototype={clear:function(){this.cleared=!0},__class__:ceramic_TimerCallback};var ceramic_Touch=function(e,n,t,i,s){this.index=e,this.x=n,this.y=t,this.deltaX=i,this.deltaY=s};t["ceramic.Touch"]=ceramic_Touch,ceramic_Touch.__name__="ceramic.Touch",ceramic_Touch.prototype={toString:function(){return""+Std.string({index:this.index,x:this.x,y:this.y,deltaX:this.deltaX,deltaY:this.deltaY})},__class__:ceramic_Touch};var ceramic_TouchInfo=function(e,n,t,i,s){this.touchIndex=e,this.buttonId=n,this.x=t,this.y=i,this.hits=s};t["ceramic.TouchInfo"]=ceramic_TouchInfo,ceramic_TouchInfo.__name__="ceramic.TouchInfo",ceramic_TouchInfo.prototype={toString:function(){return""+Std.string({touchIndex:this.touchIndex,buttonId:this.buttonId,x:this.x,y:this.y,hits:this.hits})},__class__:ceramic_TouchInfo};var ceramic_TouchesIterator=function(e){this.intMap=e,this.i=0,this.len=this.intMap.values.length};t["ceramic.TouchesIterator"]=ceramic_TouchesIterator,ceramic_TouchesIterator.__name__="ceramic.TouchesIterator",ceramic_TouchesIterator.prototype={hasNext:function(){for(;this.i<this.len&&null==this.intMap.values[this.i];)this.i++;return this.i<this.len},next:function(){var e=this.i++;return this.intMap.values[e]},__class__:ceramic_TouchesIterator};var ceramic_TrackerBackend=function(){this.backgroundQueue=new ceramic_BackgroundQueue};t["ceramic.TrackerBackend"]=ceramic_TrackerBackend,ceramic_TrackerBackend.__name__="ceramic.TrackerBackend",ceramic_TrackerBackend.prototype={onceImmediate:function(e){ceramic_App.app._onceImmediate(e)},readString:function(e){return ceramic_App.app.backend.io.readString(e)},saveString:function(e,n){return ceramic_App.app.backend.io.saveString(e,n)},appendString:function(e,n){return ceramic_App.app.backend.io.appendString(e,n)},warning:function(e,n){ceramic_App.app.logger.warning(e,n)},error:function(e,n){ceramic_App.app.logger.error(e,n)},success:function(e,n){ceramic_App.app.logger.success(e,n)},runInBackground:function(e){this.backgroundQueue.schedule(e)},runInMain:function(e){ceramic_Runner.runInMain(e)},interval:function(e,n,t){return ceramic_Timer.schedule(e,n,t,n)},delay:function(e,n,t){return ceramic_Timer.schedule(e,n,t,-1)},storageDirectory:function(){return null},pathJoin:function(e){return ceramic_Path.join(e)},__class__:ceramic_TrackerBackend};var ceramic_TransformPool=function(){};t["ceramic.TransformPool"]=ceramic_TransformPool,ceramic_TransformPool.__name__="ceramic.TransformPool",ceramic_TransformPool.get=function(){return ceramic_TransformPool.availableTransforms.length>0?ceramic_TransformPool.availableTransforms.pop():new ceramic_Transform},ceramic_TransformPool.recycle=function(e){e.offChange(),e.a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e._aPrev=1,e._bPrev=0,e._cPrev=0,e._dPrev=1,e._txPrev=0,e._tyPrev=0,e.changed=!1,e.changedDirty=!1,ceramic_TransformPool.availableTransforms.push(e)},ceramic_TransformPool.clear=function(){ceramic_TransformPool.availableTransforms.length>0&&(ceramic_TransformPool.availableTransforms=[])};var ceramic_Tween=function(e,n,t,i,s){this.customEasing=null,ceramic_Entity.call(this),this.owner=e,this.easing=n,this.duration=t,this.fromValue=i,this.toValue=s,this.init()};t["ceramic.Tween"]=ceramic_Tween,ceramic_Tween.__name__="ceramic.Tween",ceramic_Tween.start=function(e,n,t,i,s,r){var l=new ceramic_Tween(e,null==n?o.QUAD_EASE_IN_OUT:n,t,i,s);return null!=r&&l.onUpdate(e,r),l},ceramic_Tween.tick=function(e){for(var n=ceramic_Tween._tweens.length,t=0,i=n;t<i;){var s=t++,r=ceramic_Tween._tweens[s];ceramic_Tween._iteratedTweens[s]=r}for(t=0,i=n;t<i;){s=t++,r=ceramic_Tween._iteratedTweens[s];if(ceramic_Tween._iteratedTweens[s]=null,null!=r.owner&&r.owner._lifecycleState<0)r.destroy();else if(r.remaining-=e,r.remaining<=0)r.emitUpdate(r.toValue,r.duration),r.emitComplete(),r.destroy();else{var l=r.duration-r.remaining;ceramic__$Tween_TweenEasingFunction.k=l/r.duration;ceramic__$Tween_TweenEasingFunction.k;ceramic__$Tween_TweenEasingFunction.customEasing=r.customEasing,r.computedEasing(),ceramic__$Tween_TweenEasingFunction.customEasing=null,r.emitUpdate(r.fromValue+(r.toValue-r.fromValue)*ceramic__$Tween_TweenEasingFunction.k,l)}}},ceramic_Tween.computeEasing=function(e){switch(e._hx_index){case 0:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.none;break;case 1:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.linear;break;case 2:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseIn;break;case 3:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseInOut;break;case 4:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseOut;break;case 5:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseIn;break;case 6:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseInOut;break;case 7:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseOut;break;case 8:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseIn;break;case 9:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseInOut;break;case 10:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseOut;break;case 11:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseIn;break;case 12:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseInOut;break;case 13:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseOut;break;case 14:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseIn;break;case 15:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseInOut;break;case 16:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseOut;break;case 17:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseIn;break;case 18:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseInOut;break;case 19:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseOut;break;case 20:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseIn;break;case 21:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseInOut;break;case 22:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseOut;break;case 23:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseIn;break;case 24:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseInOut;break;case 25:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseOut;break;case 26:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseIn;break;case 27:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseInOut;break;case 28:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseOut;break;case 29:var t=e.x1,i=e.y1,s=e.x2,r=e.y2;ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.custom,ceramic_Tween._computedCustomEasing=$bind(n=ceramic_BezierEasing.get(t,i,s,r),n.ease);break;case 30:var l=e.easing;ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.custom,ceramic_Tween._computedCustomEasing=l}},ceramic_Tween.ease=function(e,t){switch(ceramic__$Tween_TweenEasingFunction.k=t,e._hx_index){case 0:ceramic__$Tween_TweenEasingFunction.none();break;case 1:ceramic__$Tween_TweenEasingFunction.linear();break;case 2:ceramic__$Tween_TweenEasingFunction.backEaseIn();break;case 3:ceramic__$Tween_TweenEasingFunction.backEaseInOut();break;case 4:ceramic__$Tween_TweenEasingFunction.backEaseOut();break;case 5:ceramic__$Tween_TweenEasingFunction.quadEaseIn();break;case 6:ceramic__$Tween_TweenEasingFunction.quadEaseInOut();break;case 7:ceramic__$Tween_TweenEasingFunction.quadEaseOut();break;case 8:ceramic__$Tween_TweenEasingFunction.cubicEaseIn();break;case 9:ceramic__$Tween_TweenEasingFunction.cubicEaseInOut();break;case 10:ceramic__$Tween_TweenEasingFunction.cubicEaseOut();break;case 11:ceramic__$Tween_TweenEasingFunction.quartEaseIn();break;case 12:ceramic__$Tween_TweenEasingFunction.quartEaseInOut();break;case 13:ceramic__$Tween_TweenEasingFunction.quartEaseOut();break;case 14:ceramic__$Tween_TweenEasingFunction.quintEaseIn();break;case 15:ceramic__$Tween_TweenEasingFunction.quintEaseInOut();break;case 16:ceramic__$Tween_TweenEasingFunction.quintEaseOut();break;case 17:ceramic__$Tween_TweenEasingFunction.bounceEaseIn();break;case 18:ceramic__$Tween_TweenEasingFunction.bounceEaseInOut();break;case 19:ceramic__$Tween_TweenEasingFunction.bounceEaseOut();break;case 20:ceramic__$Tween_TweenEasingFunction.elasticEaseIn();break;case 21:ceramic__$Tween_TweenEasingFunction.elasticEaseInOut();break;case 22:ceramic__$Tween_TweenEasingFunction.elasticEaseOut();break;case 23:ceramic__$Tween_TweenEasingFunction.expoEaseIn();break;case 24:ceramic__$Tween_TweenEasingFunction.expoEaseInOut();break;case 25:ceramic__$Tween_TweenEasingFunction.expoEaseOut();break;case 26:ceramic__$Tween_TweenEasingFunction.sineEaseIn();break;case 27:ceramic__$Tween_TweenEasingFunction.sineEaseInOut();break;case 28:ceramic__$Tween_TweenEasingFunction.sineEaseOut();break;case 29:var i=e.x1,s=e.y1,r=e.x2,l=e.y2;ceramic__$Tween_TweenEasingFunction.customEasing=$bind(n=ceramic_BezierEasing.get(i,s,r,l),n.ease),ceramic__$Tween_TweenEasingFunction.custom(),ceramic__$Tween_TweenEasingFunction.customEasing=null;break;case 30:var a=e.easing;ceramic__$Tween_TweenEasingFunction.customEasing=a,ceramic__$Tween_TweenEasingFunction.custom(),ceramic__$Tween_TweenEasingFunction.customEasing=null}return ceramic__$Tween_TweenEasingFunction.k},ceramic_Tween.easingFunction=function(e){switch(e._hx_index){case 0:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.none;break;case 1:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.linear;break;case 2:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseIn;break;case 3:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseInOut;break;case 4:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseOut;break;case 5:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseIn;break;case 6:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseInOut;break;case 7:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseOut;break;case 8:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseIn;break;case 9:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseInOut;break;case 10:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseOut;break;case 11:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseIn;break;case 12:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseInOut;break;case 13:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseOut;break;case 14:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseIn;break;case 15:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseInOut;break;case 16:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseOut;break;case 17:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseIn;break;case 18:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseInOut;break;case 19:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseOut;break;case 20:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseIn;break;case 21:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseInOut;break;case 22:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseOut;break;case 23:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseIn;break;case 24:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseInOut;break;case 25:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseOut;break;case 26:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseIn;break;case 27:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseInOut;break;case 28:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseOut;break;case 29:var t=e.x1,i=e.y1,s=e.x2,r=e.y2;ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.custom,ceramic_Tween._computedCustomEasing=$bind(n=ceramic_BezierEasing.get(t,i,s,r),n.ease);break;case 30:var l=e.easing;ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.custom,ceramic_Tween._computedCustomEasing=l}var a=ceramic_Tween._computedEasingFunction,h=ceramic_Tween._computedCustomEasing;return function(e){return ceramic__$Tween_TweenEasingFunction.k=e,ceramic__$Tween_TweenEasingFunction.customEasing=h,a(),ceramic__$Tween_TweenEasingFunction.customEasing=null,ceramic__$Tween_TweenEasingFunction.k}},ceramic_Tween.__super__=ceramic_Entity,ceramic_Tween.prototype=$extend(ceramic_Entity.prototype,{emitUpdate:function(e,n){var t=0;if(null!=this.__cbOnUpdate&&(t+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(t+=this.__cbOnceUpdate.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnUpdate)for(var l=0,a=this.__cbOnUpdate.length;l<a;){var h=l++;!0?(s.vector[r]=this.__cbOnUpdate[h],++r):--t}if(null!=this.__cbOnceUpdate){var c=null,o=null;for(l=0,a=this.__cbOnceUpdate.length;l<a;){h=l++;if(!0){s.vector[r]=this.__cbOnceUpdate[h],this.__cbOnceUpdate[h]=null;var u=this.__cbOnceOwnerUnbindUpdate[h];this.__cbOnceOwnerUnbindUpdate[h]=null,null!=u&&u(),++r}else--t,null==c&&(c=[],o=[],[]),c.push(this.__cbOnceOwnerUnbindUpdate[h]),o.push(this.__cbOnceUpdate[h])}this.__cbOnceOwnerUnbindUpdate=c,this.__cbOnceUpdate=o}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(n)},onceUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(n)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdate[n])&&r(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdate[n])&&r(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindUpdate[s])&&r()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindUpdate[s])&&r()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&this.__cbOnUpdate.length>0||null!=this.__cbOnceUpdate&&this.__cbOnceUpdate.length>0},emitComplete:function(){var e=0;if(null!=this.__cbOnComplete&&(e+=this.__cbOnComplete.length),null!=this.__cbOnceComplete&&(e+=this.__cbOnceComplete.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnComplete)for(var s=0,r=this.__cbOnComplete.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnComplete[l],++i):--e}if(null!=this.__cbOnceComplete){var a=null,h=null;for(s=0,r=this.__cbOnceComplete.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceComplete[l],this.__cbOnceComplete[l]=null;var c=this.__cbOnceOwnerUnbindComplete[l];this.__cbOnceOwnerUnbindComplete[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindComplete[l]),h.push(this.__cbOnceComplete[l])}this.__cbOnceOwnerUnbindComplete=a,this.__cbOnceComplete=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onComplete:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event complete because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offComplete(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(null);null==this.__cbOnComplete&&(this.__cbOnComplete=[]),this.__cbOnComplete.push(n)},onceComplete:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event complete because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offComplete(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(null);null==this.__cbOnceComplete&&(this.__cbOnceComplete=[]),this.__cbOnceComplete.push(n)},offComplete:function(e){if(null!=e){var n;null!=this.__cbOnComplete&&-1!=(n=this.__cbOnComplete.indexOf(e))&&(this.__cbOnComplete.splice(n,1),null!=(r=this.__cbOnOwnerUnbindComplete[n])&&r(),this.__cbOnOwnerUnbindComplete.splice(n,1)),null!=this.__cbOnceComplete&&-1!=(n=this.__cbOnceComplete.indexOf(e))&&(this.__cbOnceComplete.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindComplete[n])&&r(),this.__cbOnceOwnerUnbindComplete.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComplete){for(var t=0,i=this.__cbOnOwnerUnbindComplete.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindComplete[s])&&r()}this.__cbOnOwnerUnbindComplete=null}if(null!=this.__cbOnceOwnerUnbindComplete){for(t=0,i=this.__cbOnceOwnerUnbindComplete.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindComplete[s])&&r()}this.__cbOnceOwnerUnbindComplete=null}this.__cbOnComplete=null,this.__cbOnceComplete=null}},listensComplete:function(){return null!=this.__cbOnComplete&&this.__cbOnComplete.length>0||null!=this.__cbOnceComplete&&this.__cbOnceComplete.length>0},init:function(){if(this.duration<=0)ceramic_App.app._onceImmediate($bind(this,this.immediateComplete));else{var e=this.easing;switch(e._hx_index){case 0:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.none;break;case 1:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.linear;break;case 2:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseIn;break;case 3:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseInOut;break;case 4:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseOut;break;case 5:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseIn;break;case 6:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseInOut;break;case 7:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseOut;break;case 8:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseIn;break;case 9:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseInOut;break;case 10:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseOut;break;case 11:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseIn;break;case 12:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseInOut;break;case 13:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseOut;break;case 14:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseIn;break;case 15:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseInOut;break;case 16:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseOut;break;case 17:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseIn;break;case 18:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseInOut;break;case 19:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseOut;break;case 20:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseIn;break;case 21:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseInOut;break;case 22:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseOut;break;case 23:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseIn;break;case 24:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseInOut;break;case 25:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseOut;break;case 26:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseIn;break;case 27:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseInOut;break;case 28:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseOut;break;case 29:var t=e.x1,i=e.y1,s=e.x2,r=e.y2;ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.custom,ceramic_Tween._computedCustomEasing=$bind(n=ceramic_BezierEasing.get(t,i,s,r),n.ease);break;case 30:var l=e.easing;ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.custom,ceramic_Tween._computedCustomEasing=l}this.computedEasing=ceramic_Tween._computedEasingFunction,this.customEasing=ceramic_Tween._computedCustomEasing,ceramic_Tween._computedEasingFunction=null,ceramic_Tween._computedCustomEasing=null,ceramic_Tween._tweens.push(this),this.remaining=this.duration,ceramic_App.app._onceImmediate($bind(this,this.immediateStart))}},updateFromTick:function(e){if(null!=this.owner&&this.owner._lifecycleState<0)this.destroy();else if(this.remaining-=e,this.remaining<=0)this.emitUpdate(this.toValue,this.duration),this.emitComplete(),this.destroy();else{var n=this.duration-this.remaining;ceramic__$Tween_TweenEasingFunction.k=n/this.duration;ceramic__$Tween_TweenEasingFunction.k;ceramic__$Tween_TweenEasingFunction.customEasing=this.customEasing,this.computedEasing(),ceramic__$Tween_TweenEasingFunction.customEasing=null,this.emitUpdate(this.fromValue+(this.toValue-this.fromValue)*ceramic__$Tween_TweenEasingFunction.k,n)}},immediateComplete:function(){this.emitUpdate(this.toValue,0),this.emitComplete(),this.destroy()},immediateStart:function(){this.emitUpdate(this.fromValue,0)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.easing=null,this.owner=null,this.computedEasing=null,this.customEasing=null,HxOverrides.remove(ceramic_Tween._tweens,this),this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this))},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offUpdate(),this.offComplete()},__class__:ceramic_Tween});var ceramic__$Tween_TweenEasingFunction=function(){};t["ceramic._Tween.TweenEasingFunction"]=ceramic__$Tween_TweenEasingFunction,ceramic__$Tween_TweenEasingFunction.__name__="ceramic._Tween.TweenEasingFunction",ceramic__$Tween_TweenEasingFunction.custom=function(){ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.customEasing(ceramic__$Tween_TweenEasingFunction.k)},ceramic__$Tween_TweenEasingFunction.none=function(){ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k>=1?1:0},ceramic__$Tween_TweenEasingFunction.linear=function(){},ceramic__$Tween_TweenEasingFunction.backEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*(2.70158*ceramic__$Tween_TweenEasingFunction.k-1.70158)},ceramic__$Tween_TweenEasingFunction.backEaseInOut=function(){var e=1.70158;if(((n=ceramic__$Tween_TweenEasingFunction).k*=2)<1)ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*((1+(e*=1.525))*ceramic__$Tween_TweenEasingFunction.k-e)*.5;else{var n=ceramic__$Tween_TweenEasingFunction;ceramic__$Tween_TweenEasingFunction.k=.5*((n.k-=2)*ceramic__$Tween_TweenEasingFunction.k*((1+(e*=1.525))*ceramic__$Tween_TweenEasingFunction.k+e)+2)}},ceramic__$Tween_TweenEasingFunction.backEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=(ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k-1)*ceramic__$Tween_TweenEasingFunction.k*(2.70158*ceramic__$Tween_TweenEasingFunction.k+1.70158)+1},ceramic__$Tween_TweenEasingFunction.quadEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k*=ceramic__$Tween_TweenEasingFunction.k},ceramic__$Tween_TweenEasingFunction.quadEaseInOut=function(){(ceramic__$Tween_TweenEasingFunction.k*=2)<1?ceramic__$Tween_TweenEasingFunction.k=.5*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k:ceramic__$Tween_TweenEasingFunction.k=-.5*((ceramic__$Tween_TweenEasingFunction.k-1)*(ceramic__$Tween_TweenEasingFunction.k-3)-1)},ceramic__$Tween_TweenEasingFunction.quadEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=-ceramic__$Tween_TweenEasingFunction.k*(ceramic__$Tween_TweenEasingFunction.k-2)},ceramic__$Tween_TweenEasingFunction.cubicEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k},ceramic__$Tween_TweenEasingFunction.cubicEaseInOut=function(){var e;(ceramic__$Tween_TweenEasingFunction.k/=.5)<1?e=.5*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k:e=.5*((ceramic__$Tween_TweenEasingFunction.k-=2)*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k+2);ceramic__$Tween_TweenEasingFunction.k=e},ceramic__$Tween_TweenEasingFunction.cubicEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=--ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k+1},ceramic__$Tween_TweenEasingFunction.quartEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k},ceramic__$Tween_TweenEasingFunction.quartEaseInOut=function(){if(((e=ceramic__$Tween_TweenEasingFunction).k*=2)<1)ceramic__$Tween_TweenEasingFunction.k=.5*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k;else{var e=ceramic__$Tween_TweenEasingFunction;ceramic__$Tween_TweenEasingFunction.k=-.5*((e.k-=2)*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k-2)}},ceramic__$Tween_TweenEasingFunction.quartEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=-(--ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k-1)},ceramic__$Tween_TweenEasingFunction.quintEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k},ceramic__$Tween_TweenEasingFunction.quintEaseInOut=function(){if(((e=ceramic__$Tween_TweenEasingFunction).k*=2)<1)ceramic__$Tween_TweenEasingFunction.k=.5*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k;else{var e=ceramic__$Tween_TweenEasingFunction;ceramic__$Tween_TweenEasingFunction.k=.5*((e.k-=2)*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k+2)}},ceramic__$Tween_TweenEasingFunction.quintEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=--ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k+1},ceramic__$Tween_TweenEasingFunction.bounceEaseIn=function(){var e,n=1-ceramic__$Tween_TweenEasingFunction.k;e=(n/=1)<.36363636363636365?7.5625*n*n:n<.7272727272727273?7.5625*(n-=.5454545454545454)*n+.75:n<.9090909090909091?7.5625*(n-=.8181818181818182)*n+.9375:7.5625*(n-=.9545454545454546)*n+.984375,ceramic__$Tween_TweenEasingFunction.k=1-e},ceramic__$Tween_TweenEasingFunction.bounceEaseInOut=function(){if(ceramic__$Tween_TweenEasingFunction.k<.5){var e=1-2*ceramic__$Tween_TweenEasingFunction.k;n=(e/=1)<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,ceramic__$Tween_TweenEasingFunction.k=.5*(1-n)}else{var n;e=2*ceramic__$Tween_TweenEasingFunction.k-1;n=(e/=1)<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,ceramic__$Tween_TweenEasingFunction.k=.5*n+.5}},ceramic__$Tween_TweenEasingFunction.bounceEaseOut=function(){var e,n=ceramic__$Tween_TweenEasingFunction.k;e=(n/=1)<.36363636363636365?7.5625*n*n:n<.7272727272727273?7.5625*(n-=.5454545454545454)*n+.75:n<.9090909090909091?7.5625*(n-=.8181818181818182)*n+.9375:7.5625*(n-=.9545454545454546)*n+.984375,ceramic__$Tween_TweenEasingFunction.k=e},ceramic__$Tween_TweenEasingFunction._bounceEaseIn=function(e,n,t,i){var s=i-e;return t-((s/=i)<.36363636363636365?t*(7.5625*s*s):s<.7272727272727273?t*(7.5625*(s-=.5454545454545454)*s+.75):s<.9090909090909091?t*(7.5625*(s-=.8181818181818182)*s+.9375):t*(7.5625*(s-=.9545454545454546)*s+.984375))+n},ceramic__$Tween_TweenEasingFunction._bounceEaseOut=function(e,n,t,i){return(e/=i)<.36363636363636365?t*(7.5625*e*e)+n:e<.7272727272727273?t*(7.5625*(e-=.5454545454545454)*e+.75)+n:e<.9090909090909091?t*(7.5625*(e-=.8181818181818182)*e+.9375)+n:t*(7.5625*(e-=.9545454545454546)*e+.984375)+n},ceramic__$Tween_TweenEasingFunction.elasticEaseIn=function(){if(0!=ceramic__$Tween_TweenEasingFunction.k&&1!=ceramic__$Tween_TweenEasingFunction.k){var e,n=.1;n<1?(n=1,e=.1):e=.4/(2*Math.PI)*Math.asin(1/n);var t=ceramic__$Tween_TweenEasingFunction;ceramic__$Tween_TweenEasingFunction.k=-n*Math.exp(6.931471805599453*(t.k-=1))*Math.sin((ceramic__$Tween_TweenEasingFunction.k-e)*(2*Math.PI)/.4)}},ceramic__$Tween_TweenEasingFunction.elasticEaseInOut=function(){if(0!=ceramic__$Tween_TweenEasingFunction.k)if(2!=((t=ceramic__$Tween_TweenEasingFunction).k*=2)){var e=.44999999999999996,n=e/4;if(ceramic__$Tween_TweenEasingFunction.k<1){var t=ceramic__$Tween_TweenEasingFunction;ceramic__$Tween_TweenEasingFunction.k=Math.exp(6.931471805599453*(t.k-=1))*Math.sin((ceramic__$Tween_TweenEasingFunction.k-n)*(2*Math.PI)/e)*-.5}else{t=ceramic__$Tween_TweenEasingFunction;ceramic__$Tween_TweenEasingFunction.k=Math.exp(-6.931471805599453*(t.k-=1))*Math.sin((ceramic__$Tween_TweenEasingFunction.k-n)*(2*Math.PI)/e)*.5+1}}else ceramic__$Tween_TweenEasingFunction.k=1},ceramic__$Tween_TweenEasingFunction.elasticEaseOut=function(){if(0!=ceramic__$Tween_TweenEasingFunction.k&&1!=ceramic__$Tween_TweenEasingFunction.k){var e,n=.1;n<1?(n=1,e=.1):e=.4/(2*Math.PI)*Math.asin(1/n),ceramic__$Tween_TweenEasingFunction.k=n*Math.exp(-6.931471805599453*ceramic__$Tween_TweenEasingFunction.k)*Math.sin((ceramic__$Tween_TweenEasingFunction.k-e)*(2*Math.PI)/.4)+1}},ceramic__$Tween_TweenEasingFunction.expoEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k=0==ceramic__$Tween_TweenEasingFunction.k?0:Math.exp(6.931471805599453*(ceramic__$Tween_TweenEasingFunction.k-1))},ceramic__$Tween_TweenEasingFunction.expoEaseInOut=function(){0!=ceramic__$Tween_TweenEasingFunction.k&&(1!=ceramic__$Tween_TweenEasingFunction.k&&((ceramic__$Tween_TweenEasingFunction.k/=.5)<1?ceramic__$Tween_TweenEasingFunction.k=.5*Math.exp(6.931471805599453*(ceramic__$Tween_TweenEasingFunction.k-1)):ceramic__$Tween_TweenEasingFunction.k=.5*(2-Math.exp(-6.931471805599453*--ceramic__$Tween_TweenEasingFunction.k))))},ceramic__$Tween_TweenEasingFunction.expoEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=1==ceramic__$Tween_TweenEasingFunction.k?1:1-Math.exp(-6.931471805599453*ceramic__$Tween_TweenEasingFunction.k)},ceramic__$Tween_TweenEasingFunction.sineEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k=1-Math.cos(ceramic__$Tween_TweenEasingFunction.k*(Math.PI/2))},ceramic__$Tween_TweenEasingFunction.sineEaseInOut=function(){ceramic__$Tween_TweenEasingFunction.k=-(Math.cos(Math.PI*ceramic__$Tween_TweenEasingFunction.k)-1)/2},ceramic__$Tween_TweenEasingFunction.sineEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=Math.sin(ceramic__$Tween_TweenEasingFunction.k*(Math.PI/2))};var ceramic_Utils=function(){};t["ceramic.Utils"]=ceramic_Utils,ceramic_Utils.__name__="ceramic.Utils",ceramic_Utils.realPath=function(e){return ceramic_Path.isAbsolute(e)||StringTools.startsWith(e,"http://")||StringTools.startsWith(e,"https://")||(e=ceramic_Path.join([ceramic_App.app.settings.assetsPath,e])),e},ceramic_Utils.getRtti=function(e){return ceramic_PlatformSpecific.getRtti(e)},ceramic_Utils.uniqueId=function(){switch(ceramic_Utils._nextUniqueIntCursor){case 0:ceramic_Utils._nextUniqueInt0=(ceramic_Utils._nextUniqueInt0+1)%2147483647;break;case 1:ceramic_Utils._nextUniqueInt1=(ceramic_Utils._nextUniqueInt1+1)%2147483647;break;case 2:ceramic_Utils._nextUniqueInt2=(ceramic_Utils._nextUniqueInt2+1)%2147483647;break;case 3:ceramic_Utils._nextUniqueInt3=(ceramic_Utils._nextUniqueInt3+1)%2147483647}ceramic_Utils._nextUniqueIntCursor=(ceramic_Utils._nextUniqueIntCursor+1)%4,null==(o=ceramic_Utils._nextUniqueInt0)&&(o=2147483646*Math.random()|0);var e,n=o%62|0;if((u=o/62|0)>0){null==(o=u)&&(o=2147483646*Math.random()|0);var t=o%62|0;if((u=o/62|0)>0){var i=ceramic_Utils.base62Id(u);if(t>9)(b=t-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(t).charAt(0);s=i+r}else{if(t>9)(b=t-10+65)>90&&(b+=6),i=String.fromCodePoint(b);else i=Std.string(t).charAt(0);s=Std.string(i)}if(n>9)(b=n-10+65)>90&&(b+=6),i=String.fromCodePoint(b);else i=Std.string(n).charAt(0);e=s+i}else{if(n>9)(b=n-10+65)>90&&(b+=6),s=String.fromCodePoint(b);else s=Std.string(n).charAt(0);e=Std.string(s)}null==(o=null)&&(o=2147483646*Math.random()|0);var s;n=o%62|0;if((u=o/62|0)>0){null==(o=u)&&(o=2147483646*Math.random()|0);t=o%62|0;if((u=o/62|0)>0){var r=ceramic_Utils.base62Id(u);if(t>9)(b=t-10+65)>90&&(b+=6),l=String.fromCodePoint(b);else l=Std.string(t).charAt(0);i=r+l}else{if(t>9)(b=t-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(t).charAt(0);i=Std.string(r)}if(n>9)(b=n-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(n).charAt(0);s=i+r}else{if(n>9)(b=n-10+65)>90&&(b+=6),i=String.fromCodePoint(b);else i=Std.string(n).charAt(0);s=Std.string(i)}null==(o=ceramic_Utils._nextUniqueInt1)&&(o=2147483646*Math.random()|0);n=o%62|0;if((u=o/62|0)>0){null==(o=u)&&(o=2147483646*Math.random()|0);t=o%62|0;if((u=o/62|0)>0){var l=ceramic_Utils.base62Id(u);if(t>9)(b=t-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(t).charAt(0);r=l+a}else{if(t>9)(b=t-10+65)>90&&(b+=6),l=String.fromCodePoint(b);else l=Std.string(t).charAt(0);r=Std.string(l)}if(n>9)(b=n-10+65)>90&&(b+=6),l=String.fromCodePoint(b);else l=Std.string(n).charAt(0);i=r+l}else{if(n>9)(b=n-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(n).charAt(0);i=Std.string(r)}null==(o=null)&&(o=2147483646*Math.random()|0);n=o%62|0;if((u=o/62|0)>0){null==(o=u)&&(o=2147483646*Math.random()|0);t=o%62|0;if((u=o/62|0)>0){var a=ceramic_Utils.base62Id(u);if(t>9)(b=t-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(t).charAt(0);l=a+h}else{if(t>9)(b=t-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(t).charAt(0);l=Std.string(a)}if(n>9)(b=n-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(n).charAt(0);r=l+a}else{if(n>9)(b=n-10+65)>90&&(b+=6),l=String.fromCodePoint(b);else l=Std.string(n).charAt(0);r=Std.string(l)}null==(o=ceramic_Utils._nextUniqueInt2)&&(o=2147483646*Math.random()|0);n=o%62|0;if((u=o/62|0)>0){null==(o=u)&&(o=2147483646*Math.random()|0);t=o%62|0;if((u=o/62|0)>0){var h=ceramic_Utils.base62Id(u);if(t>9)(b=t-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(t).charAt(0);a=h+c}else{if(t>9)(b=t-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(t).charAt(0);a=Std.string(h)}if(n>9)(b=n-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(n).charAt(0);l=a+h}else{if(n>9)(b=n-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(n).charAt(0);l=Std.string(a)}null==(o=null)&&(o=2147483646*Math.random()|0);n=o%62|0;if((u=o/62|0)>0){null==(o=u)&&(o=2147483646*Math.random()|0);t=o%62|0;if((u=o/62|0)>0){var c=ceramic_Utils.base62Id(u);if(t>9)(b=t-10+65)>90&&(b+=6),d=String.fromCodePoint(b);else d=Std.string(t).charAt(0);h=c+d}else{if(t>9)(b=t-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(t).charAt(0);h=Std.string(c)}if(n>9)(b=n-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(n).charAt(0);a=h+c}else{if(n>9)(b=n-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(n).charAt(0);a=Std.string(h)}null==(o=ceramic_Utils._nextUniqueInt3)&&(o=2147483646*Math.random()|0);n=o%62|0;if((u=o/62|0)>0){var o;null==(o=u)&&(o=2147483646*Math.random()|0);var u;t=o%62|0;if((u=o/62|0)>0){var _,d=ceramic_Utils.base62Id(u);if(t>9)(b=t-10+65)>90&&(b+=6),_=String.fromCodePoint(b);else _=Std.string(t).charAt(0);c=d+_}else{if(t>9)(b=t-10+65)>90&&(b+=6),d=String.fromCodePoint(b);else d=Std.string(t).charAt(0);c=Std.string(d)}if(n>9)(b=n-10+65)>90&&(b+=6),d=String.fromCodePoint(b);else d=Std.string(n).charAt(0);h=c+d}else{var b;if(n>9)(b=n-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(n).charAt(0);h=Std.string(c)}return c=e+"-"+s+"-"+i+"-"+r+"-"+l+"-"+a+"-"+h},ceramic_Utils.randomId=function(e){null==e&&(e=32);for(var n=[];n.length<e;){var t=null;null==t&&(t=2147483646*Math.random()|0);var i,s=t%62|0,r=t/62|0;if(r>0){var l=r;null==l&&(l=2147483646*Math.random()|0);var a,h,c=l%62|0,o=l/62|0;if(o>0){var u,_=ceramic_Utils.base62Id(o);if(c>9){var d=c-10+65;d>90&&(d+=6),u=String.fromCodePoint(d)}else u=Std.string(c).charAt(0);a=_+u}else{var b;if(c>9){var f=c-10+65;f>90&&(f+=6),b=String.fromCodePoint(f)}else b=Std.string(c).charAt(0);a=Std.string(b)}if(s>9){var p=s-10+65;p>90&&(p+=6),h=String.fromCodePoint(p)}else h=Std.string(s).charAt(0);i=a+h}else{var O;if(s>9){var g=s-10+65;g>90&&(g+=6),O=String.fromCodePoint(g)}else O=Std.string(s).charAt(0);i=Std.string(O)}for(var m=0,w=i.length;m<w;){var v=m++;n.push(i.charAt(v))}}return ceramic_Extensions.shuffle(n),HxOverrides.substr(n.join(""),0,e)},ceramic_Utils.persistentId=function(e,n){null==n&&(n=32),null==e&&(e=0),null==ceramic_Utils._persistentIds&&(ceramic_Utils._persistentIds=new haxe_ds_IntMap);var t=ceramic_Utils._persistentIds.h[e];return null!=t?t:null!=(t=ceramic_App.app.backend.io.readString("persistentId_"+e))?(ceramic_Utils._persistentIds.h[e]=t,t):(t=ceramic_Utils.randomId(n),ceramic_App.app.backend.io.saveString("persistentId_"+e,t)||ceramic_App.app.logger.warning("Failed to save persistent id ("+t+") at slot "+e,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Utils.hx",lineNumber:124,className:"ceramic.Utils",methodName:"persistentId"}),ceramic_Utils._persistentIds.h[e]=t,t)},ceramic_Utils.resetPersistentId=function(e){null==e&&(e=0),null!=ceramic_Utils._persistentIds&&ceramic_Utils._persistentIds.remove(e),ceramic_App.app.backend.io.saveString("persistentId_"+e,null)},ceramic_Utils.base62Id=function(e){null==e&&(e=2147483646*Math.random()|0);var n=e%62|0,t=e/62|0;if(t>0){var i,s,r=ceramic_Utils.base62Id(t);if(n>9)(s=n-10+65)>90&&(s+=6),i=String.fromCodePoint(s);else i=(null==n?"null":""+n).charAt(0);return r+i}return n>9?((s=n-10+65)>90&&(s+=6),r=String.fromCodePoint(s)):r=(null==n?"null":""+n).charAt(0),Std.string(r)},ceramic_Utils.printStackTrace=function(){var e=null,n=null;try{throw new Error}catch(e){n=e}var t=(""+Std.string(n.stack)).split("\n"),i=t.length-1,s=-1!=navigator.platform.indexOf("Win");for(e=backend_ElectronRunner.electronRunner;i>=2;){var r=t[i];r=StringTools.ltrim(r),null!=e&&(r=StringTools.replace(r,"http://localhost:"+Std.string(e.serverPort)+"/file:"+(s?"/":""),""),r=StringTools.replace(r,"http://localhost:"+Std.string(e.serverPort)+"/",Std.string(e.appFiles)+"/"));var l=r;null!=e?e.consoleLog("[error] "+Std.string(l)):console.log(""+Std.string(l)),--i}return""},ceramic_Utils.stackItemToString=function(e){var n="";switch(e._hx_index){case 0:n="a C function";break;case 1:n="module "+e.m;break;case 2:e.column;var t=e.s,i=e.file,s=e.line;null!=t&&(n=ceramic_Utils.stackItemToString(t)+" ("),n+=i,n+=" line ",n+=s,null!=t&&(n+=")");break;case 3:n+=e.classname,n+=".",n+=e.method;break;case 4:n+="local function #",n+=e.v}return n},ceramic_Utils.radToDeg=function(e){return 57.29577951308232*e},ceramic_Utils.degToRad=function(e){return.017453292519943295*e},ceramic_Utils.round=function(e,n){if(null==n&&(n=0),n>0){for(var t=1;n-- >0;)t*=10;return Math.round(e*t)/t}return Math.round(e)},ceramic_Utils.clampDegrees=function(e){for(;e<0;)e+=360;for(;e>=360;)e-=360;return e},ceramic_Utils.hashCode=function(e){var n=0;if(0==e.length)return n;for(var t=0,i=e.length;t<i;){var s=t++;n=(n<<5)-n+HxOverrides.cca(e,s),n&=n}return n},ceramic_Utils.uniformFrequencyList=function(e,n,t){for(var i=[],s=[],r=0,l=e.length;r<l;){s[u=r++]=0}for(r=0,l=n.length;r<l;){s[u=r++]+=n[u]}for(r=0,l=t;r<l;){r++;for(var a=0,h=0,c=0,o=e.length;c<o;){var u,_=s[u=c++];_>h&&(a=u,h=_)}i.push(e[a]),s[a]-=1;for(var d=0,b=n.length;d<b;){var f=d++;s[f]+=n[f]}}return i},ceramic_Utils.upperCaseToCamelCase=function(e,n){null==n&&(n=!0);for(var t="",i=e.length,s=0,r=n;s<i;){var l=e.charAt(s);"_"==l?r=!0:r?(r=!1,t+=Std.string(l.toUpperCase())):t+=Std.string(l.toLowerCase()),++s}return t},ceramic_Utils.camelCaseToUpperCase=function(e,n){null==n&&(n=!0);for(var t="",i=e.length,s=0,r=!1;s<i;){var l=e.charAt(s);if("."==l)t+="_",r=!1;else if(ceramic_Utils.RE_ASCII_CHAR.match(l)){var a=l.toUpperCase(),h=l==a;r&&h&&(t+="_",r=!1),t+=null==a?"null":""+a,r=!h}else t+="_",r=!1;++s}for(var c=t;StringTools.endsWith(c,"_");)c=HxOverrides.substr(c,0,c.length-1);return c},ceramic_Utils.functionEquals=function(e,n){return e==n},ceramic_Utils.decodeUriParams=function(e){for(var n=new haxe_ds_StringMap,t=e.split("&"),i=0;i<t.length;){var s=t[i];++i;var r=s.indexOf("=");if(-1!=r){var l=s.substring(0,r),a=decodeURIComponent(l.split("+").join(" ")),h=s.substring(r+1),c=decodeURIComponent(h.split("+").join(" "));n.h[a]=c}}return n},ceramic_Utils.sinRatio=function(e){return e>=1&&(e%=1),.5*(Math.sin(e*Math.PI*2)+1)},ceramic_Utils.cosRatio=function(e){return e>=1&&(e%=1),.5*(Math.cos(e*Math.PI*2)+1)},ceramic_Utils.valueFromInterpolatedKey=function(e,n,t){var i=e.length-1,s=0;if(t<e[0])s=n[0];else if(t>=e[i])s=n[i];else{for(var r=0,l=1;t>e[l];)++r,++l;var a=(t-e[r])/(e[l]-e[r]);s=n[r]+(n[l]-n[r])*a}return s};var ceramic_VisualTransition=function(e,n){null==n&&(n=.3),this.initializerName=null,this.transformInTransition=null,this.transformEndToNull=!1,this.transformEnd=null,this.transformStart=null,this.transformTarget=null,this.transformTween=null,this.transformAssignedInstance=null,this.transformAssigned=!1,this.transformChanged=!1,this.translateYEnd=0,this.translateYStart=0,this.translateYTarget=0,this.translateYTween=null,this.translateYChanged=!1,this.translateXEnd=0,this.translateXStart=0,this.translateXTarget=0,this.translateXTween=null,this.translateXChanged=!1,this.alphaEnd=0,this.alphaStart=0,this.alphaTarget=0,this.alphaTween=null,this.alphaChanged=!1,this.colorEnd=-1,this.colorStart=-1,this.colorTarget=-1,this.colorTween=null,this.colorChanged=!1,this.heightEnd=0,this.heightStart=0,this.heightTarget=0,this.heightTween=null,this.heightChanged=!1,this.widthEnd=0,this.widthStart=0,this.widthTarget=0,this.widthTween=null,this.widthChanged=!1,this.rotationEnd=0,this.rotationStart=0,this.rotationTarget=0,this.rotationTween=null,this.rotationChanged=!1,this.anchorYEnd=0,this.anchorYStart=0,this.anchorYTarget=0,this.anchorYTween=null,this.anchorYChanged=!1,this.anchorXEnd=0,this.anchorXStart=0,this.anchorXTarget=0,this.anchorXTween=null,this.anchorXChanged=!1,this.skewYEnd=0,this.skewYStart=0,this.skewYTarget=0,this.skewYTween=null,this.skewYChanged=!1,this.skewXEnd=0,this.skewXStart=0,this.skewXTarget=0,this.skewXTween=null,this.skewXChanged=!1,this.scaleYEnd=0,this.scaleYStart=0,this.scaleYTarget=0,this.scaleYTween=null,this.scaleYChanged=!1,this.scaleXEnd=0,this.scaleXStart=0,this.scaleXTarget=0,this.scaleXTween=null,this.scaleXChanged=!1,this.yEnd=0,this.yStart=0,this.yTarget=0,this.yTween=null,this.yChanged=!1,this.xEnd=0,this.xStart=0,this.xTarget=0,this.xTween=null,this.xChanged=!1,this.anyPropertyChanged=!1,ceramic_Entity.call(this),this.easing=e,this.duration=n};t["ceramic.VisualTransition"]=ceramic_VisualTransition,ceramic_VisualTransition.__name__="ceramic.VisualTransition",ceramic_VisualTransition.__interfaces__=[ceramic_Component],ceramic_VisualTransition.transition=function(e,n,t,i){var s=e.component("transition");return null==s&&(s=new ceramic_VisualTransition,e.component("transition",s)),s.run(n,t,i)},ceramic_VisualTransition.__super__=ceramic_Entity,ceramic_VisualTransition.prototype=$extend(ceramic_Entity.prototype,{bindAsComponent:function(){},run:function(e,n,t){var i=this;null==e&&(e=this.easing),-1==n&&(n=this.duration),this.anyPropertyChanged=!1,this.xChanged=!1,this.yChanged=!1,this.scaleXChanged=!1,this.scaleYChanged=!1,this.translateXChanged=!1,this.translateYChanged=!1,this.skewXChanged=!1,this.skewYChanged=!1,this.anchorXChanged=!1,this.anchorYChanged=!1,this.rotationChanged=!1,this.widthChanged=!1,this.heightChanged=!1,this.colorChanged=!1,this.alphaChanged=!1,this.transformAssigned=!1,this.transformAssignedInstance=null,this.transformChanged=!1;var s=this.entity.x,r=this.entity.y,l=this.entity.scaleX,a=this.entity.scaleY,h=null!=(T=this.entity).transform?T.transform.tx:0,o=null!=(T=this.entity).transform?T.transform.ty:0,u=this.entity.skewX,_=this.entity.skewY,d=this.entity.anchorX,b=this.entity.anchorY,f=this.entity.rotation,p=this.entity.get_width(),O=this.entity.get_height(),g=-1,m=!1;null!=this.entity.asQuad?(g=this.entity.asQuad.color,m=!0):null!=this.entity.asMesh&&(g=this.entity.asMesh.get_color(),m=!0);var w,v,y=this.entity.alpha;if(null!=this.entity.transform){var U=this.entity.transform;(T=ceramic_VisualTransition._currentTransform).a=U.a,T.b=U.b,T.c=U.c,T.d=U.d,T.tx=U.tx,T.ty=U.ty,T.changedDirty=!0,(T=ceramic_VisualTransition._currentTransform)._aPrev=T.a,T._bPrev=T.b,T._cPrev=T.c,T._dPrev=T.d,T._txPrev=T.tx,T._tyPrev=T.ty,T.changed=!1,ceramic_VisualTransition._currentTransform.changedDirty=!1,w=ceramic_VisualTransition._currentTransform}else w=null;(this.xTarget=s,this.yTarget=r,this.scaleXTarget=l,this.scaleYTarget=a,this.translateXTarget=h,this.translateYTarget=o,this.skewXTarget=u,this.skewYTarget=_,this.anchorXTarget=d,this.anchorYTarget=b,this.rotationTarget=f,this.widthTarget=p,this.heightTarget=O,this.colorTarget=g,this.alphaTarget=y,null!=w)?((T=ceramic_VisualTransition._targetTransform).a=w.a,T.b=w.b,T.c=w.c,T.d=w.d,T.tx=w.tx,T.ty=w.ty,T.changedDirty=!0,(T=ceramic_VisualTransition._targetTransform)._aPrev=T.a,T._bPrev=T.b,T._cPrev=T.c,T._dPrev=T.d,T._txPrev=T.tx,T._tyPrev=T.ty,T.changed=!1,ceramic_VisualTransition._targetTransform.changedDirty=!1,v=ceramic_VisualTransition._targetTransform):v=null;this.transformTarget=v;if(t(this),!this.transformChanged&&null!=this.transformTarget){if(this.transformTarget.changedDirty)(T=this.transformTarget).changedDirty&&(T.changed=T.tx!=T._txPrev||T.ty!=T._tyPrev||T.a!=T._aPrev||T.b!=T._bPrev||T.c!=T._cPrev||T.d!=T._dPrev,T.changedDirty=!1);this.transformTarget.changed&&(this.transformChanged=!0,this.anyPropertyChanged=!0)}var x=null;if(this.anyPropertyChanged){if((x=this.entity.tween(e,n,0,1,(function(e,n){if(i.xTween==x&&i.entity.set_x(i.xStart+(i.xEnd-i.xStart)*e),i.yTween==x&&i.entity.set_y(i.yStart+(i.yEnd-i.yStart)*e),i.scaleXTween==x&&i.entity.set_scaleX(i.scaleXStart+(i.scaleXEnd-i.scaleXStart)*e),i.scaleYTween==x&&i.entity.set_scaleY(i.scaleYStart+(i.scaleYEnd-i.scaleYStart)*e),i.translateXTween==x){var t=i.entity,s=i.translateXStart+(i.translateXEnd-i.translateXStart)*e;0==s?null!=t.transform&&0!=t.transform.tx&&(t.transform.tx=0,t.transform.changedDirty=!0):(null==t.transform&&t.set_transform(new ceramic_Transform),t.transform.tx!=s&&(t.transform.tx=s,t.transform.changedDirty=!0))}if(i.translateYTween==x){t=i.entity;var r=i.translateYStart+(i.translateYEnd-i.translateYStart)*e;0==r?null!=t.transform&&0!=t.transform.ty&&(t.transform.ty=0,t.transform.changedDirty=!0):(null==t.transform&&t.set_transform(new ceramic_Transform),t.transform.ty!=r&&(t.transform.ty=r,t.transform.changedDirty=!0))}if(i.skewXTween==x&&i.entity.set_skewX(i.skewXStart+(i.skewXEnd-i.skewXStart)*e),i.skewYTween==x&&i.entity.set_skewY(i.skewYStart+(i.skewYEnd-i.skewYStart)*e),i.anchorXTween==x&&i.entity.set_anchorX(i.anchorXStart+(i.anchorXEnd-i.anchorXStart)*e),i.anchorYTween==x&&i.entity.set_anchorY(i.anchorYStart+(i.anchorYEnd-i.anchorYStart)*e),i.rotationTween==x&&i.entity.set_rotation(i.rotationStart+(i.rotationEnd-i.rotationStart)*e),i.widthTween==x&&i.entity.set_width(i.widthStart+(i.widthEnd-i.widthStart)*e),i.heightTween==x&&i.entity.set_height(i.heightStart+(i.heightEnd-i.heightStart)*e),i.colorTween==x)if(null!=i.entity.asQuad){var l=i.colorStart;null==(b=e)&&(b=.5);var a=(((d=i.colorEnd)>>16&255)-(l>>16&255))*b+(l>>16&255)|0,h=((d>>8&255)-(l>>8&255))*b+(l>>8&255)|0,o=((255&d)-(255&l))*b+(255&l)|0,u=c._new();u&=65535,u|=(a>255?255:a<0?0:a)<<16,u&=16711935,u|=(h>255?255:h<0?0:h)<<8,u&=16776960,u|=o>255?255:o<0?0:o,i.entity.asQuad.color=u}else if(null!=i.entity.asMesh){var _=i.entity.asMesh;l=i.colorStart;null==(b=e)&&(b=.5);a=(((d=i.colorEnd)>>16&255)-(l>>16&255))*b+(l>>16&255)|0,h=((d>>8&255)-(l>>8&255))*b+(l>>8&255)|0,o=((255&d)-(255&l))*b+(255&l)|0,u=c._new();u&=65535,u|=(a>255?255:a<0?0:a)<<16,u&=16711935,u|=(h>255?255:h<0?0:h)<<8,u&=16776960,u|=o>255?255:o<0?0:o,_.set_color(u)}else{var d,b,f=i.entity;l=i.colorStart;null==(b=e)&&(b=.5);a=(((d=i.colorEnd)>>16&255)-(l>>16&255))*b+(l>>16&255)|0,h=((d>>8&255)-(l>>8&255))*b+(l>>8&255)|0,o=((255&d)-(255&l))*b+(255&l)|0,u=c._new();u&=65535,u|=(a>255?255:a<0?0:a)<<16,u&=16711935,u|=(h>255?255:h<0?0:h)<<8,u&=16776960,Reflect.setProperty(f,"color",u|=o>255?255:o<0?0:o)}if(i.alphaTween==x&&i.entity.set_alpha(i.alphaStart+(i.alphaEnd-i.alphaStart)*e),i.transformTween==x)if(1==e&&i.transformAssigned)i.entity.set_transform(i.transformAssignedInstance);else{if(i.transformAssigned&&0==e&&i.entity.set_transform(null),null==i.entity.transform){if(null==i.transformInTransition){var p=ceramic_TransformPool.availableTransforms.length>0?ceramic_TransformPool.availableTransforms.pop():new ceramic_Transform;i.transformInTransition=p}i.entity.set_transform(i.transformInTransition)}var O=null!=i.transformStart?i.transformStart:ceramic_VisualTransition._identityTransform,g=null!=i.transformEnd?i.transformEnd:ceramic_VisualTransition._identityTransform;t=i.entity.transform;if(0==e)t.a=O.a,t.b=O.b,t.c=O.c,t.d=O.d,t.tx=O.tx,t.ty=O.ty,t.changedDirty=!0;else if(1==e)t.a=g.a,t.b=g.b,t.c=g.c,t.d=g.d,t.tx=g.tx,t.ty=g.ty,t.changedDirty=!0;else{var m;null==(m=ceramic_Transform._decomposed1)&&(m=new ceramic_DecomposedTransform),m.pivotX=0,m.pivotY=0,m.skewX=-Math.atan2(-O.c,O.d),m.skewY=Math.atan2(O.b,O.a),Math.abs(m.skewX+m.skewY)<1e-5&&(m.rotation=m.skewY,O.a<0&&O.d>=0&&(m.rotation+=m.rotation<=0?Math.PI:-Math.PI),m.skewX=0,m.skewY=0),m.scaleX=Math.sqrt(O.a*O.a+O.b*O.b),m.scaleY=Math.sqrt(O.c*O.c+O.d*O.d),m.x=O.tx,m.y=O.ty,null==(m=ceramic_Transform._decomposed2)&&(m=new ceramic_DecomposedTransform),m.pivotX=0,m.pivotY=0,m.skewX=-Math.atan2(-g.c,g.d),m.skewY=Math.atan2(g.b,g.a),Math.abs(m.skewX+m.skewY)<1e-5&&(m.rotation=m.skewY,g.a<0&&g.d>=0&&(m.rotation+=m.rotation<=0?Math.PI:-Math.PI),m.skewX=0,m.skewY=0),m.scaleX=Math.sqrt(g.a*g.a+g.b*g.b),m.scaleY=Math.sqrt(g.c*g.c+g.d*g.d),m.x=g.tx,m.y=g.ty,ceramic_Transform._decomposed1.pivotX+=(ceramic_Transform._decomposed2.pivotX-ceramic_Transform._decomposed1.pivotX)*e,ceramic_Transform._decomposed1.pivotY+=(ceramic_Transform._decomposed2.pivotY-ceramic_Transform._decomposed1.pivotY)*e,ceramic_Transform._decomposed1.rotation+=(ceramic_Transform._decomposed2.rotation-ceramic_Transform._decomposed1.rotation)*e,ceramic_Transform._decomposed1.scaleX+=(ceramic_Transform._decomposed2.scaleX-ceramic_Transform._decomposed1.scaleX)*e,ceramic_Transform._decomposed1.scaleY+=(ceramic_Transform._decomposed2.scaleY-ceramic_Transform._decomposed1.scaleY)*e,ceramic_Transform._decomposed1.skewX+=(ceramic_Transform._decomposed2.skewX-ceramic_Transform._decomposed1.skewX)*e,ceramic_Transform._decomposed1.skewY+=(ceramic_Transform._decomposed2.skewY-ceramic_Transform._decomposed1.skewY)*e,ceramic_Transform._decomposed1.x+=(ceramic_Transform._decomposed2.x-ceramic_Transform._decomposed1.x)*e,ceramic_Transform._decomposed1.y+=(ceramic_Transform._decomposed2.y-ceramic_Transform._decomposed1.y)*e;var w=ceramic_Transform._decomposed1,v=w.x,y=w.y,U=w.scaleX,C=w.scaleY,D=w.rotation,T=w.skewX,E=w.skewY,S=w.pivotX,A=w.pivotY;if(null==A&&(A=0),null==S&&(S=0),null==E&&(E=0),null==T&&(T=0),null==D&&(D=0),null==C&&(C=1),null==U&&(U=1),null==y&&(y=0),null==v&&(v=0),t.a=1,t.b=0,t.c=0,t.d=1,t.tx=0,t.ty=0,t.changedDirty=!0,t.tx+=-S,t.ty+=-A,t.changedDirty=!0,0!=T&&(t.c=T*Math.PI/180),0!=E&&(t.b=E*Math.PI/180),0!=D){var M=D*Math.PI/180,F=Math.cos(M),P=Math.sin(M),R=t.a*F-t.b*P;t.b=t.a*P+t.b*F,t.a=R;var I=t.c*F-t.d*P;t.d=t.c*P+t.d*F,t.c=I;var k=t.tx*F-t.ty*P;t.ty=t.tx*P+t.ty*F,t.tx=k,t.changedDirty=!0}t.tx+=S,t.ty+=A,t.changedDirty=!0,1==U&&1==C||(t.a*=U,t.b*=C,t.c*=U,t.d*=C,t.tx*=U,t.ty*=C,t.changedDirty=!0),t.tx+=v-S*U,t.ty+=y-A*C,t.changedDirty=!0}}}))).onDestroy(this,(function(e){i.xTween==e&&(i.xTween=null),i.yTween==e&&(i.yTween=null),i.scaleXTween==e&&(i.scaleXTween=null),i.scaleYTween==e&&(i.scaleYTween=null),i.translateXTween==e&&(i.translateXTween=null),i.translateYTween==e&&(i.translateYTween=null),i.skewXTween==e&&(i.skewXTween=null),i.skewYTween==e&&(i.skewYTween=null),i.anchorXTween==e&&(i.anchorXTween=null),i.anchorYTween==e&&(i.anchorYTween=null),i.rotationTween==e&&(i.rotationTween=null),i.widthTween==e&&(i.widthTween=null),i.heightTween==e&&(i.heightTween=null),i.colorTween==e&&(i.colorTween=null),i.alphaTween==e&&(i.alphaTween=null),i.transformTween==e&&(i.transformTween=null)})),this.xChanged&&(this.xTween=x,this.xStart=s,this.xEnd=this.xTarget),this.yChanged&&(this.yTween=x,this.yStart=r,this.yEnd=this.yTarget),this.scaleXChanged&&(this.scaleXTween=x,this.scaleXStart=l,this.scaleXEnd=this.scaleXTarget),this.scaleYChanged&&(this.scaleYTween=x,this.scaleYStart=a,this.scaleYEnd=this.scaleYTarget),this.translateXChanged&&(this.translateXTween=x,this.translateXStart=h,this.translateXEnd=this.translateXTarget),this.translateYChanged&&(this.translateYTween=x,this.translateYStart=o,this.translateYEnd=this.translateYTarget),this.skewXChanged&&(this.skewXTween=x,this.skewXStart=u,this.skewXEnd=this.skewXTarget),this.skewYChanged&&(this.skewYTween=x,this.skewYStart=_,this.skewYEnd=this.skewYTarget),this.anchorXChanged&&(this.anchorXTween=x,this.anchorXStart=d,this.anchorXEnd=this.anchorXTarget),this.anchorYChanged&&(this.anchorYTween=x,this.anchorYStart=b,this.anchorYEnd=this.anchorYTarget),this.rotationChanged){this.rotationTween=x;for(var C=f;C<0;)C+=360;for(;C>=360;)C-=360;this.rotationStart=C;for(C=this.rotationTarget;C<0;)C+=360;for(;C>=360;)C-=360;this.rotationEnd=C;var D=this.rotationEnd-this.rotationStart;D>180?this.rotationEnd-=360:D<-180&&(this.rotationEnd+=360)}if(this.widthChanged&&(this.widthTween=x,this.widthStart=p,this.widthEnd=this.widthTarget),this.heightChanged&&(this.heightTween=x,this.heightStart=O,this.heightEnd=this.heightTarget),this.colorChanged&&(this.colorTween=x,m||(m=!0,g=Reflect.getProperty(this.entity,"color")),this.colorStart=g,this.colorEnd=this.colorTarget),this.alphaChanged&&(this.alphaTween=x,this.alphaStart=y,this.alphaEnd=this.alphaTarget),this.transformChanged){if(this.transformTween=x,null!=w)null==this.transformStart&&(this.transformStart=ceramic_TransformPool.availableTransforms.length>0?ceramic_TransformPool.availableTransforms.pop():new ceramic_Transform),(T=this.transformStart).a=w.a,T.b=w.b,T.c=w.c,T.d=w.d,T.tx=w.tx,T.ty=w.ty,T.changedDirty=!0;else if(null!=this.transformStart){(T=this.transformStart).a=1,T.b=0,T.c=0,T.d=1,T.tx=0,T.ty=0,T.changedDirty=!0}if(null!=this.transformTarget){null==this.transformEnd&&(this.transformEnd=ceramic_TransformPool.availableTransforms.length>0?ceramic_TransformPool.availableTransforms.pop():new ceramic_Transform);var T=this.transformEnd;U=this.transformTarget;T.a=U.a,T.b=U.b,T.c=U.c,T.d=U.d,T.tx=U.tx,T.ty=U.ty,T.changedDirty=!0,this.transformEndToNull=!1}else if(null!=this.transformEnd){(T=this.transformEnd).a=1,T.b=0,T.c=0,T.d=1,T.tx=0,T.ty=0,T.changedDirty=!0,this.transformEndToNull=!0}}}else x=this.entity.tween(e,n,0,1,null);return x},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this.transformInTransition&&(ceramic_TransformPool.recycle(this.transformInTransition),this.transformInTransition=null),null!=this.transformStart&&(ceramic_TransformPool.recycle(this.transformStart),this.transformStart=null),null!=this.transformEnd&&(ceramic_TransformPool.recycle(this.transformEnd),this.transformEnd=null),this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this))},setEntity:function(e){this.entity=e instanceof ceramic_Visual?e:null},getEntity:function(){return this.entity},__class__:ceramic_VisualTransition});var m={__properties__:{set_transform:"set_transform",get_transform:"get_transform",set_alpha:"set_alpha",get_alpha:"get_alpha",set_color:"set_color",get_color:"get_color",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_rotation:"set_rotation",get_rotation:"get_rotation",set_anchorY:"set_anchorY",get_anchorY:"get_anchorY",set_anchorX:"set_anchorX",get_anchorX:"get_anchorX",set_skewY:"set_skewY",get_skewY:"get_skewY",set_skewX:"set_skewX",get_skewX:"get_skewX",set_translateY:"set_translateY",get_translateY:"get_translateY",set_translateX:"set_translateX",get_translateX:"get_translateX",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"},get_x:function(e){return e.xTarget},set_x:function(e,n){return null!=e.xTween&&n==e.xEnd||(e.anyPropertyChanged=!0,e.xChanged=!0),e.xTarget=n,n},get_y:function(e){return e.yTarget},set_y:function(e,n){return null!=e.yTween&&n==e.yEnd||(e.anyPropertyChanged=!0,e.yChanged=!0),e.yTarget=n,n},pos:function(e,n,t){null!=e.xTween&&n==e.xEnd||(e.anyPropertyChanged=!0,e.xChanged=!0),e.xTarget=n,null!=e.yTween&&t==e.yEnd||(e.anyPropertyChanged=!0,e.yChanged=!0),e.yTarget=t},get_scaleX:function(e){return e.scaleXTarget},set_scaleX:function(e,n){return null!=e.scaleXTween&&n==e.scaleXEnd||(e.anyPropertyChanged=!0,e.scaleXChanged=!0),e.scaleXTarget=n,n},get_scaleY:function(e){return e.scaleYTarget},set_scaleY:function(e,n){return null!=e.scaleYTween&&n==e.scaleYEnd||(e.anyPropertyChanged=!0,e.scaleYChanged=!0),e.scaleYTarget=n,n},scale:function(e,n,t){null==t&&(t=-1),null!=e.scaleXTween&&n==e.scaleXEnd||(e.anyPropertyChanged=!0,e.scaleXChanged=!0),e.scaleXTarget=n;var i=-1!=t?t:n;null!=e.scaleYTween&&i==e.scaleYEnd||(e.anyPropertyChanged=!0,e.scaleYChanged=!0),e.scaleYTarget=i},get_translateX:function(e){return e.translateXTarget},set_translateX:function(e,n){return null!=e.translateXTween&&n==e.translateXEnd||(e.anyPropertyChanged=!0,e.translateXChanged=!0),e.translateXTarget=n,n},get_translateY:function(e){return e.translateYTarget},set_translateY:function(e,n){return null!=e.translateYTween&&n==e.translateYEnd||(e.anyPropertyChanged=!0,e.translateYChanged=!0),e.translateYTarget=n,n},translate:function(e,n,t){null==t&&(t=-1),null!=e.translateXTween&&n==e.translateXEnd||(e.anyPropertyChanged=!0,e.translateXChanged=!0),e.translateXTarget=n;var i=-1!=t?t:n;null!=e.translateYTween&&i==e.translateYEnd||(e.anyPropertyChanged=!0,e.translateYChanged=!0),e.translateYTarget=i},get_skewX:function(e){return e.skewXTarget},set_skewX:function(e,n){return null!=e.skewXTween&&n==e.skewXEnd||(e.anyPropertyChanged=!0,e.skewXChanged=!0),e.skewXTarget=n,n},get_skewY:function(e){return e.skewYTarget},set_skewY:function(e,n){return null!=e.skewYTween&&n==e.skewYEnd||(e.anyPropertyChanged=!0,e.skewYChanged=!0),e.skewYTarget=n,n},skew:function(e,n,t){null!=e.skewXTween&&n==e.skewXEnd||(e.anyPropertyChanged=!0,e.skewXChanged=!0),e.skewXTarget=n,null!=e.skewYTween&&t==e.skewYEnd||(e.anyPropertyChanged=!0,e.skewYChanged=!0),e.skewYTarget=t},get_anchorX:function(e){return e.anchorXTarget},set_anchorX:function(e,n){return null!=e.anchorXTween&&n==e.anchorXEnd||(e.anyPropertyChanged=!0,e.anchorXChanged=!0),e.anchorXTarget=n,n},get_anchorY:function(e){return e.anchorYTarget},set_anchorY:function(e,n){return null!=e.anchorYTween&&n==e.anchorYEnd||(e.anyPropertyChanged=!0,e.anchorYChanged=!0),e.anchorYTarget=n,n},anchor:function(e,n,t){null!=e.anchorXTween&&n==e.anchorXEnd||(e.anyPropertyChanged=!0,e.anchorXChanged=!0),e.anchorXTarget=n,null!=e.anchorYTween&&t==e.anchorYEnd||(e.anyPropertyChanged=!0,e.anchorYChanged=!0),e.anchorYTarget=t},get_rotation:function(e){return e.rotationTarget},set_rotation:function(e,n){return null!=e.rotationTween&&n==e.rotationEnd||(e.anyPropertyChanged=!0,e.rotationChanged=!0),e.rotationTarget=n,n},get_width:function(e){return e.widthTarget},set_width:function(e,n){return null!=e.widthTween&&n==e.widthEnd||(e.anyPropertyChanged=!0,e.widthChanged=!0),e.widthTarget=n,n},get_height:function(e){return e.heightTarget},set_height:function(e,n){return null!=e.heightTween&&n==e.heightEnd||(e.anyPropertyChanged=!0,e.heightChanged=!0),e.heightTarget=n,n},size:function(e,n,t){null!=e.widthTween&&n==e.widthEnd||(e.anyPropertyChanged=!0,e.widthChanged=!0),e.widthTarget=n,null!=e.heightTween&&t==e.heightEnd||(e.anyPropertyChanged=!0,e.heightChanged=!0),e.heightTarget=t},get_color:function(e){return e.colorTarget},set_color:function(e,n){return null!=e.colorTween&&n==e.colorEnd||(e.anyPropertyChanged=!0,e.colorChanged=!0),e.colorTarget=n,n},get_alpha:function(e){return e.alphaTarget},set_alpha:function(e,n){return null!=e.alphaTween&&n==e.alphaEnd||(e.anyPropertyChanged=!0,e.alphaChanged=!0),e.alphaTarget=n,n},get_transform:function(e){return e.transformTarget},set_transform:function(e,n){return e.anyPropertyChanged=!0,e.transformChanged=!0,e.transformAssigned=!0,e.transformAssignedInstance=n,e.transformTarget=n,n}},ceramic_WatchDirectory=function(e){null==e&&(e=1),this.chokidarWatchers=null,this.chokidarUpdatedFilesByWatchedDirectory=null,this.startingToWatchDirectories=null,this.watchedDirectories=null,ceramic_Entity.call(this),ceramic_WatchDirectory.didTryRequireChokidar||(ceramic_WatchDirectory.didTryRequireChokidar=!0,ceramic_WatchDirectory.fs=ceramic_PlatformSpecific.nodeRequire("fs"),null!=ceramic_WatchDirectory.fs&&(ceramic_WatchDirectory.chokidar=ceramic_PlatformSpecific.nodeRequire("chokidar"))),this.updateInterval=e,ceramic_Timer.schedule(this,e,$bind(this,this.tick),e)};t["ceramic.WatchDirectory"]=ceramic_WatchDirectory,ceramic_WatchDirectory.__name__="ceramic.WatchDirectory",ceramic_WatchDirectory.__super__=ceramic_Entity,ceramic_WatchDirectory.prototype=$extend(ceramic_Entity.prototype,{emitDirectoryChange:function(e,n,t){var i=0;if(null!=this.__cbOnDirectoryChange&&(i+=this.__cbOnDirectoryChange.length),null!=this.__cbOnceDirectoryChange&&(i+=this.__cbOnceDirectoryChange.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnDirectoryChange)for(var a=0,h=this.__cbOnDirectoryChange.length;a<h;){var c=a++;!0?(r.vector[l]=this.__cbOnDirectoryChange[c],++l):--i}if(null!=this.__cbOnceDirectoryChange){var o=null,u=null;for(a=0,h=this.__cbOnceDirectoryChange.length;a<h;){c=a++;if(!0){r.vector[l]=this.__cbOnceDirectoryChange[c],this.__cbOnceDirectoryChange[c]=null;var _=this.__cbOnceOwnerUnbindDirectoryChange[c];this.__cbOnceOwnerUnbindDirectoryChange[c]=null,null!=_&&_(),++l}else--i,null==o&&(o=[],u=[],[]),o.push(this.__cbOnceOwnerUnbindDirectoryChange[c]),u.push(this.__cbOnceDirectoryChange[c])}this.__cbOnceOwnerUnbindDirectoryChange=o,this.__cbOnceDirectoryChange=u}for(a=0,h=i;a<h;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onDirectoryChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event directoryChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDirectoryChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDirectoryChange&&(this.__cbOnOwnerUnbindDirectoryChange=[]),this.__cbOnOwnerUnbindDirectoryChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDirectoryChange&&(this.__cbOnOwnerUnbindDirectoryChange=[]),this.__cbOnOwnerUnbindDirectoryChange.push(null);null==this.__cbOnDirectoryChange&&(this.__cbOnDirectoryChange=[]),this.__cbOnDirectoryChange.push(n)},onceDirectoryChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event directoryChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDirectoryChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDirectoryChange&&(this.__cbOnceOwnerUnbindDirectoryChange=[]),this.__cbOnceOwnerUnbindDirectoryChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDirectoryChange&&(this.__cbOnceOwnerUnbindDirectoryChange=[]),this.__cbOnceOwnerUnbindDirectoryChange.push(null);null==this.__cbOnceDirectoryChange&&(this.__cbOnceDirectoryChange=[]),this.__cbOnceDirectoryChange.push(n)},offDirectoryChange:function(e){if(null!=e){var n;null!=this.__cbOnDirectoryChange&&-1!=(n=this.__cbOnDirectoryChange.indexOf(e))&&(this.__cbOnDirectoryChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDirectoryChange[n])&&r(),this.__cbOnOwnerUnbindDirectoryChange.splice(n,1)),null!=this.__cbOnceDirectoryChange&&-1!=(n=this.__cbOnceDirectoryChange.indexOf(e))&&(this.__cbOnceDirectoryChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDirectoryChange[n])&&r(),this.__cbOnceOwnerUnbindDirectoryChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDirectoryChange){for(var t=0,i=this.__cbOnOwnerUnbindDirectoryChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindDirectoryChange[s])&&r()}this.__cbOnOwnerUnbindDirectoryChange=null}if(null!=this.__cbOnceOwnerUnbindDirectoryChange){for(t=0,i=this.__cbOnceOwnerUnbindDirectoryChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindDirectoryChange[s])&&r()}this.__cbOnceOwnerUnbindDirectoryChange=null}this.__cbOnDirectoryChange=null,this.__cbOnceDirectoryChange=null}},listensDirectoryChange:function(){return null!=this.__cbOnDirectoryChange&&this.__cbOnDirectoryChange.length>0||null!=this.__cbOnceDirectoryChange&&this.__cbOnceDirectoryChange.length>0},watchDirectory:function(e){var n=this;null==this.watchedDirectories&&(this.watchedDirectories=new haxe_ds_StringMap),null==this.startingToWatchDirectories&&(this.startingToWatchDirectories=new haxe_ds_StringMap),this.startingToWatchDirectories.h[e]=!0,ceramic_Runner.runInBackground((function(){var t=n.computeFilesModificationTime(e);ceramic_Runner.runInMain((function(){if(Object.prototype.hasOwnProperty.call(n.startingToWatchDirectories.h,e)){var i=n.startingToWatchDirectories;Object.prototype.hasOwnProperty.call(i.h,e)&&delete i.h[e],n.watchedDirectories.h[e]=t,null!=ceramic_WatchDirectory.chokidar&&(null==n.chokidarUpdatedFilesByWatchedDirectory&&(n.chokidarUpdatedFilesByWatchedDirectory=new haxe_ds_StringMap),n.chokidarUpdatedFilesByWatchedDirectory.h[e]=[],n.watchWithChokidar(e))}}))}))},watchWithChokidar:function(e){var n=this,t=ceramic_WatchDirectory.chokidar.watch(".",{ignoreInitial:!0,disableGlobbing:!0,cwd:e});null==this.chokidarWatchers&&(this.chokidarWatchers=new haxe_ds_StringMap),Object.prototype.hasOwnProperty.call(this.chokidarWatchers.h,e)&&this.chokidarWatchers.h[e].close(),this.chokidarWatchers.h[e]=t,t.on("add",(function(t){var i=ceramic_WatchDirectory.fs.statSync(ceramic_Path.join([e,t]));i.isDirectory()||n.chokidarUpdatedFilesByWatchedDirectory.h[e].push({status:0,lastModified:i.mtime.getTime()/1e3,name:t})})),t.on("change",(function(t){var i=ceramic_WatchDirectory.fs.statSync(ceramic_Path.join([e,t]));i.isDirectory()||n.chokidarUpdatedFilesByWatchedDirectory.h[e].push({status:1,lastModified:i.mtime.getTime()/1e3,name:t})})),t.on("unlink",(function(t){n.chokidarUpdatedFilesByWatchedDirectory.h[e].push({status:2,lastModified:-1,name:t})}))},stopWatchingDirectory:function(e){if(null!=this.chokidarWatchers&&Object.prototype.hasOwnProperty.call(this.chokidarWatchers.h,e)){this.chokidarWatchers.h[e].close();var n=this.chokidarWatchers;Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e]}if(null==this.watchedDirectories&&Object.prototype.hasOwnProperty.call(this.watchedDirectories.h,e)){n=this.watchedDirectories;if(Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e],null!=this.startingToWatchDirectories&&Object.prototype.hasOwnProperty.call(this.startingToWatchDirectories.h,e)){n=this.startingToWatchDirectories;Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e]}return!0}if(null!=this.startingToWatchDirectories&&Object.prototype.hasOwnProperty.call(this.startingToWatchDirectories.h,e)){n=this.startingToWatchDirectories;return Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e],!0}return!1},tick:function(){if(null!=this.watchedDirectories){for(var e=[],n=this.watchedDirectories.h,t=Object.keys(n),i=t.length,s=0;s<i;){var r=t[s++];e.push(r)}for(var l=0;l<e.length;){r=e[l];++l,this.checkWatchedDirectory(r)}}},checkWatchedDirectory:function(e){var n=this;if(null!=ceramic_WatchDirectory.chokidar){if(Object.prototype.hasOwnProperty.call(this.chokidarUpdatedFilesByWatchedDirectory.h,e)){var t=this.chokidarUpdatedFilesByWatchedDirectory.h[e];if(t.length>0){for(var i=this.watchedDirectories.h[e],s=new haxe_ds_StringMap,r=i.h,l=r,a=Object.keys(r),h=a.length,c=0;c<h;){var o=b=a[c++],u=l[b];s.h[o]=u}for(var _=0;_<t.length;){var d=t[_];switch(++_,d.status){case 0:case 1:s.h[d.name]=d.lastModified;break;case 2:var b=d.name;Object.prototype.hasOwnProperty.call(s.h,b)&&delete s.h[b]}}Object.prototype.hasOwnProperty.call(this.watchedDirectories.h,e)&&(this.watchedDirectories.h[e]=s,this.emitDirectoryChange(e,s,i)),t.splice(0,t.length)}}}else{i=this.watchedDirectories.h[e];ceramic_Runner.runInBackground((function(){for(var t=n.computeFilesModificationTime(e),s=!1,r=o=t.h,l=(u=Object.keys(o)).length,a=0;a<l;){var h=_=u[a++],c=r[_];if(!Object.prototype.hasOwnProperty.call(i.h,h)){s=!0;break}if(c>i.h[h]){s=!0;break}}if(!s){var o,u;for(r=o=i.h,l=(u=Object.keys(o)).length,a=0;a<l;){var _;h=_=u[a++],c=r[_];if(!Object.prototype.hasOwnProperty.call(t.h,h)){s=!0;break}}}s&&ceramic_Runner.runInMain((function(){Object.prototype.hasOwnProperty.call(n.watchedDirectories.h,e)&&(n.watchedDirectories.h[e]=t,n.emitDirectoryChange(e,t,i))}))}))}},computeFilesModificationTime:function(e){for(var n=new haxe_ds_StringMap,t=0,i=ceramic_Files.getFlatDirectory(e);t<i.length;){var s=i[t];++t;var r=ceramic_Files.getLastModified(ceramic_Path.join([e,s]));n.h[s]=r}return n},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offDirectoryChange()},__class__:ceramic_WatchDirectory});var ceramic_macros_DefinesMacro=function(){};t["ceramic.macros.DefinesMacro"]=ceramic_macros_DefinesMacro,ceramic_macros_DefinesMacro.__name__="ceramic.macros.DefinesMacro";var ceramic_macros_PluginsMacro=function(){};t["ceramic.macros.PluginsMacro"]=ceramic_macros_PluginsMacro,ceramic_macros_PluginsMacro.__name__="ceramic.macros.PluginsMacro";var clay_BackgroundQueue=function(e){null==e&&(e=.05),this.pending=[],this.stop=!1,this.runsInBackground=!1,this.checkInterval=e};t["clay.BackgroundQueue"]=clay_BackgroundQueue,clay_BackgroundQueue.__name__="clay.BackgroundQueue",clay_BackgroundQueue.prototype={schedule:function(e){ceramic_App.app._onceImmediate(e)},destroy:function(){this.stop=!0},__class__:clay_BackgroundQueue};var clay_Clay=function(e,n){this.windowInBackground=!1,this.ready=!1,this.freeze=!1,this.nextTick=0,this.immediateShutdown=!1,this.timestamp=-1,this.hasShutdown=!1,this.shuttingDown=!1,clay_Clay.app=this,clay_Runner.init(),this.extractAppId(),this.config=this.defaultConfig(),e(this.config),this.events=n,this.io=new clay_web_WebIO(this),clay_Immediate.flush(),this.assets=new clay_web_WebAssets(this),clay_Immediate.flush(),this.audio=new clay_web_WebAudio(this),clay_Immediate.flush(),this.input=new clay_Input(this),clay_Immediate.flush(),this.runtime=new clay_web_WebRuntime(this),clay_Immediate.flush(),this.backgroundQueue=new clay_BackgroundQueue,this.init()};t["clay.Clay"]=clay_Clay,clay_Clay.__name__="clay.Clay",clay_Clay.prototype={set_freeze:function(e){return this.freeze=e,e?(this.events.freeze(),this.audio.suspend()):(this.events.unfreeze(),this.audio.resume()),e},init:function(){clay_Log.debug("Clay / init",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/Clay.hx",lineNumber:160,className:"clay.Clay",methodName:"init"}),this.io.init(),clay_Immediate.flush(),this.audio.init(),clay_Immediate.flush(),this.input.init(),clay_Immediate.flush(),this.runtime.init(),clay_Immediate.flush(),clay_Log.debug("Clay / ready",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/Clay.hx",lineNumber:174,className:"clay.Clay",methodName:"init"}),this.runtime.ready(),clay_Immediate.flush(),this.audio.ready(),clay_Immediate.flush(),this.timestamp=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,this.ready=!0,this.nextTick=this.timestamp,this.updateScreen(),this.events.ready(),!this.runtime.run()||this.hasShutdown||this.shuttingDown||this.shutdown()},shutdown:function(){if(this.shuttingDown)clay_Log.debug("Clay / shutdown() called again, already shutting down - ignoring",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/Clay.hx",lineNumber:199,className:"clay.Clay",methodName:"shutdown"});else{if(this.hasShutdown)throw haxe_Exception.thrown("Clay / calling shutdown() more than once is disallowed");this.shuttingDown=!0,this.io.shutdown(),this.audio.shutdown(),this.input.shutdown(),this.runtime.shutdown(this.immediateShutdown),clay_Log.debug("Clay / shutdown",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/Clay.hx",lineNumber:215,className:"clay.Clay",methodName:"shutdown"}),this.hasShutdown=!0}},emitQuit:function(){this.shutdown()},shouldUpdate:function(e){if(this.config.updateRate>0){if(e<this.nextTick)return!1;for(;this.nextTick<=e;)this.nextTick+=this.config.updateRate}else this.nextTick=e;return!0},emitTick:function(e){if(!this.freeze&&(clay_Runner.tick(),clay_Immediate.flush(),this.updateScreen(),!this.shuttingDown&&this.ready)){var n=e-this.timestamp;this.timestamp=e,this.audio.tick(n),this.events.tick(n)}},emitWindowEvent:function(e,n,t,i,s){this.events.windowEvent(e,n,t,i,s)},emitAppEvent:function(e){this.events.appEvent(e)},extractAppId:function(){var e='"ceramic-webdemo-1"';StringTools.startsWith(e,'"')?this.appId=JSON.parse(e):this.appId=e},defaultConfig:function(){var e=clay_web_WebRuntime.defaultConfig();return new clay_Config(this.defaultWindowConfig(),this.defaultRenderConfig(),e,null)},defaultWindowConfig:function(){return new clay_WindowConfig(!1,!1,!0,!1,536805376,536805376,960,640,"clay app",!1,.06666666666666667)},defaultRenderConfig:function(){return new clay_RenderConfig(0,0,0,8,8,8,8,new clay_graphics_Color(0,0,0,1),new clay_RenderConfigWebGL(1,null,null,null,null,null,null,null,null))},defaultRuntimeConfig:function(){return new clay_web_WebConfig(null,null,null,null,null,null,null)},copyWindowConfig:function(e){return new clay_WindowConfig(e.fullscreen,e.trueFullscreen,e.resizable,e.borderless,e.x,e.y,e.width,e.height,""+e.title,e.noInput,e.backgroundSleep)},copyRenderConfig:function(e){return new clay_RenderConfig(e.depth,e.stencil,e.antialiasing,e.redBits,e.greenBits,e.blueBits,e.alphaBits,new clay_graphics_Color(e.defaultClear.r,e.defaultClear.g,e.defaultClear.b,e.defaultClear.a),new clay_RenderConfigWebGL(e.webgl.version,null,null,null,null,null,null,null,null))},updateScreen:function(){this.screenDensity=clay_Clay.app.runtime.windowDevicePixelRatio();var e=clay_Clay.app.runtime;this.screenWidth=Math.round(Math.round(e.windowW*e.windowDevicePixelRatio())/this.screenDensity);e=clay_Clay.app.runtime;this.screenHeight=Math.round(Math.round(e.windowH*e.windowDevicePixelRatio())/this.screenDensity)},__class__:clay_Clay,__properties__:{set_freeze:"set_freeze"}};var clay_RenderConfig=function(e,n,t,i,s,r,l,a,h){this.webgl=null,this.defaultClear=new clay_graphics_Color(0,0,0,1),this.alphaBits=8,this.blueBits=8,this.greenBits=8,this.redBits=8,this.antialiasing=0,this.stencil=0,this.depth=0,null!=e&&(this.depth=e),null!=n&&(this.stencil=n),null!=t&&(this.antialiasing=t),null!=i&&(this.redBits=i),null!=s&&(this.greenBits=s),null!=r&&(this.blueBits=r),null!=l&&(this.alphaBits=l),null!=a&&(this.defaultClear=a),null!=h&&(this.webgl=h)};t["clay.RenderConfig"]=clay_RenderConfig,clay_RenderConfig.__name__="clay.RenderConfig",clay_RenderConfig.prototype={__class__:clay_RenderConfig};var clay_RenderConfigWebGL=function(e,n,t,i,s,r,l,a,h){this.failIfMajorPerformanceCaveat=!1,this.preferLowPowerToHighPerformance=!1,this.preserveDrawingBuffer=!1,this.premultipliedAlpha=!1,this.antialias=!0,this.stencil=!1,this.depth=!0,this.alpha=!1,this.version=1,null!=e&&(this.version=e),null!=n&&(this.alpha=n),null!=t&&(this.depth=t),null!=i&&(this.stencil=i),null!=s&&(this.antialias=s),null!=r&&(this.premultipliedAlpha=r),null!=l&&(this.preserveDrawingBuffer=l),null!=a&&(this.preferLowPowerToHighPerformance=a),null!=h&&(this.failIfMajorPerformanceCaveat=h)};t["clay.RenderConfigWebGL"]=clay_RenderConfigWebGL,clay_RenderConfigWebGL.__name__="clay.RenderConfigWebGL",clay_RenderConfigWebGL.prototype={__class__:clay_RenderConfigWebGL};var clay_WindowConfig=function(e,n,t,i,s,r,l,a,h,c,o){this.backgroundSleep=.06666666666666667,this.noInput=!1,this.title=null,this.height=640,this.width=960,this.y=0,this.x=0,this.borderless=!1,this.resizable=!0,this.trueFullscreen=!1,this.fullscreen=!1,null!=e&&(this.fullscreen=e),null!=n&&(this.trueFullscreen=n),null!=t&&(this.resizable=t),null!=i&&(this.borderless=i),null!=s&&(this.x=s),null!=r&&(this.y=r),null!=l&&(this.width=l),null!=a&&(this.height=a),null!=h&&(this.title=h),null!=c&&(this.noInput=c),null!=o&&(this.backgroundSleep=o)};t["clay.WindowConfig"]=clay_WindowConfig,clay_WindowConfig.__name__="clay.WindowConfig",clay_WindowConfig.prototype={__class__:clay_WindowConfig};var clay_Config=function(e,n,t,i){this.updateRate=0,this.runtime=null,this.render=null,this.window=null,null!=e&&(this.window=e),null!=n&&(this.render=n),null!=t&&(this.runtime=t),null!=i&&(this.updateRate=i)};t["clay.Config"]=clay_Config,clay_Config.__name__="clay.Config",clay_Config.prototype={__class__:clay_Config};var clay_Extensions=function(){};t["clay.Extensions"]=clay_Extensions,clay_Extensions.__name__="clay.Extensions",clay_Extensions.unsafeGet=function(e,n){return e[n]},clay_Extensions.unsafeSet=function(e,n,t){e[n]=t};var clay_Image=function(e,n,t,i,s,r,l){this.pixels=null,this.sourceBitsPerPixel=4,this.bitsPerPixel=4,this.heightActual=0,this.widthActual=0,this.height=0,this.width=0,null!=e&&(this.width=e),null!=n&&(this.height=n),null!=t&&(this.widthActual=t),null!=i&&(this.heightActual=i),null!=s&&(this.bitsPerPixel=s),null!=r&&(this.sourceBitsPerPixel=r),null!=l&&(this.pixels=l)};t["clay.Image"]=clay_Image,clay_Image.__name__="clay.Image",clay_Image.prototype={premultiplyAlpha:function(){4==this.bitsPerPixel?clay_PremultiplyAlpha.premultiplyAlpha(this.pixels):clay_Log.warning("Can only premultiply alpha on images with 4 bits per pixels (RGBA)",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/Image.hx",lineNumber:29,className:"clay.Image",methodName:"premultiplyAlpha"})},reversePremultiplyAlpha:function(){4==this.bitsPerPixel?clay_PremultiplyAlpha.reversePremultiplyAlpha(this.pixels):clay_Log.warning("Can only reverse premultiply alpha on images with 4 bits per pixels (RGBA)",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/Image.hx",lineNumber:40,className:"clay.Image",methodName:"reversePremultiplyAlpha"})},__class__:clay_Image};var clay_Immediate=function(){};t["clay.Immediate"]=clay_Immediate,clay_Immediate.__name__="clay.Immediate",clay_Immediate.push=function(e){if(null==e)throw haxe_Exception.thrown("Immediate callback should not be null!");clay_Immediate.immediateCallbacksLen<clay_Immediate.immediateCallbacksCapacity?(clay_Immediate.immediateCallbacks[clay_Immediate.immediateCallbacksLen]=e,clay_Immediate.immediateCallbacksLen++):(clay_Immediate.immediateCallbacks[clay_Immediate.immediateCallbacksLen++]=e,clay_Immediate.immediateCallbacksCapacity++)},clay_Immediate.flush=function(){for(var e=!1;clay_Immediate.immediateCallbacksLen>0;){e=!0;var n=ceramic_ArrayPool.pool(clay_Immediate.immediateCallbacksLen),t=n.get(),i=clay_Immediate.immediateCallbacksLen;clay_Immediate.immediateCallbacksLen=0;for(var s=0,r=i;s<r;){var l=s++;t.vector[l]=clay_Immediate.immediateCallbacks[l],clay_Immediate.immediateCallbacks[l]=null}for(var a=0,h=i;a<h;){var c=a++;(0,t.vector[c])()}n.release(t)}return e};var clay_Input=function(e){this.app=e,this.modState=new clay_ModState,this.modState.none=!0};t["clay.Input"]=clay_Input,clay_Input.__name__="clay.Input",clay_Input.prototype={init:function(){},shutdown:function(){},emitKeyDown:function(e,n,t,i,s,r){this.app.events.keyDown(e,n,t,i,s,r)},emitKeyUp:function(e,n,t,i,s,r){this.app.events.keyUp(e,n,t,i,s,r)},emitText:function(e,n,t,i,s,r){this.app.events.text(e,n,t,i,s,r)},emitMouseMove:function(e,n,t,i,s,r){this.app.events.mouseMove(e,n,t,i,s,r)},emitMouseDown:function(e,n,t,i,s){this.app.events.mouseDown(e,n,t,i,s)},emitMouseUp:function(e,n,t,i,s){this.app.events.mouseUp(e,n,t,i,s)},emitMouseWheel:function(e,n,t,i){this.app.events.mouseWheel(e,n,t,i)},emitTouchDown:function(e,n,t,i,s,r){this.app.events.touchDown(e,n,t,i,s,r)},emitTouchUp:function(e,n,t,i,s,r){this.app.events.touchUp(e,n,t,i,s,r)},emitTouchMove:function(e,n,t,i,s,r){this.app.events.touchMove(e,n,t,i,s,r)},emitGamepadAxis:function(e,n,t,i){this.app.events.gamepadAxis(e,n,t,i)},emitGamepadDown:function(e,n,t,i){this.app.events.gamepadDown(e,n,t,i)},emitGamepadUp:function(e,n,t,i){this.app.events.gamepadUp(e,n,t,i)},emitGamepadDevice:function(e,n,t,i){this.app.events.gamepadDevice(e,n,t,i)},__class__:clay_Input};var w={$name:function(e){if(0!=(e&v.MASK))return v.$name(e&~v.MASK);switch(e){case 8:return v.$name(42);case 9:return v.$name(43);case 13:return v.$name(40);case 27:return v.$name(41);case 32:return v.$name(44);case 97:return v.$name(4);case 98:return v.$name(5);case 99:return v.$name(6);case 100:return v.$name(7);case 101:return v.$name(8);case 102:return v.$name(9);case 103:return v.$name(10);case 104:return v.$name(11);case 105:return v.$name(12);case 106:return v.$name(13);case 107:return v.$name(14);case 108:return v.$name(15);case 109:return v.$name(16);case 110:return v.$name(17);case 111:return v.$name(18);case 112:return v.$name(19);case 113:return v.$name(20);case 114:return v.$name(21);case 115:return v.$name(22);case 116:return v.$name(23);case 117:return v.$name(24);case 118:return v.$name(25);case 119:return v.$name(26);case 120:return v.$name(27);case 121:return v.$name(28);case 122:return v.$name(29);case 127:return v.$name(76);default:return String.fromCodePoint(e)}},toScanCode:function(e){if(0!=(e&v.MASK))return e&~v.MASK;switch(e){case 8:return 42;case 9:return 43;case 13:return 40;case 27:return 41;case 32:return 44;case 47:return 56;case 48:return 39;case 49:return 30;case 50:return 31;case 51:return 32;case 52:return 33;case 53:return 34;case 54:return 35;case 55:return 36;case 56:return 37;case 57:return 38;case 59:return 51;case 61:return 46;case 91:return 47;case 92:return 49;case 93:return 48;case 96:return 53;case 97:return 4;case 98:return 5;case 99:return 6;case 100:return 7;case 101:return 8;case 102:return 9;case 103:return 10;case 104:return 11;case 105:return 12;case 106:return 13;case 107:return 14;case 108:return 15;case 109:return 16;case 110:return 17;case 111:return 18;case 112:return 19;case 113:return 20;case 114:return 21;case 115:return 22;case 116:return 23;case 117:return 24;case 118:return 25;case 119:return 26;case 120:return 27;case 121:return 28;case 122:return 29}return 0},toString:function(e){return"KeyCode("+e+" "+w.$name(e)+")"}},clay_Log=function(){};t["clay.Log"]=clay_Log,clay_Log.__name__="clay.Log",clay_Log.debug=function(e,n){},clay_Log.info=function(e,n){haxe_Log.trace("[info] "+e,n)},clay_Log.warning=function(e,n){haxe_Log.trace("[warning] "+e,n)},clay_Log.error=function(e,n){haxe_Log.trace("[error] "+e,n)},clay_Log.success=function(e,n){haxe_Log.trace("[success] "+e,n)};var clay_Macros=function(){};t["clay.Macros"]=clay_Macros,clay_Macros.__name__="clay.Macros";var clay_PremultiplyAlpha=function(){};t["clay.PremultiplyAlpha"]=clay_PremultiplyAlpha,clay_PremultiplyAlpha.__name__="clay.PremultiplyAlpha",clay_PremultiplyAlpha.premultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],s=e[t+1],r=e[t+2],l=e[t+3]/255;e[t]=i*l|0,e[t+1]=s*l|0,e[t+2]=r*l|0,t+=4}},clay_PremultiplyAlpha.reversePremultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],s=e[t+1],r=e[t+2],l=e[t+3]/255;l>0&&(e[t]=i/l|0,e[t+1]=s/l|0,e[t+2]=r/l|0),t+=4}};var clay_Runner=function(){};t["clay.Runner"]=clay_Runner,clay_Runner.__name__="clay.Runner",clay_Runner.currentIsMainThread=function(){return!0},clay_Runner.init=function(){},clay_Runner.tick=function(){},clay_Runner.isEmulatingBackgroundWithMain=function(){return!0},clay_Runner.runInMain=function(e){clay_Immediate.push(e)},clay_Runner.runInBackground=function(e){clay_Immediate.push(e)};var v={$name:function(e){var n=null;return e>=0&&e<v.scanCodeNames.length&&(n=v.scanCodeNames[e]),null!=n?n:""},toString:function(e){return"ScanCode("+e+" "+v.$name(e)+")"}},y={toString:function(e){switch(e){case 0:return"UNKNOWN";case 1:return"DEVICE_ADDED";case 2:return"DEVICE_REMOVED";case 3:return"DEVICE_REMAPPED";default:return""+e}}},clay_ModState=function(){this.meta=!1,this.alt=!1,this.shift=!1,this.ctrl=!1,this.mode=!1,this.caps=!1,this.num=!1,this.rmeta=!1,this.lmeta=!1,this.ralt=!1,this.lalt=!1,this.rctrl=!1,this.lctrl=!1,this.rshift=!1,this.lshift=!1,this.none=!1};t["clay.ModState"]=clay_ModState,clay_ModState.__name__="clay.ModState",clay_ModState.prototype={toString:function(){var e='{ "ModState":true ';return this.none?e+', "none":true }':(this.lshift&&(e+=', "lshift":true'),this.rshift&&(e+=', "rshift":true'),this.lctrl&&(e+=', "lctrl":true'),this.rctrl&&(e+=', "rctrl":true'),this.lalt&&(e+=', "lalt":true'),this.ralt&&(e+=', "ralt":true'),this.lmeta&&(e+=', "lmeta":true'),this.rmeta&&(e+=', "rmeta":true'),this.num&&(e+=', "num":true'),this.caps&&(e+=', "caps":true'),this.mode&&(e+=', "mode":true'),this.ctrl&&(e+=', "ctrl":true'),this.shift&&(e+=', "shift":true'),this.alt&&(e+=', "alt":true'),this.meta&&(e+=', "meta":true'),e+="}")},__class__:clay_ModState};var U={toString:function(e){switch(e){case 0:return"UNKNOWN";case 1:return"EDIT";case 2:return"INPUT";default:return""+e}}},x={toString:function(e){switch(e){case 0:return"UNKNOWN";case 1:return"SHOWN";case 2:return"HIDDEN";case 3:return"EXPOSED";case 4:return"MOVED";case 5:return"RESIZED";case 6:return"SIZE_CHANGED";case 7:return"MINIMIZED";case 8:return"MAXIMIZED";case 9:return"RESTORED";case 10:return"ENTER";case 11:return"LEAVE";case 12:return"FOCUS_GAINED";case 13:return"FOCUS_LOST";case 14:return"CLOSE";case 15:return"ENTER_FULLSCREEN";case 16:return"EXIT_FULLSCREEN";default:return""+e}}},C={toString:function(e){switch(e){case 0:return"UNKNOWN";case 11:return"TERMINATING";case 12:return"LOW_MEMORY";case 13:return"WILL_ENTER_BACKGROUND";case 14:return"DID_ENTER_BACKGROUND";case 15:return"WILL_ENTER_FOREGROUND";case 16:return"DID_ENTER_FOREGROUND";default:return""+e}}},clay_Utils=function(){};t["clay.Utils"]=clay_Utils,clay_Utils.__name__="clay.Utils",clay_Utils.uniqueId=function(){switch(clay_Utils._nextUniqueIntCursor){case 0:clay_Utils._nextUniqueInt0=(clay_Utils._nextUniqueInt0+1)%2147483647;break;case 1:clay_Utils._nextUniqueInt1=(clay_Utils._nextUniqueInt1+1)%2147483647;break;case 2:clay_Utils._nextUniqueInt2=(clay_Utils._nextUniqueInt2+1)%2147483647;break;case 3:clay_Utils._nextUniqueInt3=(clay_Utils._nextUniqueInt3+1)%2147483647}clay_Utils._nextUniqueIntCursor=(clay_Utils._nextUniqueIntCursor+1)%4,null==(o=clay_Utils._nextUniqueInt0)&&(o=2147483646*Math.random()|0);var e,n=o%62|0;if((u=o/62|0)>0){null==(o=u)&&(o=2147483646*Math.random()|0);var t=o%62|0;if((u=o/62|0)>0){var i=clay_Utils.base62Id(u);if(t>9)(b=t-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(t).charAt(0);s=i+r}else{if(t>9)(b=t-10+65)>90&&(b+=6),i=String.fromCodePoint(b);else i=Std.string(t).charAt(0);s=Std.string(i)}if(n>9)(b=n-10+65)>90&&(b+=6),i=String.fromCodePoint(b);else i=Std.string(n).charAt(0);e=s+i}else{if(n>9)(b=n-10+65)>90&&(b+=6),s=String.fromCodePoint(b);else s=Std.string(n).charAt(0);e=Std.string(s)}null==(o=null)&&(o=2147483646*Math.random()|0);var s;n=o%62|0;if((u=o/62|0)>0){null==(o=u)&&(o=2147483646*Math.random()|0);t=o%62|0;if((u=o/62|0)>0){var r=clay_Utils.base62Id(u);if(t>9)(b=t-10+65)>90&&(b+=6),l=String.fromCodePoint(b);else l=Std.string(t).charAt(0);i=r+l}else{if(t>9)(b=t-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(t).charAt(0);i=Std.string(r)}if(n>9)(b=n-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(n).charAt(0);s=i+r}else{if(n>9)(b=n-10+65)>90&&(b+=6),i=String.fromCodePoint(b);else i=Std.string(n).charAt(0);s=Std.string(i)}null==(o=clay_Utils._nextUniqueInt1)&&(o=2147483646*Math.random()|0);n=o%62|0;if((u=o/62|0)>0){null==(o=u)&&(o=2147483646*Math.random()|0);t=o%62|0;if((u=o/62|0)>0){var l=clay_Utils.base62Id(u);if(t>9)(b=t-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(t).charAt(0);r=l+a}else{if(t>9)(b=t-10+65)>90&&(b+=6),l=String.fromCodePoint(b);else l=Std.string(t).charAt(0);r=Std.string(l)}if(n>9)(b=n-10+65)>90&&(b+=6),l=String.fromCodePoint(b);else l=Std.string(n).charAt(0);i=r+l}else{if(n>9)(b=n-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(n).charAt(0);i=Std.string(r)}null==(o=null)&&(o=2147483646*Math.random()|0);n=o%62|0;if((u=o/62|0)>0){null==(o=u)&&(o=2147483646*Math.random()|0);t=o%62|0;if((u=o/62|0)>0){var a=clay_Utils.base62Id(u);if(t>9)(b=t-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(t).charAt(0);l=a+h}else{if(t>9)(b=t-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(t).charAt(0);l=Std.string(a)}if(n>9)(b=n-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(n).charAt(0);r=l+a}else{if(n>9)(b=n-10+65)>90&&(b+=6),l=String.fromCodePoint(b);else l=Std.string(n).charAt(0);r=Std.string(l)}null==(o=clay_Utils._nextUniqueInt2)&&(o=2147483646*Math.random()|0);n=o%62|0;if((u=o/62|0)>0){null==(o=u)&&(o=2147483646*Math.random()|0);t=o%62|0;if((u=o/62|0)>0){var h=clay_Utils.base62Id(u);if(t>9)(b=t-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(t).charAt(0);a=h+c}else{if(t>9)(b=t-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(t).charAt(0);a=Std.string(h)}if(n>9)(b=n-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(n).charAt(0);l=a+h}else{if(n>9)(b=n-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(n).charAt(0);l=Std.string(a)}null==(o=null)&&(o=2147483646*Math.random()|0);n=o%62|0;if((u=o/62|0)>0){null==(o=u)&&(o=2147483646*Math.random()|0);t=o%62|0;if((u=o/62|0)>0){var c=clay_Utils.base62Id(u);if(t>9)(b=t-10+65)>90&&(b+=6),d=String.fromCodePoint(b);else d=Std.string(t).charAt(0);h=c+d}else{if(t>9)(b=t-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(t).charAt(0);h=Std.string(c)}if(n>9)(b=n-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(n).charAt(0);a=h+c}else{if(n>9)(b=n-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(n).charAt(0);a=Std.string(h)}null==(o=clay_Utils._nextUniqueInt3)&&(o=2147483646*Math.random()|0);n=o%62|0;if((u=o/62|0)>0){var o;null==(o=u)&&(o=2147483646*Math.random()|0);var u;t=o%62|0;if((u=o/62|0)>0){var _,d=clay_Utils.base62Id(u);if(t>9)(b=t-10+65)>90&&(b+=6),_=String.fromCodePoint(b);else _=Std.string(t).charAt(0);c=d+_}else{if(t>9)(b=t-10+65)>90&&(b+=6),d=String.fromCodePoint(b);else d=Std.string(t).charAt(0);c=Std.string(d)}if(n>9)(b=n-10+65)>90&&(b+=6),d=String.fromCodePoint(b);else d=Std.string(n).charAt(0);h=c+d}else{var b;if(n>9)(b=n-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(n).charAt(0);h=Std.string(c)}return c=e+"-"+s+"-"+i+"-"+r+"-"+l+"-"+a+"-"+h},clay_Utils.base62Id=function(e){null==e&&(e=2147483646*Math.random()|0);var n=e%62|0,t=e/62|0;if(t>0){var i,s,r=clay_Utils.base62Id(t);if(n>9)(s=n-10+65)>90&&(s+=6),i=String.fromCodePoint(s);else i=(null==n?"null":""+n).charAt(0);return r+i}return n>9?((s=n-10+65)>90&&(s+=6),r=String.fromCodePoint(s)):r=(null==n?"null":""+n).charAt(0),Std.string(r)};var clay_audio_AudioDataOptions=function(e,n,t,i,s,r,l,a){this.isStream=null,this.samples=null,this.format=null,this.bitsPerSample=null,this.channels=null,this.length=null,this.rate=null,this.id=null,null!=e&&(this.id=e),null!=n&&(this.rate=n),null!=t&&(this.length=t),null!=i&&(this.channels=i),null!=s&&(this.bitsPerSample=s),null!=r&&(this.format=r),null!=l&&(this.samples=l),null!=a&&(this.isStream=a)};t["clay.audio.AudioDataOptions"]=clay_audio_AudioDataOptions,clay_audio_AudioDataOptions.__name__="clay.audio.AudioDataOptions",clay_audio_AudioDataOptions.prototype={__class__:clay_audio_AudioDataOptions};var clay_audio_AudioData=function(e,n){this.destroyed=!1,this.isStream=!1,this.format=0,this.bitsPerSample=16,this.channels=1,this.length=0,this.rate=44100,this.id="AudioData",this.app=e,null!=n.id&&(this.id=n.id),null!=n.rate&&(this.rate=n.rate),null!=n.length&&(this.length=n.length),null!=n.format&&(this.format=n.format),null!=n.channels&&(this.channels=n.channels),null!=n.bitsPerSample&&(this.bitsPerSample=n.bitsPerSample),null!=n.isStream&&(this.isStream=n.isStream),null!=n.samples&&(this.samples=n.samples),n=null};t["clay.audio.AudioData"]=clay_audio_AudioData,clay_audio_AudioData.__name__="clay.audio.AudioData",clay_audio_AudioData.prototype={destroy:function(){this.destroyed||(clay_Log.debug("Audio / destroy AudioData `"+this.id+"`",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/audio/AudioData.hx",lineNumber:95,className:"clay.audio.AudioData",methodName:"destroy"}),this.destroyed=!0,this.id=null,this.samples=null)},seek:function(e){return!1},portion:function(e,n,t,i){return i},toString:function(){var e,n='{ "AudioData":true, "id":'+this.id+', "rate":'+this.rate+', "length":'+this.length+', "channels":'+this.channels+', "format":"';if(null==this.format)e="null";else{var t=this.format;if(null==t)e=""+t;else switch(t){case 0:e="UNKNOWN";break;case 1:e="CUSTOM";break;case 2:e="OGG";break;case 3:e="WAV";break;case 4:e="PCM";break;default:e=""+t}}return n+e+'", "isStream":'+Std.string(this.isStream)+" }"},__class__:clay_audio_AudioData};var D={toString:function(e){switch(e){case 0:return"END";case 1:return"DESTROYED";case 2:return"DESTROYED_SOURCE";default:return""+e}}},T={toString:function(e){if(null==e)return""+e;switch(e){case 0:return"UNKNOWN";case 1:return"CUSTOM";case 2:return"OGG";case 3:return"WAV";case 4:return"PCM";default:return""+e}},fromPath:function(e){switch(ceramic_Path.extension(e).toLowerCase()){case"ogg":return 2;case"pcm":return 4;case"wav":return 3;default:return 0}}},clay_audio_AudioInstance=function(e,n){this.destroyed=!1,this.source=e,this.handle=n};t["clay.audio.AudioInstance"]=clay_audio_AudioInstance,clay_audio_AudioInstance.__name__="clay.audio.AudioInstance",clay_audio_AudioInstance.prototype={hasEnded:function(){if(this.destroyed)throw haxe_Exception.thrown("Audio / Instance hasEnded queried after being destroyed");return 2==this.source.app.audio.stateOf(this.handle)},destroy:function(){if(this.destroyed)throw haxe_Exception.thrown("Audio / Instance being destroyed more than once");this.source.app.audio.handleInstanceDestroyed(this.handle),this.source.instanceKilled(this),this.destroyed=!0,this.source=null,this.handle=-1},dataGet:function(e,n,t,i){if(this.destroyed)throw haxe_Exception.thrown("Audio / Instance dataGet queried after being destroyed");return this.source.data.portion(e,n,t,i)},dataSeek:function(e){if(this.destroyed)throw haxe_Exception.thrown("Audio / Instance dataSeek queried after being destroyed");return this.source.data.seek(e)},__class__:clay_audio_AudioInstance};var clay_audio_AudioSource=function(e,n){this.destroyed=!1,this.streamBufferCount=2,this.streamBufferLength=176400,this.app=e,this.data=n,this.sourceId=clay_Utils.uniqueId(),clay_Log.debug("AudioSource / `"+this.sourceId+"` / "+this.data.id,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/audio/AudioSource.hx",lineNumber:34,className:"clay.audio.AudioSource",methodName:"new"}),this.instances=[]};t["clay.audio.AudioSource"]=clay_audio_AudioSource,clay_audio_AudioSource.__name__="clay.audio.AudioSource",clay_audio_AudioSource.prototype={instance:function(e){var n=new clay_audio_AudioInstance(this,e);return-1==this.instances.indexOf(n)&&this.instances.push(n),n},bytesToSeconds:function(e){var n=16==this.data.bitsPerSample?2:1;return e/(this.data.rate*this.data.channels*n)},secondsToBytes:function(e){var n=16==this.data.bitsPerSample?2:1;return e*(this.data.rate*this.data.channels*n)|0},getDuration:function(){return this.bytesToSeconds(this.data.length)},destroy:function(){if(this.destroyed)clay_Log.debug("AudioSource / destroying already destroyed source!",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/audio/AudioSource.hx",lineNumber:82,className:"clay.audio.AudioSource",methodName:"destroy"});else{this.destroyed=!0;var e=this.instances.length,n=0;for(clay_Log.debug("AudioSource / destroy / "+this.sourceId+" / "+this.data.id+", stream="+Std.string(this.data.isStream)+", instances="+e,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/audio/AudioSource.hx",lineNumber:91,className:"clay.audio.AudioSource",methodName:"destroy"});n<e;){var t=this.instances.pop();t.destroy(),t=null,++n}this.app.audio.handleSourceDestroyed(this),this.data.destroy(),this.data=null,this.instances=null,this.app=null}},instanceKilled:function(e){HxOverrides.remove(this.instances,e)},__class__:clay_audio_AudioSource};var E={toString:function(e){switch(e){case-1:return"INVALID";case 0:return"PAUSED";case 1:return"PLAYING";case 2:return"STOPPED";default:return""+e}}},clay_base_BaseAssets=function(e){this.app=e};t["clay.base.BaseAssets"]=clay_base_BaseAssets,clay_base_BaseAssets.__name__="clay.base.BaseAssets",clay_base_BaseAssets.prototype={isSynchronous:function(){return!1},fullPath:function(e){return ceramic_Path.isAbsolute(e)?e:ceramic_Path.join([this.app.io.appPath(),e])},loadImage:function(e,n,t,i){return null==t&&(t=!1),null==n&&(n=4),null!=i&&clay_Immediate.push((function(){i(null)})),null},__class__:clay_base_BaseAssets};var clay_base_BaseAudio=function(e){this.app=e};t["clay.base.BaseAudio"]=clay_base_BaseAudio,clay_base_BaseAudio.__name__="clay.base.BaseAudio",clay_base_BaseAudio.prototype={isSynchronous:function(){return!1},init:function(){},ready:function(){},tick:function(e){},shutdown:function(){},loadData:function(e,n,t,i,s){return null==i&&(i=!1),null!=s&&clay_Immediate.push((function(){s(null)})),null},emitAudioEvent:function(e,n){this.app.events.audioEvent(e,n)},__class__:clay_base_BaseAudio};var clay_base_BaseIO=function(e){this.app=e};t["clay.base.BaseIO"]=clay_base_BaseIO,clay_base_BaseIO.__name__="clay.base.BaseIO",clay_base_BaseIO.prototype={init:function(){},shutdown:function(){},isSynchronous:function(){return!1},appPath:function(){return null},appPathPrefs:function(){return null},loadData:function(e,n,t,i){return null==t&&(t=!1),null==n&&(n=!1),null!=i&&clay_Immediate.push((function(){i(null)})),null},__class__:clay_base_BaseIO};var clay_base_BaseRuntime=function(e){this.name=null,this.app=e};t["clay.base.BaseRuntime"]=clay_base_BaseRuntime,clay_base_BaseRuntime.__name__="clay.base.BaseRuntime",clay_base_BaseRuntime.prototype={init:function(){},shutdown:function(e){null==e&&(e=!1)},ready:function(){},run:function(){return!0},windowDevicePixelRatio:function(){return 1},windowWidth:function(){return 0},windowHeight:function(){return 0},__class__:clay_base_BaseRuntime};var S={_new:function(e){return new Float32Array(e)},fromArray:function(e){return new Float32Array(e)},fromView:function(e){return new Float32Array(e)},fromBuffer:function(e,n,t){return new Float32Array(e,n,t/4|0)},fromBytes:function(e,n,t){return null==n&&(n=0),null==n?new Float32Array(e.b.bufferValue):null==t?new Float32Array(e.b.bufferValue,n):new Float32Array(e.b.bufferValue,n,t)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return"Float32Array [byteLength:"+e.byteLength+", length:"+e.length+"]"}},A={_new:function(e){return new Int32Array(e)},fromArray:function(e){return new Int32Array(e)},fromView:function(e){return new Int32Array(e)},fromBuffer:function(e,n,t){return new Int32Array(e,n,t/4|0)},fromBytes:function(e,n,t){return null==n&&(n=0),null==n?new Int32Array(e.b.bufferValue):null==t?new Int32Array(e.b.bufferValue,n):new Int32Array(e.b.bufferValue,n,t)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return"Int32Array [byteLength:"+e.byteLength+", length:"+e.length+"]"}},M={_new:function(e){return new Uint16Array(e)},fromArray:function(e){return new Uint16Array(e)},fromView:function(e){return new Uint16Array(e)},fromBuffer:function(e,n,t){return new Uint16Array(e,n,t/2|0)},fromBytes:function(e,n,t){return null==n&&(n=0),null==n?new Uint16Array(e.b.bufferValue):null==t?new Uint16Array(e.b.bufferValue,n):new Uint16Array(e.b.bufferValue,n,t)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return"Uint16Array [byteLength:"+e.byteLength+", length:"+e.length+"]"}},F={_new:function(e){return new Uint8Array(e)},fromArray:function(e){return new Uint8Array(e)},fromView:function(e){return new Uint8Array(e)},fromBuffer:function(e,n,t){return new Uint8Array(e,n,t)},fromBytes:function(e,n,t){return null==n?new Uint8Array(e.b.bufferValue):null==t?new Uint8Array(e.b.bufferValue,n):new Uint8Array(e.b.bufferValue,n,t)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return"Uint8Array [byteLength:"+e.byteLength+", length:"+e.length+"]"}},clay_graphics_Color=function(e,n,t,i){this.a=1,this.b=0,this.g=0,this.r=0,null!=e&&(this.r=e),null!=n&&(this.g=n),null!=t&&(this.b=t),null!=i&&(this.a=i)};t["clay.graphics.Color"]=clay_graphics_Color,clay_graphics_Color.__name__="clay.graphics.Color",clay_graphics_Color.prototype={__class__:clay_graphics_Color};var clay_graphics_Texture=function(){this.wrapT=33071,this.wrapS=33071,this.filterMag=9729,this.filterMin=9729,this.pixels=null,this.heightActual=-1,this.widthActual=-1,this.height=-1,this.width=-1,this.dataType=5121,this.type=3553,this.format=6408,this.compressed=!1,this.textureId=null,clay_Resource.call(this),this.index=clay_graphics_Texture._nextIndex++};t["clay.graphics.Texture"]=clay_graphics_Texture,clay_graphics_Texture.__name__="clay.graphics.Texture",clay_graphics_Texture.fromImage=function(e,n){null==n&&(n=!1);var t=new clay_graphics_Texture;if(t.premultiplyAlpha=n,4!=e.bitsPerPixel)throw haxe_Exception.thrown("Image must have 4 bits per pixels (RGBA format)");return t.width=e.width,t.height=e.height,t.widthActual=e.widthActual,t.heightActual=e.heightActual,t.pixels=e.pixels,t},clay_graphics_Texture.__super__=clay_Resource,clay_graphics_Texture.prototype=$extend(clay_Resource.prototype,{set_filterMin:function(e){return null!=this.textureId&&(this.bind(),clay_opengl_web_GL.gl.texParameteri(3553,10241,e)),this.filterMin=e},set_filterMag:function(e){return null!=this.textureId&&(this.bind(),clay_opengl_web_GL.gl.texParameteri(3553,10240,e)),this.filterMag=e},set_wrapS:function(e){return null!=this.textureId&&(this.bind(),clay_opengl_web_GL.gl.texParameteri(3553,10242,e)),this.wrapS=e},set_wrapT:function(e){return null!=this.textureId&&(this.bind(),clay_opengl_web_GL.gl.texParameteri(3553,10243,e)),this.wrapT=e},init:function(){if(this.textureId=clay_opengl_web_GL.gl.createTexture(),this.width>0&&this.widthActual<=0&&(this.widthActual=this.width),this.height>0&&this.heightActual<=0&&(this.heightActual=this.height),this.bind(),clay_opengl_web_GL.gl.texParameteri(3553,10241,this.filterMin),clay_opengl_web_GL.gl.texParameteri(3553,10240,this.filterMag),clay_opengl_web_GL.gl.texParameteri(3553,10243,this.wrapT),clay_opengl_web_GL.gl.texParameteri(3553,10242,this.wrapS),null!=this.pixels){if(this.width<=0||this.height<=0)throw haxe_Exception.thrown("Provided texture pixels with invalid size (width="+this.width+" height="+this.height+")");this.submit(this.pixels)}},destroy:function(){if(null!=this.textureId){var e=this.textureId;clay_opengl_web_GL.gl.deleteTexture(e);for(var n=0,t=clay_opengl_GLGraphics._boundTexture2D.length;n<t;){var i=n++;clay_opengl_GLGraphics._boundTexture2D[i]==e&&(clay_opengl_GLGraphics._boundTexture2D[i]=null)}this.textureId=null}},bind:function(e){if(null==e&&(e=0),-1!=e&&clay_opengl_GLGraphics._activeTextureSlot!=e){for(clay_opengl_GLGraphics._activeTextureSlot=e;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+e)}if(3553==this.type){var n=this.textureId;clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=n&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=n,clay_opengl_web_GL.gl.bindTexture(3553,n))}},submit:function(e){var n=clay_opengl_web_GL.gl.getParameter(3379);n<=0&&(n=4096);var t=n;if(null==e&&(e=this.pixels),null==e)throw haxe_Exception.thrown("Cannot submit texture pixels: pixels is null");if(this.widthActual>t)throw haxe_Exception.thrown("Texture actual width bigger than maximum hardware size (width="+this.widthActual+" max="+t+")");if(this.heightActual>t)throw haxe_Exception.thrown("Texture actual height bigger than maximum hardware size (height="+this.heightActual+" max="+t+")");if(this.bind(),3553==this.type)if(this.compressed){var i=this.format,s=this.widthActual,r=this.heightActual;clay_opengl_web_GL.gl.pixelStorei(37441,this.premultiplyAlpha?1:0),clay_opengl_web_GL.gl.compressedTexImage2D(3553,0,i,s,r,0,e)}else{i=this.format,s=this.widthActual,r=this.heightActual;var l=this.dataType;clay_opengl_web_GL.gl.pixelStorei(37441,this.premultiplyAlpha?1:0),clay_opengl_web_GL.gl.texImage2D(3553,0,i,s,r,0,i,l,e)}},fetch:function(e,n,t,i,s){return null==s&&(s=-1),null==i&&(i=-1),null==t&&(t=0),null==n&&(n=0),i<=0&&(i=this.width),s<=0&&(s=this.height),this.bind(),3553==this.type&&clay_opengl_GLGraphics.fetchTexture2dPixels(e,n,t,i,s),e},__class__:clay_graphics_Texture,__properties__:{set_wrapT:"set_wrapT",set_wrapS:"set_wrapS",set_filterMag:"set_filterMag",set_filterMin:"set_filterMin"}});var clay_graphics_RenderTexture=function(){this.antialiasing=0,this.stencil=!1,clay_graphics_Texture.call(this)};t["clay.graphics.RenderTexture"]=clay_graphics_RenderTexture,clay_graphics_RenderTexture.__name__="clay.graphics.RenderTexture",clay_graphics_RenderTexture.__super__=clay_graphics_Texture,clay_graphics_RenderTexture.prototype=$extend(clay_graphics_Texture.prototype,{init:function(){clay_graphics_Texture.prototype.init.call(this);var e=clay_opengl_web_GL.gl.getParameter(3379);e<=0&&(e=4096);var n=e;if(this.widthActual>n)throw haxe_Exception.thrown("RenderTexture actual width bigger than maximum hardware size (width="+this.widthActual+" max="+n+")");if(this.heightActual>n)throw haxe_Exception.thrown("RenderTexture actual height bigger than maximum hardware size (height="+this.heightActual+" max="+n+")");this.bind(),this.renderTarget=clay_opengl_GLGraphics.createRenderTarget(this.textureId,this.width,this.height,this.stencil,this.antialiasing,0,this.format,this.dataType)},destroy:function(){clay_graphics_Texture.prototype.destroy.call(this),null!=this.renderTarget&&(clay_opengl_GLGraphics.deleteRenderTarget(this.renderTarget),this.renderTarget=null)},__class__:clay_graphics_RenderTexture});var clay_graphics_TextureAndSlot=function(e,n){this.texture=e,this.slot=n};t["clay.graphics.TextureAndSlot"]=clay_graphics_TextureAndSlot,clay_graphics_TextureAndSlot.__name__="clay.graphics.TextureAndSlot",clay_graphics_TextureAndSlot.prototype={__class__:clay_graphics_TextureAndSlot};var clay_graphics_Uniforms=function(e){this.dirtyTextures=[],this.dirtyColors=[],this.dirtyMatrix4s=[],this.dirtyVector4s=[],this.dirtyVector3s=[],this.dirtyVector2s=[],this.dirtyFloatArrays=[],this.dirtyFloats=[],this.dirtyIntArrays=[],this.dirtyInts=[],this.textures=new haxe_ds_StringMap,this.colors=new haxe_ds_StringMap,this.matrix4s=new haxe_ds_StringMap,this.vector4s=new haxe_ds_StringMap,this.vector3s=new haxe_ds_StringMap,this.vector2s=new haxe_ds_StringMap,this.floatArrays=new haxe_ds_StringMap,this.floats=new haxe_ds_StringMap,this.intArrays=new haxe_ds_StringMap,this.ints=new haxe_ds_StringMap,this.gpuShader=e};t["clay.graphics.Uniforms"]=clay_graphics_Uniforms,clay_graphics_Uniforms.__name__="clay.graphics.Uniforms",clay_graphics_Uniforms.prototype={setInt:function(e,n){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);this.ints.h[e]=n,this.dirtyInts.push(e)},setIntArray:function(e,n){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);this.intArrays.h[e]=n,this.dirtyIntArrays.push(e)},setFloat:function(e,n){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);this.floats.h[e]=n,this.dirtyFloats.push(e)},setFloatArray:function(e,n){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);this.floatArrays.h[e]=n,this.dirtyFloatArrays.push(e)},setVector2:function(e,n,t){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);var i=this.vector2s.h[e];if(null!=i)i.x=n,i.y=t;else{var s=this.vector2s,r=new clay_graphics_Vector2(n,t);s.h[e]=r}this.dirtyVector2s.push(e)},setVector3:function(e,n,t,i){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);var s=this.vector3s.h[e];if(null!=s)s.x=n,s.y=t,s.z=i;else{var r=this.vector3s,l=new clay_graphics_Vector3(n,t,i);r.h[e]=l}this.dirtyVector3s.push(e)},setVector4:function(e,n,t,i,s){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);var r=this.vector4s.h[e];if(null!=r)r.x=n,r.y=t,r.z=i,r.w=s;else{var l=this.vector4s,a=new clay_graphics_Vector4(n,t,i,s);l.h[e]=a}this.dirtyVector4s.push(e)},setMatrix4:function(e,n){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);var t=this.matrix4s.h[e];null==t&&(t=new Float32Array(16),this.matrix4s.h[e]=t);t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this.dirtyMatrix4s.push(e)},setColor:function(e,n,t,i,s){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);var r=this.colors.h[e];if(null!=r)r.r=n,r.g=t,r.b=i,r.a=s;else{var l=this.colors,a=new clay_graphics_Color(n,t,i,s);l.h[e]=a}this.dirtyColors.push(e)},setTexture:function(e,n,t){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);var i=this.textures.h[e];if(null!=i)i.texture=t,i.slot=n;else{var s=this.textures,r=new clay_graphics_TextureAndSlot(t,n);s.h[e]=r}-1==this.dirtyTextures.indexOf(e)&&this.dirtyTextures.push(e)},apply:function(){var e=this.gpuShader;for(clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program));this.dirtyInts.length>0;){var n=this.dirtyInts.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),i=(e=this.gpuShader,this.ints.h[n]);clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1i(t,i)}for(;this.dirtyIntArrays.length>0;){n=this.dirtyIntArrays.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),e=this.gpuShader,i=this.intArrays.h[n];clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1iv(t,i)}for(;this.dirtyFloats.length>0;){n=this.dirtyFloats.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),e=this.gpuShader,i=this.floats.h[n];clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1f(t,i)}for(;this.dirtyFloatArrays.length>0;){n=this.dirtyFloatArrays.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),e=this.gpuShader,i=this.floatArrays.h[n];clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1fv(t,i)}for(;this.dirtyVector2s.length>0;){n=this.dirtyVector2s.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),i=this.vector2s.h[n],e=this.gpuShader;var s=i.x,r=i.y;clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform2f(t,s,r)}for(;this.dirtyVector3s.length>0;){n=this.dirtyVector3s.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),i=this.vector3s.h[n],e=this.gpuShader,s=i.x,r=i.y;var l=i.z;clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform3f(t,s,r,l)}for(;this.dirtyVector4s.length>0;){n=this.dirtyVector4s.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),i=this.vector4s.h[n],e=this.gpuShader,s=i.x,r=i.y,l=i.z;var a=i.w;clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform4f(t,s,r,l,a)}for(;this.dirtyMatrix4s.length>0;){n=this.dirtyMatrix4s.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),e=this.gpuShader,i=this.matrix4s.h[n];clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniformMatrix4fv(t,!1,i)}for(;this.dirtyColors.length>0;){n=this.dirtyColors.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),i=this.colors.h[n],e=this.gpuShader;var h=i.r,c=i.g,o=i.b,u=i.a;clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform4f(t,h,c,o,u)}for(var _=0,d=this.dirtyTextures.length;_<d;){var b=_++;n=this.dirtyTextures[b],t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n);3553==(i=this.textures.h[n]).texture.type&&clay_opengl_GLGraphics.setTexture2dUniform(this.gpuShader,t,i.slot,i.texture.textureId)}},clone:function(){return new clay_graphics_Uniforms(this.gpuShader)},__class__:clay_graphics_Uniforms};var clay_graphics_Vector2=function(e,n){this.y=0,this.x=0,null!=e&&(this.x=e),null!=n&&(this.y=n)};t["clay.graphics.Vector2"]=clay_graphics_Vector2,clay_graphics_Vector2.__name__="clay.graphics.Vector2",clay_graphics_Vector2.prototype={__class__:clay_graphics_Vector2};var clay_graphics_Vector3=function(e,n,t){this.z=0,this.y=0,this.x=0,null!=e&&(this.x=e),null!=n&&(this.y=n),null!=t&&(this.z=t)};t["clay.graphics.Vector3"]=clay_graphics_Vector3,clay_graphics_Vector3.__name__="clay.graphics.Vector3",clay_graphics_Vector3.prototype={__class__:clay_graphics_Vector3};var clay_graphics_Vector4=function(e,n,t,i){this.w=0,this.z=0,this.y=0,this.x=0,null!=e&&(this.x=e),null!=n&&(this.y=n),null!=t&&(this.z=t),null!=i&&(this.w=i)};t["clay.graphics.Vector4"]=clay_graphics_Vector4,clay_graphics_Vector4.__name__="clay.graphics.Vector4",clay_graphics_Vector4.prototype={__class__:clay_graphics_Vector4};var clay_opengl_GLGraphics=function(){};t["clay.opengl.GLGraphics"]=clay_opengl_GLGraphics,clay_opengl_GLGraphics.__name__="clay.opengl.GLGraphics",clay_opengl_GLGraphics.setup=function(){clay_opengl_GLGraphics._defaultFramebuffer=clay_opengl_web_GL.gl.getParameter(36006),clay_opengl_GLGraphics._defaultRenderbuffer=clay_opengl_web_GL.gl.getParameter(36007),clay_opengl_GLGraphics._didFetchDefaultBuffers=!0},clay_opengl_GLGraphics.clear=function(e,n,t,i,s){null==s&&(s=!0),clay_opengl_web_GL.gl.clearColor(e,n,t,i),s&&clay_Clay.app.config.render.depth>0?(clay_opengl_web_GL.gl.clear(16640),clay_opengl_web_GL.gl.clearDepth(1)):clay_opengl_web_GL.gl.clear(16384)},clay_opengl_GLGraphics.createTextureId=function(){return clay_opengl_web_GL.gl.createTexture()},clay_opengl_GLGraphics.setActiveTexture=function(e){if(clay_opengl_GLGraphics._activeTextureSlot!=e){for(clay_opengl_GLGraphics._activeTextureSlot=e;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+e)}},clay_opengl_GLGraphics.deleteTexture=function(e){clay_opengl_web_GL.gl.deleteTexture(e);for(var n=0,t=clay_opengl_GLGraphics._boundTexture2D.length;n<t;){var i=n++;clay_opengl_GLGraphics._boundTexture2D[i]==e&&(clay_opengl_GLGraphics._boundTexture2D[i]=null)}},clay_opengl_GLGraphics.setViewport=function(e,n,t,i){clay_opengl_web_GL.gl.viewport(e,n,t,i)},clay_opengl_GLGraphics.bindTexture2d=function(e){clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=e&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=e,clay_opengl_web_GL.gl.bindTexture(3553,e))},clay_opengl_GLGraphics.maxTextureSize=function(){var e=clay_opengl_web_GL.gl.getParameter(3379);return e<=0&&(e=4096),e},clay_opengl_GLGraphics.needsPreprocessedPremultipliedAlpha=function(){return!1},clay_opengl_GLGraphics.submitCompressedTexture2dPixels=function(e,n,t,i,s,r){clay_opengl_web_GL.gl.pixelStorei(37441,r?1:0),clay_opengl_web_GL.gl.compressedTexImage2D(3553,e,n,t,i,0,s)},clay_opengl_GLGraphics.submitTexture2dPixels=function(e,n,t,i,s,r,l){clay_opengl_web_GL.gl.pixelStorei(37441,l?1:0),clay_opengl_web_GL.gl.texImage2D(3553,e,n,t,i,0,n,s,r)},clay_opengl_GLGraphics.fetchTexture2dPixels=function(e,n,t,i,s){if(null==e)throw haxe_Exception.thrown("Texture fetch requires a valid buffer to store the pixels.");var r=clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot],l=i*s*4;if(e.length<l)throw haxe_Exception.thrown("Texture fetch requires at least "+l+" (w * h * 4) bytes for the pixels, you have "+e.length+"!");var a=clay_opengl_web_GL.gl.createFramebuffer();if(clay_opengl_web_GL.gl.bindFramebuffer(36160,a),clay_opengl_web_GL.gl.framebufferTexture2D(36160,36064,3553,r,0),36053!=clay_opengl_web_GL.gl.checkFramebufferStatus(36160))throw haxe_Exception.thrown("Incomplete framebuffer");clay_opengl_web_GL.gl.readPixels(n,t,i,s,6408,5121,e),clay_opengl_web_GL.gl.bindFramebuffer(36160,null),clay_opengl_web_GL.gl.deleteFramebuffer(a),a=null},clay_opengl_GLGraphics.createFramebuffer=function(){return clay_opengl_web_GL.gl.createFramebuffer()},clay_opengl_GLGraphics.bindFramebuffer=function(e){clay_opengl_GLGraphics._boundFramebuffer!=e&&(clay_opengl_GLGraphics._boundFramebuffer=e,null==e&&(e=clay_opengl_GLGraphics._defaultFramebuffer),clay_opengl_web_GL.gl.bindFramebuffer(36160,e))},clay_opengl_GLGraphics.createRenderbuffer=function(){return clay_opengl_web_GL.gl.createRenderbuffer()},clay_opengl_GLGraphics.bindRenderbuffer=function(e){clay_opengl_GLGraphics._boundRenderbuffer!=e&&(clay_opengl_GLGraphics._boundRenderbuffer=e,null==e&&(e=clay_opengl_GLGraphics._defaultRenderbuffer),clay_opengl_web_GL.gl.bindRenderbuffer(36161,e))},clay_opengl_GLGraphics.setTexture2dMinFilter=function(e){clay_opengl_web_GL.gl.texParameteri(3553,10241,e)},clay_opengl_GLGraphics.setTexture2dMagFilter=function(e){clay_opengl_web_GL.gl.texParameteri(3553,10240,e)},clay_opengl_GLGraphics.setTexture2dWrapS=function(e){clay_opengl_web_GL.gl.texParameteri(3553,10242,e)},clay_opengl_GLGraphics.setTexture2dWrapT=function(e){clay_opengl_web_GL.gl.texParameteri(3553,10243,e)},clay_opengl_GLGraphics.configureRenderTargetBuffersStorage=function(e,n,t,i,s,r){var l=e.framebuffer,a=e.renderbuffer;clay_opengl_GLGraphics.bindFramebuffer(l),clay_opengl_GLGraphics.bindRenderbuffer(a),s?clay_opengl_web_GL.gl.renderbufferStorage(36161,34041,t,i):clay_opengl_web_GL.gl.renderbufferStorage(36161,33189,t,i),clay_opengl_web_GL.gl.framebufferTexture2D(36160,36064,3553,n,0),s?clay_opengl_web_GL.gl.framebufferRenderbuffer(36160,33306,36161,a):clay_opengl_web_GL.gl.framebufferRenderbuffer(36160,36096,36161,a);var h=clay_opengl_web_GL.gl.checkFramebufferStatus(36160);switch(h){case 36053:break;case 36054:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT");case 36055:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT");case 36057:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS");case 36059:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DRAW_BUFFER");case 36060:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_READ_BUFFER");case 36061:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED");default:throw haxe_Exception.thrown("Incomplete framebuffer: "+h)}clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null)},clay_opengl_GLGraphics.createRenderTarget=function(e,n,t,i,s,r,l,a){var h=new clay_opengl_GLGraphics_$RenderTarget;clay_opengl_web_GL.gl.texImage2D(3553,r,l,n,t,0,l,a,null),h.framebuffer=clay_opengl_web_GL.gl.createFramebuffer(),h.renderbuffer=clay_opengl_web_GL.gl.createRenderbuffer();var c=h.framebuffer,o=h.renderbuffer;clay_opengl_GLGraphics.bindFramebuffer(c),clay_opengl_GLGraphics.bindRenderbuffer(o),i?clay_opengl_web_GL.gl.renderbufferStorage(36161,34041,n,t):clay_opengl_web_GL.gl.renderbufferStorage(36161,33189,n,t),clay_opengl_web_GL.gl.framebufferTexture2D(36160,36064,3553,e,0),i?clay_opengl_web_GL.gl.framebufferRenderbuffer(36160,33306,36161,o):clay_opengl_web_GL.gl.framebufferRenderbuffer(36160,36096,36161,o);var u=clay_opengl_web_GL.gl.checkFramebufferStatus(36160);switch(u){case 36053:break;case 36054:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT");case 36055:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT");case 36057:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS");case 36059:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DRAW_BUFFER");case 36060:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_READ_BUFFER");case 36061:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED");default:throw haxe_Exception.thrown("Incomplete framebuffer: "+u)}return clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null),h},clay_opengl_GLGraphics.deleteRenderTarget=function(e){null!=e.framebuffer&&(clay_opengl_GLGraphics._boundFramebuffer==e.framebuffer&&(clay_opengl_GLGraphics._boundFramebuffer=null),clay_opengl_web_GL.gl.deleteFramebuffer(e.framebuffer),e.framebuffer=null),null!=e.renderbuffer&&(clay_opengl_GLGraphics._boundRenderbuffer==e.renderbuffer&&(clay_opengl_GLGraphics._boundRenderbuffer=null),clay_opengl_web_GL.gl.deleteRenderbuffer(e.renderbuffer),e.renderbuffer=null)},clay_opengl_GLGraphics.setRenderTarget=function(e){null!=e?(clay_opengl_GLGraphics.bindFramebuffer(e.framebuffer),clay_opengl_GLGraphics.bindRenderbuffer(e.renderbuffer)):(clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null))},clay_opengl_GLGraphics.enableBlending=function(){clay_opengl_web_GL.gl.enable(3042)},clay_opengl_GLGraphics.disableBlending=function(){clay_opengl_web_GL.gl.disable(3042)},clay_opengl_GLGraphics.createShader=function(e,n,t,i){if(null==e)throw haxe_Exception.thrown("Cannot create shader: vertSource is null!");if(null==n)throw haxe_Exception.thrown("Cannot create shader: fragSource is null!");var s=new clay_opengl_GLGraphics_$GpuShader;return s.vertShader=clay_opengl_GLGraphics.compileGLShader(35633,e),null==s.vertShader?(clay_opengl_GLGraphics.deleteShader(s),null):(s.fragShader=clay_opengl_GLGraphics.compileGLShader(35632,n),null==s.fragShader?(clay_opengl_GLGraphics.deleteShader(s),null):clay_opengl_GLGraphics.linkShader(s,t)?(null!=i&&clay_opengl_GLGraphics.configureShaderTextureSlots(s,i),s):(clay_opengl_GLGraphics.deleteShader(s),null))},clay_opengl_GLGraphics.linkShader=function(e,n){var t=clay_opengl_web_GL.gl.createProgram();if(clay_opengl_web_GL.gl.attachShader(t,e.vertShader),clay_opengl_web_GL.gl.attachShader(t,e.fragShader),null!=n)for(var i=0,s=n.length;i<s;){var r=i++;clay_opengl_web_GL.gl.bindAttribLocation(t,r,n[r])}if(clay_opengl_web_GL.gl.linkProgram(t),0==clay_opengl_web_GL.gl.getProgramParameter(t,35714)){clay_Log.error("\tFailed to link shader program:",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/opengl/GLGraphics.hx",lineNumber:571,className:"clay.opengl.GLGraphics",methodName:"linkShader"});for(var l=clay_opengl_web_GL.gl.getProgramInfoLog(t).split("\n"),a=(i=[],s=0,l);s<a.length;){var h=a[s];++s,""!=StringTools.trim(h)&&i.push(h)}l=i;var c=new Array(l.length);for(i=0,s=l.length;i<s;){c[r=i++]="\t\t"+StringTools.trim(l[r])}return l=c,clay_Log.error(l.join("\n"),{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/opengl/GLGraphics.hx",lineNumber:572,className:"clay.opengl.GLGraphics",methodName:"linkShader"}),clay_opengl_web_GL.gl.deleteProgram(t),!1}return e.program=t,!0},clay_opengl_GLGraphics.configureShaderTextureSlots=function(e,n){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program));for(var t=0,i=n.length;t<i;){var s=t++,r=n[s],l=clay_opengl_web_GL.gl.getUniformLocation(e.program,r);null!=l&&(clay_opengl_web_GL.gl.uniform1i(l,s),e.textures[s]=r)}},clay_opengl_GLGraphics.useShader=function(e){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program))},clay_opengl_GLGraphics.deleteShader=function(e){clay_opengl_GLGraphics._boundProgram==e.program&&(clay_opengl_GLGraphics._boundProgram=null),null!=e.vertShader&&(clay_opengl_web_GL.gl.deleteShader(e.vertShader),e.vertShader=null),null!=e.fragShader&&(clay_opengl_web_GL.gl.deleteShader(e.fragShader),e.fragShader=null),null!=e.program&&(clay_opengl_web_GL.gl.deleteProgram(e.program),e.program=null)},clay_opengl_GLGraphics.compileGLShader=function(e,n){var t=clay_opengl_web_GL.gl.createShader(e);clay_opengl_web_GL.gl.shaderSource(t,n),clay_opengl_web_GL.gl.compileShader(t);var i=clay_opengl_web_GL.gl.getShaderInfoLog(t),s="";if(null!=i&&i.length>0){s+="\n\t// start -- ("+(35632==e?"frag":"vert")+") compile log --\n";for(var r=[],l=0,a=u=i.split("\n");l<a.length;){var h=a[l];++l,""!=StringTools.trim(h)&&r.push(h)}u=r;var c=new Array(u.length);for(r=0,l=u.length;r<l;){c[_=r++]="\t\t"+StringTools.trim(u[_])}s+=(u=c).join("\n"),s+="\n\t// end --\n"}if(0==clay_opengl_web_GL.gl.getShaderParameter(t,35713)){var o;if(clay_Log.error("GL / Failed to compile shader:",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/opengl/GLGraphics.hx",lineNumber:659,className:"clay.opengl.GLGraphics",methodName:"compileGLShader"}),0==s.length){var u;for(r=[],l=0,a=u=clay_opengl_web_GL.gl.getShaderInfoLog(t).split("\n");l<a.length;){h=a[l];++l,""!=StringTools.trim(h)&&r.push(h)}u=r;for(c=new Array(u.length),r=0,l=u.length;r<l;){var _;c[_=r++]="\t\t"+StringTools.trim(u[_])}o=(u=c).join("\n")}else o=s;clay_Log.error(o,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/opengl/GLGraphics.hx",lineNumber:660,className:"clay.opengl.GLGraphics",methodName:"compileGLShader"}),clay_opengl_web_GL.gl.deleteShader(t),t=null}return t},clay_opengl_GLGraphics.getUniformLocation=function(e,n){return clay_opengl_web_GL.gl.getUniformLocation(e.program,n)},clay_opengl_GLGraphics.setIntUniform=function(e,n,t){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1i(n,t)},clay_opengl_GLGraphics.setIntArrayUniform=function(e,n,t){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1iv(n,t)},clay_opengl_GLGraphics.setFloatUniform=function(e,n,t){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1f(n,t)},clay_opengl_GLGraphics.setFloatArrayUniform=function(e,n,t){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1fv(n,t)},clay_opengl_GLGraphics.setVector2Uniform=function(e,n,t,i){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform2f(n,t,i)},clay_opengl_GLGraphics.setVector3Uniform=function(e,n,t,i,s){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform3f(n,t,i,s)},clay_opengl_GLGraphics.setVector4Uniform=function(e,n,t,i,s,r){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform4f(n,t,i,s,r)},clay_opengl_GLGraphics.setColorUniform=function(e,n,t,i,s,r){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform4f(n,t,i,s,r)},clay_opengl_GLGraphics.setMatrix4Uniform=function(e,n,t){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniformMatrix4fv(n,!1,t)},clay_opengl_GLGraphics.setTexture2dUniform=function(e,n,t,i){if(clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1i(n,t),clay_opengl_GLGraphics._activeTextureSlot!=t){for(clay_opengl_GLGraphics._activeTextureSlot=t;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+t)}clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=i&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=i,clay_opengl_web_GL.gl.bindTexture(3553,i))},clay_opengl_GLGraphics.setBlendFuncSeparate=function(e,n,t,i){clay_opengl_web_GL.gl.blendFuncSeparate(e,n,t,i)},clay_opengl_GLGraphics.ensureNoError=function(){var e=clay_opengl_web_GL.gl.getError();if(0!=e)throw haxe_Exception.thrown("Failed with GL error: "+e)};var clay_opengl_GLGraphics_$RenderTarget=function(){};t["clay.opengl.GLGraphics_RenderTarget"]=clay_opengl_GLGraphics_$RenderTarget,clay_opengl_GLGraphics_$RenderTarget.__name__="clay.opengl.GLGraphics_RenderTarget",clay_opengl_GLGraphics_$RenderTarget.prototype={__class__:clay_opengl_GLGraphics_$RenderTarget};var clay_opengl_GLGraphics_$GpuShader=function(){this.textures=[]};t["clay.opengl.GLGraphics_GpuShader"]=clay_opengl_GLGraphics_$GpuShader,clay_opengl_GLGraphics_$GpuShader.__name__="clay.opengl.GLGraphics_GpuShader",clay_opengl_GLGraphics_$GpuShader.prototype={__class__:clay_opengl_GLGraphics_$GpuShader};var clay_opengl_web_GL=function(){};t["clay.opengl.web.GL"]=clay_opengl_web_GL,clay_opengl_web_GL.__name__="clay.opengl.web.GL",clay_opengl_web_GL.__properties__={get_version:"get_version"},clay_opengl_web_GL.versionString=function(){return"/ "+clay_opengl_web_GL.gl.getParameter(7938)+" / "+clay_opengl_web_GL.gl.getParameter(35724)+" / "+clay_opengl_web_GL.gl.getParameter(7937)+" / "+clay_opengl_web_GL.gl.getParameter(7936)+" /"},clay_opengl_web_GL.activeTexture=function(e){clay_opengl_web_GL.gl.activeTexture(e)},clay_opengl_web_GL.attachShader=function(e,n){clay_opengl_web_GL.gl.attachShader(e,n)},clay_opengl_web_GL.bindAttribLocation=function(e,n,t){clay_opengl_web_GL.gl.bindAttribLocation(e,n,t)},clay_opengl_web_GL.bindBuffer=function(e,n){clay_opengl_web_GL.gl.bindBuffer(e,n)},clay_opengl_web_GL.bindFramebuffer=function(e,n){clay_opengl_web_GL.gl.bindFramebuffer(e,n)},clay_opengl_web_GL.bindRenderbuffer=function(e,n){clay_opengl_web_GL.gl.bindRenderbuffer(e,n)},clay_opengl_web_GL.bindTexture=function(e,n){clay_opengl_web_GL.gl.bindTexture(e,n)},clay_opengl_web_GL.blendColor=function(e,n,t,i){clay_opengl_web_GL.gl.blendColor(e,n,t,i)},clay_opengl_web_GL.blendEquation=function(e){clay_opengl_web_GL.gl.blendEquation(e)},clay_opengl_web_GL.blendEquationSeparate=function(e,n){clay_opengl_web_GL.gl.blendEquationSeparate(e,n)},clay_opengl_web_GL.blendFunc=function(e,n){clay_opengl_web_GL.gl.blendFunc(e,n)},clay_opengl_web_GL.blendFuncSeparate=function(e,n,t,i){clay_opengl_web_GL.gl.blendFuncSeparate(e,n,t,i)},clay_opengl_web_GL.bufferData=function(e,n,t){clay_opengl_web_GL.gl.bufferData(e,n,t)},clay_opengl_web_GL.bufferSubData=function(e,n,t){clay_opengl_web_GL.gl.bufferSubData(e,n,t)},clay_opengl_web_GL.checkFramebufferStatus=function(e){return clay_opengl_web_GL.gl.checkFramebufferStatus(e)},clay_opengl_web_GL.clear=function(e){clay_opengl_web_GL.gl.clear(e)},clay_opengl_web_GL.clearColor=function(e,n,t,i){clay_opengl_web_GL.gl.clearColor(e,n,t,i)},clay_opengl_web_GL.clearDepth=function(e){clay_opengl_web_GL.gl.clearDepth(e)},clay_opengl_web_GL.clearStencil=function(e){clay_opengl_web_GL.gl.clearStencil(e)},clay_opengl_web_GL.colorMask=function(e,n,t,i){clay_opengl_web_GL.gl.colorMask(e,n,t,i)},clay_opengl_web_GL.compileShader=function(e){clay_opengl_web_GL.gl.compileShader(e)},clay_opengl_web_GL.compressedTexImage2D=function(e,n,t,i,s,r,l){clay_opengl_web_GL.gl.compressedTexImage2D(e,n,t,i,s,r,l)},clay_opengl_web_GL.compressedTexSubImage2D=function(e,n,t,i,s,r,l,a){clay_opengl_web_GL.gl.compressedTexSubImage2D(e,n,t,i,s,r,l,a)},clay_opengl_web_GL.copyTexImage2D=function(e,n,t,i,s,r,l,a){clay_opengl_web_GL.gl.copyTexImage2D(e,n,t,i,s,r,l,a)},clay_opengl_web_GL.copyTexSubImage2D=function(e,n,t,i,s,r,l,a){clay_opengl_web_GL.gl.copyTexSubImage2D(e,n,t,i,s,r,l,a)},clay_opengl_web_GL.createBuffer=function(){return clay_opengl_web_GL.gl.createBuffer()},clay_opengl_web_GL.createFramebuffer=function(){return clay_opengl_web_GL.gl.createFramebuffer()},clay_opengl_web_GL.createProgram=function(){return clay_opengl_web_GL.gl.createProgram()},clay_opengl_web_GL.createRenderbuffer=function(){return clay_opengl_web_GL.gl.createRenderbuffer()},clay_opengl_web_GL.createShader=function(e){return clay_opengl_web_GL.gl.createShader(e)},clay_opengl_web_GL.createTexture=function(){return clay_opengl_web_GL.gl.createTexture()},clay_opengl_web_GL.cullFace=function(e){clay_opengl_web_GL.gl.cullFace(e)},clay_opengl_web_GL.deleteBuffer=function(e){clay_opengl_web_GL.gl.deleteBuffer(e)},clay_opengl_web_GL.deleteFramebuffer=function(e){clay_opengl_web_GL.gl.deleteFramebuffer(e)},clay_opengl_web_GL.deleteProgram=function(e){clay_opengl_web_GL.gl.deleteProgram(e)},clay_opengl_web_GL.deleteRenderbuffer=function(e){clay_opengl_web_GL.gl.deleteRenderbuffer(e)},clay_opengl_web_GL.deleteShader=function(e){clay_opengl_web_GL.gl.deleteShader(e)},clay_opengl_web_GL.deleteTexture=function(e){clay_opengl_web_GL.gl.deleteTexture(e)},clay_opengl_web_GL.depthFunc=function(e){clay_opengl_web_GL.gl.depthFunc(e)},clay_opengl_web_GL.depthMask=function(e){clay_opengl_web_GL.gl.depthMask(e)},clay_opengl_web_GL.depthRange=function(e,n){clay_opengl_web_GL.gl.depthRange(e,n)},clay_opengl_web_GL.detachShader=function(e,n){clay_opengl_web_GL.gl.detachShader(e,n)},clay_opengl_web_GL.disable=function(e){clay_opengl_web_GL.gl.disable(e)},clay_opengl_web_GL.disableVertexAttribArray=function(e){clay_opengl_web_GL.gl.disableVertexAttribArray(e)},clay_opengl_web_GL.drawArrays=function(e,n,t){clay_opengl_web_GL.gl.drawArrays(e,n,t)},clay_opengl_web_GL.drawElements=function(e,n,t,i){clay_opengl_web_GL.gl.drawElements(e,n,t,i)},clay_opengl_web_GL.enable=function(e){clay_opengl_web_GL.gl.enable(e)},clay_opengl_web_GL.enableVertexAttribArray=function(e){clay_opengl_web_GL.gl.enableVertexAttribArray(e)},clay_opengl_web_GL.finish=function(){clay_opengl_web_GL.gl.finish()},clay_opengl_web_GL.flush=function(){clay_opengl_web_GL.gl.flush()},clay_opengl_web_GL.framebufferRenderbuffer=function(e,n,t,i){clay_opengl_web_GL.gl.framebufferRenderbuffer(e,n,t,i)},clay_opengl_web_GL.framebufferTexture2D=function(e,n,t,i,s){clay_opengl_web_GL.gl.framebufferTexture2D(e,n,t,i,s)},clay_opengl_web_GL.frontFace=function(e){clay_opengl_web_GL.gl.frontFace(e)},clay_opengl_web_GL.generateMipmap=function(e){clay_opengl_web_GL.gl.generateMipmap(e)},clay_opengl_web_GL.getActiveAttrib=function(e,n){return clay_opengl_web_GL.gl.getActiveAttrib(e,n)},clay_opengl_web_GL.getActiveUniform=function(e,n){return clay_opengl_web_GL.gl.getActiveUniform(e,n)},clay_opengl_web_GL.getAttachedShaders=function(e){return clay_opengl_web_GL.gl.getAttachedShaders(e)},clay_opengl_web_GL.getAttribLocation=function(e,n){return clay_opengl_web_GL.gl.getAttribLocation(e,n)},clay_opengl_web_GL.getBufferParameter=function(e,n){return clay_opengl_web_GL.gl.getBufferParameter(e,n)},clay_opengl_web_GL.getContextAttributes=function(){return clay_opengl_web_GL.gl.getContextAttributes()},clay_opengl_web_GL.getError=function(){return clay_opengl_web_GL.gl.getError()},clay_opengl_web_GL.getExtension=function(e){return clay_opengl_web_GL.gl.getExtension(e)},clay_opengl_web_GL.getFramebufferAttachmentParameter=function(e,n,t){return clay_opengl_web_GL.gl.getFramebufferAttachmentParameter(e,n,t)},clay_opengl_web_GL.getParameter=function(e){return clay_opengl_web_GL.gl.getParameter(e)},clay_opengl_web_GL.getProgramInfoLog=function(e){return clay_opengl_web_GL.gl.getProgramInfoLog(e)},clay_opengl_web_GL.getProgramParameter=function(e,n){return clay_opengl_web_GL.gl.getProgramParameter(e,n)},clay_opengl_web_GL.getRenderbufferParameter=function(e,n){return clay_opengl_web_GL.gl.getRenderbufferParameter(e,n)},clay_opengl_web_GL.getShaderInfoLog=function(e){return clay_opengl_web_GL.gl.getShaderInfoLog(e)},clay_opengl_web_GL.getShaderParameter=function(e,n){return clay_opengl_web_GL.gl.getShaderParameter(e,n)},clay_opengl_web_GL.getShaderPrecisionFormat=function(e,n){return clay_opengl_web_GL.gl.getShaderPrecisionFormat(e,n)},clay_opengl_web_GL.getShaderSource=function(e){return clay_opengl_web_GL.gl.getShaderSource(e)},clay_opengl_web_GL.getSupportedExtensions=function(){return clay_opengl_web_GL.gl.getSupportedExtensions()},clay_opengl_web_GL.getTexParameter=function(e,n){return clay_opengl_web_GL.gl.getTexParameter(e,n)},clay_opengl_web_GL.getUniform=function(e,n){return clay_opengl_web_GL.gl.getUniform(e,n)},clay_opengl_web_GL.getUniformLocation=function(e,n){return clay_opengl_web_GL.gl.getUniformLocation(e,n)},clay_opengl_web_GL.getVertexAttrib=function(e,n){return clay_opengl_web_GL.gl.getVertexAttrib(e,n)},clay_opengl_web_GL.getVertexAttribOffset=function(e,n){return clay_opengl_web_GL.gl.getVertexAttribOffset(e,n)},clay_opengl_web_GL.hint=function(e,n){clay_opengl_web_GL.gl.hint(e,n)},clay_opengl_web_GL.isBuffer=function(e){return clay_opengl_web_GL.gl.isBuffer(e)},clay_opengl_web_GL.isEnabled=function(e){return clay_opengl_web_GL.gl.isEnabled(e)},clay_opengl_web_GL.isFramebuffer=function(e){return clay_opengl_web_GL.gl.isFramebuffer(e)},clay_opengl_web_GL.isProgram=function(e){return clay_opengl_web_GL.gl.isProgram(e)},clay_opengl_web_GL.isRenderbuffer=function(e){return clay_opengl_web_GL.gl.isRenderbuffer(e)},clay_opengl_web_GL.isShader=function(e){return clay_opengl_web_GL.gl.isShader(e)},clay_opengl_web_GL.isTexture=function(e){return clay_opengl_web_GL.gl.isTexture(e)},clay_opengl_web_GL.lineWidth=function(e){clay_opengl_web_GL.gl.lineWidth(e)},clay_opengl_web_GL.linkProgram=function(e){clay_opengl_web_GL.gl.linkProgram(e)},clay_opengl_web_GL.pixelStorei=function(e,n){clay_opengl_web_GL.gl.pixelStorei(e,n)},clay_opengl_web_GL.polygonOffset=function(e,n){clay_opengl_web_GL.gl.polygonOffset(e,n)},clay_opengl_web_GL.readPixels=function(e,n,t,i,s,r,l){clay_opengl_web_GL.gl.readPixels(e,n,t,i,s,r,l)},clay_opengl_web_GL.renderbufferStorage=function(e,n,t,i){clay_opengl_web_GL.gl.renderbufferStorage(e,n,t,i)},clay_opengl_web_GL.sampleCoverage=function(e,n){clay_opengl_web_GL.gl.sampleCoverage(e,n)},clay_opengl_web_GL.scissor=function(e,n,t,i){clay_opengl_web_GL.gl.scissor(e,n,t,i)},clay_opengl_web_GL.shaderSource=function(e,n){clay_opengl_web_GL.gl.shaderSource(e,n)},clay_opengl_web_GL.stencilFunc=function(e,n,t){clay_opengl_web_GL.gl.stencilFunc(e,n,t)},clay_opengl_web_GL.stencilFuncSeparate=function(e,n,t,i){clay_opengl_web_GL.gl.stencilFuncSeparate(e,n,t,i)},clay_opengl_web_GL.stencilMask=function(e){clay_opengl_web_GL.gl.stencilMask(e)},clay_opengl_web_GL.stencilMaskSeparate=function(e,n){clay_opengl_web_GL.gl.stencilMaskSeparate(e,n)},clay_opengl_web_GL.stencilOp=function(e,n,t){clay_opengl_web_GL.gl.stencilOp(e,n,t)},clay_opengl_web_GL.stencilOpSeparate=function(e,n,t,i){clay_opengl_web_GL.gl.stencilOpSeparate(e,n,t,i)},clay_opengl_web_GL.texImage2D=function(e,n,t,i,s,r,l,a,h){clay_opengl_web_GL.gl.texImage2D(e,n,t,i,s,r,l,a,h)},clay_opengl_web_GL.texParameterf=function(e,n,t){clay_opengl_web_GL.gl.texParameterf(e,n,t)},clay_opengl_web_GL.texParameteri=function(e,n,t){clay_opengl_web_GL.gl.texParameteri(e,n,t)},clay_opengl_web_GL.texSubImage2D=function(e,n,t,i,s,r,l,a,h){clay_opengl_web_GL.gl.texSubImage2D(e,n,t,i,s,r,l,a,h)},clay_opengl_web_GL.uniform1f=function(e,n){clay_opengl_web_GL.gl.uniform1f(e,n)},clay_opengl_web_GL.uniform1fv=function(e,n){clay_opengl_web_GL.gl.uniform1fv(e,n)},clay_opengl_web_GL.uniform1i=function(e,n){clay_opengl_web_GL.gl.uniform1i(e,n)},clay_opengl_web_GL.uniform1iv=function(e,n){clay_opengl_web_GL.gl.uniform1iv(e,n)},clay_opengl_web_GL.uniform2f=function(e,n,t){clay_opengl_web_GL.gl.uniform2f(e,n,t)},clay_opengl_web_GL.uniform2fv=function(e,n){clay_opengl_web_GL.gl.uniform2fv(e,n)},clay_opengl_web_GL.uniform2i=function(e,n,t){clay_opengl_web_GL.gl.uniform2i(e,n,t)},clay_opengl_web_GL.uniform2iv=function(e,n){clay_opengl_web_GL.gl.uniform2iv(e,n)},clay_opengl_web_GL.uniform3f=function(e,n,t,i){clay_opengl_web_GL.gl.uniform3f(e,n,t,i)},clay_opengl_web_GL.uniform3fv=function(e,n){clay_opengl_web_GL.gl.uniform3fv(e,n)},clay_opengl_web_GL.uniform3i=function(e,n,t,i){clay_opengl_web_GL.gl.uniform3i(e,n,t,i)},clay_opengl_web_GL.uniform3iv=function(e,n){clay_opengl_web_GL.gl.uniform3iv(e,n)},clay_opengl_web_GL.uniform4f=function(e,n,t,i,s){clay_opengl_web_GL.gl.uniform4f(e,n,t,i,s)},clay_opengl_web_GL.uniform4fv=function(e,n){clay_opengl_web_GL.gl.uniform4fv(e,n)},clay_opengl_web_GL.uniform4i=function(e,n,t,i,s){clay_opengl_web_GL.gl.uniform4i(e,n,t,i,s)},clay_opengl_web_GL.uniform4iv=function(e,n){clay_opengl_web_GL.gl.uniform4iv(e,n)},clay_opengl_web_GL.uniformMatrix2fv=function(e,n,t){clay_opengl_web_GL.gl.uniformMatrix2fv(e,n,t)},clay_opengl_web_GL.uniformMatrix3fv=function(e,n,t){clay_opengl_web_GL.gl.uniformMatrix3fv(e,n,t)},clay_opengl_web_GL.uniformMatrix4fv=function(e,n,t){clay_opengl_web_GL.gl.uniformMatrix4fv(e,n,t)},clay_opengl_web_GL.useProgram=function(e){clay_opengl_web_GL.gl.useProgram(e)},clay_opengl_web_GL.validateProgram=function(e){clay_opengl_web_GL.gl.validateProgram(e)},clay_opengl_web_GL.vertexAttrib1f=function(e,n){clay_opengl_web_GL.gl.vertexAttrib1f(e,n)},clay_opengl_web_GL.vertexAttrib1fv=function(e,n){clay_opengl_web_GL.gl.vertexAttrib1fv(e,n)},clay_opengl_web_GL.vertexAttrib2f=function(e,n,t){clay_opengl_web_GL.gl.vertexAttrib2f(e,n,t)},clay_opengl_web_GL.vertexAttrib2fv=function(e,n){clay_opengl_web_GL.gl.vertexAttrib2fv(e,n)},clay_opengl_web_GL.vertexAttrib3f=function(e,n,t,i){clay_opengl_web_GL.gl.vertexAttrib3f(e,n,t,i)},clay_opengl_web_GL.vertexAttrib3fv=function(e,n){clay_opengl_web_GL.gl.vertexAttrib3fv(e,n)},clay_opengl_web_GL.vertexAttrib4f=function(e,n,t,i,s){clay_opengl_web_GL.gl.vertexAttrib4f(e,n,t,i,s)},clay_opengl_web_GL.vertexAttrib4fv=function(e,n){clay_opengl_web_GL.gl.vertexAttrib4fv(e,n)},clay_opengl_web_GL.vertexAttribPointer=function(e,n,t,i,s,r){clay_opengl_web_GL.gl.vertexAttribPointer(e,n,t,i,s,r)},clay_opengl_web_GL.viewport=function(e,n,t,i){clay_opengl_web_GL.gl.viewport(e,n,t,i)},clay_opengl_web_GL.get_version=function(){return 7938};var clay_web_WebAssets=function(e){clay_base_BaseAssets.call(this,e)};t["clay.web.WebAssets"]=clay_web_WebAssets,clay_web_WebAssets.__name__="clay.web.WebAssets",clay_web_WebAssets.__super__=clay_base_BaseAssets,clay_web_WebAssets.prototype=$extend(clay_base_BaseAssets.prototype,{isSynchronous:function(){return!1},loadImage:function(e,n,t,i){null==t&&(t=!1),null==n&&(n=4);var s=this;if(null==e)throw haxe_Exception.thrown("Image path is null!");var r=ceramic_Path.extension(e);return this.app.io.loadData(e,!0,null,(function(e){null!=e?s.imageFromBytesUsingImageElement(e,r,4,null,(function(e){null!=i&&clay_Immediate.push((function(){i(e)}))})):null!=i&&clay_Immediate.push((function(){i(null)}))})),null},decodeImageFromElement:function(e,n){null==n&&(n=!0);var t=n?this.nearestPowerOfTwo(e.width):e.width,i=n?this.nearestPowerOfTwo(e.height):e.height,s=this.paddedBytesFromElement(e.width,e.height,t,i,e),r=new clay_Image(e.width,e.height,t,i,4,4,s);return s=null,r},imageFromBytes:function(e,n,t,i,s){return null==i&&(i=!0),null==t&&(t=4),this.imageFromBytesUsingImageElement(e,n,t,i,s)},imageFromBytesUsingImageElement:function(e,n,t,i,s){null==i&&(i=!0),null==t&&(t=4);var r=this;if(null==e)throw haxe_Exception.thrown("Image bytes are null!");for(var l="",a=0,h=e.length;a<h;){var c=255&e[a++];l+=String.fromCodePoint(c)}var o="data:image/"+n+";base64,"+window.btoa(l),u=new Image;return u.onload=function(e){var n=r.decodeImageFromElement(u,i);null!=s&&clay_Immediate.push((function(){s(n)}))},u.onerror=function(e){clay_Log.error("failed to load image from bytes, on error: "+e,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAssets.hx",lineNumber:216,className:"clay.web.WebAssets",methodName:"imageFromBytesUsingImageElement"})},u.src=o,null},pixelsToPngData:function(e,n,t,i){var s=window.document.createElement("canvas");s.width=e,s.height=n;var r=s.getContext("2d",null);r.clearRect(0,0,s.width,s.height);var l=new Uint8ClampedArray(t.buffer),a=r.createImageData(e,n);a.data.set(l);try{r.putImageData(a,0,0),s.toBlob((function(e){e.arrayBuffer().then((function(e){var n=new Uint8Array(e,0,e.byteLength);i(n),s=null,r=null,a=null}))}),"image/png")}catch(e){var h=haxe_Exception.caught(e).unwrap();throw haxe_Exception.thrown(h)}},paddedBytesFromPixels:function(e,n,t,i,s){var r=window.document.createElement("canvas");r.width=t,r.height=i;var l=r.getContext("2d",null);l.clearRect(0,0,r.width,r.height);var a=null,h=new Uint8ClampedArray(s.buffer),c=l.createImageData(e,n);c.data.set(h);try{l.putImageData(c,0,0),a=l.getImageData(0,0,r.width,r.height)}catch(e){var o=haxe_Exception.caught(e).unwrap();throw haxe_Exception.thrown(o)}return r=null,l=null,c=null,new Uint8Array(a.data)},paddedBytesFromElement:function(e,n,t,i,s){var r=window.document.createElement("canvas");r.width=t,r.height=i;var l=r.getContext("2d",null);l.clearRect(0,0,r.width,r.height),l.drawImage(s,0,0,e,n);var a=null;try{a=l.getImageData(0,0,r.width,r.height)}catch(e){var h=haxe_Exception.caught(e).unwrap();throw"- textures served over http:// work for cross origin byte requests",clay_Log.info("- textures served from file:/// throw security errors\n- textures served over http:// work for cross origin byte requests",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAssets.hx",lineNumber:333,className:"clay.web.WebAssets",methodName:"paddedBytesFromElement"}),haxe_Exception.thrown(h)}return r=null,l=null,new Uint8Array(a.data)},nearestPowerOfTwo:function(e){return clay_web_WebAssets.POT?(--e,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e):e},__class__:clay_web_WebAssets});var clay_web_WebAudio=function(e){this.active=!1,this.handleSeq=0,this.suspended=!1,clay_base_BaseAudio.call(this,e),this.instances=new haxe_ds_IntMap};t["clay.web.WebAudio"]=clay_web_WebAudio,clay_web_WebAudio.__name__="clay.web.WebAudio",clay_web_WebAudio.__super__=clay_base_BaseAudio,clay_web_WebAudio.prototype=$extend(clay_base_BaseAudio.prototype,{init:function(){this.initWebAudio()},initWebAudio:function(){try{this.context=new AudioContext}catch(e){try{this.context=new window.webkitAudioContext}catch(e){return void clay_Log.debug("Audio / webaudio / no AudioContext could be created! No audio loading or playback will be available.",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:73,className:"clay.web.WebAudio",methodName:"initWebAudio"})}}if(null==this.context)throw haxe_Exception.thrown("Audio / webaudio / no AudioContext could be created, is the Web Audio API supported?");var e="channelCount: "+this.context.destination.channelCount+', channelCountMode: "'+this.context.destination.channelCountMode+'", channelInterpretation: "'+this.context.destination.channelInterpretation+'", maxChannelCount: '+this.context.destination.maxChannelCount+", numberOfInputs: "+this.context.destination.numberOfInputs+", numberOfOutputs: "+this.context.destination.numberOfOutputs;clay_Log.debug("Audio / webaudio: "+Std.string(this.context)+" / sampleRate: "+this.context.sampleRate+" / destination: "+e,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:89,className:"clay.web.WebAudio",methodName:"initWebAudio"}),this.active=!0},shutdown:function(){this.context.close()},soundOf:function(e){return this.instances.h[e]},playBuffer:function(e){var n=this.context.createBufferSource();return n.buffer=e.buffer,n},playBufferAgain:function(e,n,t){n.bufferNode=this.playBuffer(n.source.data),n.bufferNode.connect(n.panNode),n.bufferNode.loop=n.loop,n.panNode.connect(n.gainNode),n.gainNode.connect(this.context.destination),n.bufferNode.start(0,t);var i=$bind(this,this.destroySound),s=n;n.bufferNode.onended=function(){i(s)}},playInstance:function(e,n,t,i,s,r,l){var a=this,h=this.context.createGain(),c=this.context.createPanner(),o=null;h.gain.value=r,c.panningModel="equalpower",c.setPosition(Math.cos(-1.5707),0,Math.sin(1.5707)),null!=s&&(o=s,s.loop=l),null!=i.mediaNode&&(o=i.mediaNode,i.mediaElem.loop=l),o.connect(c),c.connect(h),h.connect(this.context.destination);var u={handle:e,source:n,instance:t,bufferNode:s,mediaNode:i.mediaNode,mediaElem:i.mediaElem,gainNode:h,panNode:c,state:1,loop:l,pan:0,timeResumeAppTime:this.app.timestamp,timeResume:0,timePause:null};if(this.instances.h[e]=u,null!=s){s.start(0);var _=$bind(this,this.destroySound),d=u;s.onended=function(){_(d)}}null!=i.mediaNode&&(i.mediaElem.play(),i.mediaNode.addEventListener("ended",(function(){a.app.events.audioEvent(0,e),u.state=2})))},play:function(e,n,t){var i=e.data,s=this.handleSeq,r=e.instance(s);return e.data.isStream?(i.mediaElem.play(),i.mediaElem.volume=1,this.playInstance(s,e,r,i,null,n,!1)):this.playInstance(s,e,r,i,this.playBuffer(i),n,!1),this.handleSeq++,s},loop:function(e,n,t){var i=e.data,s=this.handleSeq,r=e.instance(s);return e.data.isStream?(i.mediaElem.play(),i.mediaElem.volume=1,this.playInstance(s,e,r,i,null,n,!0)):this.playInstance(s,e,r,i,this.playBuffer(i),n,!0),this.handleSeq++,s},stopBuffer:function(e){e.bufferNode.stop(),e.bufferNode.disconnect(),e.gainNode.disconnect(),e.panNode.disconnect(),e.bufferNode=null},pause:function(e){var n=this.instances.h[e];if(null!=n){clay_Log.debug("Audio / pause handle="+e+", "+n.source.data.id,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:260,className:"clay.web.WebAudio",methodName:"pause"});var t=n.timeResume+this.app.timestamp-n.timeResumeAppTime,i=n.source.getDuration();i>0&&(n.loop?t%=i:t>i&&(t=i)),n.timePause=t,n.state=0,null!=n.bufferNode?this.stopBuffer(n):null!=n.mediaNode&&n.mediaElem.pause()}},unPause:function(e){var n=this.instances.h[e];null!=n&&0==n.state&&(clay_Log.debug("Audio / unpause handle="+e+", "+n.source.data.id,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:290,className:"clay.web.WebAudio",methodName:"unPause"}),n.timeResume=null!=n.timePause?n.timePause:0,n.timeResumeAppTime=this.app.timestamp,null==n.mediaNode?this.playBufferAgain(e,n,n.timePause):n.mediaElem.play(),n.state=1)},destroySound:function(e){null!=e.bufferNode&&(e.bufferNode.stop(),e.bufferNode.disconnect(),e.bufferNode=null),null!=e.mediaNode&&(e.mediaElem.pause(),e.mediaElem.currentTime=0,e.mediaNode.disconnect(),e.mediaElem=null,e.mediaNode=null),null!=e.gainNode&&(e.gainNode.disconnect(),e.gainNode=null),null!=e.panNode&&(e.panNode.disconnect(),e.panNode=null),this.instances.remove(e.handle),e=null},stop:function(e){var n=this.instances.h[e];null!=n&&(clay_Log.debug("Audio / stop handle="+e+", "+n.source.data.id,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:342,className:"clay.web.WebAudio",methodName:"stop"}),this.destroySound(n),n.state=2)},volume:function(e,n){var t=this.instances.h[e];null!=t&&(clay_Log.debug("Audio / volume="+n+" handle="+e+", "+t.source.data.id,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:356,className:"clay.web.WebAudio",methodName:"volume"}),t.gainNode.gain.value=n)},pan:function(e,n){var t=this.instances.h[e];null!=t&&(clay_Log.debug("Audio / pan="+n+" handle="+e+", "+t.source.data.id,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:368,className:"clay.web.WebAudio",methodName:"pan"}),t.pan=n,t.panNode.setPosition(Math.cos(1.5707*(n-1)),0,Math.sin(1.5707*(n+1))))},pitch:function(e,n){var t=this.instances.h[e];null!=t&&(clay_Log.debug("Audio / pitch="+n+" handle="+e+", "+t.source.data.id,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:384,className:"clay.web.WebAudio",methodName:"pitch"}),null!=t.bufferNode?t.bufferNode.playbackRate.value=n:null!=t.mediaNode&&(t.mediaElem.playbackRate=n))},position:function(e,n){var t=this.instances.h[e];null!=t&&(clay_Log.debug("Audio / position="+n+" handle="+e+", "+t.source.data.id,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:400,className:"clay.web.WebAudio",methodName:"position"}),null!=t.bufferNode?(this.stopBuffer(t),this.playBufferAgain(e,t,n)):t.mediaElem.currentTime=n)},volumeOf:function(e){var n=this.instances.h[e];return null==n?0:n.gainNode.gain.value},panOf:function(e){var n=this.instances.h[e];return null==n?0:n.pan},pitchOf:function(e){var n=this.instances.h[e];if(null==n)return 0;var t=1;return null!=n.bufferNode?t=n.bufferNode.playbackRate.value:null!=n.mediaNode&&(t=n.mediaElem.playbackRate),t},positionOf:function(e){var n=this.instances.h[e];if(null==n)return 0;if(null==n.bufferNode)return n.mediaElem.currentTime;switch(n.state){case-1:case 2:return 0;case 0:case 1:var t;switch(n.state){case 0:t=n.timePause;break;case 1:t=n.timeResume+(this.app.timestamp-n.timeResumeAppTime);break;default:t=0}var i=n.source.getDuration();return i>0&&(n.loop?t%=i:t>i&&(t=i)),t}},stateOf:function(e){var n=this.instances.h[e];return null==n?-1:n.state},loopOf:function(e){var n=this.instances.h[e];return null!=n&&n.loop},instanceOf:function(e){var n=this.instances.h[e];return null==n?null:n.instance},suspend:function(){this.active&&(this.suspended||(this.suspended=!0,this.active=!1,this.context.suspend()))},resume:function(){this.active||this.suspended&&(this.suspended=!1,this.active=!0,this.context.resume())},loadData:function(e,n,t,i,s){if(null==i&&(i=!1),null==e)throw haxe_Exception.thrown("path is null!");return this.active?n?(this.loadDataFromStream(e,t,s),null):(this.loadDataFromSound(e,t,s),null):(clay_Log.error("Audio / WebAudio context unavailable",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:547,className:"clay.web.WebAudio",methodName:"loadData"}),null!=s&&clay_Immediate.push((function(){s(null)})),null)},dataFromBytes:function(e,n,t,i){var s=this;this.active?this.context.decodeAudioData(n.buffer,(function(n){var r=new clay_web__$WebAudio_WebAudioData(s.app,n,null,null,new clay_audio_AudioDataOptions(e,0|n.sampleRate,n.length,n.numberOfChannels,null,t,null,!1));null!=i&&clay_Immediate.push((function(){i(r)}))}),(function(){clay_Log.error("Audio / failed to decode audio for `"+e+"`",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:598,className:"clay.web.WebAudio",methodName:"dataFromBytes"}),null!=i&&clay_Immediate.push((function(){i(null)}))})):null!=i&&clay_Immediate.push((function(){i(null)}))},handleSourceDestroyed:function(e){},handleInstanceDestroyed:function(e){},loadDataFromSound:function(e,n,t){var i=this;this.app.io.loadData(e,!0,null,(function(s){i.dataFromBytes(e,s,n,t)}))},loadDataFromStream:function(e,n,t){var i=this,s=new Audio(e);s.autoplay=!1,s.controls=!1,s.preload="auto",s.onerror=function(n){var i;switch(s.error.code){case 1:i="MEDIA_ERR_ABORTED";break;case 2:i="MEDIA_ERR_NETWORK";break;case 3:i="MEDIA_ERR_DECODE";break;case 4:i="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:i="MEDIA_ERR_ENCRYPTED";break;default:i="unknown error"}clay_Log.error("Audio / failed to load `"+e+"` as stream : `"+i+"`",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:652,className:"clay.web.WebAudio",methodName:"loadDataFromStream"}),null!=t&&clay_Immediate.push((function(){t(null)}))},s.onloadedmetadata=function(r){var l=i.context.createMediaElementSource(s),a=0|i.context.sampleRate,h=l.channelCount,c=a*h*2,o=s.duration*c|0,u=new clay_web__$WebAudio_WebAudioData(i.app,null,l,s,new clay_audio_AudioDataOptions(e,a,o,h,null,n,null,!0));null!=t&&clay_Immediate.push((function(){t(u)}))}},__class__:clay_web_WebAudio});var clay_web__$WebAudio_WebAudioData=function(e,n,t,i,s){this.buffer=n,this.mediaNode=t,this.mediaElem=i,clay_audio_AudioData.call(this,e,s)};t["clay.web._WebAudio.WebAudioData"]=clay_web__$WebAudio_WebAudioData,clay_web__$WebAudio_WebAudioData.__name__="clay.web._WebAudio.WebAudioData",clay_web__$WebAudio_WebAudioData.__super__=clay_audio_AudioData,clay_web__$WebAudio_WebAudioData.prototype=$extend(clay_audio_AudioData.prototype,{destroy:function(){this.buffer=null,this.mediaNode=null,this.mediaElem=null,clay_audio_AudioData.prototype.destroy.call(this)},__class__:clay_web__$WebAudio_WebAudioData});var clay_web_WebConfig=function(e,n,t,i,s,r,l){this.mouseUseBrowserWindowEvents=!0,this.preventDefaultKeys=[1073741904,1073741903,1073741906,1073741905,8,9,127,32],this.preventDefaultTouches=!0,this.preventDefaultMouseWheel=!0,this.preventDefaultContextMenu=!0,this.windowParent=window.document.body,this.windowId="app",null!=e&&(this.windowId=e),null!=n&&(this.windowParent=n),null!=t&&(this.preventDefaultContextMenu=t),null!=i&&(this.preventDefaultMouseWheel=i),null!=s&&(this.preventDefaultTouches=s),null!=r&&(this.preventDefaultKeys=r),null!=l&&(this.mouseUseBrowserWindowEvents=l)};t["clay.web.WebConfig"]=clay_web_WebConfig,clay_web_WebConfig.__name__="clay.web.WebConfig",clay_web_WebConfig.prototype={__class__:clay_web_WebConfig};var clay_web_WebIO=function(e){clay_base_BaseIO.call(this,e)};t["clay.web.WebIO"]=clay_web_WebIO,clay_web_WebIO.__name__="clay.web.WebIO",clay_web_WebIO.__super__=clay_base_BaseIO,clay_web_WebIO.prototype=$extend(clay_base_BaseIO.prototype,{isSynchronous:function(){return!1},loadData:function(e,n,t,i){if(null==t&&(t=!1),null==n&&(n=!1),null==e)throw haxe_Exception.thrown("Path is null!");var s=new XMLHttpRequest;return s.open("GET",e,true),n?s.overrideMimeType("text/plain; charset=x-user-defined"):s.overrideMimeType("text/plain; charset=UTF-8"),s.responseType="arraybuffer",s.onload=function(e){if(200==s.status){var n=new Uint8Array(s.response);null!=i&&clay_Immediate.push((function(){i(n)}))}else clay_Log.error("Request status was "+s.status+" / "+s.statusText,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebIO.hx",lineNumber:102,className:"clay.web.WebIO",methodName:"loadData"}),null!=i&&clay_Immediate.push((function(){i(e)}))},s.send(),null},__class__:clay_web_WebIO});var clay_web_WebRuntime=function(e){this.touches=new ceramic_IntMap,this.windowDpr=1,this.windowY=0,this.windowX=0,this.skipKeyboardEvents=!1,this.skipMouseEvents=!1,this.gamepadsSupported=!1,clay_base_BaseRuntime.call(this,e)};t["clay.web.WebRuntime"]=clay_web_WebRuntime,clay_web_WebRuntime.__name__="clay.web.WebRuntime",clay_web_WebRuntime.timestamp=function(){return window.performance.now()/1e3-clay_web_WebRuntime.timestampStart},clay_web_WebRuntime.defaultConfig=function(){return new clay_web_WebConfig("app",window.document.body,!0,!0,!0,[1073741904,1073741903,1073741906,1073741905,8,9,127,32],!0)},clay_web_WebRuntime.__super__=clay_base_BaseRuntime,clay_web_WebRuntime.prototype=$extend(clay_base_BaseRuntime.prototype,{init:function(){clay_web_WebRuntime.timestampStart=window.performance.now()/1e3,this.name="web",this.initGamepads()},ready:function(){this.createWindow(),clay_Log.debug("Web / ready",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:74,className:"clay.web.WebRuntime",methodName:"ready"})},run:function(){return clay_Log.debug("Web / run",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:80,className:"clay.web.WebRuntime",methodName:"run"}),this.loop(0),!1},loop:function(e){if(null==e&&(e=.016),this.app.hasShutdown)return!1;this.app.ready&&(this.gamepadsSupported&&this.pollGamepads(),this.updateWindowBounds());var n=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;return this.app.shouldUpdate(n)&&this.app.emitTick(n),this.app.shuttingDown||window.requestAnimationFrame($bind(this,this.loop)),!0},createWindow:function(){var e=this.app.config.window;this.window=window.document.createElement("canvas"),this.windowDpr=this.windowDevicePixelRatio(),this.window.width=Math.floor(e.width*this.windowDpr),this.window.height=Math.floor(e.height*this.windowDpr),this.windowW=e.width,this.windowH=e.height,this.window.style.width=e.width+"px",this.window.style.height=e.height+"px",this.window.style.background="#000000",clay_Log.debug("Web / Created window at "+this.windowX+","+this.windowY+" - "+this.window.width+"x"+this.window.height+" pixels ("+e.width+"x"+e.height+"@"+this.windowDpr+"x)",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:139,className:"clay.web.WebRuntime",methodName:"createWindow"}),this.window.id=this.app.config.runtime.windowId,this.app.config.runtime.windowParent.appendChild(this.window),null!=e.title&&(window.document.title=e.title),this.createRenderContext(this.window)?(this.postRenderContext(this.window),this.setupEvents()):this.createRenderContextFailed()},createRenderContext:function(e){var n=this.app.config.render,t=this.applyGLAttributes(n),i=null;return 1!=n.webgl.version&&null==(i=e.getContext("webgl"+n.webgl.version,t))&&(i=e.getContext("experimental-webgl"+n.webgl.version,t)),null==i&&(i=js_html__$CanvasElement_CanvasUtil.getContextWebGL(e,t)),clay_opengl_web_GL.gl=i,clay_Log.debug("GL / context: "+Std.string(null!=i),{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:181,className:"clay.web.WebRuntime",methodName:"createRenderContext"}),null!=i},createRenderContextFailed:function(){var e=window.document.createElement("div"),n=window.document.createElement("div");throw e.style.marginLeft="auto",e.style.marginRight="auto",e.style.color="#d3d3d3",e.style.marginTop="5em",e.style.fontSize="1.4em",e.style.fontFamily="Helvetica, sans-serif",e.innerHTML='WebGL is required to run this!<br/><br/>visit <a style="color:#06b4fb; text-decoration:none;" href="http://get.webgl.org/">get.webgl.com</a> for info<br/>and contact the developer of this app',n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.display="block",n.style.minWidth="100%",n.style.minHeight="100%",n.style.textAlign="center",n.style.position="absolute",n.style.background="rgba(1,1,1,0.90)",n.appendChild(e),window.document.body.appendChild(n),haxe_Exception.thrown("Web / Failed to create render context")},applyGLAttributes:function(e){var n={alpha:e.webgl.alpha,antialias:e.webgl.antialias,depth:e.webgl.depth,stencil:e.webgl.stencil,failIfMajorPerformanceCaveat:e.webgl.failIfMajorPerformanceCaveat,premultipliedAlpha:e.webgl.premultipliedAlpha,preserveDrawingBuffer:e.webgl.preserveDrawingBuffer};return e.antialiasing>0&&(n.antialias=!0),e.depth>0&&(n.depth=!0),e.stencil>0&&(n.stencil=!0),n},postRenderContext:function(e){var n=this.app.config.render.defaultClear;clay_opengl_web_GL.gl.clearDepth(1),clay_opengl_web_GL.gl.clearStencil(0),clay_opengl_web_GL.gl.clearColor(n.r,n.g,n.b,n.a),clay_opengl_web_GL.gl.clear(17664)},setupEvents:function(){window.document.addEventListener("fullscreenchange",$bind(this,this.handleFullscreenChange)),window.document.addEventListener("fullscreenerror",$bind(this,this.handleFullscreenError)),this.window.addEventListener("mouseenter",$bind(this,this.handleMouseEnter)),this.window.addEventListener("mouseleave",$bind(this,this.handleMouseLeave)),window.document.addEventListener("visibilitychange",$bind(this,this.handleVisibilityChange)),window.document.addEventListener("keydown",$bind(this,this.handleKeyDown)),window.document.addEventListener("keyup",$bind(this,this.handleKeyUp)),window.document.addEventListener("keypress",$bind(this,this.handleKeyPress)),this.window.addEventListener("contextmenu",$bind(this,this.handleContextMenu));var e=this.app.config.runtime.mouseUseBrowserWindowEvents?window:this.window;e.addEventListener("mousedown",$bind(this,this.handleMouseDown)),e.addEventListener("mouseup",$bind(this,this.handleMouseUp)),e.addEventListener("mousemove",$bind(this,this.handleMouseMove)),this.window.addEventListener("wheel",$bind(this,this.handleWheel)),this.window.addEventListener("touchstart",$bind(this,this.handleTouchStart)),this.window.addEventListener("touchend",$bind(this,this.handleTouchEnd)),this.window.addEventListener("touchmove",$bind(this,this.handleTouchMove)),window.addEventListener("gamepadconnected",$bind(this,this.handleGamepadConnected)),window.addEventListener("gamepaddisconnected",$bind(this,this.handleGamepadDisconnected))},handleVisibilityChange:function(e){window.document.hidden?(this.app.emitWindowEvent(2,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0),this.app.emitWindowEvent(7,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0),this.app.emitWindowEvent(13,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0)):(this.app.emitWindowEvent(1,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0),this.app.emitWindowEvent(9,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0),this.app.emitWindowEvent(12,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0))},handleContextMenu:function(e){this.app.config.runtime.preventDefaultContextMenu&&e.preventDefault()},handleFullscreenChange:function(e){var n=window.document.fullscreenElement;null!=n?(clay_Log.debug("Web / Entering fullscreen (id="+n.id+")",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:345,className:"clay.web.WebRuntime",methodName:"handleFullscreenChange"}),this.app.config.window.fullscreen=!0,this.app.emitWindowEvent(15,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0)):(clay_Log.debug("Web / Leaving fullscreen",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:350,className:"clay.web.WebRuntime",methodName:"handleFullscreenChange"}),this.app.config.window.fullscreen=!1,this.app.emitWindowEvent(16,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0))},handleFullscreenError:function(e){clay_Log.warning("Web / Failed to change fullscreen setting: "+Std.string(e),{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:359,className:"clay.web.WebRuntime",methodName:"handleFullscreenError"})},handleMouseEnter:function(e){this.app.emitWindowEvent(10,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0)},handleMouseLeave:function(e){this.app.emitWindowEvent(11,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0)},handleMouseDown:function(e){if(!this.skipMouseEvents){var n=this.app.input,t=Math.floor(this.windowDpr*(e.pageX-this.windowX)),i=Math.floor(this.windowDpr*(e.pageY-this.windowY)),s=e.button,r=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;n.app.events.mouseDown(t,i,s,r,1)}},handleMouseUp:function(e){if(!this.skipMouseEvents){var n=this.app.input,t=Math.floor(this.windowDpr*(e.pageX-this.windowX)),i=Math.floor(this.windowDpr*(e.pageY-this.windowY)),s=e.button,r=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;n.app.events.mouseUp(t,i,s,r,1)}},handleMouseMove:function(e){if(!this.skipMouseEvents){var n=null==e.movementX?0:e.movementX,t=null==e.movementY?0:e.movementY;n=Math.floor(n*this.windowDpr),t=Math.floor(t*this.windowDpr);var i=this.app.input,s=Math.floor(this.windowDpr*(e.pageX-this.windowX)),r=Math.floor(this.windowDpr*(e.pageY-this.windowY)),l=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;i.app.events.mouseMove(s,r,n,t,l,1)}},handleWheel:function(e){if(this.app.config.runtime.preventDefaultMouseWheel&&e.preventDefault(),!this.skipMouseEvents){var n=this.app.input,t=Math.round(.1*e.deltaX),i=Math.round(.1*e.deltaY),s=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;n.app.events.mouseWheel(t,i,s,1)}},handleTouchStart:function(e){this.app.config.runtime.preventDefaultTouches&&e.preventDefault();for(var n=this.window.getBoundingClientRect(),t=0,i=e.changedTouches;t<i.length;){var s=i[t];++t;var r=s.clientX-n.left,l=s.clientY-n.top;r/=n.width,l/=n.height;var a=this.touches.get(s.identifier);null==a?(a={x:r,y:l},this.touches.set(s.identifier,a)):(a.x=r,a.y=l);var h=this.app.input,c=s.identifier,o=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;h.app.events.touchDown(r,l,0,0,c,o)}},handleTouchEnd:function(e){this.app.config.runtime.preventDefaultTouches&&e.preventDefault();for(var n=this.window.getBoundingClientRect(),t=0,i=e.changedTouches;t<i.length;){var s=i[t];++t;var r=s.clientX-n.left,l=s.clientY-n.top;r/=n.width,l/=n.height;var a=this.touches.get(s.identifier);null==a&&(a={x:r,y:l},this.touches.set(s.identifier,a));var h=this.app.input,c=r-a.x,o=l-a.y,u=s.identifier,_=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;h.app.events.touchUp(r,l,c,o,u,_),a.x=r,a.y=l}},handleTouchMove:function(e){this.app.config.runtime.preventDefaultTouches&&e.preventDefault();for(var n=this.window.getBoundingClientRect(),t=0,i=e.changedTouches;t<i.length;){var s=i[t];++t;var r=s.clientX-n.left,l=s.clientY-n.top;r/=n.width,l/=n.height;var a=this.touches.get(s.identifier);null==a&&(a={x:r,y:l},this.touches.set(s.identifier,a));var h=this.app.input,c=r-a.x,o=l-a.y,u=s.identifier,_=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;h.app.events.touchMove(r,l,c,o,u,_),a.x=r,a.y=l}},handleKeyDown:function(e){if(!this.skipKeyboardEvents){var n=this.convertKeyCode(e.keyCode),t=w.toScanCode(n),i=this.modStateFromEvent(e);-1!=this.app.config.runtime.preventDefaultKeys.indexOf(n)&&e.preventDefault();var s=this.app.input,r=e.repeat,l=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;s.app.events.keyDown(n,t,r,i,l,1)}},handleKeyUp:function(e){if(!this.skipKeyboardEvents){var n=this.convertKeyCode(e.keyCode),t=w.toScanCode(n),i=this.modStateFromEvent(e);-1!=this.app.config.runtime.preventDefaultKeys.indexOf(n)&&e.preventDefault();var s=this.app.input,r=e.repeat,l=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;s.app.events.keyUp(n,t,r,i,l,1)}},handleKeyPress:function(e){if(!this.skipKeyboardEvents&&0!=e.which&&8!=e.keyCode&&13!=e.keyCode){var n=e.charCode,t=String.fromCodePoint(n),i=this.app.input,s=t.length,r=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;i.app.events.text(t,0,s,2,r,1)}},handleGamepadConnected:function(e){clay_Log.debug("Gamepad connected at index "+e.gamepad.index+": "+e.gamepad.id+". "+e.gamepad.buttons.length+" buttons, "+e.gamepad.axes.length+" axes",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:629,className:"clay.web.WebRuntime",methodName:"handleGamepadConnected"});var n=e.gamepad;if(null==this.gamepadButtonCache[n.index]){this.gamepadButtonCache[n.index]=[];for(var t=0,i=n.buttons.length;t<i;){t++;this.gamepadButtonCache[n.index].push(0)}this.gamepadAxisCache[n.index]=[];for(t=0,i=n.axes.length;t<i;){t++;this.gamepadAxisCache[n.index].push(0)}}var s=this.app.input,r=(n=e.gamepad.index,e.gamepad.id),l=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;s.app.events.gamepadDevice(n,r,1,l)},handleGamepadDisconnected:function(e){clay_Log.debug("Gamepad disconnected at index "+e.gamepad.index+": "+e.gamepad.id,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:644,className:"clay.web.WebRuntime",methodName:"handleGamepadDisconnected"});var n=e.gamepad;this.gamepadButtonCache[n.index]=null,this.gamepadAxisCache[n.index]=null;var t=this.app.input,i=(n=e.gamepad.index,e.gamepad.id),s=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;t.app.events.gamepadDevice(n,i,2,s)},convertKeyCode:function(e){return e>=65&&e<=90?e+32:clay_web__$WebRuntime_DOMKeys.domKeyToKeyCode(e)},modStateFromEvent:function(e){var n=!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey);return this.app.input.modState.none=n,this.app.input.modState.lshift=e.shiftKey,this.app.input.modState.rshift=e.shiftKey,this.app.input.modState.lctrl=e.ctrlKey,this.app.input.modState.rctrl=e.ctrlKey,this.app.input.modState.lalt=e.altKey,this.app.input.modState.ralt=e.altKey,this.app.input.modState.lmeta=e.metaKey,this.app.input.modState.rmeta=e.metaKey,this.app.input.modState.num=!1,this.app.input.modState.caps=!1,this.app.input.modState.mode=!1,this.app.input.modState.ctrl=e.ctrlKey,this.app.input.modState.shift=e.shiftKey,this.app.input.modState.alt=e.altKey,this.app.input.modState.meta=e.metaKey,this.app.input.modState},getWindowX:function(e){return Math.round(e.left+window.pageXOffset-window.document.body.clientTop)},getWindowY:function(e){return Math.round(e.top+window.pageYOffset-window.document.body.clientLeft)},translateMouseX:function(e){return Math.floor(this.windowDpr*(e.pageX-this.windowX))},translateMouseY:function(e){return Math.floor(this.windowDpr*(e.pageY-this.windowY))},updateWindowBounds:function(){var e=this.windowDpr;this.windowDpr=this.windowDevicePixelRatio();var n=this.window.getBoundingClientRect(),t=Math.round(n.left+window.pageXOffset-window.document.body.clientTop),i=Math.round(n.top+window.pageYOffset-window.document.body.clientLeft),s=Math.round(n.width),r=Math.round(n.height);t==this.windowX&&i==this.windowY||(this.windowX=t,this.windowY=i,this.app.emitWindowEvent(4,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,this.windowX,this.windowY)),s==this.windowW&&r==this.windowH&&e==this.windowDpr||(this.windowW=s,this.windowH=r,this.window.width=Math.floor(this.windowW*this.windowDpr),this.window.height=Math.floor(this.windowH*this.windowDpr),this.app.emitWindowEvent(6,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,this.window.width,this.window.height))},initGamepads:function(){var e=this.getGamepadList();if(null!=e){this.gamepadsSupported=!0,this.gamepadButtonCache=[],this.gamepadAxisCache=[];for(var n=0;n<e.length;){var t=e[n];if(++n,null!=t&&null==this.gamepadButtonCache[t.index]){this.gamepadButtonCache[t.index]=[];for(var i=0,s=t.buttons.length;i<s;){i++;this.gamepadButtonCache[t.index].push(0)}this.gamepadAxisCache[t.index]=[];for(var r=0,l=t.axes.length;r<l;){r++;this.gamepadAxisCache[t.index].push(0)}}}}else clay_Log.warning("Gamepads are not supported in this browser :(",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:764,className:"clay.web.WebRuntime",methodName:"initGamepads"})},getGamepadList:function(){return null!=e.navigator.getGamepads?e.navigator.getGamepads():null!=e.navigator.webkitGetGamepads?e.navigator.webkitGetGamepads():null},initGamepadCacheIfNeeded:function(e){if(null==this.gamepadButtonCache[e.index]){this.gamepadButtonCache[e.index]=[];for(var n=0,t=e.buttons.length;n<t;){n++;this.gamepadButtonCache[e.index].push(0)}this.gamepadAxisCache[e.index]=[];for(n=0,t=e.axes.length;n<t;){n++;this.gamepadAxisCache[e.index].push(0)}}},deleteGamepadCache:function(e){this.gamepadButtonCache[e.index]=null,this.gamepadAxisCache[e.index]=null},pollGamepads:function(){var e=this.getGamepadList();if(null!=e)for(var n=e.length,t=0;t<n;){var i=e[t];if(null!=i){if(null==this.gamepadButtonCache[i.index]){this.gamepadButtonCache[i.index]=[];for(var s=0,r=i.buttons.length;s<r;){s++;this.gamepadButtonCache[i.index].push(0)}this.gamepadAxisCache[i.index]=[];for(var l=0,a=i.axes.length;l<a;){l++;this.gamepadAxisCache[i.index].push(0)}}for(var h=this.gamepadAxisCache[i.index],c=0,o=i.axes.length;c<o;){var u=c++,_=i.axes[u];if(_!=h[u]){h[u]=_;var d=this.app.input,b=i.index,f=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;d.app.events.gamepadAxis(b,u,_,f)}}for(var p=this.gamepadButtonCache[i.index],O=0,g=i.buttons.length;O<g;){var m=O++,w=i.buttons[m];if(w.value!=p[m])if(p[m]=w.value,w.pressed){var v=this.app.input,y=i.index,U=w.value,x=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;v.app.events.gamepadDown(y,m,U,x)}else{var C=this.app.input,D=i.index,T=w.value,E=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;C.app.events.gamepadUp(D,m,T,E)}}++t}else++t}},windowDevicePixelRatio:function(){return null==window.devicePixelRatio?1:window.devicePixelRatio},windowWidth:function(){return Math.round(this.windowW*this.windowDevicePixelRatio())},windowHeight:function(){return Math.round(this.windowH*this.windowDevicePixelRatio())},setWindowFullscreen:function(e){return e?this.window.requestFullscreen():window.document.exitFullscreen(),!0},setWindowTitle:function(e){this.app.config.window.title=e,window.document.title=e},__class__:clay_web_WebRuntime});var clay_web__$WebRuntime_DOMKeys=function(){};t["clay.web._WebRuntime.DOMKeys"]=clay_web__$WebRuntime_DOMKeys,clay_web__$WebRuntime_DOMKeys.__name__="clay.web._WebRuntime.DOMKeys",clay_web__$WebRuntime_DOMKeys.domKeyToKeyCode=function(e){switch(e){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 44:return 1073741894;case 45:return 1073741897;case 46:return 127;case 91:return 1073742051;case 93:return 1073742055;case 96:return 1073741922;case 97:return 1073741913;case 98:return 1073741914;case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;case 102:return 1073741918;case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;case 106:return 1073741909;case 107:return 1073741911;case 109:return 1073741910;case 110:return 1073742044;case 111:return 1073741908;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 127:return 1073741931;case 128:return 1073741932;case 129:return 1073741933;case 130:return 1073741934;case 131:return 1073741935;case 132:return 1073741936;case 133:return 1073741937;case 134:return 1073741938;case 135:return 1073741939;case 144:return 1073741907;case 160:return 94;case 161:return 33;case 162:return 34;case 163:return 35;case 164:return 36;case 165:return 37;case 166:return 38;case 167:return 95;case 168:return 40;case 169:return 41;case 170:return 42;case 171:return 43;case 172:return 92;case 173:return 45;case 174:return 91;case 175:return 93;case 176:return 96;case 181:return 1073742086;case 182:return 1073741953;case 183:return 1073741952;case 188:return 44;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39;case 224:return 1073742051}return e};var P=i["haxe.StackItem"]={__ename__:"haxe.StackItem",__constructs__:null,CFunction:{_hx_name:"CFunction",_hx_index:0,__enum__:"haxe.StackItem",toString:$estr},Module:(n=function(e){return{_hx_index:1,m:e,__enum__:"haxe.StackItem",toString:$estr}},n._hx_name="Module",n.__params__=["m"],n),FilePos:(n=function(e,n,t,i){return{_hx_index:2,s:e,file:n,line:t,column:i,__enum__:"haxe.StackItem",toString:$estr}},n._hx_name="FilePos",n.__params__=["s","file","line","column"],n),Method:(n=function(e,n){return{_hx_index:3,classname:e,method:n,__enum__:"haxe.StackItem",toString:$estr}},n._hx_name="Method",n.__params__=["classname","method"],n),LocalFunction:(n=function(e){return{_hx_index:4,v:e,__enum__:"haxe.StackItem",toString:$estr}},n._hx_name="LocalFunction",n.__params__=["v"],n)};P.__constructs__=[P.CFunction,P.Module,P.FilePos,P.Method,P.LocalFunction];var haxe_IMap=function(){};t["haxe.IMap"]=haxe_IMap,haxe_IMap.__name__="haxe.IMap",haxe_IMap.__isInterface__=!0,haxe_IMap.prototype={__class__:haxe_IMap};var haxe_Exception=function(e,n,t){Error.call(this,e),this.message=e,this.__previousException=n,this.__nativeException=null!=t?t:this,this.__skipStack=0;var i=Error.prepareStackTrace;if(Error.prepareStackTrace=function(e){return e.stack},t instanceof Error)this.stack=t.stack;else{var s=null;if(Error.captureStackTrace)Error.captureStackTrace(this,haxe_Exception),s=this;else if(void 0===(s=new Error).stack){try{throw s}catch(e){}this.__skipStack++}this.stack=s.stack}Error.prepareStackTrace=i};t["haxe.Exception"]=haxe_Exception,haxe_Exception.__name__="haxe.Exception",haxe_Exception.caught=function(e){return e instanceof haxe_Exception?e:e instanceof Error?new haxe_Exception(e.message,null,e):new haxe_ValueException(e,null,e)},haxe_Exception.thrown=function(e){if(e instanceof haxe_Exception)return e.get_native();if(e instanceof Error)return e;var n=new haxe_ValueException(e);return n.__skipStack++,n},haxe_Exception.__super__=Error,haxe_Exception.prototype=$extend(Error.prototype,{unwrap:function(){return this.__nativeException},__shiftStack:function(){this.__skipStack++},get_native:function(){return this.__nativeException},get_stack:function(){var e=this.__exceptionStack;if(null==e){var n=haxe_NativeStackTrace.toHaxe(haxe_NativeStackTrace.normalize(this.stack),this.__skipStack);return this.setProperty("__exceptionStack",n),n}return e},setProperty:function(e,n){try{Object.defineProperty(this,e,{value:n})}catch(t){this[e]=n}},__class__:haxe_Exception,__properties__:{get_native:"get_native",get_stack:"get_stack"}});var haxe_Log=function(){};t["haxe.Log"]=haxe_Log,haxe_Log.__name__="haxe.Log",haxe_Log.formatOutput=function(e,n){var t=Std.string(e);if(null==n)return t;var i=n.fileName+":"+n.lineNumber;if(null!=n.customParams)for(var s=0,r=n.customParams;s<r.length;){e=r[s];++s,t+=", "+Std.string(e)}return i+": "+t},haxe_Log.trace=function(e,n){var t=haxe_Log.formatOutput(e,n);"undefined"!=typeof console&&null!=console.log&&console.log(t)};var haxe_NativeStackTrace=function(){};t["haxe.NativeStackTrace"]=haxe_NativeStackTrace,haxe_NativeStackTrace.__name__="haxe.NativeStackTrace",haxe_NativeStackTrace.toHaxe=function(e,n){if(null==n&&(n=0),null==e)return[];if("string"==typeof e){var t=e.split("\n");"Error"==t[0]&&t.shift();for(var i=[],s=0,r=t.length;s<r;){var l=s++;if(!(n>l)){var a=t[l],h=a.match(/^    at ([A-Za-z0-9_. ]+) \(([^)]+):([0-9]+):([0-9]+)\)$/);if(null!=h){var c=h[1].split(".");"$hxClasses"==c[0]&&c.shift();var o=c.pop(),u=h[2],_=Std.parseInt(h[3]),d=Std.parseInt(h[4]);i.push(P.FilePos("Anonymous function"==o?P.LocalFunction():"Global code"==o?null:P.Method(c.join("."),o),u,_,d))}else i.push(P.Module(StringTools.trim(a)))}}return i}return n>0&&Array.isArray(e)?e.slice(n):e},haxe_NativeStackTrace.normalize=function(e,n){if(null==n&&(n=0),Array.isArray(e)&&n>0)return e.slice(n);if("string"==typeof e){switch(e.substring(0,6)){case"Error\n":case"Error:":++n}return haxe_NativeStackTrace.skipLines(e,n)}return e},haxe_NativeStackTrace.skipLines=function(e,n,t){return null==t&&(t=0),n>0?(t=e.indexOf("\n",t))<0?"":haxe_NativeStackTrace.skipLines(e,--n,t+1):e.substring(t)};var haxe_Serializer=function(){this.buf=new StringBuf,this.cache=[],this.useCache=haxe_Serializer.USE_CACHE,this.useEnumIndex=haxe_Serializer.USE_ENUM_INDEX,this.shash=new haxe_ds_StringMap,this.scount=0};t["haxe.Serializer"]=haxe_Serializer,haxe_Serializer.__name__="haxe.Serializer",haxe_Serializer.prototype={toString:function(){return this.buf.b},serializeString:function(e){var n=this.shash.h[e];if(null!=n)return this.buf.b+="R",void(this.buf.b+=null==n?"null":""+n);this.shash.h[e]=this.scount++,this.buf.b+="y",e=encodeURIComponent(e),this.buf.b+=Std.string(e.length),this.buf.b+=":",this.buf.b+=null==e?"null":""+e},serializeRef:function(e){for(var n=typeof e,t=0,i=this.cache.length;t<i;){var s=t++,r=this.cache[s];if(typeof r==n&&r==e)return this.buf.b+="r",this.buf.b+=null==s?"null":""+s,!0}return this.cache.push(e),!1},serializeFields:function(e){for(var n=0,t=Reflect.fields(e);n<t.length;){var i=t[n];++n,this.serializeString(i),this.serialize(Reflect.field(e,i))}this.buf.b+="g"},serialize:function(e){switch((T=Type.typeof(e))._hx_index){case 0:this.buf.b+="n";break;case 1:if(0==(n=e))return void(this.buf.b+="z");this.buf.b+="i",this.buf.b+=null==n?"null":""+n;break;case 2:var n=e;isNaN(n)?this.buf.b+="k":isFinite(n)?(this.buf.b+="d",this.buf.b+=null==n?"null":""+n):this.buf.b+=n<0?"m":"p";break;case 3:this.buf.b+=e?"t":"f";break;case 4:if(js_Boot.__instanceof(e,ee)){var t=e.__name__;this.buf.b+="A",this.serializeString(t)}else if(js_Boot.__instanceof(e,ne))this.buf.b+="B",this.serializeString(e.__ename__);else{if(this.useCache&&this.serializeRef(e))return;this.buf.b+="o",this.serializeFields(e)}break;case 5:throw haxe_Exception.thrown("Cannot serialize function");case 6:var s=T.c;if(s==String)return void this.serializeString(e);if(this.useCache&&this.serializeRef(e))return;switch(s){case Array:var r=0;this.buf.b+="a";for(var l=0,a=e.length;l<a;){null==e[d=l++]?++r:(r>0&&(1==r?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==r?"null":""+r),r=0),this.serialize(e[d]))}r>0&&(1==r?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==r?"null":""+r)),this.buf.b+="h";break;case Date:var h=e;this.buf.b+="v",this.buf.b+=Std.string(h.getTime());break;case haxe_ds_IntMap:this.buf.b+="q";for(var c=(n=e).keys();c.hasNext();){var o=c.next();this.buf.b+=":",this.buf.b+=null==o?"null":""+o,this.serialize(n.h[o])}this.buf.b+="h";break;case haxe_ds_List:this.buf.b+="l";for(var u=(n=e).h;null!=u;){var _=u.item;u=u.next;var d=_;this.serialize(d)}this.buf.b+="h";break;case haxe_ds_ObjectMap:this.buf.b+="M";for(c=(n=e).keys();c.hasNext();){o=c.next();var b=Reflect.field(o,"__id__");Reflect.deleteField(o,"__id__"),this.serialize(o),o.__id__=b,this.serialize(n.h[o.__id__])}this.buf.b+="h";break;case haxe_ds_StringMap:this.buf.b+="b";for(var f=(n=e).h,p=Object.keys(f),O=p.length,g=0;g<O;){c=p[g++];this.serializeString(c),this.serialize(n.h[c])}this.buf.b+="h";break;case haxe_io_Bytes:n=e;this.buf.b+="s",this.buf.b+=Std.string(Math.ceil(8*n.length/6)),this.buf.b+=":";d=0;var m=n.length-2,w=haxe_Serializer.BASE64_CODES;if(null==w){w=new Array(haxe_Serializer.BASE64.length);for(l=0,a=haxe_Serializer.BASE64.length;l<a;){var v=l++;w[v]=HxOverrides.cca(haxe_Serializer.BASE64,v)}haxe_Serializer.BASE64_CODES=w}for(;d<m;){var y=n.b[d++],U=n.b[d++],x=n.b[d++];this.buf.b+=String.fromCodePoint(w[y>>2]),this.buf.b+=String.fromCodePoint(w[63&(y<<4|U>>4)]),this.buf.b+=String.fromCodePoint(w[63&(U<<2|x>>6)]),this.buf.b+=String.fromCodePoint(w[63&x])}if(d==m){y=n.b[d++],U=n.b[d++];this.buf.b+=String.fromCodePoint(w[y>>2]),this.buf.b+=String.fromCodePoint(w[63&(y<<4|U>>4)]),this.buf.b+=String.fromCodePoint(w[U<<2&63])}else if(d==m+1){y=n.b[d++];this.buf.b+=String.fromCodePoint(w[y>>2]),this.buf.b+=String.fromCodePoint(w[y<<4&63])}break;default:this.useCache&&this.cache.pop(),null!=e.hxSerialize?(this.buf.b+="C",this.serializeString(s.__name__),this.useCache&&this.cache.push(e),e.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(s.__name__),this.useCache&&this.cache.push(e),this.serializeFields(e))}break;case 7:var C=T.e;if(this.useCache){if(this.serializeRef(e))return;this.cache.pop()}if(this.buf.b+=Std.string(this.useEnumIndex?"j":"w"),this.serializeString(C.__ename__),this.useEnumIndex)this.buf.b+=":",this.buf.b+=Std.string(e._hx_index);else{C=e;this.serializeString(i[C.__enum__].__constructs__[C._hx_index]._hx_name)}this.buf.b+=":";var D=Type.enumParameters(e);this.buf.b+=Std.string(D.length);for(var T=0;T<D.length;){var E=D[T];++T,this.serialize(E)}this.useCache&&this.cache.push(e);break;default:throw haxe_Exception.thrown("Cannot serialize "+Std.string(e))}},__class__:haxe_Serializer};var haxe__$Unserializer_DefaultResolver=function(){};t["haxe._Unserializer.DefaultResolver"]=haxe__$Unserializer_DefaultResolver,haxe__$Unserializer_DefaultResolver.__name__="haxe._Unserializer.DefaultResolver",haxe__$Unserializer_DefaultResolver.prototype={resolveClass:function(e){return t[e]},resolveEnum:function(e){return i[e]},__class__:haxe__$Unserializer_DefaultResolver};var haxe_Unserializer=function(e){this.buf=e,this.length=this.buf.length,this.pos=0,this.scache=[],this.cache=[];var n=haxe_Unserializer.DEFAULT_RESOLVER;null==n&&(n=new haxe__$Unserializer_DefaultResolver,haxe_Unserializer.DEFAULT_RESOLVER=n),this.resolver=n};t["haxe.Unserializer"]=haxe_Unserializer,haxe_Unserializer.__name__="haxe.Unserializer",haxe_Unserializer.initCodes=function(){for(var e=[],n=0,t=haxe_Unserializer.BASE64.length;n<t;){var i=n++;e[haxe_Unserializer.BASE64.charCodeAt(i)]=i}return e},haxe_Unserializer.prototype={readDigits:function(){for(var e=0,n=!1,t=this.pos;;){var i=this.buf.charCodeAt(this.pos);if(i!=i)break;if(45!=i){if(i<48||i>57)break;e=10*e+(i-48),this.pos++}else{if(this.pos!=t)break;n=!0,this.pos++}}return n&&(e*=-1),e},readFloat:function(){for(var e=this.pos;;){var n=this.buf.charCodeAt(this.pos);if(n!=n)break;if(!(n>=43&&n<58||101==n||69==n))break;this.pos++}return parseFloat(HxOverrides.substr(this.buf,e,this.pos-e))},unserializeObject:function(e){for(;;){if(this.pos>=this.length)throw haxe_Exception.thrown("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var n=this.unserialize();if("string"!=typeof n)throw haxe_Exception.thrown("Invalid object key");var t=this.unserialize();e[n]=t}this.pos++},unserializeEnum:function(e,n){if(58!=this.buf.charCodeAt(this.pos++))throw haxe_Exception.thrown("Invalid enum format");var t=this.readDigits();if(0==t)return Type.createEnum(e,n);for(var i=[];t-- >0;)i.push(this.unserialize());return Type.createEnum(e,n,i)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var e=this.unserialize();if(null==(h=this.resolver.resolveClass(e)))throw haxe_Exception.thrown("Class not found "+e);return h;case 66:e=this.unserialize();if(null==(f=this.resolver.resolveEnum(e)))throw haxe_Exception.thrown("Enum not found "+e);return f;case 67:e=this.unserialize();if(null==(h=this.resolver.resolveClass(e)))throw haxe_Exception.thrown("Class not found "+e);var n=Object.create(h.prototype);if(this.cache.push(n),n.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw haxe_Exception.thrown("Invalid custom data");return n;case 77:var t=new haxe_ds_ObjectMap;this.cache.push(t);for(var i=this.buf;104!=this.buf.charCodeAt(this.pos);){var s=this.unserialize();t.set(s,this.unserialize())}return this.pos++,t;case 82:if((l=this.readDigits())<0||l>=this.scache.length)throw haxe_Exception.thrown("Invalid string reference");return this.scache[l];case 97:i=this.buf;var r=[];for(this.cache.push(r);;){if(104==(O=this.buf.charCodeAt(this.pos))){this.pos++;break}if(117==O){this.pos++;var l=this.readDigits();r[r.length+l-1]=null}else r.push(this.unserialize())}return r;case 98:t=new haxe_ds_StringMap;this.cache.push(t);for(i=this.buf;104!=this.buf.charCodeAt(this.pos);){s=this.unserialize();var a=this.unserialize();t.h[s]=a}return this.pos++,t;case 99:var h;e=this.unserialize();if(null==(h=this.resolver.resolveClass(e)))throw haxe_Exception.thrown("Class not found "+e);n=Object.create(h.prototype);return this.cache.push(n),this.unserializeObject(n),n;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:e=this.unserialize();if(null==(A=this.resolver.resolveEnum(e)))throw haxe_Exception.thrown("Enum not found "+e);this.pos++;for(var c=this.readDigits(),o=A.__constructs__,u=new Array(o.length),_=0,d=o.length;_<d;){u[g=_++]=o[g]._hx_name}var b=u[c];if(null==b)throw haxe_Exception.thrown("Unknown enum index "+e+"@"+c);var f=this.unserializeEnum(A,b);return this.cache.push(f),f;case 107:return NaN;case 108:var p=new haxe_ds_List;this.cache.push(p);for(i=this.buf;104!=this.buf.charCodeAt(this.pos);)p.add(this.unserialize());return this.pos++,p;case 109:return-1/0;case 110:return null;case 111:n={};return this.cache.push(n),this.unserializeObject(n),n;case 112:return 1/0;case 113:t=new haxe_ds_IntMap;this.cache.push(t);i=this.buf;for(var O=this.buf.charCodeAt(this.pos++);58==O;){var g=this.readDigits();a=this.unserialize();t.h[g]=a,O=this.buf.charCodeAt(this.pos++)}if(104!=O)throw haxe_Exception.thrown("Invalid IntMap format");return t;case 114:if((l=this.readDigits())<0||l>=this.cache.length)throw haxe_Exception.thrown("Invalid reference");return this.cache[l];case 115:var m=this.readDigits();i=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<m)throw haxe_Exception.thrown("Invalid bytes length");var w=haxe_Unserializer.CODES;null==w&&(w=haxe_Unserializer.initCodes(),haxe_Unserializer.CODES=w);for(var v=3&m,y=(g=this.pos)+(m-v),U=new haxe_io_Bytes(new ArrayBuffer(3*(m>>2)+(v>=2?v-1:0))),x=0;g<y;){var C=w[i.charCodeAt(g++)],D=w[i.charCodeAt(g++)];U.b[x++]=C<<2|D>>4;var T=w[i.charCodeAt(g++)];U.b[x++]=D<<4|T>>2;var E=w[i.charCodeAt(g++)];U.b[x++]=T<<6|E}if(v>=2){C=w[i.charCodeAt(g++)],D=w[i.charCodeAt(g++)];if(U.b[x++]=C<<2|D>>4,3==v){T=w[i.charCodeAt(g++)];U.b[x++]=D<<4|T>>2}}return this.pos+=m,this.cache.push(U),U;case 116:return!0;case 118:var S;return this.buf.charCodeAt(this.pos)>=48&&this.buf.charCodeAt(this.pos)<=57&&this.buf.charCodeAt(this.pos+1)>=48&&this.buf.charCodeAt(this.pos+1)<=57&&this.buf.charCodeAt(this.pos+2)>=48&&this.buf.charCodeAt(this.pos+2)<=57&&this.buf.charCodeAt(this.pos+3)>=48&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4)?(S=HxOverrides.strDate(HxOverrides.substr(this.buf,this.pos,19)),this.pos+=19):S=new Date(this.readFloat()),this.cache.push(S),S;case 119:var A;e=this.unserialize();if(null==(A=this.resolver.resolveEnum(e)))throw haxe_Exception.thrown("Enum not found "+e);f=this.unserializeEnum(A,this.unserialize());return this.cache.push(f),f;case 120:throw haxe_Exception.thrown(this.unserialize());case 121:m=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<m)throw haxe_Exception.thrown("Invalid string length");s=HxOverrides.substr(this.buf,this.pos,m);return this.pos+=m,s=decodeURIComponent(s.split("+").join(" ")),this.scache.push(s),s;case 122:return 0}throw this.pos--,haxe_Exception.thrown("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:haxe_Unserializer};var haxe_ValueException=function(e,n,t){haxe_Exception.call(this,String(e),n,t),this.value=e,this.__skipStack++};t["haxe.ValueException"]=haxe_ValueException,haxe_ValueException.__name__="haxe.ValueException",haxe_ValueException.__super__=haxe_Exception,haxe_ValueException.prototype=$extend(haxe_Exception.prototype,{unwrap:function(){return this.value},__class__:haxe_ValueException});var haxe_crypto_Md5=function(){};t["haxe.crypto.Md5"]=haxe_crypto_Md5,haxe_crypto_Md5.__name__="haxe.crypto.Md5",haxe_crypto_Md5.encode=function(e){var n=new haxe_crypto_Md5,t=n.doEncode(haxe_crypto_Md5.str2blks(e));return n.hex(t)},haxe_crypto_Md5.str2blks=function(e){for(var n=haxe_io_Bytes.ofString(e),t=1+(n.length+8>>6),i=[],s=0,r=16*t;s<r;){i[l=s++]=0}for(var l=0,a=n.length,h=8*a;l<a;)i[l>>2]|=n.b[l]<<(h+l)%4*8,++l;i[l>>2]|=128<<(h+l)%4*8;var c=16*t-2;return i[c]=255&h,i[c]|=(h>>>8&255)<<8,i[c]|=(h>>>16&255)<<16,i[c]|=(h>>>24&255)<<24,i},haxe_crypto_Md5.prototype={bitOR:function(e,n){return(e>>>1|n>>>1)<<1|(1&e|1&n)},bitXOR:function(e,n){return(e>>>1^n>>>1)<<1|1&e^1&n},bitAND:function(e,n){return(e>>>1&n>>>1)<<1|1&e&n},addme:function(e,n){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t},hex:function(e){for(var n="",t="0123456789abcdef",i=0;i<e.length;){var s=e[i];++i,n+=t.charAt(s>>4&15)+t.charAt(15&s),n+=t.charAt(s>>12&15)+t.charAt(s>>8&15),n+=t.charAt(s>>20&15)+t.charAt(s>>16&15),n+=t.charAt(s>>28&15)+t.charAt(s>>24&15)}return n},rol:function(e,n){return e<<n|e>>>32-n},cmn:function(e,n,t,i,s,r){return this.addme(this.rol(this.addme(this.addme(n,e),this.addme(i,r)),s),t)},ff:function(e,n,t,i,s,r,l){return this.cmn(this.bitOR(this.bitAND(n,t),this.bitAND(~n,i)),e,n,s,r,l)},gg:function(e,n,t,i,s,r,l){return this.cmn(this.bitOR(this.bitAND(n,i),this.bitAND(t,~i)),e,n,s,r,l)},hh:function(e,n,t,i,s,r,l){return this.cmn(this.bitXOR(this.bitXOR(n,t),i),e,n,s,r,l)},ii:function(e,n,t,i,s,r,l){return this.cmn(this.bitXOR(t,this.bitOR(n,~i)),e,n,s,r,l)},doEncode:function(e){for(var n=1732584193,t=-271733879,i=-1732584194,s=271733878,r=0;r<e.length;){var l=n,a=t,h=i,c=s;0,n=this.ff(n,t,i,s,e[r],7,-680876936),s=this.ff(s,n,t,i,e[r+1],12,-389564586),i=this.ff(i,s,n,t,e[r+2],17,606105819),t=this.ff(t,i,s,n,e[r+3],22,-1044525330),n=this.ff(n,t,i,s,e[r+4],7,-176418897),s=this.ff(s,n,t,i,e[r+5],12,1200080426),i=this.ff(i,s,n,t,e[r+6],17,-1473231341),t=this.ff(t,i,s,n,e[r+7],22,-45705983),n=this.ff(n,t,i,s,e[r+8],7,1770035416),s=this.ff(s,n,t,i,e[r+9],12,-1958414417),i=this.ff(i,s,n,t,e[r+10],17,-42063),t=this.ff(t,i,s,n,e[r+11],22,-1990404162),n=this.ff(n,t,i,s,e[r+12],7,1804603682),s=this.ff(s,n,t,i,e[r+13],12,-40341101),i=this.ff(i,s,n,t,e[r+14],17,-1502002290),t=this.ff(t,i,s,n,e[r+15],22,1236535329),n=this.gg(n,t,i,s,e[r+1],5,-165796510),s=this.gg(s,n,t,i,e[r+6],9,-1069501632),i=this.gg(i,s,n,t,e[r+11],14,643717713),t=this.gg(t,i,s,n,e[r],20,-373897302),n=this.gg(n,t,i,s,e[r+5],5,-701558691),s=this.gg(s,n,t,i,e[r+10],9,38016083),i=this.gg(i,s,n,t,e[r+15],14,-660478335),t=this.gg(t,i,s,n,e[r+4],20,-405537848),n=this.gg(n,t,i,s,e[r+9],5,568446438),s=this.gg(s,n,t,i,e[r+14],9,-1019803690),i=this.gg(i,s,n,t,e[r+3],14,-187363961),t=this.gg(t,i,s,n,e[r+8],20,1163531501),n=this.gg(n,t,i,s,e[r+13],5,-1444681467),s=this.gg(s,n,t,i,e[r+2],9,-51403784),i=this.gg(i,s,n,t,e[r+7],14,1735328473),t=this.gg(t,i,s,n,e[r+12],20,-1926607734),n=this.hh(n,t,i,s,e[r+5],4,-378558),s=this.hh(s,n,t,i,e[r+8],11,-2022574463),i=this.hh(i,s,n,t,e[r+11],16,1839030562),t=this.hh(t,i,s,n,e[r+14],23,-35309556),n=this.hh(n,t,i,s,e[r+1],4,-1530992060),s=this.hh(s,n,t,i,e[r+4],11,1272893353),i=this.hh(i,s,n,t,e[r+7],16,-155497632),t=this.hh(t,i,s,n,e[r+10],23,-1094730640),n=this.hh(n,t,i,s,e[r+13],4,681279174),s=this.hh(s,n,t,i,e[r],11,-358537222),i=this.hh(i,s,n,t,e[r+3],16,-722521979),t=this.hh(t,i,s,n,e[r+6],23,76029189),n=this.hh(n,t,i,s,e[r+9],4,-640364487),s=this.hh(s,n,t,i,e[r+12],11,-421815835),i=this.hh(i,s,n,t,e[r+15],16,530742520),t=this.hh(t,i,s,n,e[r+2],23,-995338651),n=this.ii(n,t,i,s,e[r],6,-198630844),s=this.ii(s,n,t,i,e[r+7],10,1126891415),i=this.ii(i,s,n,t,e[r+14],15,-1416354905),t=this.ii(t,i,s,n,e[r+5],21,-57434055),n=this.ii(n,t,i,s,e[r+12],6,1700485571),s=this.ii(s,n,t,i,e[r+3],10,-1894986606),i=this.ii(i,s,n,t,e[r+10],15,-1051523),t=this.ii(t,i,s,n,e[r+1],21,-2054922799),n=this.ii(n,t,i,s,e[r+8],6,1873313359),s=this.ii(s,n,t,i,e[r+15],10,-30611744),i=this.ii(i,s,n,t,e[r+6],15,-1560198380),t=this.ii(t,i,s,n,e[r+13],21,1309151649),n=this.ii(n,t,i,s,e[r+4],6,-145523070),s=this.ii(s,n,t,i,e[r+11],10,-1120210379),i=this.ii(i,s,n,t,e[r+2],15,718787259),t=this.ii(t,i,s,n,e[r+9],21,-343485551),n=this.addme(n,l),t=this.addme(t,a),i=this.addme(i,h),s=this.addme(s,c),r+=16}return[n,t,i,s]},__class__:haxe_crypto_Md5};var haxe_ds_ArraySort=function(){};t["haxe.ds.ArraySort"]=haxe_ds_ArraySort,haxe_ds_ArraySort.__name__="haxe.ds.ArraySort",haxe_ds_ArraySort.sort=function(e,n){haxe_ds_ArraySort.rec(e,n,0,e.length)},haxe_ds_ArraySort.rec=function(e,n,t,i){var s=t+i>>1;if(i-t<12){if(i<=t)return;for(var r=t+1,l=i;r<l;)for(var a=r++;a>t&&n(e[a],e[a-1])<0;)haxe_ds_ArraySort.swap(e,a-1,a),--a}else haxe_ds_ArraySort.rec(e,n,t,s),haxe_ds_ArraySort.rec(e,n,s,i),haxe_ds_ArraySort.doMerge(e,n,t,s,i,s-t,i-s)},haxe_ds_ArraySort.doMerge=function(e,n,t,i,s,r,l){var a,h,c,o;if(0!=r&&0!=l)if(r+l!=2){r>l?(a=t+(c=r>>1),o=(h=haxe_ds_ArraySort.lower(e,n,i,s,a))-i):(h=i+(o=l>>1),c=(a=haxe_ds_ArraySort.upper(e,n,t,i,h))-t),haxe_ds_ArraySort.rotate(e,n,a,i,h);var u=a+o;haxe_ds_ArraySort.doMerge(e,n,t,a,u,c,o),haxe_ds_ArraySort.doMerge(e,n,u,h,s,r-c,l-o)}else n(e[i],e[t])<0&&haxe_ds_ArraySort.swap(e,i,t)},haxe_ds_ArraySort.rotate=function(e,n,t,i,s){if(t!=i&&i!=s)for(var r=haxe_ds_ArraySort.gcd(s-t,i-t);0!=r--;){for(var l=e[t+r],a=i-t,h=t+r,c=t+r+a;c!=t+r;)e[h]=e[c],h=c,s-c>a?c+=a:c=t+(a-(s-c));e[h]=l}},haxe_ds_ArraySort.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},haxe_ds_ArraySort.upper=function(e,n,t,i,s){for(var r,l,a=i-t;a>0;)l=t+(r=a>>1),n(e[s],e[l])<0?a=r:(t=l+1,a=a-r-1);return t},haxe_ds_ArraySort.lower=function(e,n,t,i,s){for(var r,l,a=i-t;a>0;)n(e[l=t+(r=a>>1)],e[s])<0?(t=l+1,a=a-r-1):a=r;return t},haxe_ds_ArraySort.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i};var haxe_ds_IntMap=function(){this.h={}};t["haxe.ds.IntMap"]=haxe_ds_IntMap,haxe_ds_IntMap.__name__="haxe.ds.IntMap",haxe_ds_IntMap.__interfaces__=[haxe_IMap],haxe_ds_IntMap.prototype={get:function(e){return this.h[e]},remove:function(e){return!!this.h.hasOwnProperty(e)&&(delete this.h[e],!0)},keys:function(){var e=[];for(var n in this.h)this.h.hasOwnProperty(n)&&e.push(0|n);return new haxe_iterators_ArrayIterator(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e]}}},keyValueIterator:function(){return new haxe_iterators_MapKeyValueIterator(this)},copy:function(){for(var e=new haxe_ds_IntMap,n=this.keys();n.hasNext();){var t=n.next();e.h[t]=this.h[t]}return e},__class__:haxe_ds_IntMap};var haxe_ds_List=function(){this.length=0};t["haxe.ds.List"]=haxe_ds_List,haxe_ds_List.__name__="haxe.ds.List",haxe_ds_List.prototype={add:function(e){var n=new haxe_ds__$List_ListNode(e,null);null==this.h?this.h=n:this.q.next=n,this.q=n,this.length++},__class__:haxe_ds_List};var haxe_ds__$List_ListNode=function(e,n){this.item=e,this.next=n};t["haxe.ds._List.ListNode"]=haxe_ds__$List_ListNode,haxe_ds__$List_ListNode.__name__="haxe.ds._List.ListNode",haxe_ds__$List_ListNode.prototype={__class__:haxe_ds__$List_ListNode};var haxe_ds_ObjectMap=function(){this.h={__keys__:{}}};t["haxe.ds.ObjectMap"]=haxe_ds_ObjectMap,haxe_ds_ObjectMap.__name__="haxe.ds.ObjectMap",haxe_ds_ObjectMap.__interfaces__=[haxe_IMap],haxe_ds_ObjectMap.prototype={set:function(n,t){var i=n.__id__;null==i&&(i=n.__id__=e.$haxeUID++),this.h[i]=t,this.h.__keys__[i]=n},get:function(e){return this.h[e.__id__]},keys:function(){var e=[];for(var n in this.h.__keys__)this.h.hasOwnProperty(n)&&e.push(this.h.__keys__[n]);return new haxe_iterators_ArrayIterator(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e.__id__]}}},keyValueIterator:function(){return new haxe_iterators_MapKeyValueIterator(this)},__class__:haxe_ds_ObjectMap};var haxe_ds_StringMap=function(){this.h=Object.create(null)};t["haxe.ds.StringMap"]=haxe_ds_StringMap,haxe_ds_StringMap.__name__="haxe.ds.StringMap",haxe_ds_StringMap.__interfaces__=[haxe_IMap],haxe_ds_StringMap.prototype={get:function(e){return this.h[e]},keys:function(){return new haxe_ds__$StringMap_StringMapKeyIterator(this.h)},iterator:function(){return new haxe_ds__$StringMap_StringMapValueIterator(this.h)},keyValueIterator:function(){return new haxe_ds__$StringMap_StringMapKeyValueIterator(this.h)},__class__:haxe_ds_StringMap};var haxe_ds__$StringMap_StringMapKeyIterator=function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0};t["haxe.ds._StringMap.StringMapKeyIterator"]=haxe_ds__$StringMap_StringMapKeyIterator,haxe_ds__$StringMap_StringMapKeyIterator.__name__="haxe.ds._StringMap.StringMapKeyIterator",haxe_ds__$StringMap_StringMapKeyIterator.prototype={hasNext:function(){return this.current<this.length},next:function(){return this.keys[this.current++]},__class__:haxe_ds__$StringMap_StringMapKeyIterator};var haxe_ds__$StringMap_StringMapValueIterator=function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0};t["haxe.ds._StringMap.StringMapValueIterator"]=haxe_ds__$StringMap_StringMapValueIterator,haxe_ds__$StringMap_StringMapValueIterator.__name__="haxe.ds._StringMap.StringMapValueIterator",haxe_ds__$StringMap_StringMapValueIterator.prototype={hasNext:function(){return this.current<this.length},next:function(){return this.h[this.keys[this.current++]]},__class__:haxe_ds__$StringMap_StringMapValueIterator};var haxe_ds__$StringMap_StringMapKeyValueIterator=function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0};t["haxe.ds._StringMap.StringMapKeyValueIterator"]=haxe_ds__$StringMap_StringMapKeyValueIterator,haxe_ds__$StringMap_StringMapKeyValueIterator.__name__="haxe.ds._StringMap.StringMapKeyValueIterator",haxe_ds__$StringMap_StringMapKeyValueIterator.prototype={hasNext:function(){return this.current<this.length},next:function(){var e=this.keys[this.current++];return{key:e,value:this.h[e]}},__class__:haxe_ds__$StringMap_StringMapKeyValueIterator};var R={blit:function(e,n,t,i,s){if(e==t){if(n<i)for(var r=n+s,l=i+s,a=0,h=s;a<h;){a++;--r,e[--l]=e[r]}else if(n>i)for(r=n,l=i,a=0,h=s;a<h;){a++;e[l]=e[r],++r,++l}}else for(a=0,h=s;a<h;){t[i+(r=a++)]=e[n+r]}}},haxe_io_Bytes=function(e){this.length=e.byteLength,this.b=new Uint8Array(e),this.b.bufferValue=e,e.hxBytes=this,e.bytes=this.b};t["haxe.io.Bytes"]=haxe_io_Bytes,haxe_io_Bytes.__name__="haxe.io.Bytes",haxe_io_Bytes.ofString=function(e,n){if(n==I.RawNative){for(var t=new Uint8Array(e.length<<1),i=0,s=e.length;i<s;){var r=i++,l=e.charCodeAt(r);t[r<<1]=255&l,t[r<<1|1]=l>>8}return new haxe_io_Bytes(t.buffer)}var a=[];for(r=0;r<e.length;){55296<=(l=e.charCodeAt(r++))&&l<=56319&&(l=l-55232<<10|1023&e.charCodeAt(r++)),l<=127?a.push(l):l<=2047?(a.push(192|l>>6),a.push(128|63&l)):l<=65535?(a.push(224|l>>12),a.push(128|l>>6&63),a.push(128|63&l)):(a.push(240|l>>18),a.push(128|l>>12&63),a.push(128|l>>6&63),a.push(128|63&l))}return new haxe_io_Bytes(new Uint8Array(a).buffer)},haxe_io_Bytes.prototype={getString:function(e,n,t){if(e<0||n<0||e+n>this.length)throw haxe_Exception.thrown(k.OutsideBounds);null==t&&(t=I.UTF8);var i="",s=this.b,r=e,l=e+n;switch(t._hx_index){case 0:for(;r<l;){if((o=s[r++])<128){if(0==o)break;i+=String.fromCodePoint(o)}else if(o<224){var a=(63&o)<<6|127&s[r++];i+=String.fromCodePoint(a)}else if(o<240){var h=(31&o)<<12|(127&s[r++])<<6|127&s[r++];i+=String.fromCodePoint(h)}else{var c=(15&o)<<18|(127&s[r++])<<12|(127&s[r++])<<6|127&s[r++];i+=String.fromCodePoint(c)}}break;case 1:for(;r<l;){var o=s[r++]|s[r++]<<8;i+=String.fromCodePoint(o)}}return i},toString:function(){return this.getString(0,this.length)},__class__:haxe_io_Bytes};var I=i["haxe.io.Encoding"]={__ename__:"haxe.io.Encoding",__constructs__:null,UTF8:{_hx_name:"UTF8",_hx_index:0,__enum__:"haxe.io.Encoding",toString:$estr},RawNative:{_hx_name:"RawNative",_hx_index:1,__enum__:"haxe.io.Encoding",toString:$estr}};I.__constructs__=[I.UTF8,I.RawNative];var k=i["haxe.io.Error"]={__ename__:"haxe.io.Error",__constructs__:null,Blocked:{_hx_name:"Blocked",_hx_index:0,__enum__:"haxe.io.Error",toString:$estr},Overflow:{_hx_name:"Overflow",_hx_index:1,__enum__:"haxe.io.Error",toString:$estr},OutsideBounds:{_hx_name:"OutsideBounds",_hx_index:2,__enum__:"haxe.io.Error",toString:$estr},Custom:(n=function(e){return{_hx_index:3,e:e,__enum__:"haxe.io.Error",toString:$estr}},n._hx_name="Custom",n.__params__=["e"],n)};k.__constructs__=[k.Blocked,k.Overflow,k.OutsideBounds,k.Custom];var haxe_iterators_ArrayIterator=function(e){this.current=0,this.array=e};t["haxe.iterators.ArrayIterator"]=haxe_iterators_ArrayIterator,haxe_iterators_ArrayIterator.__name__="haxe.iterators.ArrayIterator",haxe_iterators_ArrayIterator.prototype={hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:haxe_iterators_ArrayIterator};var haxe_iterators_MapKeyValueIterator=function(e){this.map=e,this.keys=e.keys()};t["haxe.iterators.MapKeyValueIterator"]=haxe_iterators_MapKeyValueIterator,haxe_iterators_MapKeyValueIterator.__name__="haxe.iterators.MapKeyValueIterator",haxe_iterators_MapKeyValueIterator.prototype={hasNext:function(){return this.keys.hasNext()},next:function(){var e=this.keys.next();return{value:this.map.get(e),key:e}},__class__:haxe_iterators_MapKeyValueIterator};var B=i["haxe.rtti.CType"]={__ename__:"haxe.rtti.CType",__constructs__:null,CUnknown:{_hx_name:"CUnknown",_hx_index:0,__enum__:"haxe.rtti.CType",toString:$estr},CEnum:(n=function(e,n){return{_hx_index:1,name:e,params:n,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CEnum",n.__params__=["name","params"],n),CClass:(n=function(e,n){return{_hx_index:2,name:e,params:n,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CClass",n.__params__=["name","params"],n),CTypedef:(n=function(e,n){return{_hx_index:3,name:e,params:n,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CTypedef",n.__params__=["name","params"],n),CFunction:(n=function(e,n){return{_hx_index:4,args:e,ret:n,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CFunction",n.__params__=["args","ret"],n),CAnonymous:(n=function(e){return{_hx_index:5,fields:e,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CAnonymous",n.__params__=["fields"],n),CDynamic:(n=function(e){return{_hx_index:6,t:e,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CDynamic",n.__params__=["t"],n),CAbstract:(n=function(e,n){return{_hx_index:7,name:e,params:n,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CAbstract",n.__params__=["name","params"],n)};B.__constructs__=[B.CUnknown,B.CEnum,B.CClass,B.CTypedef,B.CFunction,B.CAnonymous,B.CDynamic,B.CAbstract];var L=i["haxe.rtti.Rights"]={__ename__:"haxe.rtti.Rights",__constructs__:null,RNormal:{_hx_name:"RNormal",_hx_index:0,__enum__:"haxe.rtti.Rights",toString:$estr},RNo:{_hx_name:"RNo",_hx_index:1,__enum__:"haxe.rtti.Rights",toString:$estr},RCall:(n=function(e){return{_hx_index:2,m:e,__enum__:"haxe.rtti.Rights",toString:$estr}},n._hx_name="RCall",n.__params__=["m"],n),RMethod:{_hx_name:"RMethod",_hx_index:3,__enum__:"haxe.rtti.Rights",toString:$estr},RDynamic:{_hx_name:"RDynamic",_hx_index:4,__enum__:"haxe.rtti.Rights",toString:$estr},RInline:{_hx_name:"RInline",_hx_index:5,__enum__:"haxe.rtti.Rights",toString:$estr}};L.__constructs__=[L.RNormal,L.RNo,L.RCall,L.RMethod,L.RDynamic,L.RInline];var N=i["haxe.rtti.TypeTree"]={__ename__:"haxe.rtti.TypeTree",__constructs__:null,TPackage:(n=function(e,n,t){return{_hx_index:0,name:e,full:n,subs:t,__enum__:"haxe.rtti.TypeTree",toString:$estr}},n._hx_name="TPackage",n.__params__=["name","full","subs"],n),TClassdecl:(n=function(e){return{_hx_index:1,c:e,__enum__:"haxe.rtti.TypeTree",toString:$estr}},n._hx_name="TClassdecl",n.__params__=["c"],n),TEnumdecl:(n=function(e){return{_hx_index:2,e:e,__enum__:"haxe.rtti.TypeTree",toString:$estr}},n._hx_name="TEnumdecl",n.__params__=["e"],n),TTypedecl:(n=function(e){return{_hx_index:3,t:e,__enum__:"haxe.rtti.TypeTree",toString:$estr}},n._hx_name="TTypedecl",n.__params__=["t"],n),TAbstractdecl:(n=function(e){return{_hx_index:4,a:e,__enum__:"haxe.rtti.TypeTree",toString:$estr}},n._hx_name="TAbstractdecl",n.__params__=["a"],n)};N.__constructs__=[N.TPackage,N.TClassdecl,N.TEnumdecl,N.TTypedecl,N.TAbstractdecl];var haxe_rtti_Rtti=function(){};t["haxe.rtti.Rtti"]=haxe_rtti_Rtti,haxe_rtti_Rtti.__name__="haxe.rtti.Rtti",haxe_rtti_Rtti.getRtti=function(e){var n=Reflect.field(e,"__rtti");if(null==n)throw haxe_Exception.thrown("Class "+e.__name__+" has no RTTI information, consider adding @:rtti");var t=Xml.parse(n).firstElement(),i=(new haxe_rtti_XmlParser).processElement(t);if(1==i._hx_index)return e=i.c;var s=i;throw haxe_Exception.thrown("Enum mismatch: expected TClassDecl but found "+Std.string(s))};var haxe_rtti_XmlParser=function(){this.root=[]};t["haxe.rtti.XmlParser"]=haxe_rtti_XmlParser,haxe_rtti_XmlParser.__name__="haxe.rtti.XmlParser",haxe_rtti_XmlParser.prototype={mkPath:function(e){return e},mkTypeParams:function(e){var n=e.split(":");return""==n[0]?[]:n},mkRights:function(e){switch(e){case"dynamic":return L.RDynamic;case"inline":return L.RInline;case"method":return L.RMethod;case"null":return L.RNo;default:return L.RCall(e)}},xerror:function(e){var n;if(e.nodeType==Xml.Document)n="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));n=e.nodeName}throw haxe_Exception.thrown("Invalid "+n)},processElement:function(e){if(e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==e.nodeType?"null":r.toString(e.nodeType)));var n,t=e;if(t.nodeType==Xml.Document)n="Document";else{if(t.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":r.toString(t.nodeType)));n=t.nodeName}switch(n){case"abstract":return N.TAbstractdecl(this.xabstract(t));case"class":return N.TClassdecl(this.xclass(t));case"enum":return N.TEnumdecl(this.xenum(t));case"typedef":return N.TTypedecl(this.xtypedef(t));default:return this.xerror(t)}},xmeta:function(e){for(var n=[],t=0,i=X.resolve(e,"m");t<i.length;){var s=i[t];++t;for(var r=[],l=0,a=X.resolve(s,"e");l<a.length;){var h=a[l];++l,r.push(V.get_innerHTML(h))}n.push({name:K.resolve(s,"n"),params:r})}return n},xoverloads:function(e){for(var n=[],t=e.elements();t.hasNext();){var i=t.next();n.push(this.xclassfield(i))}return n},xpath:function(e){for(var n=this.mkPath(K.resolve(e,"path")),t=[],i=e.elements();i.hasNext();){var s=i.next();t.push(this.xtype(s))}return{path:n,params:t}},xclass:function(e){for(var n=null,t=null,i=null,s=[],l=[],a=[],h=[],c=e.exists("interface"),o=e.elements();o.hasNext();){var u,_=o.next();if(_.nodeType==Xml.Document)u="Document";else{if(_.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==_.nodeType?"null":r.toString(_.nodeType)));u=_.nodeName}switch(u){case"extends":c?s.push(this.xpath(_)):n=this.xpath(_);break;case"haxe_doc":t=V.get_innerData(_);break;case"haxe_dynamic":var d=_.firstElement();if(d.nodeType!=Xml.Document&&d.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==d.nodeType?"null":r.toString(d.nodeType)));var b=d;i=this.xtype(b);break;case"implements":s.push(this.xpath(_));break;case"meta":h=this.xmeta(_);break;default:_.exists("static")?a.push(this.xclassfield(_)):l.push(this.xclassfield(_))}}return{file:G.resolve(e,"file")?K.resolve(e,"file"):null,path:this.mkPath(K.resolve(e,"path")),module:G.resolve(e,"module")?this.mkPath(K.resolve(e,"module")):null,doc:t,isPrivate:e.exists("private"),isExtern:e.exists("extern"),isFinal:e.exists("final"),isInterface:c,params:this.mkTypeParams(K.resolve(e,"params")),superClass:n,interfaces:s,fields:l,statics:a,tdynamic:i,platforms:this.defplat(),meta:h}},xclassfield:function(e,n){null==n&&(n=!1);for(var t,i=e.elements(),s=this.xtype(i.next()),l=null,a=[],h=null,c=i;c.hasNext();){var o,u=c.next();if(u.nodeType==Xml.Document)o="Document";else{if(u.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==u.nodeType?"null":r.toString(u.nodeType)));o=u.nodeName}switch(o){case"haxe_doc":l=V.get_innerData(u);break;case"meta":a=this.xmeta(u);break;case"overloads":h=this.xoverloads(u);break;default:this.xerror(u)}}if(e.nodeType==Xml.Document)t="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));t=e.nodeName}return{name:t,type:s,isPublic:e.exists("public")||n,isFinal:e.exists("final"),isOverride:e.exists("override"),line:G.resolve(e,"line")?Std.parseInt(K.resolve(e,"line")):null,doc:l,get:G.resolve(e,"get")?this.mkRights(K.resolve(e,"get")):L.RNormal,set:G.resolve(e,"set")?this.mkRights(K.resolve(e,"set")):L.RNormal,params:G.resolve(e,"params")?this.mkTypeParams(K.resolve(e,"params")):[],platforms:this.defplat(),meta:a,overloads:h,expr:G.resolve(e,"expr")?K.resolve(e,"expr"):null}},xenum:function(e){for(var n=[],t=null,i=[],s=e.elements();s.hasNext();){var l,a=s.next();if(a.nodeType==Xml.Document)l="Document";else{if(a.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":r.toString(a.nodeType)));l=a.nodeName}if("haxe_doc"==l)t=V.get_innerData(a);else{var h;if(a.nodeType==Xml.Document)h="Document";else{if(a.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":r.toString(a.nodeType)));h=a.nodeName}"meta"==h?i=this.xmeta(a):n.push(this.xenumfield(a))}}return{file:G.resolve(e,"file")?K.resolve(e,"file"):null,path:this.mkPath(K.resolve(e,"path")),module:G.resolve(e,"module")?this.mkPath(K.resolve(e,"module")):null,doc:t,isPrivate:e.exists("private"),isExtern:e.exists("extern"),params:this.mkTypeParams(K.resolve(e,"params")),constructors:n,platforms:this.defplat(),meta:i}},xenumfield:function(e){var n,t,i=null,s=e.elementsNamed("haxe_doc"),l=s.hasNext()?s.next():null,a=Y.resolve(e,"meta")?this.xmeta(W.resolve(e,"meta")):[];if(G.resolve(e,"a")){var h=K.resolve(e,"a").split(":"),c=e.elements();i=[];for(var o=0;o<h.length;){var u=h[o];++o;var _=!1;"?"==u.charAt(0)&&(_=!0,u=HxOverrides.substr(u,1,null)),i.push({name:u,opt:_,t:this.xtype(c.next())})}}if(e.nodeType==Xml.Document)n="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));n=e.nodeName}if(null==l)t=null;else{if(l.nodeType!=Xml.Document&&l.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==l.nodeType?"null":r.toString(l.nodeType)));var d=l;t=V.get_innerData(d)}return{name:n,args:i,doc:t,meta:a,platforms:this.defplat()}},xabstract:function(e){for(var n=null,t=null,i=null,s=[],l=[],a=[],h=e.elements();h.hasNext();){var c,o=h.next();if(o.nodeType==Xml.Document)c="Document";else{if(o.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==o.nodeType?"null":r.toString(o.nodeType)));c=o.nodeName}switch(c){case"from":for(var u=o.elements();u.hasNext();){var _=u.next(),d=_.firstElement();if(d.nodeType!=Xml.Document&&d.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==d.nodeType?"null":r.toString(d.nodeType)));var b=d;a.push({t:this.xtype(b),field:G.resolve(_,"field")?K.resolve(_,"field"):null})}break;case"haxe_doc":n=V.get_innerData(o);break;case"impl":t=this.xclass(W.resolve(o,"class"));break;case"meta":s=this.xmeta(o);break;case"this":var f=o.firstElement();if(f.nodeType!=Xml.Document&&f.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==f.nodeType?"null":r.toString(f.nodeType)));var p=f;i=this.xtype(p);break;case"to":for(var O=o.elements();O.hasNext();){var g=O.next(),m=g.firstElement();if(m.nodeType!=Xml.Document&&m.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==m.nodeType?"null":r.toString(m.nodeType)));var w=m;l.push({t:this.xtype(w),field:G.resolve(g,"field")?K.resolve(g,"field"):null})}break;default:this.xerror(o)}}return{file:G.resolve(e,"file")?K.resolve(e,"file"):null,path:this.mkPath(K.resolve(e,"path")),module:G.resolve(e,"module")?this.mkPath(K.resolve(e,"module")):null,doc:n,isPrivate:e.exists("private"),params:this.mkTypeParams(K.resolve(e,"params")),platforms:this.defplat(),meta:s,athis:i,to:l,from:a,impl:t}},xtypedef:function(e){for(var n=null,t=null,i=[],s=e.elements();s.hasNext();){var l,a=s.next();if(a.nodeType==Xml.Document)l="Document";else{if(a.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":r.toString(a.nodeType)));l=a.nodeName}if("haxe_doc"==l)n=V.get_innerData(a);else{var h;if(a.nodeType==Xml.Document)h="Document";else{if(a.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":r.toString(a.nodeType)));h=a.nodeName}"meta"==h?i=this.xmeta(a):t=this.xtype(a)}}var c=new haxe_ds_StringMap;return null!=this.curplatform&&(c.h[this.curplatform]=t),{file:G.resolve(e,"file")?K.resolve(e,"file"):null,path:this.mkPath(K.resolve(e,"path")),module:G.resolve(e,"module")?this.mkPath(K.resolve(e,"module")):null,doc:n,isPrivate:e.exists("private"),params:this.mkTypeParams(K.resolve(e,"params")),type:t,types:c,platforms:this.defplat(),meta:i}},xtype:function(e){var n;if(e.nodeType==Xml.Document)n="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));n=e.nodeName}switch(n){case"a":for(var t=[],i=e.elements();i.hasNext();){var s=i.next(),l=this.xclassfield(s,!0);l.platforms=[],t.push(l)}return B.CAnonymous(t);case"c":return B.CClass(this.mkPath(K.resolve(e,"path")),this.xtypeparams(e));case"d":var a=null,h=e.firstElement();if(null!=h){if(h.nodeType!=Xml.Document&&h.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==h.nodeType?"null":r.toString(h.nodeType)));var c=h;a=this.xtype(c)}return B.CDynamic(a);case"e":return B.CEnum(this.mkPath(K.resolve(e,"path")),this.xtypeparams(e));case"f":for(var o=[],u=0,_=K.resolve(e,"a").split(":"),d=G.resolve(e,"v")?new haxe_iterators_ArrayIterator(K.resolve(e,"v").split(":")):null,b=e.elements();b.hasNext();){var f=b.next(),p=!1,O=u<_.length?_[u++]:null;null==O&&(O=""),"?"==O.charAt(0)&&(p=!0,O=HxOverrides.substr(O,1,null));var g=null==d||d.current>=d.array.length?null:d.array[d.current++];o.push({name:O,opt:p,t:this.xtype(f),value:""==g?null:g})}var m=o[o.length-1];return HxOverrides.remove(o,m),B.CFunction(o,m.t);case"t":return B.CTypedef(this.mkPath(K.resolve(e,"path")),this.xtypeparams(e));case"unknown":return B.CUnknown;case"x":return B.CAbstract(this.mkPath(K.resolve(e,"path")),this.xtypeparams(e));default:return this.xerror(e)}},xtypeparams:function(e){for(var n=[],t=e.elements();t.hasNext();){var i=t.next();n.push(this.xtype(i))}return n},defplat:function(){var e=[];return null!=this.curplatform&&e.push(this.curplatform),e},__class__:haxe_rtti_XmlParser};var W={resolve:function(e,n){var t=e.elementsNamed(n).next();if(null==t){var i;if(e.nodeType==Xml.Document)i="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));i=e.nodeName}throw haxe_Exception.thrown(i+" is missing element "+n)}if(t.nodeType!=Xml.Document&&t.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==t.nodeType?"null":r.toString(t.nodeType)));return e=t}},K={resolve:function(e,n){if(e.nodeType==Xml.Document)throw haxe_Exception.thrown("Cannot access document attribute "+n);var t=e.get(n);if(null==t){if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));throw haxe_Exception.thrown(e.nodeName+" is missing attribute "+n)}return t}},G={resolve:function(e,n){if(e.nodeType==Xml.Document)throw haxe_Exception.thrown("Cannot access document attribute "+n);return e.exists(n)}},Y={resolve:function(e,n){return e.elementsNamed(n).hasNext()}},X={resolve:function(e,n){for(var t=[],i=e.elementsNamed(n);i.hasNext();){var s=i.next();if(s.nodeType!=Xml.Document&&s.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==s.nodeType?"null":r.toString(s.nodeType)));e=s;t.push(e)}return t}},V={__properties__:{get_innerHTML:"get_innerHTML",get_innerData:"get_innerData"},get_innerData:function(e){if(e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));var n=0,t=e.children;if(n>=t.length){if(e.nodeType==Xml.Document)a="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));a=e.nodeName}throw haxe_Exception.thrown(a+" does not have data")}var i=t[n++];if(n<t.length){var s=t[n++];if(i.nodeType==Xml.PCData&&s.nodeType==Xml.CData){if(i.nodeType==Xml.Document||i.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":r.toString(i.nodeType)));a=""==StringTools.trim(i.nodeValue)}else a=!1;if(a){if(n>=t.length){if(s.nodeType==Xml.Document||s.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==s.nodeType?"null":r.toString(s.nodeType)));return s.nodeValue}var l=t[n++];if(l.nodeType==Xml.PCData){if(l.nodeType==Xml.Document||l.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==l.nodeType?"null":r.toString(l.nodeType)));a=""==StringTools.trim(l.nodeValue)}else a=!1;if(a&&n>=t.length){if(s.nodeType==Xml.Document||s.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==s.nodeType?"null":r.toString(s.nodeType)));return s.nodeValue}}if(e.nodeType==Xml.Document)a="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));a=e.nodeName}throw haxe_Exception.thrown(a+" does not only have data")}if(i.nodeType!=Xml.PCData&&i.nodeType!=Xml.CData){var a;if(e.nodeType==Xml.Document)a="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));a=e.nodeName}throw haxe_Exception.thrown(a+" does not have data")}if(i.nodeType==Xml.Document||i.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":r.toString(i.nodeType)));return i.nodeValue},get_innerHTML:function(e){var n="";if(e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));for(var t=0,i=e.children;t<i.length;){var s=i[t++];n+=Std.string(haxe_xml_Printer.print(s))}return n}},haxe_xml_XmlParserException=function(e,n,t){this.xml=n,this.message=e,this.position=t,this.lineNumber=1,this.positionAtLine=0;for(var i=0,s=t;i<s;){var r=i++,l=n.charCodeAt(r);10==l?(this.lineNumber++,this.positionAtLine=0):13!=l&&this.positionAtLine++}};t["haxe.xml.XmlParserException"]=haxe_xml_XmlParserException,haxe_xml_XmlParserException.__name__="haxe.xml.XmlParserException",haxe_xml_XmlParserException.prototype={toString:function(){return js_Boot.getClass(this).__name__+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:haxe_xml_XmlParserException};var haxe_xml_Parser=function(){};t["haxe.xml.Parser"]=haxe_xml_Parser,haxe_xml_Parser.__name__="haxe.xml.Parser",haxe_xml_Parser.parse=function(e,n){null==n&&(n=!1);var t=Xml.createDocument();return haxe_xml_Parser.doParse(e,n,0,t),t},haxe_xml_Parser.doParse=function(e,n,t,i){null==t&&(t=0);for(var s=null,l=1,a=1,h=null,c=0,o=0,u=0,_=new StringBuf,d=1,b=-1;t<e.length;){var f=e.charCodeAt(t);switch(l){case 0:switch(f){case 9:case 10:case 13:case 32:break;default:l=a;continue}break;case 1:if(60!=f){c=t,l=13;continue}l=0,a=2;break;case 2:switch(f){case 33:if(91==e.charCodeAt(t+1)){if("CDATA["!=HxOverrides.substr(e,t+=2,6).toUpperCase())throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected <![CDATA[",e,t));l=17,c=(t+=5)+1}else if(68==e.charCodeAt(t+1)||100==e.charCodeAt(t+1)){if("OCTYPE"!=HxOverrides.substr(e,t+2,6).toUpperCase())throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected <!DOCTYPE",e,t));l=16,c=(t+=8)+1}else{if(45!=e.charCodeAt(t+1)||45!=e.charCodeAt(t+2))throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected \x3c!--",e,t));l=15,c=(t+=2)+1}break;case 47:if(null==i)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected node name",e,t));c=t+1,l=0,a=10;break;case 63:l=14,c=t;break;default:l=3,c=t;continue}break;case 3:if(!(f>=97&&f<=122||f>=65&&f<=90||f>=48&&f<=57||58==f||46==f||95==f||45==f)){if(t==c)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected node name",e,t));s=Xml.createElement(HxOverrides.substr(e,c,t-c)),i.addChild(s),++o,l=0,a=4;continue}break;case 4:switch(f){case 47:l=11;break;case 62:l=9;break;default:l=5,c=t;continue}break;case 5:if(!(f>=97&&f<=122||f>=65&&f<=90||f>=48&&f<=57||58==f||46==f||95==f||45==f)){if(c==t)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected attribute name",e,t));if(h=HxOverrides.substr(e,c,t-c),s.exists(h))throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Duplicate attribute ["+h+"]",e,t));l=0,a=6;continue}break;case 6:if(61!=f)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected =",e,t));l=0,a=7;break;case 7:switch(f){case 34:case 39:_=new StringBuf,l=8,c=t+1,b=f;break;default:throw haxe_Exception.thrown(new haxe_xml_XmlParserException('Expected "',e,t))}break;case 8:switch(f){case 38:var p=t-c;_.b+=HxOverrides.substr(e,c,null==p?null:p),l=18,d=8,c=t+1;break;case 60:case 62:if(n)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Invalid unescaped "+String.fromCodePoint(f)+" in attribute value",e,t));if(f==b){var O=t-c;_.b+=HxOverrides.substr(e,c,null==O?null:O);var g=_.b;_=new StringBuf,s.set(h,g),l=0,a=4}break;default:if(f==b){var m=t-c;_.b+=HxOverrides.substr(e,c,null==m?null:m);var w=_.b;_=new StringBuf,s.set(h,w),l=0,a=4}}break;case 9:c=t=haxe_xml_Parser.doParse(e,n,t,s),l=1;break;case 10:if(!(f>=97&&f<=122||f>=65&&f<=90||f>=48&&f<=57||58==f||46==f||95==f||45==f)){if(c==t)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected node name",e,t));var v=HxOverrides.substr(e,c,t-c);if(null==i||0!=i.nodeType)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Unexpected </"+v+">, tag is not open",e,t));if(i.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":r.toString(i.nodeType)));if(v!=i.nodeName){if(i.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":r.toString(i.nodeType)));throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected </"+i.nodeName+">",e,t))}l=0,a=12;continue}break;case 11:if(62!=f)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected >",e,t));l=1;break;case 12:if(62==f)return 0==o&&i.addChild(Xml.createPCData("")),t;throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected >",e,t));case 13:if(60==f){var y=t-c;_.b+=HxOverrides.substr(e,c,null==y?null:y);var U=Xml.createPCData(_.b);_=new StringBuf,i.addChild(U),++o,l=0,a=2}else if(38==f){var x=t-c;_.b+=HxOverrides.substr(e,c,null==x?null:x),l=18,d=13,c=t+1}break;case 14:if(63==f&&62==e.charCodeAt(t+1)){++t;var C=HxOverrides.substr(e,c+1,t-c-2);i.addChild(Xml.createProcessingInstruction(C)),++o,l=1}break;case 15:45==f&&45==e.charCodeAt(t+1)&&62==e.charCodeAt(t+2)&&(i.addChild(Xml.createComment(HxOverrides.substr(e,c,t-c))),++o,t+=2,l=1);break;case 16:91==f?++u:93==f?--u:62==f&&0==u&&(i.addChild(Xml.createDocType(HxOverrides.substr(e,c,t-c))),++o,l=1);break;case 17:if(93==f&&93==e.charCodeAt(t+1)&&62==e.charCodeAt(t+2)){var D=Xml.createCData(HxOverrides.substr(e,c,t-c));i.addChild(D),++o,t+=2,l=1}break;case 18:if(59==f){var T=HxOverrides.substr(e,c,t-c);if(35==T.charCodeAt(0)){var E=120==T.charCodeAt(1)?Std.parseInt("0"+HxOverrides.substr(T,1,T.length-1)):Std.parseInt(HxOverrides.substr(T,1,T.length-1));_.b+=String.fromCodePoint(E)}else if(Object.prototype.hasOwnProperty.call(haxe_xml_Parser.escapes.h,T))_.b+=Std.string(haxe_xml_Parser.escapes.h[T]);else{if(n)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Undefined entity: "+T,e,t));_.b+=Std.string("&"+T+";")}c=t+1,l=d}else if(!(f>=97&&f<=122||f>=65&&f<=90||f>=48&&f<=57||58==f||46==f||95==f||45==f)&&35!=f){if(n)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Invalid character in entity: "+String.fromCodePoint(f),e,t));_.b+=String.fromCodePoint(38);var S=t-c;_.b+=HxOverrides.substr(e,c,null==S?null:S),c=--t+1,l=d}}++t}if(1==l&&(c=t,l=13),13==l){if(0==i.nodeType){if(i.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":r.toString(i.nodeType)));throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Unclosed node <"+i.nodeName+">",e,t))}if(t!=c||0==o){p=t-c;_.b+=HxOverrides.substr(e,c,null==p?null:p),i.addChild(Xml.createPCData(_.b)),++o}return t}if(!n&&18==l&&13==d){_.b+=String.fromCodePoint(38);p=t-c;return _.b+=HxOverrides.substr(e,c,null==p?null:p),i.addChild(Xml.createPCData(_.b)),++o,t}throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Unexpected end",e,t))};var haxe_xml_Printer=function(e){this.output=new StringBuf,this.pretty=e};t["haxe.xml.Printer"]=haxe_xml_Printer,haxe_xml_Printer.__name__="haxe.xml.Printer",haxe_xml_Printer.print=function(e,n){null==n&&(n=!1);var t=new haxe_xml_Printer(n);return t.writeNode(e,""),t.output.b},haxe_xml_Printer.prototype={writeNode:function(e,n){switch(e.nodeType){case 0:if(this.output.b+=Std.string(n+"<"),e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));this.output.b+=Std.string(e.nodeName);for(var t=e.attributes();t.hasNext();){var i=t.next();this.output.b+=Std.string(" "+i+'="');var s=StringTools.htmlEscape(e.get(i),!0);this.output.b+=Std.string(s),this.output.b+='"'}if(this.hasChildren(e)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));for(var l=0,a=e.children;l<a.length;){var h=a[l++];this.writeNode(h,this.pretty?n+"\t":n)}if(this.output.b+=Std.string(n+"</"),e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));this.output.b+=Std.string(e.nodeName),this.output.b+=">",this.pretty&&(this.output.b+="\n")}else this.output.b+="/>",this.pretty&&(this.output.b+="\n");break;case 1:if(e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":r.toString(e.nodeType)));var c=e.nodeValue;if(0!=c.length){s=n+StringTools.htmlEscape(c);this.output.b+=Std.string(s),this.pretty&&(this.output.b+="\n")}break;case 2:if(this.output.b+=Std.string(n+"<![CDATA["),e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":r.toString(e.nodeType)));this.output.b+=Std.string(e.nodeValue),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":r.toString(e.nodeType)));var o=e.nodeValue,u=new RegExp("[\n\r\t]+","g".split("u").join(""));o="\x3c!--"+(o=o.replace(u,""))+"--\x3e",this.output.b+=null==n?"null":""+n;s=StringTools.trim(o);this.output.b+=Std.string(s),this.pretty&&(this.output.b+="\n");break;case 4:if(e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":r.toString(e.nodeType)));this.output.b+=Std.string("<!DOCTYPE "+e.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":r.toString(e.nodeType)));this.output.b+=Std.string("<?"+e.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));for(l=0,a=e.children;l<a.length;){h=a[l++];this.writeNode(h,n)}}},hasChildren:function(e){if(e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));for(var n=0,t=e.children;n<t.length;){var i=t[n++];switch(i.nodeType){case 0:case 1:return!0;case 2:case 3:if(i.nodeType==Xml.Document||i.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":r.toString(i.nodeType)));if(0!=StringTools.ltrim(i.nodeValue).length)return!0}}return!1},__class__:haxe_xml_Printer};var hsluv_Geometry=function(){};t["hsluv.Geometry"]=hsluv_Geometry,hsluv_Geometry.__name__="hsluv.Geometry",hsluv_Geometry.intersectLineLine=function(e,n){var t=(e.intercept-n.intercept)/(n.slope-e.slope);return{x:t,y:e.slope*t+e.intercept}},hsluv_Geometry.distanceFromOrigin=function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))},hsluv_Geometry.distanceLineFromOrigin=function(e){return Math.abs(e.intercept)/Math.sqrt(Math.pow(e.slope,2)+1)},hsluv_Geometry.perpendicularThroughPoint=function(e,n){var t=-1/e.slope;return{slope:t,intercept:n.y-t*n.x}},hsluv_Geometry.angleFromOrigin=function(e){return Math.atan2(e.y,e.x)},hsluv_Geometry.normalizeAngle=function(e){var n=2*Math.PI;return(e%n+n)%n},hsluv_Geometry.lengthOfRayUntilIntersect=function(e,n){return n.intercept/(Math.sin(e)-n.slope*Math.cos(e))};var hsluv_Hsluv=function(){};t["hsluv.Hsluv"]=hsluv_Hsluv,hsluv_Hsluv.__name__="hsluv.Hsluv",hsluv_Hsluv.getBounds=function(e){for(var n=[],t=Math.pow(e+16,3)/1560896,i=t>hsluv_Hsluv.epsilon?t:e/hsluv_Hsluv.kappa,s=0;s<3;){var r=s++,l=hsluv_Hsluv.m[r][0],a=hsluv_Hsluv.m[r][1],h=hsluv_Hsluv.m[r][2],c=(284517*l-94839*h)*i,o=(838422*h+769860*a+731718*l)*e*i-0*e,u=(632260*h-126452*a)*i;n.push({slope:c/u,intercept:o/u});var _=(284517*l-94839*h)*i,d=(838422*h+769860*a+731718*l)*e*i-769860*e,b=(632260*h-126452*a)*i+126452;n.push({slope:_/b,intercept:d/b})}return n},hsluv_Hsluv.maxSafeChromaForL=function(e){for(var n=hsluv_Hsluv.getBounds(e),t=1/0,i=0;i<n.length;){var s=n[i];++i;var r=hsluv_Geometry.distanceLineFromOrigin(s);t=Math.min(t,r)}return t},hsluv_Hsluv.maxChromaForLH=function(e,n){for(var t=n/360*Math.PI*2,i=hsluv_Hsluv.getBounds(e),s=1/0,r=0;r<i.length;){var l=i[r];++r;var a=hsluv_Geometry.lengthOfRayUntilIntersect(t,l);a>=0&&(s=Math.min(s,a))}return s},hsluv_Hsluv.dotProduct=function(e,n){for(var t=0,i=0,s=e.length;i<s;){var r=i++;t+=e[r]*n[r]}return t},hsluv_Hsluv.fromLinear=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055},hsluv_Hsluv.toLinear=function(e){return e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92},hsluv_Hsluv.xyzToRgb=function(e,n){var t=hsluv_Hsluv.fromLinear(hsluv_Hsluv.dotProduct(hsluv_Hsluv.m[0],e)),i=hsluv_Hsluv.fromLinear(hsluv_Hsluv.dotProduct(hsluv_Hsluv.m[1],e)),s=hsluv_Hsluv.fromLinear(hsluv_Hsluv.dotProduct(hsluv_Hsluv.m[2],e));return null==n&&(n=[0,0,0]),n[0]=t,n[1]=i,n[2]=s,n},hsluv_Hsluv.rgbToXyz=function(e,n){var t=e[0],i=e[1],s=e[2];null==n&&(n=[0,0,0]),n[0]=hsluv_Hsluv.toLinear(t),n[1]=hsluv_Hsluv.toLinear(i),n[2]=hsluv_Hsluv.toLinear(s);var r=hsluv_Hsluv.dotProduct(hsluv_Hsluv.minv[0],n),l=hsluv_Hsluv.dotProduct(hsluv_Hsluv.minv[1],n),a=hsluv_Hsluv.dotProduct(hsluv_Hsluv.minv[2],n);return n[0]=r,n[1]=l,n[2]=a,n},hsluv_Hsluv.yToL=function(e){return e<=hsluv_Hsluv.epsilon?e/hsluv_Hsluv.refY*hsluv_Hsluv.kappa:116*Math.pow(e/hsluv_Hsluv.refY,.3333333333333333)-16},hsluv_Hsluv.lToY=function(e){return e<=8?hsluv_Hsluv.refY*e/hsluv_Hsluv.kappa:hsluv_Hsluv.refY*Math.pow((e+16)/116,3)},hsluv_Hsluv.xyzToLuv=function(e,n){var t=e[0],i=e[1];null==n&&(n=[0,0,0]);var s=t+15*i+3*e[2],r=4*t,l=9*i;0!=s?(r/=s,l/=s):(r=NaN,l=NaN);var a=hsluv_Hsluv.yToL(i);if(0==a)return n[0]=0,n[1]=0,n[2]=0,n;var h=13*a*(r-hsluv_Hsluv.refU),c=13*a*(l-hsluv_Hsluv.refV);return n[0]=a,n[1]=h,n[2]=c,n},hsluv_Hsluv.luvToXyz=function(e,n){null==n&&(n=[0,0,0]);var t=e[0],i=e[1],s=e[2];if(0==t)return n[0]=0,n[1]=1,n[2]=2,n;var r=i/(13*t)+hsluv_Hsluv.refU,l=s/(13*t)+hsluv_Hsluv.refV,a=hsluv_Hsluv.lToY(t),h=0-9*a*r/((r-4)*l-r*l),c=(9*a-15*l*a-l*h)/(3*l);return n[0]=h,n[1]=a,n[2]=c,n},hsluv_Hsluv.luvToLch=function(e,n){var t=e[0],i=e[1],s=e[2];null==n&&(n=[0,0,0]);var r,l=Math.sqrt(i*i+s*s);l<1e-8?r=0:(r=180*Math.atan2(s,i)/Math.PI)<0&&(r=360+r);return n[0]=t,n[1]=l,n[2]=r,n},hsluv_Hsluv.lchToLuv=function(e,n){var t=e[0],i=e[1];null==n&&(n=[0,0,0]);var s=e[2]/360*2*Math.PI,r=Math.cos(s)*i,l=Math.sin(s)*i;return n[0]=t,n[1]=r,n[2]=l,n},hsluv_Hsluv.hsluvToLch=function(e,n){var t=e[0],i=e[1],s=e[2];if(null==n&&(n=[0,0,0]),s>99.9999999)return n[0]=100,n[1]=0,n[2]=t,n;if(s<1e-8)return n[0]=0,n[1]=0,n[2]=t,n;var r=hsluv_Hsluv.maxChromaForLH(s,t)/100*i;return n[0]=s,n[1]=r,n[2]=t,n},hsluv_Hsluv.lchToHsluv=function(e,n){var t=e[0],i=e[1],s=e[2];if(null==n&&(n=[0,0,0]),t>99.9999999)return n[0]=s,n[1]=0,n[2]=100,n;if(t<1e-8)return n[0]=s,n[1]=0,n[2]=0,n;var r=i/hsluv_Hsluv.maxChromaForLH(t,s)*100;return n[0]=s,n[1]=r,n[2]=t,n},hsluv_Hsluv.hpluvToLch=function(e){var n=e[0],t=e[1],i=e[2];return i>99.9999999?[100,0,n]:i<1e-8?[0,0,n]:[i,hsluv_Hsluv.maxSafeChromaForL(i)/100*t,n]},hsluv_Hsluv.lchToHpluv=function(e){var n=e[0],t=e[1],i=e[2];return n>99.9999999?[i,0,100]:n<1e-8?[i,0,0]:[i,t/hsluv_Hsluv.maxSafeChromaForL(n)*100,n]},hsluv_Hsluv.rgbToHex=function(e){var n="#",t=e[0],i=((s=Math.round(255*t))-(r=s%16))/16|0;n+=hsluv_Hsluv.hexChars.charAt(i)+hsluv_Hsluv.hexChars.charAt(r);t=e[1],i=((s=Math.round(255*t))-(r=s%16))/16|0;n+=hsluv_Hsluv.hexChars.charAt(i)+hsluv_Hsluv.hexChars.charAt(r);var s,r;t=e[2],i=((s=Math.round(255*t))-(r=s%16))/16|0;return n+=hsluv_Hsluv.hexChars.charAt(i)+hsluv_Hsluv.hexChars.charAt(r)},hsluv_Hsluv.hexToRgb=function(e){e=e.toLowerCase();var n=[],t=16*hsluv_Hsluv.hexChars.indexOf(e.charAt(1))+hsluv_Hsluv.hexChars.indexOf(e.charAt(2));n.push(t/255);t=16*hsluv_Hsluv.hexChars.indexOf(e.charAt(3))+hsluv_Hsluv.hexChars.indexOf(e.charAt(4));n.push(t/255);t=16*hsluv_Hsluv.hexChars.indexOf(e.charAt(5))+hsluv_Hsluv.hexChars.indexOf(e.charAt(6));return n.push(t/255),n},hsluv_Hsluv.lchToRgb=function(e,n){return null==n&&(n=[0,0,0]),hsluv_Hsluv.lchToLuv(e,n),hsluv_Hsluv.luvToXyz(n,n),hsluv_Hsluv.xyzToRgb(n,n),n},hsluv_Hsluv.rgbToLch=function(e,n){return null==n&&(n=[0,0,0]),hsluv_Hsluv.rgbToXyz(e,n),hsluv_Hsluv.xyzToLuv(n,n),hsluv_Hsluv.luvToLch(n,n),n},hsluv_Hsluv.hsluvToRgb=function(e,n){return null==n&&(n=[0,0,0]),hsluv_Hsluv.hsluvToLch(e,n),hsluv_Hsluv.lchToRgb(n,n),n},hsluv_Hsluv.rgbToHsluv=function(e,n){return null==n&&(n=[0,0,0]),hsluv_Hsluv.rgbToLch(e,n),hsluv_Hsluv.lchToHsluv(n,n),n},hsluv_Hsluv.hpluvToRgb=function(e){return hsluv_Hsluv.lchToRgb(hsluv_Hsluv.hpluvToLch(e))},hsluv_Hsluv.rgbToHpluv=function(e){return hsluv_Hsluv.lchToHpluv(hsluv_Hsluv.rgbToLch(e))},hsluv_Hsluv.hsluvToHex=function(e){return hsluv_Hsluv.rgbToHex(hsluv_Hsluv.hsluvToRgb(e))},hsluv_Hsluv.hpluvToHex=function(e){return hsluv_Hsluv.rgbToHex(hsluv_Hsluv.hpluvToRgb(e))},hsluv_Hsluv.hexToHsluv=function(e){return hsluv_Hsluv.rgbToHsluv(hsluv_Hsluv.hexToRgb(e))},hsluv_Hsluv.hexToHpluv=function(e){return hsluv_Hsluv.rgbToHpluv(hsluv_Hsluv.hexToRgb(e))};var js_Boot=function(){};t["js.Boot"]=js_Boot,js_Boot.__name__="js.Boot",js_Boot.getClass=function(e){if(null==e)return null;if(e instanceof Array)return Array;var n=e.__class__;if(null!=n)return n;var t=js_Boot.__nativeClassName(e);return null!=t?js_Boot.__resolveNativeClass(t):null},js_Boot.__string_rec=function(e,n){if(null==e)return"null";if(n.length>=5)return"<...>";var t=typeof e;switch("function"==t&&(e.__name__||e.__ename__)&&(t="object"),t){case"function":return"<function>";case"object":if(e.__enum__){var s=i[e.__enum__].__constructs__[e._hx_index],r=s._hx_name;return s.__params__?(n+="\t",r+"("+function(t){for(var i=[],r=0,l=s.__params__;r<l.length;){var a=l[r];r+=1,i.push(js_Boot.__string_rec(e[a],n))}return i}().join(",")+")"):r}if(e instanceof Array){var l="[";n+="\t";for(var a=0,h=e.length;a<h;){var c=a++;l+=(c>0?",":"")+js_Boot.__string_rec(e[c],n)}return l+="]"}var o;try{o=e.toString}catch(a){return"???"}if(null!=o&&o!=Object.toString&&"function"==typeof o){var u=e.toString();if("[object Object]"!=u)return u}l="{\n";n+="\t";var _=null!=e.hasOwnProperty,d=null;for(d in e)_&&!e.hasOwnProperty(d)||"prototype"!=d&&"__class__"!=d&&"__super__"!=d&&"__interfaces__"!=d&&"__properties__"!=d&&(2!=l.length&&(l+=", \n"),l+=n+d+" : "+js_Boot.__string_rec(e[d],n));return l+="\n"+(n=n.substring(1))+"}";case"string":return e;default:return String(e)}},js_Boot.__interfLoop=function(e,n){if(null==e)return!1;if(e==n)return!0;var t=e.__interfaces__;if(null!=t)for(var i=0,s=t.length;i<s;){var r=t[i++];if(r==n||js_Boot.__interfLoop(r,n))return!0}return js_Boot.__interfLoop(e.__super__,n)},js_Boot.__instanceof=function(e,n){if(null==n)return!1;switch(n){case Array:return e instanceof Array;case J:return"boolean"==typeof e;case q:return null!=e;case Z:return"number"==typeof e;case Q:return"number"==typeof e&&(0|e)===e;case String:return"string"==typeof e;default:if(null==e)return!1;if("function"==typeof n){if(js_Boot.__downcastCheck(e,n))return!0}else if("object"==typeof n&&js_Boot.__isNativeObj(n)&&e instanceof n)return!0;return n==ee&&null!=e.__name__||(n==ne&&null!=e.__ename__||null!=e.__enum__&&i[e.__enum__]==n)}},js_Boot.__downcastCheck=function(e,n){return e instanceof n||!!n.__isInterface__&&js_Boot.__interfLoop(js_Boot.getClass(e),n)},js_Boot.__nativeClassName=function(e){var n=js_Boot.__toStr.call(e).slice(8,-1);return"Object"==n||"Function"==n||"Math"==n||"JSON"==n?null:n},js_Boot.__isNativeObj=function(e){return null!=js_Boot.__nativeClassName(e)},js_Boot.__resolveNativeClass=function(n){return e[n]};var js_html__$CanvasElement_CanvasUtil=function(){};t["js.html._CanvasElement.CanvasUtil"]=js_html__$CanvasElement_CanvasUtil,js_html__$CanvasElement_CanvasUtil.__name__="js.html._CanvasElement.CanvasUtil",js_html__$CanvasElement_CanvasUtil.getContextWebGL=function(e,n){var t="webgl";if(null!=(i=e.getContext(t,n)))return i;var i;t="experimental-webgl";return null!=(i=e.getContext(t,n))?i:null};var polyline_Extensions=function(){};t["polyline.Extensions"]=polyline_Extensions,polyline_Extensions.__name__="polyline.Extensions",polyline_Extensions.unsafeGet=function(e,n){return e[n]},polyline_Extensions.unsafeSet=function(e,n,t){e[n]=t};var H=i["polyline.StrokeCap"]={__ename__:"polyline.StrokeCap",__constructs__:null,BUTT:{_hx_name:"BUTT",_hx_index:0,__enum__:"polyline.StrokeCap",toString:$estr},SQUARE:{_hx_name:"SQUARE",_hx_index:1,__enum__:"polyline.StrokeCap",toString:$estr}};H.__constructs__=[H.BUTT,H.SQUARE];var z=i["polyline.StrokeJoin"]={__ename__:"polyline.StrokeJoin",__constructs__:null,MITER:{_hx_name:"MITER",_hx_index:0,__enum__:"polyline.StrokeJoin",toString:$estr},BEVEL:{_hx_name:"BEVEL",_hx_index:1,__enum__:"polyline.StrokeJoin",toString:$estr}};z.__constructs__=[z.MITER,z.BEVEL];var tracker_Assert=function(){};t["tracker.Assert"]=tracker_Assert,tracker_Assert.__name__="tracker.Assert";var tracker_Autorun=function(e,n){this.invalidated=!1,this.boundAutorunArrays=null,this.afterRun=null,this.onRun=null,ceramic_Entity.call(this),this.onRun=e,this.afterRun=n,null!=e&&this.run()};t["tracker.Autorun"]=tracker_Autorun,tracker_Autorun.__name__="tracker.Autorun",tracker_Autorun.unobserve=function(){tracker_Autorun.prevCurrent.push(tracker_Autorun.current),tracker_Autorun.current=null},tracker_Autorun.reobserve=function(){tracker_Autorun.current=tracker_Autorun.prevCurrent.pop()},tracker_Autorun.unobserved=function(e){tracker_Autorun.prevCurrent.push(tracker_Autorun.current),tracker_Autorun.current=null,e(),tracker_Autorun.current=tracker_Autorun.prevCurrent.pop()},tracker_Autorun.getAutorunArray=function(){if(tracker_Autorun._autorunArraysLen>0){tracker_Autorun._autorunArraysLen--;var e=tracker_Autorun._autorunArrays[tracker_Autorun._autorunArraysLen];return tracker_Autorun._autorunArrays[tracker_Autorun._autorunArraysLen]=null,e}return[]},tracker_Autorun.recycleAutorunArray=function(e){e.splice(0,e.length),tracker_Autorun._autorunArrays[tracker_Autorun._autorunArraysLen]=e,tracker_Autorun._autorunArraysLen++},tracker_Autorun.getArrayOfAutorunArrays=function(){if(tracker_Autorun._arrayOfAutorunArraysLen>0){tracker_Autorun._arrayOfAutorunArraysLen--;var e=tracker_Autorun._arrayOfAutorunArrays[tracker_Autorun._arrayOfAutorunArraysLen];return tracker_Autorun._arrayOfAutorunArrays[tracker_Autorun._arrayOfAutorunArraysLen]=null,e}return[]},tracker_Autorun.recycleArrayOfAutorunArrays=function(e){e.splice(0,e.length),tracker_Autorun._arrayOfAutorunArrays[tracker_Autorun._arrayOfAutorunArraysLen]=e,tracker_Autorun._arrayOfAutorunArraysLen++},tracker_Autorun.__super__=ceramic_Entity,tracker_Autorun.prototype=$extend(ceramic_Entity.prototype,{emitReset:function(){this.unbindFromAllAutorunArrays();var e=0;if(null!=this.__cbOnReset&&(e+=this.__cbOnReset.length),null!=this.__cbOnceReset&&(e+=this.__cbOnceReset.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReset)for(var s=0,r=this.__cbOnReset.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnReset[l],++i):--e}if(null!=this.__cbOnceReset){var a=null,h=null;for(s=0,r=this.__cbOnceReset.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceReset[l],this.__cbOnceReset[l]=null;var c=this.__cbOnceOwnerUnbindReset[l];this.__cbOnceOwnerUnbindReset[l]=null,null!=c&&c(),++i}else--e,null==a&&(a=[],h=[],[]),a.push(this.__cbOnceOwnerUnbindReset[l]),h.push(this.__cbOnceReset[l])}this.__cbOnceOwnerUnbindReset=a,this.__cbOnceReset=h}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onReset:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event reset because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReset(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReset&&(this.__cbOnOwnerUnbindReset=[]),this.__cbOnOwnerUnbindReset.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReset&&(this.__cbOnOwnerUnbindReset=[]),this.__cbOnOwnerUnbindReset.push(null);null==this.__cbOnReset&&(this.__cbOnReset=[]),this.__cbOnReset.push(n)},onceReset:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event reset because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReset(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReset&&(this.__cbOnceOwnerUnbindReset=[]),this.__cbOnceOwnerUnbindReset.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReset&&(this.__cbOnceOwnerUnbindReset=[]),this.__cbOnceOwnerUnbindReset.push(null);null==this.__cbOnceReset&&(this.__cbOnceReset=[]),this.__cbOnceReset.push(n)},offReset:function(e){if(null!=e){var n;null!=this.__cbOnReset&&-1!=(n=this.__cbOnReset.indexOf(e))&&(this.__cbOnReset.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReset[n])&&r(),this.__cbOnOwnerUnbindReset.splice(n,1)),null!=this.__cbOnceReset&&-1!=(n=this.__cbOnceReset.indexOf(e))&&(this.__cbOnceReset.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReset[n])&&r(),this.__cbOnceOwnerUnbindReset.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReset){for(var t=0,i=this.__cbOnOwnerUnbindReset.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindReset[s])&&r()}this.__cbOnOwnerUnbindReset=null}if(null!=this.__cbOnceOwnerUnbindReset){for(t=0,i=this.__cbOnceOwnerUnbindReset.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindReset[s])&&r()}this.__cbOnceOwnerUnbindReset=null}this.__cbOnReset=null,this.__cbOnceReset=null}},listensReset:function(){return null!=this.__cbOnReset&&this.__cbOnReset.length>0||null!=this.__cbOnceReset&&this.__cbOnceReset.length>0},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.emitReset(),this.onRun=null,this.afterRun=null,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this))},willEmitReset:function(){this.unbindFromAllAutorunArrays()},run:function(){if(!(this._lifecycleState<0)){this.invalidated=!1,this.emitReset();var e=tracker_Autorun.current;tracker_Autorun.current=this;var n=tracker_Autorun.prevCurrent.length;for(this.onRun(),null!=this.afterRun&&(tracker_Autorun.prevCurrent.push(tracker_Autorun.current),tracker_Autorun.current=null,this.afterRun(),tracker_Autorun.current=tracker_Autorun.prevCurrent.pop());n<tracker_Autorun.prevCurrent.length;)tracker_Autorun.prevCurrent.pop();tracker_Autorun.current=e}},invalidate:function(){if(!this.invalidated){this.invalidated=!0,this.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(this,this.run))}},bindToAutorunArray:function(e){if(!this.invalidated){var n=!1;if(null==this.boundAutorunArrays){var t;if(tracker_Autorun._arrayOfAutorunArraysLen>0){tracker_Autorun._arrayOfAutorunArraysLen--;var i=tracker_Autorun._arrayOfAutorunArrays[tracker_Autorun._arrayOfAutorunArraysLen];tracker_Autorun._arrayOfAutorunArrays[tracker_Autorun._arrayOfAutorunArraysLen]=null,t=i}else t=[];this.boundAutorunArrays=t}else for(var s=0,r=this.boundAutorunArrays.length;s<r;){var l=s++;if(this.boundAutorunArrays[l]==e){n=!0;break}}if(!n){var a=-1,h=e.length;for(l=h-1;l>=0;){if(null==(o=e[l])){a=l;break}--l}if(-1==a)e.push(this);else{var c=h-1;if(a<c)for(s=a+1,r=h;s<r;){var o=e[l=s++];e[l-1]=o}e[c]=this}this.boundAutorunArrays.push(e)}}},unbindFromAllAutorunArrays:function(){if(null!=this.boundAutorunArrays){for(var e=0,n=this.boundAutorunArrays.length;e<n;)for(var t=e++,i=this.boundAutorunArrays[t],s=0,r=i.length;s<r;){var l=s++,a=i[l];if(null!=a&&a==this){i[l]=null;break}}var h=this.boundAutorunArrays;h.splice(0,h.length),tracker_Autorun._arrayOfAutorunArrays[tracker_Autorun._arrayOfAutorunArraysLen]=h,tracker_Autorun._arrayOfAutorunArraysLen++,this.boundAutorunArrays=null}},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offReset()},__class__:tracker_Autorun});var tracker_Extensions=function(){};t["tracker.Extensions"]=tracker_Extensions,tracker_Extensions.__name__="tracker.Extensions",tracker_Extensions.unsafeGet=function(e,n){return e[n]},tracker_Extensions.unsafeSet=function(e,n,t){e[n]=t},tracker_Extensions.setArrayLength=function(e,n){e.length!=n&&(e.length>n?e.splice(n,e.length-n):e[n-1]=null)},tracker_Extensions.setProperty=function(e,n,t){Reflect.setProperty(e,n,t)},tracker_Extensions.getProperty=function(e,n){return Reflect.getProperty(e,n)};var tracker_Tracker=function(){};function $getIterator(e){return e instanceof Array?new haxe_iterators_ArrayIterator(e):e.iterator()}function $bind(n,t){return null==t?null:(null==t.__id__&&(t.__id__=e.$haxeUID++),null==n.hx__closures__?n.hx__closures__={}:i=n.hx__closures__[t.__id__],null==i&&(i=t.bind(n),n.hx__closures__[t.__id__]=i),i);var i}t["tracker.Tracker"]=tracker_Tracker,tracker_Tracker.__name__="tracker.Tracker",e.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(HxOverrides.now=performance.now.bind(performance)),t.Math=Math,null==String.fromCodePoint&&(String.fromCodePoint=function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55232+(e>>10))+String.fromCharCode(56320+(1023&e))}),String.prototype.__class__=t.String=String,String.__name__="String",t.Array=Array,Array.__name__="Array",Date.prototype.__class__=t.Date=Date,Date.__name__="Date";var j,$,Q={},q={},Z=Number,J=Boolean,ee={},ne={};assets_AllAssets.bind(),haxe_ds_ObjectMap.count=0,js_Boot.__toStr={}.toString,Main.lastResizeTime=-1,Main.lastNewWidth=-1,Main.lastNewHeight=-1,Main.readyToDisplay=!1,Main.resizing=0,ceramic_Entity.__meta__={obj:{editable:null},fields:{components:{editable:null}}},ceramic_Entity._fieldInfo={components:{editable:[],type:"ceramic.ReadOnlyMap<String,ceramic.Component>",index:1},scriptContent:{editable:[{label:"Script"}],type:"ceramic.ScriptContent",index:2}},ceramic_Transform._decomposed1=new ceramic_DecomposedTransform,ceramic_Transform._decomposed2=new ceramic_DecomposedTransform,ceramic_Transform._tmp=new ceramic_Transform,ceramic_Point.pool=new ceramic_Pool,ceramic_Visual.__meta__={obj:{editable:null},fields:{visible:{editable:[{group:"active"}]},touchable:{editable:[{group:"active"}]},depth:{editable:[{group:"depth"}]},depthRange:{editable:[{group:"depth",label:"Range"}]},x:{editable:[{group:"position"}]},y:{editable:[{group:"position"}]},scaleX:{editable:[{group:"scale"}]},scaleY:{editable:[{group:"scale"}]},skewX:{editable:[{group:"skew"}]},skewY:{editable:[{group:"skew"}]},anchorX:{editable:[{group:"anchor"}]},anchorY:{editable:[{group:"anchor"}]},width:{editable:[{min:0,group:"size"}]},height:{editable:[{min:0,group:"size"}]},roundTranslation:{editable:null},rotation:{editable:[{slider:[0,360],degrees:!0}]},alpha:{editable:[{slider:[0,1]}]},translateX:{editable:[{group:"translate"}]},translateY:{editable:[{group:"translate"}]},shader:{editable:null}}},ceramic_Visual.DEPTH_FACTOR=2e6,ceramic_Visual.DEPTH_MARGIN=.01,ceramic_Visual._degToRad=.017453292519943295,ceramic_Visual._matrix=new ceramic_Transform,ceramic_Visual._point=new ceramic_Point,ceramic_Visual._minDepth=0,ceramic_Visual._maxDepth=0,ceramic_Visual._fieldInfo={skewY:{editable:[{group:"skew"}],type:"Float",index:58},skewX:{editable:[{group:"skew"}],type:"Float",index:56},alpha:{editable:[{slider:[0,1]}],type:"Float",index:76},roundTranslation:{editable:[],type:"Int",index:72},visible:{editable:[{group:"active"}],type:"Bool",index:40},depthRange:{editable:[{group:"depth",label:"Range"}],type:"Float",index:46},depth:{editable:[{group:"depth"}],type:"Float",index:44},scaleX:{editable:[{group:"scale"}],type:"Float",index:52},anchorX:{editable:[{group:"anchor"}],type:"Float",index:60},x:{editable:[{group:"position"}],type:"Float",index:48},y:{editable:[{group:"position"}],type:"Float",index:50},touchable:{editable:[{group:"active"}],type:"Bool",index:42},rotation:{editable:[{slider:[0,360],degrees:!0}],type:"Float",index:74},height:{editable:[{min:0,group:"size"}],type:"Float",index:68},translateY:{editable:[{group:"translate"}],type:"Float",index:81},anchorY:{editable:[{group:"anchor"}],type:"Float",index:62},translateX:{editable:[{group:"translate"}],type:"Float",index:78},scaleY:{editable:[{group:"scale"}],type:"Float",index:54},width:{editable:[{min:0,group:"size"}],type:"Float",index:64},shader:{editable:[],type:"ceramic.Shader",index:86}},ceramic_Quad.__meta__={obj:{editable:[{implicitSizeUnlessNull:"texture"}]},fields:{color:{editable:null},transparent:{editable:null},texture:{editable:null}}},ceramic_Quad._matrix=ceramic_Visual._matrix,ceramic_Quad._degToRad=.017453292519943295,ceramic_Quad._fieldInfo={transparent:{editable:[],type:"Bool",index:3},color:{editable:[],type:"ceramic.Color",index:2},texture:{editable:[],type:"ceramic.Texture",index:6}},ceramic_Layer.__meta__={obj:{editable:[{implicitSizeUnlessNull:"texture"}]}},ceramic_Layer._fieldInfo={},ceramic_Scene.__meta__={fields:{unobservedStatus:{observe:null}}},Xml.Element=0,Xml.PCData=1,Xml.CData=2,Xml.Comment=3,Xml.DocType=4,Xml.ProcessingInstruction=5,Xml.Document=6,ceramic_Assets.instances=[],ceramic_Assets.all=[],ceramic_Assets.allDirs=[],ceramic_Assets.allByName=new haxe_ds_StringMap,ceramic_Assets.allDirsByName=new haxe_ds_StringMap,ceramic_Assets.customAssetKinds=new haxe_ds_StringMap,ceramic_Assets._instances=[],assets_AllAssets.all=["ceramic@2x.png","ceramic.png","outline.vert","pixelArt.vert","fxaa.vert","msdf.frag","textured.frag","tintBlack.vert","glow.vert","bloom.vert","blur.vert","bloom.frag","blur.frag","glow.frag","msdf.vert","textured.vert","tintBlack.frag","pixelArt.frag","fxaa.frag","outline.frag","tintBlack.shader","glow.shader","pixelArt.shader","textured.shader","stencil.shader","bloom.shader","msdf.shader","outline.shader","blur.shader","RobotoMedium.fnt","white.png","RobotoMedium.png"],assets_AllAssets.allDirs=[],assets_AllAssets.allByName=((j=new haxe_ds_StringMap).h.white=["white.png"],j.h.tintBlack=["tintBlack.vert","tintBlack.frag","tintBlack.shader"],j.h.textured=["textured.frag","textured.vert","textured.shader"],j.h.stencil=["stencil.shader"],j.h.pixelArt=["pixelArt.vert","pixelArt.frag","pixelArt.shader"],j.h.outline=["outline.vert","outline.frag","outline.shader"],j.h.msdf=["msdf.frag","msdf.vert","msdf.shader"],j.h.glow=["glow.vert","glow.frag","glow.shader"],j.h.fxaa=["fxaa.vert","fxaa.frag"],j.h.ceramic=["ceramic@2x.png","ceramic.png"],j.h.blur=["blur.vert","blur.frag","blur.shader"],j.h.bloom=["bloom.vert","bloom.frag","bloom.shader"],j.h.RobotoMedium=["RobotoMedium.fnt","RobotoMedium.png"],j),assets_AllAssets.allDirsByName=new haxe_ds_StringMap,assets_Images.WHITE="image:white",assets_Images.ROBOTO_MEDIUM="image:RobotoMedium",assets_Images.CERAMIC="image:ceramic",backend_ClayEvents.GAMEPAD_STORAGE_SIZE=32,backend_Draw.MAX_VERTS_SIZE=65536,backend_Draw.MAX_INDICES=16384,backend_Draw.MAX_BUFFERS=64,backend_Draw.ATTRIBUTE_POS=0,backend_Draw.ATTRIBUTE_UV=1,backend_Draw.ATTRIBUTE_COLOR=2,backend_Draw._posListArray=[],backend_Draw._indiceListArray=[],backend_Draw._uvListArray=[],backend_Draw._colorListArray=[],backend_Draw._activeTextureSlot=0,backend_Draw._batchMultiTexture=!1,backend_Draw._posSize=0,backend_Draw._customGLBuffers=[],backend_Draw._projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),backend_Draw._modelViewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),backend_Draw._modelViewTransform=new ceramic_Transform,backend_Draw._renderTargetTransform=new ceramic_Transform,backend_Draw._blackTransparentColor=function(e){var n=0;null==n&&(n=255);var t=-16777216;return t&=16777215,t|=(n>255?255:n<0?0:n)<<24}(),backend_Draw._whiteTransparentColor=function(e){var n=0;null==n&&(n=255);var t=-1;return t&=16777215,t|=(n>255?255:n<0?0:n)<<24}(),backend_Draw._maxVerts=0,backend_Draw._vertexSize=0,backend_Draw._numIndices=0,backend_Draw._numPos=0,backend_Draw._posIndex=0,backend_Draw._floatAttributesSize=0,backend_Draw._numUVs=0,backend_Draw._uvIndex=0,backend_Draw._numColors=0,backend_Draw._colorIndex=0,backend_Draw._drawingInStencilBuffer=!1,backend_Shaders.SHADER_ATTRIBUTES=["vertexPosition","vertexTCoord","vertexColor"],backend_Shaders.SHADER_ATTRIBUTES_MULTITEXTURE=["vertexPosition","vertexTCoord","vertexColor","vertexTextureId"],backend_Shaders._maxIfStatementsByFragmentShader=-1,backend_Textures._maxTexturesByBatch=-1,ceramic_Mesh.__meta__={obj:{editable:[{highlight:{points:"vertices"},helpers:[{name:"Grid",method:"grid",params:[{name:"Columns",type:"Int",value:1,slider:[1,64]},{name:"Rows",type:"Int",value:1,slider:[1,64]}]},{name:"Grid From Texture",method:"gridFromTexture",params:[{name:"Columns",type:"Int",value:1,slider:[1,64]},{name:"Rows",type:"Int",value:1,slider:[1,64]}]}]}]},fields:{complexHit:{editable:null},color:{editable:null},vertices:{editable:null},indices:{editable:null},texture:{editable:null},uvs:{editable:null}}},ceramic_Mesh._matrix=ceramic_Visual._matrix,ceramic_Mesh._fieldInfo={vertices:{editable:[],type:"Array<Float>",index:9},complexHit:{editable:[],type:"Bool",index:3},uvs:{editable:[],type:"Array<Float>",index:14},color:{editable:[],type:"ceramic.Color",index:6},indices:{editable:[],type:"Array<Int>",index:10},texture:{editable:[],type:"ceramic.Texture",index:12}},ceramic_Arc.__meta__={obj:{editable:[{implicitSize:!0}]},fields:{sides:{editable:[{slider:[3,100]}]},radius:{editable:[{slider:[0,999]}]},angle:{editable:[{slider:[0,360]}]},borderPosition:{editable:null},thickness:{editable:[{slider:[1,120]}]}}},ceramic_Arc._fieldInfo={sides:{editable:[{slider:[3,100]}],type:"Int",index:0},borderPosition:{editable:[],type:"ceramic.BorderPosition",index:6},angle:{editable:[{slider:[0,360]}],type:"Float",index:4},thickness:{editable:[{slider:[1,120]}],type:"Float",index:8},radius:{editable:[{slider:[0,999]}],type:"Float",index:2}},ceramic_ArrayPool.ALLOC_STEP=10,ceramic_ArrayPool.dynPool10=new ceramic_ArrayPool(10),ceramic_ArrayPool.dynPool100=new ceramic_ArrayPool(100),ceramic_ArrayPool.dynPool1000=new ceramic_ArrayPool(1e3),ceramic_ArrayPool.dynPool10000=new ceramic_ArrayPool(1e4),ceramic_ArrayPool.dynPool100000=new ceramic_ArrayPool(1e5),ceramic_ArrayPool.didNotifyLargePool=!1,ceramic_Asset.__meta__={fields:{unobservedStatus:{observe:null}}},ceramic_BezierEasing.SPLINE_TABLE_SIZE=11,ceramic_BezierEasing.SAMPLE_STEP_SIZE=1/(ceramic_BezierEasing.SPLINE_TABLE_SIZE-1),ceramic_BezierEasing.NEWTON_ITERATIONS=4,ceramic_BezierEasing.NEWTON_MIN_SLOPE=.001,ceramic_BezierEasing.SUBDIVISION_PRECISION=1e-7,ceramic_BezierEasing.SUBDIVISION_MAX_ITERATIONS=10,ceramic_BezierEasing.TWO_THIRD=.6666666666666666,ceramic_BezierEasing.CACHE_SIZE=1e4,ceramic_BezierEasing.numCachedInstances=0,ceramic_BinaryAsset.__meta__={fields:{unobservedBytes:{observe:null}}},ceramic_CollectionImpl._nextInternalId=0,ceramic_CollectionEntry.__meta__={fields:{id:{editable:null},name:{editable:null}}},ceramic_CollectionEntry._nextId=1,ceramic_CollectionEntry._nextIndex=1,ceramic_CollectionEntry._fieldInfo={name:{editable:[],type:"String"},id:{editable:[],type:"String"},index:{type:"Int"}},c.NONE=-1,c.WHITE=16777215,c.GRAY=8421504,c.BLACK=0,c.GREEN=32768,c.LIME=65280,c.YELLOW=16776960,c.ORANGE=16753920,c.RED=16711680,c.PURPLE=8388736,c.BLUE=255,c.BROWN=9127187,c.PINK=16761035,c.MAGENTA=16711935,c.CYAN=65535,c.colorLookup=new haxe_ds_StringMap,c._hsluvTuple=[0,0,0],c._hsluvResult=[0,0,0],ceramic_DatabaseAsset.__meta__={fields:{unobservedDatabase:{observe:null}}},ceramic_EasingUtils._emptyArray=[],ceramic_FieldInfo.fieldInfoMap=new haxe_ds_StringMap,ceramic_Filter.__meta__={fields:{unobservedRenderTexture:{observe:null}}},ceramic_Filter._matrix=ceramic_Visual._matrix,ceramic_FontAsset.__meta__={fields:{unobservedFont:{observe:null}}},ceramic_Fragment.__meta__={obj:{editable:[{implicitSizeUnlessTrue:"resizable"}]},fields:{fragmentData:{editable:null},resizable:{editable:null},autoUpdateTimeline:{editable:null},floatA:{editable:[{group:"floatsAB"}]},floatB:{editable:[{group:"floatsAB"}]},floatC:{editable:[{group:"floatsCD"}]},floatD:{editable:[{group:"floatsCD"}]}}},ceramic_Fragment.basicTypes=function(e){var n=new haxe_ds_StringMap;return n.h.Bool=!0,n.h.Int=!0,n.h.Float=!0,n.h.String=!0,n.h["ceramic.Color"]=!0,n.h["ceramic.ScriptContent"]=!0,n}(),ceramic_Fragment.cachedFragmentData=new haxe_ds_StringMap,ceramic_Fragment._trackResult=new ceramic_Value,ceramic_Fragment._keyframeResult=new ceramic_Value,ceramic_Fragment._usedKeyframes=[],ceramic_Fragment._fieldInfo={autoUpdateTimeline:{editable:[],type:"Bool",index:53},floatD:{editable:[{group:"floatsCD"}],type:"Float",index:61},floatA:{editable:[{group:"floatsAB"}],type:"Float",index:55},resizable:{editable:[],type:"Bool",index:52},floatC:{editable:[{group:"floatsCD"}],type:"Float",index:59},floatB:{editable:[{group:"floatsAB"}],type:"Float",index:57},fragmentData:{editable:[],type:"ceramic.FragmentData",index:51}},ceramic_FragmentsAsset.__meta__={fields:{unobservedFragments:{observe:null}}},u.LEFT_X=0,u.LEFT_Y=1,u.RIGHT_X=2,u.RIGHT_Y=3,_.A=0,_.B=1,_.X=2,_.Y=3,_.L1=4,_.R1=5,_.L2=6,_.R2=7,_.SELECT=8,_.START=9,_.L3=10,_.R3=11,_.DPAD_UP=12,_.DPAD_DOWN=13,_.DPAD_LEFT=14,_.DPAD_RIGHT=15,ceramic_HashedString._lastDecodeIncomplete=!1,ceramic_ImageAsset.__meta__={fields:{unobservedTexture:{observe:null}}},ceramic_Input.GAMEPAD_STORAGE_SIZE=32,ceramic_IntMap.NO_VALUE=0,ceramic_IntMap.NULL_VALUE=1,ceramic_IntMap.RESERVED_GAP=2,d.UNKNOWN=0,d.ENTER=13,d.ESCAPE=27,d.BACKSPACE=8,d.TAB=9,d.SPACE=32,d.EXCLAIM=33,d.QUOTEDBL=34,d.HASH=35,d.PERCENT=37,d.DOLLAR=36,d.AMPERSAND=38,d.QUOTE=39,d.LEFTPAREN=40,d.RIGHTPAREN=41,d.ASTERISK=42,d.PLUS=43,d.COMMA=44,d.MINUS=45,d.PERIOD=46,d.SLASH=47,d.KEY_0=48,d.KEY_1=49,d.KEY_2=50,d.KEY_3=51,d.KEY_4=52,d.KEY_5=53,d.KEY_6=54,d.KEY_7=55,d.KEY_8=56,d.KEY_9=57,d.COLON=58,d.SEMICOLON=59,d.LESS=60,d.EQUALS=61,d.GREATER=62,d.QUESTION=63,d.AT=64,d.LEFTBRACKET=91,d.BACKSLASH=92,d.RIGHTBRACKET=93,d.CARET=94,d.UNDERSCORE=95,d.BACKQUOTE=96,d.KEY_A=97,d.KEY_B=98,d.KEY_C=99,d.KEY_D=100,d.KEY_E=101,d.KEY_F=102,d.KEY_G=103,d.KEY_H=104,d.KEY_I=105,d.KEY_J=106,d.KEY_K=107,d.KEY_L=108,d.KEY_M=109,d.KEY_N=110,d.KEY_O=111,d.KEY_P=112,d.KEY_Q=113,d.KEY_R=114,d.KEY_S=115,d.KEY_T=116,d.KEY_U=117,d.KEY_V=118,d.KEY_W=119,d.KEY_X=120,d.KEY_Y=121,d.KEY_Z=122,d.CAPSLOCK=1073741881,d.F1=1073741882,d.F2=1073741883,d.F3=1073741884,d.F4=1073741885,d.F5=1073741886,d.F6=1073741887,d.F7=1073741888,d.F8=1073741889,d.F9=1073741890,d.F10=1073741891,d.F11=1073741892,d.F12=1073741893,d.PRINTSCREEN=1073741894,d.SCROLLLOCK=1073741895,d.PAUSE=1073741896,d.INSERT=1073741897,d.HOME=1073741898,d.PAGEUP=1073741899,d.DELETE=127,d.END=1073741901,d.PAGEDOWN=1073741902,d.RIGHT=1073741903,d.LEFT=1073741904,d.DOWN=1073741905,d.UP=1073741906,d.NUMLOCKCLEAR=1073741907,d.KP_DIVIDE=1073741908,d.KP_MULTIPLY=1073741909,d.KP_MINUS=1073741910,d.KP_PLUS=1073741911,d.KP_ENTER=1073741912,d.KP_1=1073741913,d.KP_2=1073741914,d.KP_3=1073741915,d.KP_4=1073741916,d.KP_5=1073741917,d.KP_6=1073741918,d.KP_7=1073741919,d.KP_8=1073741920,d.KP_9=1073741921,d.KP_0=1073741922,d.KP_PERIOD=1073741923,d.APPLICATION=1073741925,d.POWER=1073741926,d.KP_EQUALS=1073741927,d.F13=1073741928,d.F14=1073741929,d.F15=1073741930,d.F16=1073741931,d.F17=1073741932,d.F18=1073741933,d.F19=1073741934,d.F20=1073741935,d.F21=1073741936,d.F22=1073741937,d.F23=1073741938,d.F24=1073741939,d.EXECUTE=1073741940,d.HELP=1073741941,d.MENU=1073741942,d.SELECT=1073741943,d.STOP=1073741944,d.AGAIN=1073741945,d.UNDO=1073741946,d.CUT=1073741947,d.COPY=1073741948,d.PASTE=1073741949,d.FIND=1073741950,d.MUTE=1073741951,d.VOLUMEUP=1073741952,d.VOLUMEDOWN=1073741953,d.KP_COMMA=1073741957,d.KP_EQUALSAS400=1073741958,d.ALTERASE=1073741977,d.SYSREQ=1073741978,d.CANCEL=1073741979,d.CLEAR=1073741980,d.PRIOR=1073741981,d.RETURN2=1073741982,d.SEPARATOR=1073741983,d.OUT=1073741984,d.OPER=1073741985,d.CLEARAGAIN=1073741986,d.CRSEL=1073741987,d.EXSEL=1073741988,d.KP_00=1073742e3,d.KP_000=1073742001,d.THOUSANDSSEPARATOR=1073742002,d.DECIMALSEPARATOR=1073742003,d.CURRENCYUNIT=1073742004,d.CURRENCYSUBUNIT=1073742005,d.KP_LEFTPAREN=1073742006,d.KP_RIGHTPAREN=1073742007,d.KP_LEFTBRACE=1073742008,d.KP_RIGHTBRACE=1073742009,d.KP_TAB=1073742010,d.KP_BACKSPACE=1073742011,d.KP_A=1073742012,d.KP_B=1073742013,d.KP_C=1073742014,d.KP_D=1073742015,d.KP_E=1073742016,d.KP_F=1073742017,d.KP_XOR=1073742018,d.KP_POWER=1073742019,d.KP_PERCENT=1073742020,d.KP_LESS=1073742021,d.KP_GREATER=1073742022,d.KP_AMPERSAND=1073742023,d.KP_DBLAMPERSAND=1073742024,d.KP_VERTICALBAR=1073742025,d.KP_DBLVERTICALBAR=1073742026,d.KP_COLON=1073742027,d.KP_HASH=1073742028,d.KP_SPACE=1073742029,d.KP_AT=1073742030,d.KP_EXCLAM=1073742031,d.KP_MEMSTORE=1073742032,d.KP_MEMRECALL=1073742033,d.KP_MEMCLEAR=1073742034,d.KP_MEMADD=1073742035,d.KP_MEMSUBTRACT=1073742036,d.KP_MEMMULTIPLY=1073742037,d.KP_MEMDIVIDE=1073742038,d.KP_PLUSMINUS=1073742039,d.KP_CLEAR=1073742040,d.KP_CLEARENTRY=1073742041,d.KP_BINARY=1073742042,d.KP_OCTAL=1073742043,d.KP_DECIMAL=1073742044,d.KP_HEXADECIMAL=1073742045,d.LCTRL=1073742048,d.LSHIFT=1073742049,d.LALT=1073742050,d.LMETA=1073742051,d.RCTRL=1073742052,d.RSHIFT=1073742053,d.RALT=1073742054,d.RMETA=1073742055,d.MODE=1073742081,d.AUDIONEXT=1073742082,d.AUDIOPREV=1073742083,d.AUDIOSTOP=1073742084,d.AUDIOPLAY=1073742085,d.AUDIOMUTE=1073742086,d.MEDIASELECT=1073742087,d.WWW=1073742088,d.MAIL=1073742089,d.CALCULATOR=1073742090,d.COMPUTER=1073742091,d.AC_SEARCH=1073742092,d.AC_HOME=1073742093,d.AC_BACK=1073742094,d.AC_FORWARD=1073742095,d.AC_STOP=1073742096,d.AC_REFRESH=1073742097,d.AC_BOOKMARKS=1073742098,d.BRIGHTNESSDOWN=1073742099,d.BRIGHTNESSUP=1073742100,d.DISPLAYSWITCH=1073742101,d.KBDILLUMTOGGLE=1073742102,d.KBDILLUMDOWN=1073742103,d.KBDILLUMUP=1073742104,d.EJECT=1073742105,d.SLEEP=1073742106,polyline_Stroke.NUMBER_NONE=-9999999999,polyline_Stroke.MATH_TWO_PI=6.28318530718,polyline_Stroke.MATH_HALF_PI=1.57079632679,polyline_Stroke.MATH_PI_AND_HALF=4.71238898038,polyline_Stroke.miterUtils=new polyline_MiterUtils,ceramic_Line.__meta__={obj:{editable:[{implicitSize:!0,highlight:{points:"points",minPoints:2,maxPoints:999999999},disable:["texture","vertices","indices","uvs"]}]},fields:{points:{editable:null},miterLimit:{editable:null},thickness:{editable:[{slider:[1,64]}]},join:{editable:null},cap:{editable:null},loop:{editable:null},autoComputeSize:{editable:[{label:"Auto Size"}]}}},ceramic_Line._stroke=new polyline_Stroke,ceramic_Line._fieldInfo={points:{editable:[],type:"Array<Float>",index:1},cap:{editable:[],type:"ceramic.LineCap",index:9},join:{editable:[],type:"ceramic.LineJoin",index:7},thickness:{editable:[{slider:[1,64]}],type:"Float",index:5},autoComputeSize:{editable:[{label:"Auto Size"}],type:"Bool",index:13},miterLimit:{editable:[],type:"Float",index:3},loop:{editable:[],type:"Bool",index:11}},ceramic_Logger._hasElectronRunner=!1,ceramic_Logger.didInitOnce=!1,ceramic_Texture._nextIndex=1,b.MASK=1073741824,b.UNKNOWN=0,b.KEY_A=4,b.KEY_B=5,b.KEY_C=6,b.KEY_D=7,b.KEY_E=8,b.KEY_F=9,b.KEY_G=10,b.KEY_H=11,b.KEY_I=12,b.KEY_J=13,b.KEY_K=14,b.KEY_L=15,b.KEY_M=16,b.KEY_N=17,b.KEY_O=18,b.KEY_P=19,b.KEY_Q=20,b.KEY_R=21,b.KEY_S=22,b.KEY_T=23,b.KEY_U=24,b.KEY_V=25,b.KEY_W=26,b.KEY_X=27,b.KEY_Y=28,b.KEY_Z=29,b.KEY_1=30,b.KEY_2=31,b.KEY_3=32,b.KEY_4=33,b.KEY_5=34,b.KEY_6=35,b.KEY_7=36,b.KEY_8=37,b.KEY_9=38,b.KEY_0=39,b.ENTER=40,b.ESCAPE=41,b.BACKSPACE=42,b.TAB=43,b.SPACE=44,b.MINUS=45,b.EQUALS=46,b.LEFTBRACKET=47,b.RIGHTBRACKET=48,b.BACKSLASH=49,b.NONUSHASH=50,b.SEMICOLON=51,b.APOSTROPHE=52,b.GRAVE=53,b.COMMA=54,b.PERIOD=55,b.SLASH=56,b.CAPSLOCK=57,b.F1=58,b.F2=59,b.F3=60,b.F4=61,b.F5=62,b.F6=63,b.F7=64,b.F8=65,b.F9=66,b.F10=67,b.F11=68,b.F12=69,b.PRINTSCREEN=70,b.SCROLLLOCK=71,b.PAUSE=72,b.INSERT=73,b.HOME=74,b.PAGEUP=75,b.DELETE=76,b.END=77,b.PAGEDOWN=78,b.RIGHT=79,b.LEFT=80,b.DOWN=81,b.UP=82,b.NUMLOCKCLEAR=83,b.KP_DIVIDE=84,b.KP_MULTIPLY=85,b.KP_MINUS=86,b.KP_PLUS=87,b.KP_ENTER=88,b.KP_1=89,b.KP_2=90,b.KP_3=91,b.KP_4=92,b.KP_5=93,b.KP_6=94,b.KP_7=95,b.KP_8=96,b.KP_9=97,b.KP_0=98,b.KP_PERIOD=99,b.NONUSBACKSLASH=100,b.APPLICATION=101,b.POWER=102,b.KP_EQUALS=103,b.F13=104,b.F14=105,b.F15=106,b.F16=107,b.F17=108,b.F18=109,b.F19=110,b.F20=111,b.F21=112,b.F22=113,b.F23=114,b.F24=115,b.EXECUTE=116,b.HELP=117,b.MENU=118,b.SELECT=119,b.STOP=120,b.AGAIN=121,b.UNDO=122,b.CUT=123,b.COPY=124,b.PASTE=125,b.FIND=126,b.MUTE=127,b.VOLUMEUP=128,b.VOLUMEDOWN=129,b.KP_COMMA=133,b.KP_EQUALSAS400=134,b.INTERNATIONAL1=135,b.INTERNATIONAL2=136,b.INTERNATIONAL3=137,b.INTERNATIONAL4=138,b.INTERNATIONAL5=139,b.INTERNATIONAL6=140,b.INTERNATIONAL7=141,b.INTERNATIONAL8=142,b.INTERNATIONAL9=143,b.LANG1=144,b.LANG2=145,b.LANG3=146,b.LANG4=147,b.LANG5=148,b.LANG6=149,b.LANG7=150,b.LANG8=151,b.LANG9=152,b.ALTERASE=153,b.SYSREQ=154,b.CANCEL=155,b.CLEAR=156,b.PRIOR=157,b.RETURN2=158,b.SEPARATOR=159,b.OUT=160,b.OPER=161,b.CLEARAGAIN=162,b.CRSEL=163,b.EXSEL=164,b.KP_00=176,b.KP_000=177,b.THOUSANDSSEPARATOR=178,b.DECIMALSEPARATOR=179,b.CURRENCYUNIT=180,b.CURRENCYSUBUNIT=181,b.KP_LEFTPAREN=182,b.KP_RIGHTPAREN=183,b.KP_LEFTBRACE=184,b.KP_RIGHTBRACE=185,b.KP_TAB=186,b.KP_BACKSPACE=187,b.KP_A=188,b.KP_B=189,b.KP_C=190,b.KP_D=191,b.KP_E=192,b.KP_F=193,b.KP_XOR=194,b.KP_POWER=195,b.KP_PERCENT=196,b.KP_LESS=197,b.KP_GREATER=198,b.KP_AMPERSAND=199,b.KP_DBLAMPERSAND=200,b.KP_VERTICALBAR=201,b.KP_DBLVERTICALBAR=202,b.KP_COLON=203,b.KP_HASH=204,b.KP_SPACE=205,b.KP_AT=206,b.KP_EXCLAM=207,b.KP_MEMSTORE=208,b.KP_MEMRECALL=209,b.KP_MEMCLEAR=210,b.KP_MEMADD=211,b.KP_MEMSUBTRACT=212,b.KP_MEMMULTIPLY=213,b.KP_MEMDIVIDE=214,b.KP_PLUSMINUS=215,b.KP_CLEAR=216,b.KP_CLEARENTRY=217,b.KP_BINARY=218,b.KP_OCTAL=219,b.KP_DECIMAL=220,b.KP_HEXADECIMAL=221,b.LCTRL=224,b.LSHIFT=225,b.LALT=226,b.LMETA=227,b.RCTRL=228,b.RSHIFT=229,b.RALT=230,b.RMETA=231,b.MODE=257,b.AUDIONEXT=258,b.AUDIOPREV=259,b.AUDIOSTOP=260,b.AUDIOPLAY=261,b.AUDIOMUTE=262,b.MEDIASELECT=263,b.WWW=264,b.MAIL=265,b.CALCULATOR=266,b.COMPUTER=267,b.AC_SEARCH=268,b.AC_HOME=269,b.AC_BACK=270,b.AC_FORWARD=271,b.AC_STOP=272,b.AC_REFRESH=273,b.AC_BOOKMARKS=274,b.BRIGHTNESSDOWN=275,b.BRIGHTNESSUP=276,b.DISPLAYSWITCH=277,b.KBDILLUMTOGGLE=278,b.KBDILLUMDOWN=279,b.KBDILLUMUP=280,b.EJECT=281,b.SLEEP=282,b.APP1=283,b.APP2=284,b.scanCodeNames=[null,null,null,null,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0","Enter","Escape","Backspace","Tab","Space","-","=","[","]","\\","#",";","'","`",",",".","/","CapsLock","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","PrintScreen","ScrollLock","Pause","Insert","Home","PageUp","Delete","End","PageDown","Right","Left","Down","Up","Numlock","Keypad /","Keypad *","Keypad -","Keypad +","Keypad Enter","Keypad 1","Keypad 2","Keypad 3","Keypad 4","Keypad 5","Keypad 6","Keypad 7","Keypad 8","Keypad 9","Keypad 0","Keypad .",null,"Application","Power","Keypad =","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","Execute","Help","Menu","Select","Stop","Again","Undo","Cut","Copy","Paste","Find","Mute","VolumeUp","VolumeDown",null,null,null,"Keypad ,","Keypad = (AS400)",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"AltErase","SysReq","Cancel","Clear","Prior","Enter","Separator","Out","Oper","Clear / Again","CrSel","ExSel",null,null,null,null,null,null,null,null,null,null,null,"Keypad 00","Keypad 000","ThousandsSeparator","DecimalSeparator","CurrencyUnit","CurrencySubUnit","Keypad (","Keypad )","Keypad {","Keypad }","Keypad Tab","Keypad Backspace","Keypad A","Keypad B","Keypad C","Keypad D","Keypad E","Keypad F","Keypad XOR","Keypad ^","Keypad %","Keypad <","Keypad >","Keypad &","Keypad &&","Keypad |","Keypad ||","Keypad :","Keypad #","Keypad Space","Keypad @","Keypad !","Keypad MemStore","Keypad MemRecall","Keypad MemClear","Keypad MemAdd","Keypad MemSubtract","Keypad MemMultiply","Keypad MemDivide","Keypad +/-","Keypad Clear","Keypad ClearEntry","Keypad Binary","Keypad Octal","Keypad Decimal","Keypad Hexadecimal",null,null,"Left Ctrl","Left Shift","Left Alt","Left Meta","Right Ctrl","Right Shift","Right Alt","Right Meta",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"ModeSwitch","AudioNext","AudioPrev","AudioStop","AudioPlay","AudioMute","MediaSelect","WWW","Mail","Calculator","Computer","AC Search","AC Home","AC Back","AC Forward","AC Stop","AC Refresh","AC Bookmarks","BrightnessDown","BrightnessUp","DisplaySwitch","KBDIllumToggle","KBDIllumDown","KBDIllumUp","Eject","Sleep"],f.NONE=0,f.PRELOAD=1,f.LOAD=2,f.CREATE=3,f.FADE_IN=4,f.READY=5,f.FADE_OUT=6,f.DISABLED=7,ceramic_SceneSystem.lazyShared=!0,ceramic_Screen.__meta__={fields:{unobservedFocusedVisual:{observe:null},unobservedTexturesDensity:{observe:null}}},ceramic_Settings.__meta__={fields:{unobservedTargetWidth:{observe:null},unobservedTargetHeight:{observe:null},unobservedWindowWidth:{observe:null},unobservedWindowHeight:{observe:null},unobservedTargetDensity:{observe:null},unobservedBackground:{observe:null},unobservedScaling:{observe:null},unobservedTitle:{observe:null},unobservedFullscreen:{observe:null},unobservedTargetFps:{observe:null},unobservedMaxDelta:{observe:null},unobservedOverrideDelta:{observe:null}}},ceramic_SoundAsset.__meta__={fields:{unobservedSound:{observe:null}}},ceramic_Text.__meta__={obj:{editable:[{implicitSize:!0}]},fields:{color:{editable:null},content:{editable:[{multiline:!0}]},pointSize:{editable:[{slider:[6,600]}]},lineHeight:{editable:[{slider:[0,10]}]},letterSpacing:{editable:[{slider:[-100,100]}]},font:{editable:null},align:{editable:null},fitWidth:{editable:null},maxLineDiff:{editable:null}}},ceramic_Text._fieldInfo={fitWidth:{editable:[],type:"Float",index:38},letterSpacing:{editable:[{slider:[-100,100]}],type:"Float",index:20},color:{editable:[],type:"ceramic.Color",index:12},content:{editable:[{multiline:!0}],type:"String",index:14},align:{editable:[],type:"ceramic.TextAlign",index:36},font:{editable:[],type:"ceramic.BitmapFont",index:22},maxLineDiff:{editable:[],type:"Float",index:40},pointSize:{editable:[{slider:[6,600]}],type:"Float",index:16},lineHeight:{editable:[{slider:[0,10]}],type:"Float",index:18}},ceramic_TextAsset.__meta__={fields:{unobservedText:{observe:null}}},ceramic_Timer.callbacks=[],ceramic_Timer.next=999999999,ceramic_Timer.now=0,ceramic_Timer.startTimestamp=(new Date).getTime()/1e3,ceramic_TransformPool.availableTransforms=[],ceramic_Tween._tweens=[],ceramic_Tween._iteratedTweens=[],ceramic__$Tween_TweenEasingFunction.k=0,ceramic_Utils.RE_ASCII_CHAR=new EReg("^[a-zA-Z0-9]$",""),ceramic_Utils._nextUniqueIntCursor=0,ceramic_Utils._nextUniqueInt0=2147483646*Math.random()|0,ceramic_Utils._nextUniqueInt1=1e-4*(new Date).getTime()|0,ceramic_Utils._nextUniqueInt2=2147483646*Math.random()|0,ceramic_Utils._nextUniqueInt3=2147483646*Math.random()|0,ceramic_VisualTransition._currentTransform=new ceramic_Transform,ceramic_VisualTransition._targetTransform=new ceramic_Transform,ceramic_VisualTransition._identityTransform=new ceramic_Transform,ceramic_WatchDirectory.didTryRequireChokidar=!1,clay_Immediate.immediateCallbacks=[],clay_Immediate.immediateCallbacksCapacity=0,clay_Immediate.immediateCallbacksLen=0,w.UNKNOWN=0,w.ENTER=13,w.ESCAPE=27,w.BACKSPACE=8,w.TAB=9,w.SPACE=32,w.EXCLAIM=33,w.QUOTEDBL=34,w.HASH=35,w.PERCENT=37,w.DOLLAR=36,w.AMPERSAND=38,w.QUOTE=39,w.LEFTPAREN=40,w.RIGHTPAREN=41,w.ASTERISK=42,w.PLUS=43,w.COMMA=44,w.MINUS=45,w.PERIOD=46,w.SLASH=47,w.KEY_0=48,w.KEY_1=49,w.KEY_2=50,w.KEY_3=51,w.KEY_4=52,w.KEY_5=53,w.KEY_6=54,w.KEY_7=55,w.KEY_8=56,w.KEY_9=57,w.COLON=58,w.SEMICOLON=59,w.LESS=60,w.EQUALS=61,w.GREATER=62,w.QUESTION=63,w.AT=64,w.LEFTBRACKET=91,w.BACKSLASH=92,w.RIGHTBRACKET=93,w.CARET=94,w.UNDERSCORE=95,w.BACKQUOTE=96,w.KEY_A=97,w.KEY_B=98,w.KEY_C=99,w.KEY_D=100,w.KEY_E=101,w.KEY_F=102,w.KEY_G=103,w.KEY_H=104,w.KEY_I=105,w.KEY_J=106,w.KEY_K=107,w.KEY_L=108,w.KEY_M=109,w.KEY_N=110,w.KEY_O=111,w.KEY_P=112,w.KEY_Q=113,w.KEY_R=114,w.KEY_S=115,w.KEY_T=116,w.KEY_U=117,w.KEY_V=118,w.KEY_W=119,w.KEY_X=120,w.KEY_Y=121,w.KEY_Z=122,w.CAPSLOCK=1073741881,w.F1=1073741882,w.F2=1073741883,w.F3=1073741884,w.F4=1073741885,w.F5=1073741886,w.F6=1073741887,w.F7=1073741888,w.F8=1073741889,w.F9=1073741890,w.F10=1073741891,w.F11=1073741892,w.F12=1073741893,w.PRINTSCREEN=1073741894,w.SCROLLLOCK=1073741895,w.PAUSE=1073741896,w.INSERT=1073741897,w.HOME=1073741898,w.PAGEUP=1073741899,w.DELETE=127,w.END=1073741901,w.PAGEDOWN=1073741902,w.RIGHT=1073741903,w.LEFT=1073741904,w.DOWN=1073741905,w.UP=1073741906,w.NUMLOCKCLEAR=1073741907,w.KP_DIVIDE=1073741908,w.KP_MULTIPLY=1073741909,w.KP_MINUS=1073741910,w.KP_PLUS=1073741911;w.KP_ENTER=1073741912,w.KP_1=1073741913,w.KP_2=1073741914,w.KP_3=1073741915,w.KP_4=1073741916,w.KP_5=1073741917,w.KP_6=1073741918,w.KP_7=1073741919,w.KP_8=1073741920,w.KP_9=1073741921,w.KP_0=1073741922,w.KP_PERIOD=1073741923,w.APPLICATION=1073741925,w.POWER=1073741926,w.KP_EQUALS=1073741927,w.F13=1073741928,w.F14=1073741929,w.F15=1073741930,w.F16=1073741931,w.F17=1073741932,w.F18=1073741933,w.F19=1073741934,w.F20=1073741935,w.F21=1073741936,w.F22=1073741937,w.F23=1073741938,w.F24=1073741939,w.EXECUTE=1073741940,w.HELP=1073741941,w.MENU=1073741942,w.SELECT=1073741943,w.STOP=1073741944,w.AGAIN=1073741945,w.UNDO=1073741946,w.CUT=1073741947,w.COPY=1073741948,w.PASTE=1073741949,w.FIND=1073741950,w.MUTE=1073741951,w.VOLUMEUP=1073741952,w.VOLUMEDOWN=1073741953,w.KP_COMMA=1073741957,w.KP_EQUALSAS400=1073741958,w.ALTERASE=1073741977,w.SYSREQ=1073741978,w.CANCEL=1073741979,w.CLEAR=1073741980,w.PRIOR=1073741981,w.RETURN2=1073741982,w.SEPARATOR=1073741983,w.OUT=1073741984,w.OPER=1073741985,w.CLEARAGAIN=1073741986,w.CRSEL=1073741987,w.EXSEL=1073741988,w.KP_00=1073742e3,w.KP_000=1073742001,w.THOUSANDSSEPARATOR=1073742002,w.DECIMALSEPARATOR=1073742003,w.CURRENCYUNIT=1073742004,w.CURRENCYSUBUNIT=1073742005,w.KP_LEFTPAREN=1073742006,w.KP_RIGHTPAREN=1073742007,w.KP_LEFTBRACE=1073742008,w.KP_RIGHTBRACE=1073742009,w.KP_TAB=1073742010,w.KP_BACKSPACE=1073742011,w.KP_A=1073742012,w.KP_B=1073742013,w.KP_C=1073742014,w.KP_D=1073742015,w.KP_E=1073742016,w.KP_F=1073742017,w.KP_XOR=1073742018,w.KP_POWER=1073742019,w.KP_PERCENT=1073742020,w.KP_LESS=1073742021,w.KP_GREATER=1073742022,w.KP_AMPERSAND=1073742023,w.KP_DBLAMPERSAND=1073742024,w.KP_VERTICALBAR=1073742025,w.KP_DBLVERTICALBAR=1073742026,w.KP_COLON=1073742027,w.KP_HASH=1073742028,w.KP_SPACE=1073742029,w.KP_AT=1073742030,w.KP_EXCLAM=1073742031,w.KP_MEMSTORE=1073742032,w.KP_MEMRECALL=1073742033,w.KP_MEMCLEAR=1073742034,w.KP_MEMADD=1073742035,w.KP_MEMSUBTRACT=1073742036,w.KP_MEMMULTIPLY=1073742037,w.KP_MEMDIVIDE=1073742038,w.KP_PLUSMINUS=1073742039,w.KP_CLEAR=1073742040,w.KP_CLEARENTRY=1073742041,w.KP_BINARY=1073742042,w.KP_OCTAL=1073742043,w.KP_DECIMAL=1073742044,w.KP_HEXADECIMAL=1073742045,w.LCTRL=1073742048,w.LSHIFT=1073742049,w.LALT=1073742050,w.LMETA=1073742051,w.RCTRL=1073742052,w.RSHIFT=1073742053,w.RALT=1073742054,w.RMETA=1073742055,w.MODE=1073742081,w.AUDIONEXT=1073742082,w.AUDIOPREV=1073742083,w.AUDIOSTOP=1073742084,w.AUDIOPLAY=1073742085,w.AUDIOMUTE=1073742086,w.MEDIASELECT=1073742087,w.WWW=1073742088,w.MAIL=1073742089,w.CALCULATOR=1073742090,w.COMPUTER=1073742091,w.AC_SEARCH=1073742092,w.AC_HOME=1073742093,w.AC_BACK=1073742094,w.AC_FORWARD=1073742095,w.AC_STOP=1073742096,w.AC_REFRESH=1073742097,w.AC_BOOKMARKS=1073742098,w.BRIGHTNESSDOWN=1073742099,w.BRIGHTNESSUP=1073742100,w.DISPLAYSWITCH=1073742101,w.KBDILLUMTOGGLE=1073742102,w.KBDILLUMDOWN=1073742103,w.KBDILLUMUP=1073742104,w.EJECT=1073742105,w.SLEEP=1073742106,v.MASK=1073741824,v.UNKNOWN=0,v.KEY_A=4,v.KEY_B=5,v.KEY_C=6,v.KEY_D=7,v.KEY_E=8,v.KEY_F=9,v.KEY_G=10,v.KEY_H=11,v.KEY_I=12,v.KEY_J=13,v.KEY_K=14,v.KEY_L=15,v.KEY_M=16,v.KEY_N=17,v.KEY_O=18,v.KEY_P=19,v.KEY_Q=20,v.KEY_R=21,v.KEY_S=22,v.KEY_T=23,v.KEY_U=24,v.KEY_V=25,v.KEY_W=26,v.KEY_X=27,v.KEY_Y=28,v.KEY_Z=29,v.KEY_1=30,v.KEY_2=31,v.KEY_3=32,v.KEY_4=33,v.KEY_5=34,v.KEY_6=35,v.KEY_7=36,v.KEY_8=37,v.KEY_9=38,v.KEY_0=39,v.ENTER=40,v.ESCAPE=41,v.BACKSPACE=42,v.TAB=43,v.SPACE=44,v.MINUS=45,v.EQUALS=46,v.LEFTBRACKET=47,v.RIGHTBRACKET=48,v.BACKSLASH=49,v.NONUSHASH=50,v.SEMICOLON=51,v.APOSTROPHE=52,v.GRAVE=53,v.COMMA=54,v.PERIOD=55,v.SLASH=56,v.CAPSLOCK=57,v.F1=58,v.F2=59,v.F3=60,v.F4=61,v.F5=62,v.F6=63,v.F7=64,v.F8=65,v.F9=66,v.F10=67,v.F11=68,v.F12=69,v.PRINTSCREEN=70,v.SCROLLLOCK=71,v.PAUSE=72,v.INSERT=73,v.HOME=74,v.PAGEUP=75,v.DELETE=76,v.END=77,v.PAGEDOWN=78,v.RIGHT=79,v.LEFT=80,v.DOWN=81,v.UP=82,v.NUMLOCKCLEAR=83,v.KP_DIVIDE=84,v.KP_MULTIPLY=85,v.KP_MINUS=86,v.KP_PLUS=87,v.KP_ENTER=88,v.KP_1=89,v.KP_2=90,v.KP_3=91,v.KP_4=92,v.KP_5=93,v.KP_6=94,v.KP_7=95,v.KP_8=96,v.KP_9=97,v.KP_0=98,v.KP_PERIOD=99,v.NONUSBACKSLASH=100,v.APPLICATION=101,v.POWER=102,v.KP_EQUALS=103,v.F13=104,v.F14=105,v.F15=106,v.F16=107,v.F17=108,v.F18=109,v.F19=110,v.F20=111,v.F21=112,v.F22=113,v.F23=114,v.F24=115,v.EXECUTE=116,v.HELP=117,v.MENU=118,v.SELECT=119,v.STOP=120,v.AGAIN=121,v.UNDO=122,v.CUT=123,v.COPY=124,v.PASTE=125,v.FIND=126,v.MUTE=127,v.VOLUMEUP=128,v.VOLUMEDOWN=129,v.KP_COMMA=133,v.KP_EQUALSAS400=134,v.INTERNATIONAL1=135,v.INTERNATIONAL2=136,v.INTERNATIONAL3=137,v.INTERNATIONAL4=138,v.INTERNATIONAL5=139,v.INTERNATIONAL6=140,v.INTERNATIONAL7=141,v.INTERNATIONAL8=142,v.INTERNATIONAL9=143,v.LANG1=144,v.LANG2=145,v.LANG3=146,v.LANG4=147,v.LANG5=148,v.LANG6=149,v.LANG7=150,v.LANG8=151,v.LANG9=152,v.ALTERASE=153,v.SYSREQ=154,v.CANCEL=155,v.CLEAR=156,v.PRIOR=157,v.RETURN2=158,v.SEPARATOR=159,v.OUT=160,v.OPER=161,v.CLEARAGAIN=162,v.CRSEL=163,v.EXSEL=164,v.KP_00=176,v.KP_000=177,v.THOUSANDSSEPARATOR=178,v.DECIMALSEPARATOR=179,v.CURRENCYUNIT=180,v.CURRENCYSUBUNIT=181,v.KP_LEFTPAREN=182,v.KP_RIGHTPAREN=183,v.KP_LEFTBRACE=184,v.KP_RIGHTBRACE=185,v.KP_TAB=186,v.KP_BACKSPACE=187,v.KP_A=188,v.KP_B=189,v.KP_C=190,v.KP_D=191,v.KP_E=192,v.KP_F=193,v.KP_XOR=194,v.KP_POWER=195,v.KP_PERCENT=196,v.KP_LESS=197,v.KP_GREATER=198,v.KP_AMPERSAND=199,v.KP_DBLAMPERSAND=200,v.KP_VERTICALBAR=201,v.KP_DBLVERTICALBAR=202,v.KP_COLON=203,v.KP_HASH=204,v.KP_SPACE=205,v.KP_AT=206,v.KP_EXCLAM=207,v.KP_MEMSTORE=208,v.KP_MEMRECALL=209,v.KP_MEMCLEAR=210,v.KP_MEMADD=211,v.KP_MEMSUBTRACT=212,v.KP_MEMMULTIPLY=213,v.KP_MEMDIVIDE=214,v.KP_PLUSMINUS=215,v.KP_CLEAR=216,v.KP_CLEARENTRY=217,v.KP_BINARY=218,v.KP_OCTAL=219,v.KP_DECIMAL=220,v.KP_HEXADECIMAL=221,v.LCTRL=224,v.LSHIFT=225,v.LALT=226,v.LMETA=227,v.RCTRL=228,v.RSHIFT=229,v.RALT=230,v.RMETA=231,v.MODE=257,v.AUDIONEXT=258,v.AUDIOPREV=259,v.AUDIOSTOP=260,v.AUDIOPLAY=261,v.AUDIOMUTE=262,v.MEDIASELECT=263,v.WWW=264,v.MAIL=265,v.CALCULATOR=266,v.COMPUTER=267,v.AC_SEARCH=268,v.AC_HOME=269,v.AC_BACK=270,v.AC_FORWARD=271,v.AC_STOP=272,v.AC_REFRESH=273,v.AC_BOOKMARKS=274,v.BRIGHTNESSDOWN=275,v.BRIGHTNESSUP=276,v.DISPLAYSWITCH=277,v.KBDILLUMTOGGLE=278,v.KBDILLUMDOWN=279,v.KBDILLUMUP=280,v.EJECT=281,v.SLEEP=282,v.APP1=283,v.APP2=284,v.scanCodeNames=[null,null,null,null,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0","Enter","Escape","Backspace","Tab","Space","-","=","[","]","\\","#",";","'","`",",",".","/","CapsLock","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","PrintScreen","ScrollLock","Pause","Insert","Home","PageUp","Delete","End","PageDown","Right","Left","Down","Up","Numlock","Keypad /","Keypad *","Keypad -","Keypad +","Keypad Enter","Keypad 1","Keypad 2","Keypad 3","Keypad 4","Keypad 5","Keypad 6","Keypad 7","Keypad 8","Keypad 9","Keypad 0","Keypad .",null,"Application","Power","Keypad =","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","Execute","Help","Menu","Select","Stop","Again","Undo","Cut","Copy","Paste","Find","Mute","VolumeUp","VolumeDown",null,null,null,"Keypad ,","Keypad = (AS400)",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"AltErase","SysReq","Cancel","Clear","Prior","Enter","Separator","Out","Oper","Clear / Again","CrSel","ExSel",null,null,null,null,null,null,null,null,null,null,null,"Keypad 00","Keypad 000","ThousandsSeparator","DecimalSeparator","CurrencyUnit","CurrencySubUnit","Keypad (","Keypad )","Keypad {","Keypad }","Keypad Tab","Keypad Backspace","Keypad A","Keypad B","Keypad C","Keypad D","Keypad E","Keypad F","Keypad XOR","Keypad ^","Keypad %","Keypad <","Keypad >","Keypad &","Keypad &&","Keypad |","Keypad ||","Keypad :","Keypad #","Keypad Space","Keypad @","Keypad !","Keypad MemStore","Keypad MemRecall","Keypad MemClear","Keypad MemAdd","Keypad MemSubtract","Keypad MemMultiply","Keypad MemDivide","Keypad +/-","Keypad Clear","Keypad ClearEntry","Keypad Binary","Keypad Octal","Keypad Decimal","Keypad Hexadecimal",null,null,"Left Ctrl","Left Shift","Left Alt","Left Meta","Right Ctrl","Right Shift","Right Alt","Right Meta",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"ModeSwitch","AudioNext","AudioPrev","AudioStop","AudioPlay","AudioMute","MediaSelect","WWW","Mail","Calculator","Computer","AC Search","AC Home","AC Back","AC Forward","AC Stop","AC Refresh","AC Bookmarks","BrightnessDown","BrightnessUp","DisplaySwitch","KBDIllumToggle","KBDIllumDown","KBDIllumUp","Eject","Sleep"],y.UNKNOWN=0,y.DEVICE_ADDED=1,y.DEVICE_REMOVED=2,y.DEVICE_REMAPPED=3,U.UNKNOWN=0,U.EDIT=1,U.INPUT=2,x.UNKNOWN=0,x.SHOWN=1,x.HIDDEN=2,x.EXPOSED=3,x.MOVED=4,x.RESIZED=5,x.SIZE_CHANGED=6,x.MINIMIZED=7,x.MAXIMIZED=8,x.RESTORED=9,x.ENTER=10,x.LEAVE=11,x.FOCUS_GAINED=12,x.FOCUS_LOST=13,x.CLOSE=14,x.ENTER_FULLSCREEN=15,x.EXIT_FULLSCREEN=16,C.UNKNOWN=0,C.TERMINATING=11,C.LOW_MEMORY=12,C.WILL_ENTER_BACKGROUND=13,C.DID_ENTER_BACKGROUND=14,C.WILL_ENTER_FOREGROUND=15,C.DID_ENTER_FOREGROUND=16,clay_Utils._nextUniqueIntCursor=0,clay_Utils._nextUniqueInt0=2147483646*Math.random()|0,clay_Utils._nextUniqueInt1=1e-4*(new Date).getTime()|0,clay_Utils._nextUniqueInt2=2147483646*Math.random()|0,clay_Utils._nextUniqueInt3=2147483646*Math.random()|0,D.END=0,D.DESTROYED=1,D.DESTROYED_SOURCE=2,T.UNKNOWN=0,T.CUSTOM=1,T.OGG=2,T.WAV=3,T.PCM=4,E.INVALID=-1,E.PAUSED=0,E.PLAYING=1,E.STOPPED=2,S.BYTES_PER_ELEMENT=4,A.BYTES_PER_ELEMENT=4,M.BYTES_PER_ELEMENT=2,F.BYTES_PER_ELEMENT=1,clay_graphics_Texture._nextIndex=1,clay_opengl_GLGraphics.DEPTH24_STENCIL8_OES=35056,clay_opengl_GLGraphics.TEXTURE_2D_MULTISAMPLE=37120,clay_opengl_GLGraphics._boundTexture2D=[],clay_opengl_GLGraphics._activeTextureSlot=-1,clay_opengl_GLGraphics._didFetchDefaultBuffers=!1,clay_opengl_web_GL.DEPTH_BUFFER_BIT=256,clay_opengl_web_GL.STENCIL_BUFFER_BIT=1024,clay_opengl_web_GL.COLOR_BUFFER_BIT=16384,clay_opengl_web_GL.POINTS=0,clay_opengl_web_GL.LINES=1,clay_opengl_web_GL.LINE_LOOP=2,clay_opengl_web_GL.LINE_STRIP=3,clay_opengl_web_GL.TRIANGLES=4,clay_opengl_web_GL.TRIANGLE_STRIP=5,clay_opengl_web_GL.TRIANGLE_FAN=6,clay_opengl_web_GL.ZERO=0,clay_opengl_web_GL.ONE=1,clay_opengl_web_GL.SRC_COLOR=768,clay_opengl_web_GL.ONE_MINUS_SRC_COLOR=769,clay_opengl_web_GL.SRC_ALPHA=770,clay_opengl_web_GL.ONE_MINUS_SRC_ALPHA=771,clay_opengl_web_GL.DST_ALPHA=772,clay_opengl_web_GL.ONE_MINUS_DST_ALPHA=773,clay_opengl_web_GL.DST_COLOR=774,clay_opengl_web_GL.ONE_MINUS_DST_COLOR=775,clay_opengl_web_GL.SRC_ALPHA_SATURATE=776,clay_opengl_web_GL.FUNC_ADD=32774,clay_opengl_web_GL.BLEND_EQUATION=32777,clay_opengl_web_GL.BLEND_EQUATION_RGB=32777,clay_opengl_web_GL.BLEND_EQUATION_ALPHA=34877,clay_opengl_web_GL.FUNC_SUBTRACT=32778,clay_opengl_web_GL.FUNC_REVERSE_SUBTRACT=32779,clay_opengl_web_GL.BLEND_DST_RGB=32968,clay_opengl_web_GL.BLEND_SRC_RGB=32969,clay_opengl_web_GL.BLEND_DST_ALPHA=32970,clay_opengl_web_GL.BLEND_SRC_ALPHA=32971,clay_opengl_web_GL.CONSTANT_COLOR=32769,clay_opengl_web_GL.ONE_MINUS_CONSTANT_COLOR=32770,clay_opengl_web_GL.CONSTANT_ALPHA=32771,clay_opengl_web_GL.ONE_MINUS_CONSTANT_ALPHA=32772,clay_opengl_web_GL.BLEND_COLOR=32773,clay_opengl_web_GL.ARRAY_BUFFER=34962,clay_opengl_web_GL.ELEMENT_ARRAY_BUFFER=34963,clay_opengl_web_GL.ARRAY_BUFFER_BINDING=34964,clay_opengl_web_GL.ELEMENT_ARRAY_BUFFER_BINDING=34965,clay_opengl_web_GL.STREAM_DRAW=35040,clay_opengl_web_GL.STATIC_DRAW=35044,clay_opengl_web_GL.DYNAMIC_DRAW=35048,clay_opengl_web_GL.BUFFER_SIZE=34660,clay_opengl_web_GL.BUFFER_USAGE=34661,clay_opengl_web_GL.CURRENT_VERTEX_ATTRIB=34342,clay_opengl_web_GL.FRONT=1028,clay_opengl_web_GL.BACK=1029,clay_opengl_web_GL.FRONT_AND_BACK=1032,clay_opengl_web_GL.CULL_FACE=2884,clay_opengl_web_GL.BLEND=3042,clay_opengl_web_GL.DITHER=3024,clay_opengl_web_GL.STENCIL_TEST=2960,clay_opengl_web_GL.DEPTH_TEST=2929,clay_opengl_web_GL.SCISSOR_TEST=3089,clay_opengl_web_GL.POLYGON_OFFSET_FILL=32823,clay_opengl_web_GL.SAMPLE_ALPHA_TO_COVERAGE=32926,clay_opengl_web_GL.SAMPLE_COVERAGE=32928,clay_opengl_web_GL.NO_ERROR=0,clay_opengl_web_GL.INVALID_ENUM=1280,clay_opengl_web_GL.INVALID_VALUE=1281,clay_opengl_web_GL.INVALID_OPERATION=1282,clay_opengl_web_GL.OUT_OF_MEMORY=1285,clay_opengl_web_GL.CW=2304,clay_opengl_web_GL.CCW=2305,clay_opengl_web_GL.LINE_WIDTH=2849,clay_opengl_web_GL.ALIASED_POINT_SIZE_RANGE=33901,clay_opengl_web_GL.ALIASED_LINE_WIDTH_RANGE=33902,clay_opengl_web_GL.CULL_FACE_MODE=2885,clay_opengl_web_GL.FRONT_FACE=2886,clay_opengl_web_GL.DEPTH_RANGE=2928,clay_opengl_web_GL.DEPTH_WRITEMASK=2930,clay_opengl_web_GL.DEPTH_CLEAR_VALUE=2931,clay_opengl_web_GL.DEPTH_FUNC=2932,clay_opengl_web_GL.STENCIL_CLEAR_VALUE=2961,clay_opengl_web_GL.STENCIL_FUNC=2962,clay_opengl_web_GL.STENCIL_FAIL=2964,clay_opengl_web_GL.STENCIL_PASS_DEPTH_FAIL=2965,clay_opengl_web_GL.STENCIL_PASS_DEPTH_PASS=2966,clay_opengl_web_GL.STENCIL_REF=2967,clay_opengl_web_GL.STENCIL_VALUE_MASK=2963,clay_opengl_web_GL.STENCIL_WRITEMASK=2968,clay_opengl_web_GL.STENCIL_BACK_FUNC=34816,clay_opengl_web_GL.STENCIL_BACK_FAIL=34817,clay_opengl_web_GL.STENCIL_BACK_PASS_DEPTH_FAIL=34818,clay_opengl_web_GL.STENCIL_BACK_PASS_DEPTH_PASS=34819,clay_opengl_web_GL.STENCIL_BACK_REF=36003,clay_opengl_web_GL.STENCIL_BACK_VALUE_MASK=36004,clay_opengl_web_GL.STENCIL_BACK_WRITEMASK=36005,clay_opengl_web_GL.VIEWPORT=2978,clay_opengl_web_GL.SCISSOR_BOX=3088,clay_opengl_web_GL.COLOR_CLEAR_VALUE=3106,clay_opengl_web_GL.COLOR_WRITEMASK=3107,clay_opengl_web_GL.UNPACK_ALIGNMENT=3317,clay_opengl_web_GL.PACK_ALIGNMENT=3333,clay_opengl_web_GL.MAX_TEXTURE_SIZE=3379,clay_opengl_web_GL.MAX_VIEWPORT_DIMS=3386,clay_opengl_web_GL.SUBPIXEL_BITS=3408,clay_opengl_web_GL.RED_BITS=3410,clay_opengl_web_GL.GREEN_BITS=3411,clay_opengl_web_GL.BLUE_BITS=3412,clay_opengl_web_GL.ALPHA_BITS=3413,clay_opengl_web_GL.DEPTH_BITS=3414,clay_opengl_web_GL.STENCIL_BITS=3415,clay_opengl_web_GL.POLYGON_OFFSET_UNITS=10752,clay_opengl_web_GL.POLYGON_OFFSET_FACTOR=32824,clay_opengl_web_GL.TEXTURE_BINDING_2D=32873,clay_opengl_web_GL.SAMPLE_BUFFERS=32936,clay_opengl_web_GL.SAMPLES=32937,clay_opengl_web_GL.SAMPLE_COVERAGE_VALUE=32938,clay_opengl_web_GL.SAMPLE_COVERAGE_INVERT=32939,clay_opengl_web_GL.COMPRESSED_TEXTURE_FORMATS=34467,clay_opengl_web_GL.DONT_CARE=4352,clay_opengl_web_GL.FASTEST=4353,clay_opengl_web_GL.NICEST=4354,clay_opengl_web_GL.GENERATE_MIPMAP_HINT=33170,clay_opengl_web_GL.BYTE=5120,clay_opengl_web_GL.UNSIGNED_BYTE=5121,clay_opengl_web_GL.SHORT=5122,clay_opengl_web_GL.UNSIGNED_SHORT=5123,clay_opengl_web_GL.INT=5124,clay_opengl_web_GL.UNSIGNED_INT=5125,clay_opengl_web_GL.FLOAT=5126,clay_opengl_web_GL.DEPTH_COMPONENT=6402,clay_opengl_web_GL.ALPHA=6406,clay_opengl_web_GL.RGB=6407,clay_opengl_web_GL.RGBA=6408,clay_opengl_web_GL.LUMINANCE=6409,clay_opengl_web_GL.LUMINANCE_ALPHA=6410,clay_opengl_web_GL.UNSIGNED_SHORT_4_4_4_4=32819,clay_opengl_web_GL.UNSIGNED_SHORT_5_5_5_1=32820,clay_opengl_web_GL.UNSIGNED_SHORT_5_6_5=33635,clay_opengl_web_GL.FRAGMENT_SHADER=35632,clay_opengl_web_GL.VERTEX_SHADER=35633,clay_opengl_web_GL.MAX_VERTEX_ATTRIBS=34921,clay_opengl_web_GL.MAX_VERTEX_UNIFORM_VECTORS=36347,clay_opengl_web_GL.MAX_VARYING_VECTORS=36348,clay_opengl_web_GL.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,clay_opengl_web_GL.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,clay_opengl_web_GL.MAX_TEXTURE_IMAGE_UNITS=34930,clay_opengl_web_GL.MAX_FRAGMENT_UNIFORM_VECTORS=36349,clay_opengl_web_GL.SHADER_TYPE=35663,clay_opengl_web_GL.DELETE_STATUS=35712,clay_opengl_web_GL.LINK_STATUS=35714,clay_opengl_web_GL.VALIDATE_STATUS=35715,clay_opengl_web_GL.ATTACHED_SHADERS=35717,clay_opengl_web_GL.ACTIVE_UNIFORMS=35718,clay_opengl_web_GL.ACTIVE_ATTRIBUTES=35721,clay_opengl_web_GL.SHADING_LANGUAGE_VERSION=35724,clay_opengl_web_GL.CURRENT_PROGRAM=35725,clay_opengl_web_GL.NEVER=512,clay_opengl_web_GL.LESS=513,clay_opengl_web_GL.EQUAL=514,clay_opengl_web_GL.LEQUAL=515,clay_opengl_web_GL.GREATER=516,clay_opengl_web_GL.NOTEQUAL=517,clay_opengl_web_GL.GEQUAL=518,clay_opengl_web_GL.ALWAYS=519,clay_opengl_web_GL.KEEP=7680,clay_opengl_web_GL.REPLACE=7681,clay_opengl_web_GL.INCR=7682,clay_opengl_web_GL.DECR=7683,clay_opengl_web_GL.INVERT=5386,clay_opengl_web_GL.INCR_WRAP=34055,clay_opengl_web_GL.DECR_WRAP=34056,clay_opengl_web_GL.VENDOR=7936,clay_opengl_web_GL.RENDERER=7937,clay_opengl_web_GL.VERSION=7938,clay_opengl_web_GL.NEAREST=9728,clay_opengl_web_GL.LINEAR=9729,clay_opengl_web_GL.NEAREST_MIPMAP_NEAREST=9984,clay_opengl_web_GL.LINEAR_MIPMAP_NEAREST=9985,clay_opengl_web_GL.NEAREST_MIPMAP_LINEAR=9986,clay_opengl_web_GL.LINEAR_MIPMAP_LINEAR=9987,clay_opengl_web_GL.TEXTURE_MAG_FILTER=10240,clay_opengl_web_GL.TEXTURE_MIN_FILTER=10241,clay_opengl_web_GL.TEXTURE_WRAP_S=10242,clay_opengl_web_GL.TEXTURE_WRAP_T=10243,clay_opengl_web_GL.TEXTURE_2D=3553,clay_opengl_web_GL.TEXTURE=5890,clay_opengl_web_GL.TEXTURE_CUBE_MAP=34067,clay_opengl_web_GL.TEXTURE_BINDING_CUBE_MAP=34068,clay_opengl_web_GL.TEXTURE_CUBE_MAP_POSITIVE_X=34069,clay_opengl_web_GL.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,clay_opengl_web_GL.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,clay_opengl_web_GL.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,clay_opengl_web_GL.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,clay_opengl_web_GL.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,clay_opengl_web_GL.MAX_CUBE_MAP_TEXTURE_SIZE=34076,clay_opengl_web_GL.TEXTURE0=33984,clay_opengl_web_GL.TEXTURE1=33985,clay_opengl_web_GL.TEXTURE2=33986,clay_opengl_web_GL.TEXTURE3=33987,clay_opengl_web_GL.TEXTURE4=33988,clay_opengl_web_GL.TEXTURE5=33989,clay_opengl_web_GL.TEXTURE6=33990,clay_opengl_web_GL.TEXTURE7=33991,clay_opengl_web_GL.TEXTURE8=33992,clay_opengl_web_GL.TEXTURE9=33993,clay_opengl_web_GL.TEXTURE10=33994,clay_opengl_web_GL.TEXTURE11=33995,clay_opengl_web_GL.TEXTURE12=33996,clay_opengl_web_GL.TEXTURE13=33997,clay_opengl_web_GL.TEXTURE14=33998,clay_opengl_web_GL.TEXTURE15=33999,clay_opengl_web_GL.TEXTURE16=34e3,clay_opengl_web_GL.TEXTURE17=34001,clay_opengl_web_GL.TEXTURE18=34002,clay_opengl_web_GL.TEXTURE19=34003,clay_opengl_web_GL.TEXTURE20=34004,clay_opengl_web_GL.TEXTURE21=34005,clay_opengl_web_GL.TEXTURE22=34006,clay_opengl_web_GL.TEXTURE23=34007,clay_opengl_web_GL.TEXTURE24=34008,clay_opengl_web_GL.TEXTURE25=34009,clay_opengl_web_GL.TEXTURE26=34010,clay_opengl_web_GL.TEXTURE27=34011,clay_opengl_web_GL.TEXTURE28=34012,clay_opengl_web_GL.TEXTURE29=34013,clay_opengl_web_GL.TEXTURE30=34014,clay_opengl_web_GL.TEXTURE31=34015,clay_opengl_web_GL.ACTIVE_TEXTURE=34016,clay_opengl_web_GL.REPEAT=10497,clay_opengl_web_GL.CLAMP_TO_EDGE=33071,clay_opengl_web_GL.MIRRORED_REPEAT=33648,clay_opengl_web_GL.FLOAT_VEC2=35664,clay_opengl_web_GL.FLOAT_VEC3=35665,clay_opengl_web_GL.FLOAT_VEC4=35666,clay_opengl_web_GL.INT_VEC2=35667,clay_opengl_web_GL.INT_VEC3=35668,clay_opengl_web_GL.INT_VEC4=35669,clay_opengl_web_GL.BOOL=35670,clay_opengl_web_GL.BOOL_VEC2=35671,clay_opengl_web_GL.BOOL_VEC3=35672,clay_opengl_web_GL.BOOL_VEC4=35673,clay_opengl_web_GL.FLOAT_MAT2=35674,clay_opengl_web_GL.FLOAT_MAT3=35675,clay_opengl_web_GL.FLOAT_MAT4=35676,clay_opengl_web_GL.SAMPLER_2D=35678,clay_opengl_web_GL.SAMPLER_CUBE=35680,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_ENABLED=34338,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_SIZE=34339,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_STRIDE=34340,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_TYPE=34341,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_POINTER=34373,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,clay_opengl_web_GL.VERTEX_PROGRAM_POINT_SIZE=34370,clay_opengl_web_GL.POINT_SPRITE=34913,clay_opengl_web_GL.COMPILE_STATUS=35713,clay_opengl_web_GL.LOW_FLOAT=36336,clay_opengl_web_GL.MEDIUM_FLOAT=36337,clay_opengl_web_GL.HIGH_FLOAT=36338,clay_opengl_web_GL.LOW_INT=36339,clay_opengl_web_GL.MEDIUM_INT=36340,clay_opengl_web_GL.HIGH_INT=36341,clay_opengl_web_GL.FRAMEBUFFER=36160,clay_opengl_web_GL.RENDERBUFFER=36161,clay_opengl_web_GL.RGBA4=32854,clay_opengl_web_GL.RGB5_A1=32855,clay_opengl_web_GL.RGB565=36194,clay_opengl_web_GL.DEPTH_COMPONENT16=33189,clay_opengl_web_GL.STENCIL_INDEX=6401,clay_opengl_web_GL.STENCIL_INDEX8=36168,clay_opengl_web_GL.DEPTH_STENCIL=34041,clay_opengl_web_GL.RENDERBUFFER_WIDTH=36162,clay_opengl_web_GL.RENDERBUFFER_HEIGHT=36163,clay_opengl_web_GL.RENDERBUFFER_INTERNAL_FORMAT=36164,clay_opengl_web_GL.RENDERBUFFER_RED_SIZE=36176,clay_opengl_web_GL.RENDERBUFFER_GREEN_SIZE=36177,clay_opengl_web_GL.RENDERBUFFER_BLUE_SIZE=36178,clay_opengl_web_GL.RENDERBUFFER_ALPHA_SIZE=36179,clay_opengl_web_GL.RENDERBUFFER_DEPTH_SIZE=36180,clay_opengl_web_GL.RENDERBUFFER_STENCIL_SIZE=36181,clay_opengl_web_GL.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,clay_opengl_web_GL.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,clay_opengl_web_GL.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,clay_opengl_web_GL.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,clay_opengl_web_GL.COLOR_ATTACHMENT0=36064,clay_opengl_web_GL.DEPTH_ATTACHMENT=36096,clay_opengl_web_GL.STENCIL_ATTACHMENT=36128,clay_opengl_web_GL.DEPTH_STENCIL_ATTACHMENT=33306,clay_opengl_web_GL.NONE=0,clay_opengl_web_GL.FRAMEBUFFER_COMPLETE=36053,clay_opengl_web_GL.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,clay_opengl_web_GL.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,clay_opengl_web_GL.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,clay_opengl_web_GL.FRAMEBUFFER_UNSUPPORTED=36061,clay_opengl_web_GL.FRAMEBUFFER_BINDING=36006,clay_opengl_web_GL.RENDERBUFFER_BINDING=36007,clay_opengl_web_GL.MAX_RENDERBUFFER_SIZE=34024,clay_opengl_web_GL.INVALID_FRAMEBUFFER_OPERATION=1286,clay_opengl_web_GL.UNPACK_FLIP_Y_WEBGL=37440,clay_opengl_web_GL.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,clay_opengl_web_GL.CONTEXT_LOST_WEBGL=37442,clay_opengl_web_GL.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,clay_opengl_web_GL.BROWSER_DEFAULT_WEBGL=37444,clay_web_WebAssets.POT=!0,clay_web_WebAudio.HALF_PI=1.5707,clay_web_WebRuntime.timestampStart=0,clay_web_WebRuntime.webWindowId=1,clay_web__$WebRuntime_DOMKeys.dom_shift=16,clay_web__$WebRuntime_DOMKeys.dom_ctrl=17,clay_web__$WebRuntime_DOMKeys.dom_alt=18,clay_web__$WebRuntime_DOMKeys.dom_capslock=20,clay_web__$WebRuntime_DOMKeys.dom_pageup=33,clay_web__$WebRuntime_DOMKeys.dom_pagedown=34,clay_web__$WebRuntime_DOMKeys.dom_end=35,clay_web__$WebRuntime_DOMKeys.dom_home=36,clay_web__$WebRuntime_DOMKeys.dom_left=37,clay_web__$WebRuntime_DOMKeys.dom_up=38,clay_web__$WebRuntime_DOMKeys.dom_right=39,clay_web__$WebRuntime_DOMKeys.dom_down=40,clay_web__$WebRuntime_DOMKeys.dom_printscr=44,clay_web__$WebRuntime_DOMKeys.dom_insert=45,clay_web__$WebRuntime_DOMKeys.dom_delete=46,clay_web__$WebRuntime_DOMKeys.dom_lmeta=91,clay_web__$WebRuntime_DOMKeys.dom_rmeta=93,clay_web__$WebRuntime_DOMKeys.dom_kp_0=96,clay_web__$WebRuntime_DOMKeys.dom_kp_1=97,clay_web__$WebRuntime_DOMKeys.dom_kp_2=98,clay_web__$WebRuntime_DOMKeys.dom_kp_3=99,clay_web__$WebRuntime_DOMKeys.dom_kp_4=100,clay_web__$WebRuntime_DOMKeys.dom_kp_5=101,clay_web__$WebRuntime_DOMKeys.dom_kp_6=102,clay_web__$WebRuntime_DOMKeys.dom_kp_7=103,clay_web__$WebRuntime_DOMKeys.dom_kp_8=104,clay_web__$WebRuntime_DOMKeys.dom_kp_9=105,clay_web__$WebRuntime_DOMKeys.dom_kp_multiply=106,clay_web__$WebRuntime_DOMKeys.dom_kp_plus=107,clay_web__$WebRuntime_DOMKeys.dom_kp_minus=109,clay_web__$WebRuntime_DOMKeys.dom_kp_decimal=110,clay_web__$WebRuntime_DOMKeys.dom_kp_divide=111,clay_web__$WebRuntime_DOMKeys.dom_kp_numlock=144,clay_web__$WebRuntime_DOMKeys.dom_f1=112,clay_web__$WebRuntime_DOMKeys.dom_f2=113,clay_web__$WebRuntime_DOMKeys.dom_f3=114,clay_web__$WebRuntime_DOMKeys.dom_f4=115,clay_web__$WebRuntime_DOMKeys.dom_f5=116,clay_web__$WebRuntime_DOMKeys.dom_f6=117,clay_web__$WebRuntime_DOMKeys.dom_f7=118,clay_web__$WebRuntime_DOMKeys.dom_f8=119,clay_web__$WebRuntime_DOMKeys.dom_f9=120,clay_web__$WebRuntime_DOMKeys.dom_f10=121,clay_web__$WebRuntime_DOMKeys.dom_f11=122,clay_web__$WebRuntime_DOMKeys.dom_f12=123,clay_web__$WebRuntime_DOMKeys.dom_f13=124,clay_web__$WebRuntime_DOMKeys.dom_f14=125,clay_web__$WebRuntime_DOMKeys.dom_f15=126,clay_web__$WebRuntime_DOMKeys.dom_f16=127,clay_web__$WebRuntime_DOMKeys.dom_f17=128,clay_web__$WebRuntime_DOMKeys.dom_f18=129,clay_web__$WebRuntime_DOMKeys.dom_f19=130,clay_web__$WebRuntime_DOMKeys.dom_f20=131,clay_web__$WebRuntime_DOMKeys.dom_f21=132,clay_web__$WebRuntime_DOMKeys.dom_f22=133,clay_web__$WebRuntime_DOMKeys.dom_f23=134,clay_web__$WebRuntime_DOMKeys.dom_f24=135,clay_web__$WebRuntime_DOMKeys.dom_caret=160,clay_web__$WebRuntime_DOMKeys.dom_exclaim=161,clay_web__$WebRuntime_DOMKeys.dom_quotedbl=162,clay_web__$WebRuntime_DOMKeys.dom_hash=163,clay_web__$WebRuntime_DOMKeys.dom_dollar=164,clay_web__$WebRuntime_DOMKeys.dom_percent=165;clay_web__$WebRuntime_DOMKeys.dom_ampersand=166,clay_web__$WebRuntime_DOMKeys.dom_underscore=167,clay_web__$WebRuntime_DOMKeys.dom_leftparen=168,clay_web__$WebRuntime_DOMKeys.dom_rightparen=169,clay_web__$WebRuntime_DOMKeys.dom_asterisk=170,clay_web__$WebRuntime_DOMKeys.dom_plus=171,clay_web__$WebRuntime_DOMKeys.dom_pipe=172,clay_web__$WebRuntime_DOMKeys.dom_minus=173,clay_web__$WebRuntime_DOMKeys.dom_leftbrace=174,clay_web__$WebRuntime_DOMKeys.dom_rightbrace=175,clay_web__$WebRuntime_DOMKeys.dom_tilde=176,clay_web__$WebRuntime_DOMKeys.dom_audiomute=181,clay_web__$WebRuntime_DOMKeys.dom_volumedown=182,clay_web__$WebRuntime_DOMKeys.dom_volumeup=183,clay_web__$WebRuntime_DOMKeys.dom_comma=188,clay_web__$WebRuntime_DOMKeys.dom_period=190,clay_web__$WebRuntime_DOMKeys.dom_slash=191,clay_web__$WebRuntime_DOMKeys.dom_backquote=192,clay_web__$WebRuntime_DOMKeys.dom_leftbracket=219,clay_web__$WebRuntime_DOMKeys.dom_rightbracket=221,clay_web__$WebRuntime_DOMKeys.dom_backslash=220,clay_web__$WebRuntime_DOMKeys.dom_quote=222,clay_web__$WebRuntime_DOMKeys.dom_meta=224,haxe_Serializer.USE_CACHE=!1,haxe_Serializer.USE_ENUM_INDEX=!1,haxe_Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",haxe_Unserializer.DEFAULT_RESOLVER=new haxe__$Unserializer_DefaultResolver,haxe_Unserializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",haxe_xml_Parser.escapes=(($=new haxe_ds_StringMap).h.lt="<",$.h.gt=">",$.h.amp="&",$.h.quot='"',$.h.apos="'",$),hsluv_Hsluv.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],hsluv_Hsluv.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],hsluv_Hsluv.refY=1,hsluv_Hsluv.refU=.19783000664283,hsluv_Hsluv.refV=.46831999493879,hsluv_Hsluv.kappa=903.2962962,hsluv_Hsluv.epsilon=.0088564516,hsluv_Hsluv.hexChars="0123456789abcdef",tracker_Autorun.prevCurrent=[],tracker_Autorun._autorunArrays=[],tracker_Autorun._autorunArraysLen=0,tracker_Autorun._arrayOfAutorunArrays=[],tracker_Autorun._arrayOfAutorunArraysLen=0,Main.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);